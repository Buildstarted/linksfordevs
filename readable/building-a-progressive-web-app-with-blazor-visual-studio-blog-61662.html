<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Building a Progressive Web App with Blazor | Visual Studio Blog - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Building a Progressive Web App with Blazor | Visual Studio Blog - linksfor.dev(s)"/>
    <meta property="article:author" content="Jon GallowaySenior Program Manager, Visual Studio for MacFollow"/>
    <meta property="og:description" content="A Progressive Web Application (PWA) is a Single Page Application (SPA) that uses modern browser APIs and capabilities to behave like a desktop app. Blazor WebAssembly (now in preview) includes support for Progressive Web Applications. Today, I want to show you how to build your first Blazor PWA."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://devblogs.microsoft.com/visualstudio/building-a-progressive-web-app-with-blazor/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Building a Progressive Web App with Blazor | Visual Studio Blog</title>
<div class="readable">
        <h1>Building a Progressive Web App with Blazor | Visual Studio Blog</h1>
            <div>by Jon GallowaySenior Program Manager, Visual Studio for MacFollow</div>
            <div>Reading time: 11-14 minutes</div>
        <div>Posted here: 13 May 2020</div>
        <p><a href="https://devblogs.microsoft.com/visualstudio/building-a-progressive-web-app-with-blazor/">https://devblogs.microsoft.com/visualstudio/building-a-progressive-web-app-with-blazor/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="featured"><div><div><div><div><p><img src="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/01/jon-2018-150x150.jpg" width="58" height="58" alt="Jon Galloway"></p><p>Jon</p></div></div></div><p>May 13th, 2020</p><p>A Progressive Web Application (PWA) is a Single Page Application (SPA) that uses modern browser APIs and capabilities to behave like a desktop app. Blazor WebAssembly (now in preview) includes support for Progressive Web Applications. Today, I want to show you how to build your first Blazor PWA. I am using the <a href="https://docs.microsoft.com/visualstudio/releasenotes/vs2019-mac-preview-relnotes" target="_blank">latest preview of Visual Studio for Mac</a>, you can also create them using the <a href="https://docs.microsoft.com/en-us/visualstudio/releases/2019/release-notes-preview" target="_blank">latest Visual Studio 2019 Preview on Windows</a>.</p><h2>Creating a new Blazor PWA</h2><p>In this post, we’ll walk through creating a simple “To Do” application; in a future post we’ll add some more advanced PWA features.</p><p>Creating a new Blazor PWA is especially easy now in Visual Studio for Mac using the built-in template (available in 8.6 Preview 5 and later). After launching Visual Studio for Mac you’ll see the dialog below, click New to begin creating the project. If you already have Visual Studio open, you could also use the <a href="https://docs.microsoft.com/en-us/visualstudio/mac/keyboard-shortcuts?view=vsmac-2019" target="_blank">⇧⌘N shortcut</a> to open the new project dialog.</p><p><a href="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati.png" alt="A screenshot of a cell phone Description automatically generated" srcset="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati.png 832w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-300x199.png 300w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-768x510.png 768w" sizes="(max-width: 832px) 100vw, 832px"> </a></p><p>From here we will create a .NET Core Console project by selecting <em>Web and Console &gt; App &gt; Blazor WebAssembly App</em>.</p><p><a href="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-1.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-1.png" alt="A screenshot of a cell phone Description automatically generated" srcset="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-1.png 1013w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-1-300x227.png 300w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-1-768x581.png 768w" sizes="(max-width: 1013px) 100vw, 1013px"> </a></p><p>Next, you’ll need to configure the new Blazor WebAssembly (often abbreviated as WASM) application. We’ll name our application “BlazorPwaTodo”. Select “<em>No Authentication</em>”, and check both the “<em>ASP.NET Core Hosted</em>” and “<em>Progressive Web Application</em>” options as shown below.</p><p><a href="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-2.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-2.png" alt="A screenshot of a cell phone Description automatically generated" srcset="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-2.png 1013w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-2-300x227.png 300w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-2-768x581.png 768w" sizes="(max-width: 1013px) 100vw, 1013px"> </a></p><p>If you’re using Visual Studio 2019 on Windows, the new project dialog is pretty similar:</p><p><a href="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-3.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-3.png" alt="A screenshot of a cell phone Description automatically generated" srcset="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-3.png 1023w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-3-300x208.png 300w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-3-768x532.png 768w" sizes="(max-width: 1023px) 100vw, 1023px"> </a></p><p>If you’re using Visual Studio Code, you can create a Blazor PWA from the command line using the –pwa switch.</p><pre><span>dotnet </span><span>new</span><span> blazorwasm </span><span>-</span><span>o </span><span>BlazorPwaTodo</span><span> </span><span>--</span><span>pwa </span><span>--</span><span>hosted</span></pre><p>Note: We’re selecting the “<em>ASP.NET Core Hosted</em>” option for two reasons. First, because we plan to integrate some backend services in the future. Second, using an ASP.NET Core Hosted site makes it easier to run a published version of the app in your local developer environment.</p><h2>Adding a Todo Razor Component</h2><p>We’re going to build a simple To Do application, so we’ll start by creating a new page to view our list. Right-click the Pages folder and select <em>Add</em> &gt; <em>New Item</em> &gt; <em><a href="https://docs.microsoft.com/aspnet/core/blazor/components?view=aspnetcore-3.1" target="_blank">Razor Component</a></em>. Name the component’s file <em>Todo.razor</em>.</p><p>Use the following initial markup for the Todo component:</p><pre><span>@page</span><span> </span><span>"/todo"</span><span>

</span><span>&lt;h3&gt;</span><span>Todo</span><span>&lt;/</span><span>h3</span><span>&gt;</span></pre><p>The first line of this template defines a <a href="https://docs.microsoft.com/en-us/aspnet/core/blazor/components?view=aspnetcore-3.1%22%20\l%20%22routing" target="_blank">route template</a>, so browsing to “/todo” will resolve to this Todo component.</p><p>Next, we’ll add the Todo component to the navigation bar. Open <em>Shared/NavMenu.razor</em> and add a new list item with a <em>NavLink</em> element for the Todo component as shown below:</p><pre><span>&lt;li</span><span> </span><span>class</span><span>=</span><span>"nav-item px-3"</span><span>&gt;</span><span>
    </span><span>&lt;NavLink</span><span> </span><span>class</span><span>=</span><span>"nav-link"</span><span> </span><span>href</span><span>=</span><span>"todo"</span><span>&gt;</span><span>
        </span><span>&lt;span</span><span> </span><span>class</span><span>=</span><span>"oi oi-plus"</span><span> </span><span>aria-hidden</span><span>=</span><span>"true"</span><span>&gt;&lt;/span&gt;</span><span> Todo
    </span><span>&lt;/NavLink&gt;</span><span>
</span><span>&lt;/li&gt;</span></pre><p>Now run the application by selecting <em>Run</em> &gt; <em>Start Without Debugging</em> from the menu. Clicking the Todo link in the navigation shows our new page with the Todo heading, ready for us to start adding some code.</p><p><a href="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-computer-screen-description-aut.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-computer-screen-description-aut.png" alt="A screenshot of a computer screen Description automatically generated" srcset="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-computer-screen-description-aut.png 1293w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-computer-screen-description-aut-300x221.png 300w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-computer-screen-description-aut-1024x754.png 1024w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-computer-screen-description-aut-768x565.png 768w" sizes="(max-width: 1293px) 100vw, 1293px"> </a></p><h2>Coding basic Todo functionality</h2><p>Let’s create a simple class to represent a todo item. Since we’re using an ASP.NET Core hosted template and will probably include some back-end APIs later, we’ll put that class in Shared project to make it available for use in our server application as well. Right-click the <em>Blazor.PwaTodo.Shared</em> project and select <em>Add</em> &gt; <em>New</em> <em>Class</em>. Name the new class file<em> TodoItem.cs</em> and enter the following code:</p><pre><span>public</span><span> </span><span>class</span><span> </span><span>TodoItem</span><span>
</span><span>{</span><span>
    </span><span>public</span><span> </span><span>string</span><span> </span><span>Title</span><span> </span><span>{</span><span> </span><span>get</span><span>;</span><span> </span><span>set</span><span>;</span><span> </span><span>}</span><span>
    </span><span>public</span><span> </span><span>bool</span><span> </span><span>IsDone</span><span> </span><span>{</span><span> </span><span>get</span><span>;</span><span> </span><span>set</span><span>;</span><span> </span><span>}</span><span>
</span><span>}</span></pre><p>Return to the Todo.razor component and add the following code:</p><pre><span>@page</span><span> </span><span>"/todo"</span><span>

</span><span>&lt;h3&gt;</span><span>Todo</span><span>&lt;/</span><span>h3</span><span>&gt;</span><span>

</span><span>&lt;ul&gt;</span><span>
    </span><span>@foreach</span><span> </span><span>(</span><span>var</span><span> todo </span><span>in</span><span> todos</span><span>)</span><span>
    </span><span>{</span><span>
        </span><span>&lt;li&gt;</span><span>@todo</span><span>.</span><span>Title</span><span>&lt;/</span><span>li</span><span>&gt;</span><span>
    </span><span>}</span><span>
</span><span>&lt;/</span><span>ul</span><span>&gt;</span><span>

</span><span>&lt;</span><span>input placeholder</span><span>=</span><span>"Something todo"</span><span> </span><span>@bind</span><span>=</span><span>"newTodo"</span><span> </span><span>/&gt;</span><span>
</span><span>&lt;</span><span>button </span><span>@onclick</span><span>=</span><span>"AddTodo"</span><span>&gt;</span><span>Add</span><span> todo</span><span>&lt;/</span><span>button</span><span>&gt;</span><span>

</span><span>@code</span><span> </span><span>{</span><span>
    </span><span>private</span><span> </span><span>IList</span><span>&lt;</span><span>TodoItem</span><span>&gt;</span><span> todos </span><span>=</span><span> </span><span>new</span><span> </span><span>List</span><span>&lt;</span><span>TodoItem</span><span>&gt;();</span><span>
    </span><span>private</span><span> </span><span>string</span><span> newTodo</span><span>;</span><span>

    </span><span>private</span><span> </span><span>void</span><span> </span><span>AddTodo</span><span>()</span><span>
    </span><span>{</span><span>
        </span><span>if</span><span> </span><span>(!</span><span>string</span><span>.</span><span>IsNullOrWhiteSpace</span><span>(</span><span>newTodo</span><span>))</span><span>
        </span><span>{</span><span>
            todos</span><span>.</span><span>Add</span><span>(</span><span>new</span><span> </span><span>TodoItem</span><span> </span><span>{</span><span> </span><span>Title</span><span> </span><span>=</span><span> newTodo </span><span>});</span><span>
            newTodo </span><span>=</span><span> </span><span>string</span><span>.</span><span>Empty</span><span>;</span><span>
        </span><span>}</span><span>
    </span><span>}</span><span>
</span><span>}</span></pre><p>Let’s take a look at what this code is doing:</p><ol><li>In the code block at the bottom, we’d declared a list to hold our TodoItem objects, named todo.</li><li>We’re iterating over the list of items using a <em>foreach</em> loop inside the <em>ul</em> element.</li><li>We have an <em><a href="https://docs.microsoft.com/en-us/aspnet/core/blazor/data-binding?view=aspnetcore-3.1" target="_blank">input</a></em><a href="https://docs.microsoft.com/en-us/aspnet/core/blazor/data-binding?view=aspnetcore-3.1" target="_blank"> element that is bound</a> to a string property named <em>newTodo</em>.</li><li>The input element has a a corresponding button to allow adding new items to the list.</li><li>We’re using the <em>button</em>’s <em>@onclick</em> attribute to call the AddTodo method.</li><li>The AddTodo method checks to make sure that text has been entered, then adds a new item to the list and clears the input to allow adding another item.</li></ol><p>Note: This explanation is condensed for brevity. If you’d like a more thorough explanation, there’s an <a href="https://docs.microsoft.com/en-us/aspnet/core/tutorials/build-your-first-blazor-app?view=aspnetcore-3.1#build-a-todo-list" target="_blank">in-depth walkthrough of this Todo example</a> in the Blazor documentation.</p><p>Run the application (again, by using the <em>Run</em> &gt; <em>Start Without Debugging</em> command in the menu) and verify that you can add new items to the list.</p><p><a href="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-4.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-4.png" alt="A screenshot of a cell phone Description automatically generated" srcset="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-4.png 1253w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-4-300x205.png 300w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-4-1024x701.png 1024w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-4-768x526.png 768w" sizes="(max-width: 1253px) 100vw, 1253px"> </a></p><h2>Marking Todo items complete</h2><p>So far, our Todo application only allows adding new items to the list with no support for marking them complete. Let’s fix that by adding a checkbox for each item that’s bound to the <em>IsDone</em> property.</p><p>Update the list to include a checkbox input element as shown below.</p><pre><span>&lt;ul&gt;</span><span>
    @foreach (var todo in todos)
    {
        </span><span>&lt;li&gt;</span><span>
            </span><span>&lt;input</span><span> </span><span>type</span><span>=</span><span>"checkbox"</span><span> @</span><span>bind</span><span>=</span><span>"todo.IsDone"</span><span> </span><span>/&gt;</span><span>
            </span><span>&lt;input</span><span> @</span><span>bind</span><span>=</span><span>"todo.Title"</span><span> </span><span>/&gt;</span><span>
        </span><span>&lt;/li&gt;</span><span>
    }
</span><span>&lt;/ul&gt;</span></pre><p>And finally, to verify that these values are bound, we’ll update the page header to show the number of items that are not yet complete. Update the <em>h3</em> element with this code:</p><pre><span>&lt;h3&gt;</span><span>Todo (@todos.Count(todo =&gt; !todo.IsDone))</span><span>&lt;/h3&gt;</span></pre><p>Run the application to see it in action. Leave the application running when you’re done testing, as we’ll be using the running application in the next section.</p><p><a href="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-computer-screen-description-aut-1.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-computer-screen-description-aut-1.png" alt="A screenshot of a computer screen Description automatically generated" srcset="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-computer-screen-description-aut-1.png 1425w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-computer-screen-description-aut-1-300x183.png 300w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-computer-screen-description-aut-1-1024x623.png 1024w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-computer-screen-description-aut-1-768x467.png 768w" sizes="(max-width: 1425px) 100vw, 1425px"> </a></p><h2>Installing the PWA</h2><p>Now that we’ve built a basic application, we can start taking advantage of the PWA features. Every time you’ve been running this application, it’s actually been running with PWA support due to using the PWA template.</p><p>A Progressive Web Application (PWA) is a Single Page Application (SPA) that uses modern browser APIs and capabilities to behave like a desktop app. Blazor WebAssembly is a standards-based client-side web app platform, so it can use any browser API, including PWA APIs required for the following capabilities:</p><ul><li>Working offline and loading instantly, independent of network speed.</li><li>Running in its own app window, not just a browser window.</li><li>Being launched from the host’s operating system start menu, dock, or home screen.</li><li>Receiving push notifications from a backend server, even while the user isn’t using the app.</li><li>Automatically updating in the background.</li></ul><p>We’ll look at two of these features in this post, then dig into some more advanced features in a future post.</p><p>First, let’s look at installation. When your application is running, you’ll see an installation prompt in the browser. Here’s how that looks using Edge on macOS:</p><p><a href="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-5.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-5.png" alt="A screenshot of a cell phone Description automatically generated" srcset="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-5.png 1425w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-5-300x183.png 300w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-5-1024x623.png 1024w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-5-768x467.png 768w" sizes="(max-width: 1425px) 100vw, 1425px"> </a></p><p>Installing the application relaunches the application in its own window without an address bar.</p><p><a href="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-6.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-6.png" alt="A screenshot of a cell phone Description automatically generated" srcset="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-6.png 1076w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-6-300x229.png 300w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-6-1024x782.png 1024w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-6-768x587.png 768w" sizes="(max-width: 1076px) 100vw, 1076px"> </a></p><p>Additionally, the application is shown with its own icon in the taskbar.</p><p><a href="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/word-image.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/word-image.png" srcset="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/word-image.png 1013w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/word-image-300x24.png 300w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/word-image-768x62.png 768w" sizes="(max-width: 1013px) 100vw, 1013px"> </a></p><p>The window title, color scheme, icon, and other details are all customizable using the project’s <em>manifest.json</em> file. We’ll dig into that customization in the next post.</p><h2>Testing mobile PWA installation and offline support</h2><p>By default, apps created using the PWA template option have support for running offline. A user must first visit the app while they’re online. The browser automatically downloads and caches all the resources required to operate offline.</p><p>However, offline support would interfere with local development since you might be viewing cached offline files when you make updates. For that reason, offline support is only available for published applications.</p><p>To test this out locally, we’ll need to publish the application. Right-click on the <em>BlazorPwaTodo.Server</em> application and select <em>Publish</em> &gt; <em>Publish to Folder</em>. You can leave the default folder name but be sure to note it. The default should be <em>bin/Release/netcoreapp3.1/publish</em>.</p><p><a href="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-7.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-7.png" alt="A screenshot of a cell phone Description automatically generated" srcset="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-7.png 832w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-7-300x147.png 300w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-7-768x377.png 768w" sizes="(max-width: 832px) 100vw, 832px"> </a></p><p>Open a terminal and navigate to the publish directory – you can use Visual Studio for Mac’s integrated terminal if you’d like. Launch the server application using this command:</p><p>dotnet BlazorPwaTodo.Server.dll</p><p>This launches the published application running on localhost port 5001. Now that you’re running the published application, we can test offline support. The easiest way to do this is by <a href="https://docs.microsoft.com/en-us/aspnet/core/blazor/progressive-web-app?view=aspnetcore-3.1&amp;tabs=visual-studio%22%20\l%20%22offline-support" target="_blank">using the Network tab in browser tools to simulate offline mode</a>, as shown below.</p><p><a href="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-8.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-8.png" alt="A screenshot of a cell phone Description automatically generated" srcset="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-8.png 1089w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-8-300x191.png 300w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-8-1024x651.png 1024w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-8-768x488.png 768w" sizes="(max-width: 1089px) 100vw, 1089px"> </a></p><p>But let’s make this a bit more of a challenge, and test this out in the mobile emulator! In order to do that, we’ll need our mobile browser to be able to connect to our published site. My favorite way to handle that is by using the popular <a href="https://ngrok.com/" target="_blank">ngrok</a> tool.&nbsp;After installing ngrok, launch it using the following command:</p><pre><span>ngrok http https</span><span>:</span><span>//localhost:5001 -host-header=”localhost:5001”</span></pre><p>You should see ngrok spin up and provide a temporary public https endpoint we can use for testing. For more background on why we’re setting the host header, see <a href="https://www.jerriepelser.com/blog/using-ngrok-with-aspnet-core/" target="_blank">this blog post by Jerrie Pelser</a>.</p><p><a href="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-9.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-9.png" alt="A screenshot of a cell phone Description automatically generated" srcset="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-9.png 1172w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-9-300x176.png 300w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-9-1024x600.png 1024w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-9-768x450.png 768w" sizes="(max-width: 1172px) 100vw, 1172px"> </a></p><p>Note: There are several different options for pointing a mobile emulator at your development website, but they all can carry some unexpected complications. The Android emulator does provide a local <a href="https://developer.android.com/studio/run/emulator-networking#networkaddresses" target="_blank">loopback on 10.0.0.2</a>, but it doesn’t trust the ASP.NET Core HTTPS dev certs, which causes <a href="https://devblogs.microsoft.com/xamarin/cleartext-http-android-network-security/">some additional setup</a>. It’s also possible to deploy to Azure and use the wildcard certificate support in the free tier, but you’re no longer testing against localhost and need to publish each time you want to test an update. So, in my experience so far, ngrok is the quickest and simplest way to do a quick PWA / mobile test.</p><p>Now that we’ve got our site ready for testing on Using Visual Studio for Mac, we can launch an Android emulator using the <em>Tools</em> &gt; <em>Device Manager</em> menu (assuming you’ve <a href="https://docs.microsoft.com/en-us/visualstudio/mac/installation?view=vsmac-2019" target="_blank">installed the Android workload</a>). If you don’t already have an Android device configured, create one by clicking the New Device button. I’m using the Pixel 2 Pie 9.0 image.</p><p><a href="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-10.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-10.png" alt="A screenshot of a cell phone Description automatically generated" srcset="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-10.png 548w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-10-300x189.png 300w" sizes="(max-width: 548px) 100vw, 548px"> </a></p><p>Browse to the public HTTPS endpoint provided by ngrok. You should see the website, as well as a prompt to install the application locally. Install the application and close the browser, then test the PWA application by launching from the home screen.</p><p><a href="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-11.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-11.png" alt="A screenshot of a cell phone Description automatically generated" width="530" height="942" srcset="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-11.png 864w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-11-169x300.png 169w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-11-576x1024.png 576w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-11-768x1365.png 768w" sizes="(max-width: 530px) 100vw, 530px"> </a></p><p>Finally, let’s test out offline support. Use the settings app and enable Airplane Mode, then launch the application. The application should continue to function with offline support.</p><p><a href="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-12.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-12.png" alt="A screenshot of a cell phone Description automatically generated" width="530" height="942" srcset="https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-12.png 811w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-12-169x300.png 169w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-12-576x1024.png 576w, https://devblogs.microsoft.com/visualstudio/wp-content/uploads/sites/4/2020/05/a-screenshot-of-a-cell-phone-description-automati-12-768x1366.png 768w" sizes="(max-width: 530px) 100vw, 530px"> </a></p><h2>Summary &amp; Wrap Up</h2><p>In this post, we’ve built a basic Todo application using the Blazor PWA template in Visual Studio for Mac. We then installed it locally on our Mac as well as on an Android emulator and tested basic offline support.</p><p>Blazor PWA’s offer a lot of <a href="https://docs.microsoft.com/aspnet/core/blazor/progressive-web-app?view=aspnetcore-3.1" target="_blank">advanced features</a>, such as customizing the application appearance, adding push notifications, controlling caching and synchronization policies, leveraging the service worker for background work, and more. We’ll take a look at some of these features in a future blog post.</p><p>Documentation links:</p><ul><li><a href="https://docs.microsoft.com/aspnet/core/tutorials/build-your-first-blazor-app?view=aspnetcore-3.1" target="_blank">Build your first Blazor app</a> (Todo sample)</li><li><a href="https://docs.microsoft.com/aspnet/core/blazor/progressive-web-app?view=aspnetcore-3.1" target="_blank">Build Progressive Web Applications with ASP.NET Core Blazor WebAssembly</a></li></ul><h2>Give it a try today!</h2><p>The new Blazor WASM templates with PWA support are is now in Visual Studio 2019 for Mac 8.6 Preview. To start using them, make sure you’ve&nbsp;<a href="https://visualstudio.microsoft.com/vs/mac/" target="_blank">downloaded and installed Visual Studio 2019 for Mac</a>, then&nbsp;<a href="https://aka.ms/vs4mac-preview" target="_blank">switch to the Preview channel</a>.</p><p>As always, if you have any feedback on this, or any, version of Visual Studio for Mac, we invite you to leave them in the comments below this post or to reach out to us on Twitter at&nbsp;<a href="https://twitter.com/VisualStudioMac" target="_blank" rel="noopener noreferrer">@VisualStudioMac</a>. If you run into issues while using Visual Studio for Mac, you can use&nbsp;<a href="https://docs.microsoft.com/en-us/visualstudio/mac/report-a-problem?view=vsmac-2019" target="_blank" rel="noopener noreferrer">Report a Problem</a>&nbsp;to notify the team. In addition to product issues, we also welcome your&nbsp;<a href="https://developercommunity.visualstudio.com/content/idea/post.html?space=41" target="_blank" rel="noopener noreferrer">feature suggestions</a>&nbsp;on the&nbsp;<a href="https://developercommunity.visualstudio.com/spaces/41/index.html" target="_blank" rel="noopener noreferrer">Visual Studio Developer Community website</a>.</p><p>We hope you enjoy using Visual Studio 2019 for Mac 8.6 as much as we enjoyed working on it!</p></div></div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
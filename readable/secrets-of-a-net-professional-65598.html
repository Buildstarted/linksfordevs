<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Secrets of a .NET Professional - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.min.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Secrets of a .NET Professional - linksfor.dev(s)"/>
    <meta property="article:author" content="Khalid Abuhakmeh"/>
    <meta property="og:description" content="Working as a .NET Professional is a tumultuous rollercoaster ride of emotional highs and crushing lows. It&#x2019;s likely the same for other communities, with different flavors of success and failures. I have over a decade of .NET development work, and I am here to share some general mantras that have served me well. I hate to call it adivce because all advice is context-specific. Readers should take any general counsel with a healthy dose of skepticism and critical thinking. That said, I hope folks reading this will find value through the prism of my experiences."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://khalidabuhakmeh.com/secrets-of-a-dotnet-professional"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1 style="margin: unset">
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Secrets of a .NET Professional</title>
<div class="readable">
        <h1>Secrets of a .NET Professional</h1>
            <div>by Khalid Abuhakmeh</div>
            <div>Reading time: 9-11 minutes</div>
        <div>Posted here: 13 Aug 2020</div>
        <p><a href="https://khalidabuhakmeh.com/secrets-of-a-dotnet-professional">https://khalidabuhakmeh.com/secrets-of-a-dotnet-professional</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
                <p>Working as a <a href="https://dot.net/" target="_blank" rel="noopener noreferrer">.NET Professional</a> is a tumultuous rollercoaster ride of emotional highs and crushing lows. It’s likely the same for other communities, with different flavors of success and failures. I have over a decade of .NET development work, and I am here to share some general mantras that have served me well. I hate to call it <em>adivce</em> because all advice is context-specific. Readers should take any general counsel with a healthy dose of skepticism and critical thinking. That said, I hope folks reading this will find value through the prism of my experiences.</p>

<p>In this post, we’ll go through technical and non-technical ideas that have helped me through some of my toughest projects.</p>

<!--more-->

<h2 id="strings-strings-strings"><a href="#strings-strings-strings">Strings, Strings, Strings</a></h2>

<p>At its lowest level, we can boil programming to  <strong>1’s and 0’s</strong>. A few levels up from that is our human abstraction comprising mainly of <code>string</code> values. The <a href="https://docs.microsoft.com/en-us/dotnet/api/system.string?view=netcore-3.1" target="_blank" rel="noopener noreferrer"><code>string</code></a> class in .NET is arguably the most used in all of .NET.  While we can utilize it like a primitive type, it does not behave like a primitive during runtime. <strong>Most memory leaks I’ve encountered were due to the creation of unique strings.</strong> We can see this happen in some of the following situations:</p>

<ul>
  <li>Logging with custom messages</li>
  <li>HTTP request building</li>
  <li>Exception messages with custom messages</li>
  <li>String concatenation (using <code>+</code> instead of <code>StringBuilder</code>)</li>
  <li>ORM SQL generation out of control</li>
</ul>

<p>The CLR will store string constants in an in-memory data structure called the <a href="https://docs.microsoft.com/en-us/dotnet/api/system.string.intern?redirectedfrom=MSDN&amp;view=netcore-3.1#System_String_Intern_System_String_" target="_blank" rel="noopener noreferrer">intern pool</a>.</p>

<blockquote>
  <p>The common language runtime conserves string storage by maintaining a table, called the intern pool, that contains a single reference to each unique literal string declared or created programmatically in your program. <cite>–<a href="https://docs.microsoft.com/en-us/dotnet/api/system.string.intern?redirectedfrom=MSDN&amp;view=netcore-3.1#System_String_Intern_System_String_" target="_blank" rel="noopener noreferrer">Microsoft</a></cite></p>
</blockquote>

<p>The behavior usually is something we want in our applications, but we need to be mindful of it as we hit any meaningful scale. It’s a good idea to follow these guidelines:</p>

<ul>
  <li>Use <code>StringBuilder</code> when building large strings.</li>
  <li>Use structured logging techniques and avoid “custom messages.”</li>
  <li>Use string constants when possible.</li>
</ul>

<p>If we’re experiencing memory leaks, it is a good idea to look through our dependencies to see what could be generating strings. Here is a past experience with a leak in <a href="https://khalidabuhakmeh.com/diagnosing-memory-leaks-in-azure-app-services-with-perfview">Windows Azure Application Insights</a>.</p>

<h2 id="decompiling-dependencies"><a href="#decompiling-dependencies">Decompiling Dependencies</a></h2>

<p>Adding a dependency to a project is a hopeful act. We hope that the package will solve our problems with little or no effort. Often that’s the case, but sometimes it is a complete disaster. A decade ago, it would have been a frustrating experience, not understanding what the heck is happening.</p>

<p>With today’s tools, we can step into our dependencies to understand the underlying behavior, especially in those situations where it’s all gone wrong. Productivity tools like <a href="https://jetbrains.com/resharper" target="_blank" rel="noopener noreferrer">ReSharper</a> and <a href="https://jetbrains.com/rider" target="_blank" rel="noopener noreferrer">Rider</a> have helped millions of developers better understand their dependencies. Visual Studio has also added this feature recently. Debugging into a third-party package can help expedite a solution, allowing developers to solve their issues.</p>

<p>There are cases where the decompilation loses some clarity. In these cases, when possible, we can go to the authors’ GitHub repository. Reading more code, especially other folks’ code, makes us better developers.</p>

<blockquote>   
</blockquote>

<h2 id="nothing-is-free"><a href="#nothing-is-free">Nothing Is Free</a></h2>

<p>The following statement may seem obvious on face value, but many developers still fall into this trap.</p>

<blockquote>   
</blockquote>

<p>In the case of third-party packages, they are abstracting away a problem for our convenience. Let’s take an absurd example of an ultra-convenient abstraction.</p>

<div><div><pre><code><span>public</span> <span>static</span> <span>void</span> <span>Main</span><span>()</span> <span>{</span>
  <span>DoEverything</span><span>();</span>
<span>}</span>
</code></pre></div></div>

<p>How expensive should we expect <code>DoEverything</code> to be? Is it making any network calls? Is it bound to I/O? Let’s take a less absurd example using Entity Framework.</p>

<div><div><pre><code><span>var</span> <span>results</span> <span>=</span> <span>db</span><span>.</span><span>Products</span><span>.</span><span>ToList</span><span>();</span>
</code></pre></div></div>

<p>Most developers would expect this to “work,” and it might work for a bit. <strong>Then the product table grows from 100 to 100,000, and now we’re in trouble.</strong> Abstractions are convenient, but we still have to understand the power we are wielding in many cases. Pausing and asking simple questions can save a developer, team, and company days of debugging under pressure.</p>

<h2 id="taskawesome"><a href="#taskawesome">Task.Awesome</a></h2>

<p>Asynchronous programming is pretty commonplace in the .NET ecosystem. We’ve recently been able to make <strong>everything</strong> async, and that’s awesome for everyone.</p>

<div><div><pre><code><span>public</span> <span>class</span> <span>Program</span>
<span>{</span>
    <span>public</span> <span>async</span> <span>Task</span> <span>Main</span><span>(</span><span>string</span><span>[]</span> <span>args</span><span>)</span>
    <span>{</span>
        <span>await</span> <span>CreateHostBuilder</span><span>(</span><span>args</span><span>).</span><span>Build</span><span>().</span><span>RunAsync</span><span>();</span>
    <span>}</span>

    <span>public</span> <span>static</span> <span>IHostBuilder</span> <span>CreateHostBuilder</span><span>(</span><span>string</span><span>[]</span> <span>args</span><span>)</span> <span>=&gt;</span>
        <span>Host</span><span>.</span><span>CreateDefaultBuilder</span><span>(</span><span>args</span><span>)</span>
            <span>.</span><span>ConfigureWebHostDefaults</span><span>(</span><span>webBuilder</span> <span>=&gt;</span> <span>{</span> <span>webBuilder</span><span>.</span><span>UseStartup</span><span>&lt;</span><span>Startup</span><span>&gt;();</span> <span>});</span>
<span>}</span>
</code></pre></div></div>

<p>It’s essential to at least have a shallow under the class at the center of all of it, and that’s <a href="https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.task?view=netcore-3.1" target="_blank" rel="noopener noreferrer"><code>Task</code></a>. The asynchronous programming model in .NET is a state machine where every call to <code>await</code> creates a new step in state-machine. For the most part, the <code>async/await</code> pair work, but understanding how <a href="https://docs.microsoft.com/en-us/dotnet/standard/parallel-programming/task-based-asynchronous-programming" target="_blank" rel="noopener noreferrer">the abstraction works</a> helps us make decisions around cancellation tokens and proper edge-case handling.</p>

<h2 id="learn-linq"><a href="#learn-linq">Learn LINQ</a></h2>

<p>The Language Integrated Query language is an elegant addition to any .NET developers toolkit. I could wax poetic about all the ways I love LINQ, but that is time wasted not <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/linq/" target="_blank" rel="noopener noreferrer">learning LINQ</a>.</p>

<h2 id="take-it-easy-on-the-patterns"><a href="#take-it-easy-on-the-patterns">Take It Easy On The Patterns</a></h2>

<p><a href="https://en.wikipedia.org/wiki/Impostor_syndrome" target="_blank" rel="noopener noreferrer">Impostor syndrome</a> is a difficult struggle for many of us. It’s easy to fall into the trap of adding more abstractions into our codebase to compensate for our internal conflicts. We should consider each pattern appropriately and understand what it brings to a project and what burden it may introduce on ourselves and team members. In the majority of my experience, adding more abstractions was a way to delay the need to solve the real problems facing us.</p>

<h2 id="one-project-is-fine"><a href="#one-project-is-fine">One Project Is Fine*</a></h2>

<p>Likely, the most controversial opinion on the list, but commonly, one project (excluding a test project), is <em>fine</em> for many solutions. .NET allows us to have a mind-boggling number of projects in a solution. Many of us see that as a challenge to pump our solutions with as many assemblies as humanly possible. Starting with one project gets us out of practicing <strong><a href="https://en.wikipedia.org/wiki/Feng_shui" target="_blank" rel="noopener noreferrer">Project Feng Shui</a></strong> and back to solving the problem at hand. Projects make sense for teams delivering assemblies, less so for teams iterating on a service.</p>

<p><strong>*Developers should use their judgment to make the ultimate decision.</strong></p>

<h2 id="integration-tests--unit-tests"><a href="#integration-tests--unit-tests">Integration Tests &gt; Unit Tests</a></h2>

<p>The systems we build have many complex external dependencies. The hubris of thinking we could mock away decades of investment in a database, web service, or any other technology has been the source of many frustrating arguments. In my opinion, <strong>one good integration test is worth 1,000 unit tests.</strong> <a href="https://khalidabuhakmeh.com/dotnet-database-integration-tests">Here is a previous post describing how to write database integration tests</a>. With the rise of containerization, the pain of writing integration tests has never been lower.</p>

<blockquote>   
</blockquote>

<p>Unit tests still have their place in our testing insfrastructure, but in my experience, tests that rely heavily on mocking external behaviors will erode and become unmanageable over time.</p>



<p>I love what .NET allows developers to accomplish, and with its ability to be cross-platform, its never been a better time to be a .NET developer. The power of .NET may tempt us into bending everything we do towards our preferences, but that means we’re closing out a world of wonderful possibilities.</p>

<p>By exploring other ecosystems, we might find more fitting solutions to our problems. The JavaScript community has many great projects to offer, and so does the Ruby and Python communities. We limit ourselves when we only look in one place for the solutions to our problems.</p>

<p>This blog is written primarily using <a href="https://khalidabuhakmeh.com/tag/jekyll/">Jekyll</a> and Ruby, and I’ve written a few posts to help folks looking to get into blogging.</p>

<h2 id="people--technology"><a href="#people--technology">People &gt; Technology</a></h2>

<p>Technology can help us overcome many technical hurdles, but many of the problems teams face are not technological: vision, communication, vision, and planning. A cohesive team with dated technology will outperform a dysfunctional team with the latest tech every time. Nothing beats working with folks we respect and that we can have spirited and productive debates with for the ultimate goal of building cool things.</p>

<blockquote>   
</blockquote>



<p>I mentioned that I was writing this post to the broader community, and the response was overwhelmingly positive.</p>




<p><strong>I suggest reading the tweets if you’re interested in adding to the conversation or seeing what other folks think. Here are some of my favorites.</strong></p>












<p>There are more 💎gems in the thread, and definitely worth a read and follow.</p>

<h2 id="conclusion"><a href="#conclusion">Conclusion</a></h2>

<p>Being a <strong>professional</strong> is a moving target at best, and we are all trying to do our best. Approaching our careers with humility and a passion for learning and getting better will put us in a position to advance towards our goals. We need to understand that the hurdles we’ll face on our journey will be a mixture of technical and non-technical and that finding balance is critical for our success. The technical advice I gave will likely change over time, but the non-technical information is timeless. Ultimately, we’ve chosen a profession designed to help folks solve their problems. To do that, we first need to understand and solve our problems.</p>

<p><a href="https://khalidabuhakmeh.com/office-hours/">I offer office hours above if you’re interested in having a chat or debating any points in this post.</a></p>

<p>Thank You.</p>


            </div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
servo/servo - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.min.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="servo/servo - linksfor.dev(s)"/>
    <meta property="article:author" content="servo"/>
    <meta property="og:description" content="The Servo Browser Engine. Contribute to servo/servo development by creating an account on GitHub."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://github.com/servo/servo"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1 style="margin: unset">
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - servo/servo</title>
<div class="readable">
        <h1>servo/servo</h1>
            <div>by servo</div>
            <div>Reading time: 12-15 minutes</div>
        <div>Posted here: 14 Aug 2020</div>
        <p><a href="https://github.com/servo/servo">https://github.com/servo/servo</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="readme">
    
        

      <div>
        <article itemprop="text">
<p><a href="https://travis-ci.com/servo/servo" rel="nofollow"><img src="https://camo.githubusercontent.com/c34e3c4641685467607143388f2bad776b8e75f7/68747470733a2f2f696d672e736869656c64732e696f2f7472617669732f736572766f2f736572766f2f6d61737465722e7376673f6c6162656c3d4c696e75782532306275696c64" alt="Linux Build Status" data-canonical-src="https://img.shields.io/travis/servo/servo/master.svg?label=Linux%20build"></a>  <a href="https://changelog.com/podcast/228" rel="nofollow"><img src="https://camo.githubusercontent.com/8f7afb40f8572ace4fe97d3597f5a3ba3597e007/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6368616e67656c6f672d2532333232382d3945393738452e737667" alt="Changelog #228" data-canonical-src="https://img.shields.io/badge/changelog-%23228-9E978E.svg"></a></p>
<p>Servo is a prototype web browser engine written in the
<a href="https://github.com/rust-lang/rust">Rust</a> language. It is currently developed on
64-bit macOS, 64-bit Linux, 64-bit Windows, and Android.</p>
<p>Servo welcomes contribution from everyone.  See
<a href="https://github.com/servo/servo/blob/master/CONTRIBUTING.md"><code>CONTRIBUTING.md</code></a> and <a href="https://github.com/servo/servo/blob/master/docs/HACKING_QUICKSTART.md"><code>HACKING_QUICKSTART.md</code></a>
for help getting started.</p>
<p>Visit the <a href="https://servo.org/" rel="nofollow">Servo Project page</a> for news and guides.</p>
<h2>Setting up your environment</h2>
<h3>Rustup.rs</h3>
<p>Building servo requires <a href="https://rustup.rs/" rel="nofollow">rustup</a>, version 1.8.0 or more recent.
If you have an older version, run <code>rustup self update</code>.</p>
<p>To install on Windows, download and run <a href="https://win.rustup.rs/" rel="nofollow"><code>rustup-init.exe</code></a>
then follow the onscreen instructions.</p>
<p>To install on other systems, run:</p>
<div><pre>curl https://sh.rustup.rs -sSf <span>|</span> sh</pre></div>
<p>This will also download the current stable version of Rust, which Servo won’t use.
To skip that step, run instead:</p>
<pre><code>curl https://sh.rustup.rs -sSf | sh -s -- --default-toolchain none
</code></pre>
<p>See also <a href="https://github.com/rust-lang-nursery/rustup.rs/#other-installation-methods">Other installation methods</a></p>
<h3>Other dependencies</h3>
<p>Please select your operating system:</p>
<ul>
<li><a href="#macos">macOS</a></li>
<li><a href="#on-debian-based-linuxes">Debian-based Linuxes</a></li>
<li><a href="#on-fedora">Fedora</a></li>
<li><a href="#on-arch-linux">Arch Linux</a></li>
<li><a href="#on-opensuse-linux">openSUSE</a></li>
<li><a href="#on-gentoo-linux">Gentoo Linux</a></li>
<li><a href="#on-windows-msvc">Microsoft Windows</a></li>
<li><a href="#cross-compilation-for-android">Android</a></li>
</ul>
<h4>macOS</h4>
<p>Xcode version 10.2 or above is recommended.</p>
<h5>On macOS (Homebrew)</h5>
<p>NOTE: run these steps after you've cloned the project locally.</p>
<div><pre><span>cd</span> servo 
brew bundle install --file=etc/taskcluster/macos/Brewfile
brew bundle install --file=etc/taskcluster/macos/Brewfile-build
pip install virtualenv</pre></div>
<h4>On Debian-based Linuxes</h4>
<div><pre>sudo apt install python-virtualenv python-pip
./mach bootstrap</pre></div>
<p>If <code>./mach bootstrap</code> doesn't work, file a bug, and, run the commands below:</p>
<div><pre>sudo apt install git curl autoconf libx11-dev libfreetype6-dev libgl1-mesa-dri \
    libglib2.0-dev xorg-dev gperf g++ build-essential cmake libssl-dev \
    liblzma-dev libxmu6 libxmu-dev \
    libxcb-render0-dev libxcb-shape0-dev libxcb-xfixes0-dev \
    libgles2-mesa-dev libegl1-mesa-dev libdbus-1-dev libharfbuzz-dev ccache \
    clang libunwind-dev libgstreamer1.0-dev libgstreamer-plugins-base1.0-dev \
    libgstreamer-plugins-bad1.0-dev autoconf2.13 llvm-dev</pre></div>
<p>Additionally, you'll need a local copy of GStreamer with a version later than 16.2. You can place it in <code>support/linux/gstreamer/gst</code>, or run <code>./mach bootstrap-gstreamer</code> to set it up. On <strong>Ubuntu 20.04LTS</strong>, you can use the system GStreamer if you install the necessary packages:</p>
<div><pre>sudo apt install gstreamer1.0-nice gstreamer1.0-plugins-bad</pre></div>
<p>If you are using <strong>Ubuntu 16.04</strong> or <strong>Linux Mint 18.*</strong> run <code>export HARFBUZZ_SYS_NO_PKG_CONFIG=1</code> before building to avoid an error with harfbuzz.</p>
<p>If you get an undefined symbol error on <code>gst_player_get_config</code> try removing <code>gir1.2-gst-plugins-bad-1.0</code> and all old versions of clang, see <a href="https://github.com/servo/servo/issues/22016">#22016</a></p>
<h4>On Fedora</h4>
<div><pre>sudo dnf install python3 python3-virtualenv python3-pip python3-devel
python3 ./mach bootstrap</pre></div>
<p>If <code>python3 ./mach bootstrap</code> doesn't work, file a bug, and, run the commands below:</p>
<div><pre>sudo dnf install curl libtool gcc-c++ libXi-devel libunwind-devel \
    freetype-devel mesa-libGL-devel mesa-libEGL-devel glib2-devel libX11-devel \
    libXrandr-devel gperf fontconfig-devel cabextract ttmkfdir  expat-devel \
    rpm-build openssl-devel cmake libX11-devel libXcursor-devel \
    libXmu-devel dbus-devel ncurses-devel harfbuzz-devel \
    ccache clang clang-libs python3-devel gstreamer1-devel \
    gstreamer1-plugins-base-devel gstreamer1-plugins-bad-free-devel autoconf213</pre></div>
<h4>On CentOS</h4>
<div><pre>sudo yum install python-virtualenv python-pip
./mach bootstrap</pre></div>
<p>If <code>./mach bootstrap</code> doesn't work, file a bug, and, run the commands below:</p>
<div><pre>sudo yum install curl libtool gcc-c++ libXi-devel freetype-devel \
    mesa-libGL-devel mesa-libEGL-devel glib2-devel libX11-devel libXrandr-devel \
    gperf fontconfig-devel cabextract ttmkfdir python expat-devel rpm-build \
    openssl-devel cmake3 libXcursor-devel libXmu-devel \
    dbus-devel ncurses-devel python34 harfbuzz-devel \
    ccache clang clang-libs llvm-toolset-7</pre></div>
<p>Build inside <code>llvm-toolset</code> and <code>devtoolset</code>:</p>
<div><pre>scl <span>enable</span> devtoolset-7 llvm-toolset-7 bash</pre></div>
<p>with the following environmental variables set:</p>
<div><pre><span>export</span> CMAKE=cmake3
<span>export</span> LIBCLANG_PATH=/opt/rh/llvm-toolset-7/root/usr/lib64</pre></div>
<h4>On openSUSE Linux</h4>
<div><pre>sudo zypper install libX11-devel libexpat-devel Mesa-libEGL-devel Mesa-libGL-devel cabextract cmake \
    dbus-1-devel fontconfig-devel freetype-devel gcc-c++ git glib2-devel gperf \
    harfbuzz-devel libXcursor-devel libXi-devel libXmu-devel libXrandr-devel libopenssl-devel \
    python-pip python-virtualenv rpm-build ccache llvm-clang libclang autoconf213 gstreamer-devel \
    gstreamer-plugins-base-devel gstreamer-plugins-bad-devel</pre></div>
<h4>On Arch Linux</h4>
<div><pre>sudo pacman -S --needed base-devel git python2 python2-virtualenv python2-pip mesa cmake libxmu \
    pkg-config ttf-fira-sans harfbuzz ccache llvm clang autoconf2.13 gstreamer gstreamer-vaapi</pre></div>
<h4>On Gentoo Linux</h4>
<div><pre>sudo emerge net-misc/curl \
    media-libs/freetype media-libs/mesa dev-util/gperf \
    dev-python/virtualenv dev-python/pip dev-libs/openssl \
    media-libs/harfbuzz dev-util/ccache sys-libs/libunwind \
    x11-libs/libXmu x11-base/xorg-server sys-devel/clang \
    media-libs/gstreamer media-libs/gst-plugins-bad media-libs/gst-plugins-base</pre></div>
<p>With the following environment variable set:</p>
<div><pre><span>export</span> LIBCLANG_PATH=<span><span>$(</span>llvm-config --prefix<span>)</span></span>/lib64</pre></div>
<h4>On Windows (MSVC)</h4>
<ol>
<li>Install Python 2.7 for Windows (<a href="https://www.python.org/downloads/release/python-2716/" rel="nofollow">https://www.python.org/downloads/release/python-2716/</a>). The Windows x86-64 MSI installer is fine. This is required for the build system execution and many dependencies.</li>
</ol>
<p>You should change the installation to install the "Add python.exe to Path" feature.</p>
<p>You will also need to set the <code>PYTHON2</code> environment variable, e.g., to 'C:\Python27\python.exe' by doing:</p>
<pre><code>setx PYTHON2 "C:\Python27\python.exe" /m
</code></pre>
<ol start="2">
<li>Install Python 3.7 for Windows (<a href="https://www.python.org/downloads/release/python-374/" rel="nofollow">https://www.python.org/downloads/release/python-374/</a>). The Windows x86-64 MSI installer is fine. This is required in order to build the JavaScript engine, SpiderMonkey.</li>
</ol>
<p>You will also need to set the <code>PYTHON3</code> environment variable, e.g., to 'C:\Python37\python.exe' by doing:</p>
<pre><code>setx PYTHON3 "C:\Python37\python.exe" /m
</code></pre>
<p>The <code>/m</code> will set it system-wide for all future command windows.</p>
<ol start="3">
<li>Install virtualenv.</li>
</ol>
<p>In a normal Windows Shell (cmd.exe or "Command Prompt" from the start menu), do:</p>
<pre><code>pip install virtualenv
</code></pre>
<p>If this does not work, you may need to reboot for the changed PATH settings (by the python installer) to take effect.</p>
<ol start="4">
<li>Install the most recent <a href="https://gstreamer.freedesktop.org/data/pkg/windows/" rel="nofollow">GStreamer</a> MSVC packages. You need to download the two <code>.msi</code> files for your platform from the <a href="https://gstreamer.freedesktop.org/data/pkg/windows/" rel="nofollow">GStreamer</a> website and install them. The currently recommended version is 1.16.0. i.e.:</li>
</ol>
<ul>
<li><a href="https://gstreamer.freedesktop.org/data/pkg/windows/1.16.0/gstreamer-1.0-msvc-x86_64-1.16.0.msi" rel="nofollow">gstreamer-1.0-msvc-x86_64-1.16.0.msi</a></li>
<li><a href="https://gstreamer.freedesktop.org/data/pkg/windows/1.16.0/gstreamer-1.0-devel-msvc-x86_64-1.16.0.msi" rel="nofollow">gstreamer-1.0-devel-msvc-x86_64-1.16.0.msi</a></li>
</ul>
<p>Note that the MinGW binaries will not work, so make sure that you install the MSVC the ones.</p>
<p>Note that you should ensure that <em>all</em> components are installed from gstreamer, as we require many of the optional libraries that are not installed by default.</p>
<ol start="5">
<li>
<p>Install Git for Windows (<a href="https://git-scm.com/download/win" rel="nofollow">https://git-scm.com/download/win</a>). DO allow it to add git.exe to the PATH (default
settings for the installer are fine).</p>
</li>
<li>
<p>Install Visual Studio Community 2017 (<a href="https://www.visualstudio.com/vs/community/" rel="nofollow">https://www.visualstudio.com/vs/community/</a>). You MUST add "Visual C++" to the
list of installed components as well as the "Windows Universal C runtime." They are not on by default. Visual Studio 2017 MUST installed to the default location or mach.bat will not find it.</p>
</li>
</ol>
<p>Note that version is hard to download online and is easier to install via <a href="https://chocolatey.org/install#installing-chocolatey" rel="nofollow">Chocolatey</a> with:</p>
<pre><code>choco install -y visualstudio2017community --package-parameters="'--add Microsoft.VisualStudio.Component.Git'"
Update-SessionEnvironment #refreshing env due to Git install

#--- UWP Workload and installing Windows Template Studio ---
choco install -y visualstudio2017-workload-nativedesktop
</code></pre>
<h5>[Optional] Install LLVM for faster link times</h5>
<p>You may experience much faster builds on Windows by following these steps. (Related Rust issue: <a href="https://github.com/rust-lang/rust/issues/37543">https://github.com/rust-lang/rust/issues/37543</a>)</p>
<ol>
<li>Download the latest version of LLVM (<a href="https://releases.llvm.org/" rel="nofollow">https://releases.llvm.org/</a>).</li>
<li>Run the installer and choose to add LLVM to the system PATH.</li>
<li>Add the following to your Cargo config (Found at <code>%USERPROFILE%\.cargo\config</code>). You may need to change the triple to match your environment.</li>
</ol>
<pre><code>[target.x86_64-pc-windows-msvc]
linker = "lld-link.exe"
</code></pre>
<h5>Troubleshooting a Windows environment</h5>
<blockquote>
<p>If you encountered errors with the environment above, do the following for a workaround:</p>
<ol>
<li>Download and install <a href="https://www.visualstudio.com/thank-you-downloading-visual-studio/?sku=BuildTools&amp;rel=15" rel="nofollow">Build Tools for Visual Studio 2017</a></li>
<li>Install <code>python2.7 x86-x64</code> and <code>virtualenv</code></li>
<li>Run <code>mach.bat build -d</code>.</li>
</ol>
</blockquote>
<blockquote>
<p>If you have troubles with <code>x64 type</code> prompt as <code>mach.bat</code> set by default:</p>
<ol>
<li>You may need to choose and launch the type manually, such as <code>x86_x64 Cross Tools Command Prompt for VS 2017</code> in the Windows menu.)</li>
<li><code>cd to/the/path/servo</code></li>
<li><code>python mach build -d</code></li>
</ol>
</blockquote>
<blockquote>
<p>If you got the error <code>Cannot run mach in a path on a case-sensitive file system on Windows</code>:</p>
<ol>
<li>Open Command Prompt or PowerShell as administrator.</li>
<li>Disable case-sensitive for servo path, <code>fsutil.exe file SetCaseSensitiveInfo X:\path\to\servo disable</code></li>
</ol>
</blockquote>
<blockquote>
<p>If you got the error <code>DLL file </code>api-ms-win-crt-runtime-l1-1-0.dll<code> not found!</code> then set
the <code>WindowsSdkDir</code> environment variable to an appropriate <code>Windows Kit</code> directory containing
<code>Redist\ucrt\DLLs\x64\api-ms-win-crt-runtime-l1-1-0.dll</code>, for example
<code>C:\Program Files (x86)\Windows Kits\10</code>.</p>
</blockquote>
<blockquote>
<p>If you get the error <code>thread 'main' panicked at 'Unable to find libclang: "couldn\'t find any valid shared libraries matching: [\'clang.dll\', \'libclang.dll\'], set the </code>LIBCLANG_PATH<code> environment variable to a path where one of these files can be found (invalid: ... invalid DLL (64-bit))])"'</code>
then <code>rustup</code> may have installed the 32-bit default target rather than the 64-bit one.
You can find the configuration with <code>rustup show</code>, and set the default with <code>rustup set default-host x86_64-pc-windows-msvc</code>.</p>
</blockquote>
<h4>Cross-compilation for Android</h4>
<p>Run <code>./mach bootstrap-android --build</code> to get Android-specific tools. See wiki for
<a href="https://github.com/servo/servo/wiki/Building-for-Android">details</a>.</p>
<h2>The Rust compiler</h2>
<p>Servo's build system uses rustup.rs to automatically download a Rust compiler.
This is a specific version of Rust Nightly determined by the
<a href="https://github.com/servo/servo/blob/master/rust-toolchain"><code>rust-toolchain</code></a> file.</p>
<h2>Building</h2>
<p>Servo is built with <a href="https://crates.io/" rel="nofollow">Cargo</a>, the Rust package manager. We also use Mozilla's
Mach tools to orchestrate the build and other tasks.</p>
<h3>Normal build</h3>
<p>To build Servo in development mode.  This is useful for development, but
the resulting binary is very slow.</p>
<div><pre>git clone https://github.com/servo/servo
<span>cd</span> servo
./mach build --dev
./mach run tests/html/about-mozilla.html</pre></div>
<p>Or on Windows MSVC, in a normal Command Prompt (cmd.exe):</p>
<div><pre>git clone https://github.com/servo/servo
<span>cd</span> servo
mach.bat build --dev</pre></div>
<p>For benchmarking, performance testing, or
real-world use, add the <code>--release</code> flag to create an optimized build:</p>
<div><pre>./mach build --release
./mach run --release tests/html/about-mozilla.html</pre></div>
<p><strong>Note:</strong> <code>mach build </code> will build both <code>servo</code> and <code>libsimpleservo</code>. To make compilation a bit faster, it's possible to only compile the servo binary: <code>./mach build --dev -p servo</code>.</p>
<h3>Checking for build errors, without building</h3>
<p>If you’re making changes to one crate that cause build errors in another crate,
consider this instead of a full build:</p>

<p>It will run <code>cargo check</code>, which runs the analysis phase of the compiler
(and so shows build errors if any) but skips the code generation phase.
This can be a lot faster than a full build,
though of course it doesn’t produce a binary you can run.</p>
<h3>Building for Android target</h3>
<p>For ARM (<code>armv7-linux-androideabi</code>, most phones):</p>
<div><pre>./mach build --release --android
./mach package --release --android</pre></div>
<p>For x86 (typically for the emulator):</p>
<div><pre>./mach build --release --target i686-linux-android
./mach package --release --target i686-linux-android</pre></div>
<h2>Running</h2>
<p>Run Servo with the command:</p>
<div><pre>./servo [url] [arguments] <span><span>#</span> if you run with nightly build</span>
./mach run [url] [arguments] <span><span>#</span> if you run with mach</span>

<span><span>#</span> For example</span>
./mach run https://www.google.com</pre></div>
<h3>Commandline Arguments</h3>
<ul>
<li><code>-p INTERVAL</code> turns on the profiler and dumps info to the console every
<code>INTERVAL</code> seconds</li>
<li><code>-s SIZE</code> sets the tile size for painting; defaults to 512</li>
<li><code>-z</code> disables all graphical output; useful for running JS / layout tests</li>
<li><code>-Z help</code> displays useful output to debug servo</li>
</ul>
<h3>Keyboard Shortcuts</h3>
<ul>
<li><code>Ctrl</code>+<code>L</code> opens URL prompt (<code>Cmd</code>+<code>L</code> on Mac)</li>
<li><code>Ctrl</code>+<code>R</code> reloads current page (<code>Cmd</code>+<code>R</code> on Mac)</li>
<li><code>Ctrl</code>+<code>-</code> zooms out (<code>Cmd</code>+<code>-</code> on Mac)</li>
<li><code>Ctrl</code>+<code>=</code> zooms in (<code>Cmd</code>+<code>=</code> on Mac)</li>
<li><code>Alt</code>+<code>left arrow</code> goes backwards in the history (<code>Cmd</code>+<code>left arrow</code> on Mac)</li>
<li><code>Alt</code>+<code>right arrow</code> goes forwards in the history (<code>Cmd</code>+<code>right arrow</code> on Mac)</li>
<li><code>Esc</code> or <code>Ctrl</code>+<code>Q</code> exits Servo (<code>Cmd</code>+<code>Q</code> on Mac)</li>
</ul>
<h2>Developing</h2>
<p>There are lots of mach commands you can use. You can list them with <code>./mach --help</code>.</p>
<p>The generated documentation can be found on <a href="https://doc.servo.org/servo/index.html" rel="nofollow">https://doc.servo.org/servo/index.html</a></p>
</article>
      </div>
  </div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
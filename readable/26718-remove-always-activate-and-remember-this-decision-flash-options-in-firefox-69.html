<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Remove &quot;Always Activate&quot; and &quot;Remember this decision&quot; Flash options in Firefox 69 -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>Remove "Always Activate" and "Remember this decision" Flash options in Firefox 69</h1><div><div class="comment-text markdown-body " id="ct-5" data-comment-id="14159821" data-ismarkdown="true"><p>(In reply to :Gijs (he/him) from <a class="bz_bug_link
          bz_status_RESOLVED bz_closed" href="/show_bug.cgi?id=1519434#c4" title="RESOLVED FIXED - Remove &quot;Always Activate&quot; and &quot;Remember this decision&quot; Flash options in Firefox 69">comment #4</a>)</p><blockquote><p>Is there a broader plan for what we want here? Some questions that spring to mind (which perhaps are answered in such a doc somewhere):</p></blockquote><p>No, but I'll create a doc that consolidates all these answers:</p><p><a href="https://docs.google.com/document/d/1U5uHskPkJIUkASwLI6uVdFl2s0MM6dfPzCAoT0Bftms/edit" rel="nofollow">https://docs.google.com/document/d/1U5uHskPkJIUkASwLI6uVdFl2s0MM6dfPzCAoT0Bftms/edit</a></p><blockquote><ol start="0"><li>I'm assuming we want to actually make this completely impossible, not just remove the UI and keep support for the internal "always run this plugin" state?</li></ol></blockquote><p>Good question! I hadn't thought of that.</p><p>We had planned to just remove the UI to prevent setting new always-allow site permissions and then let users' existing always-allow site permissions quietly expire after 90 days. But we should probably remove Gecko's always-run Flash code (somewhere in dom/plugins/base) now so Firefox Nightly users can actually experience the always-ask Flash UX now. If there are Flash issues, we want to find them during Nightly testing, not 90 days from now. :) We'll also need to remove any Flash code in the Site Permissions UI.</p><p>However, we do <em>not</em> want to remove always-run support for the dummy NPAPI test plugin (used for our automated NPAPI tests), Widevine, or OpenH264! Widevine and OpenH264 are GMPs (Gecko Media Plugins), not NPAPI plugins, so they might use a different code path. Just something to watch for.</p><blockquote><ol><li>do we need a pref to turn off this restriction if we uncover too many issues?</li></ol></blockquote><p>I don't think we need a pref. Chrome has shipped a similar always-ask UX since September 2018, so there should not be any Flash sites that cause problems in Firefox but not Chrome:</p><p><a href="https://sites.google.com/a/chromium.org/dev/flash-roadmap#TOC-Non-Persisted-HTML5-by-Default-Target:-Chrome-69---September-2018-" rel="nofollow">https://sites.google.com/a/chromium.org/dev/flash-roadmap#TOC-Non-Persisted-HTML5-by-Default-Target:-Chrome-69---September-2018-</a></p><blockquote><ol start="2"><li>we still have a flash_only pref that allows other plugins to be used - in this bug, do we just want to remove support for "always run" for all plugins?</li><li>can we remove support for the flash_only pref except when running automated tests (to reduce the testing/complexity matrix), or is that not possible at the moment?</li></ol></blockquote><p>Flash and the dummy NPAPI test plugin are the only NPAPI plugins we support. Widevine and OpenH264 are also "plugins" but we do not want to remove their always-allow support.</p><p>The flash_only pref should only be used for our automated NPAPI tests, so we can disable or remove the pref in non-test code paths, as long as disabling it doesn't affect Widevine or OpenH264.</p><blockquote><ol start="4"><li>do existing users get this change applied, and/or do we need to notify them in any way beyond relnotes?</li></ol></blockquote><p>All users should get this change. We don't need to notify users.</p></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
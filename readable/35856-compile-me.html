<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Compile Me! -
linksfor.dev(s)
    </title>
	<link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <style type="text/css">
        html {
            font-family: sans-serif;
            line-height: 1.15;
            -webkit-text-size-adjust: 100%;
            -webkit-tap-highlight-color: transparent;
            height: 100%;
        }

        *, ::after, ::before {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";
            font-size: 1rem;
            font-weight: 400;
            line-height: 1.5;
            color: #60656a;
            text-align: left;
            background-color: #323b44;
        }

        h1 {
            font-size: 6rem;
            font-weight: 300;
            line-height: 1.2;
            margin-top: 0;
            margin-bottom: 0.5rem;
            margin-bottom: 0.5rem
        }

        a {
            color: #007bff;
            color: #ccc;
            text-decoration: none;
            background-color: transparent;
            word-break: break-all;
        }

        .unseen a {
            font-weight: bold;
        }

        h3 {
            margin-top: 0;
            padding-top: 0;
            font-weight: normal;
        }

        .grid {
            -ms-flex-direction: column;
            flex-direction: column;
            width: 1024px;
            margin: 0 auto;
            flex: 1 0 auto;
        }

        .row {
            -ms-flex-direction: row;
            flex-direction: row;
            width: 100%;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            display: -ms-flexbox;
            display: flex;
        }

        .col {
            margin: 0 10px 0 10px;
            box-sizing: border-box;
            vertical-align: top;
        }

        .col-3-of-4, .col-6-of-8, .col-9-of-12 {
            width: calc(75% - 20px);
        }

        .col-1-of-4, .col-2-of-8, .col-3-of-12 {
            width: calc(25% - 20px);
        }

        @media (max-width:1023px) {
            /* big landscape tablets, laptops, and desktops */
            body {
                overflow-x: hidden;
            }

            main {
                width: 99%;
            }

            h1 {
                font-size: 50px;
            }
        }

        .text-right {
            text-align: right;
        }

        footer {
            left: 0;
            width: 100%;
            margin-top: 2em;
            padding: 50px 0;
            text-align: center;
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }

        .readable {
            color: #949ba2;
        }

        svg:not(:root).svg-inline--fa {
            color: #60656a;
            overflow: visible;
        }

        .svg-inline--fa.fa-w-12 {
            width: 0.75em;
        }

        svg:not(:root) {
            overflow: hidden;
        }

        .svg-inline--fa {
            display: inline-block;
            font-size: inherit;
            height: 1em;
            overflow: visible;
            vertical-align: -0.125em;
        }

        img {
            max-width: 100%;
        }

        .text-center {
            text-align: center;
        }

        .readable h1 {
            font-size: 2em;
        }
    </style>
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <h1>Compile Me!</h1>
    <body> <p><strong>ChocoPy</strong> is a programming language designed for classroom use in undergraduate compilers courses. ChocoPy is a restricted subset of <a href="https://www.python.org/downloads/release/python-360/">Python 3</a>, which can easily be compiled to a target such as <a href="https://riscv.org">RISC-V</a>. The language is <a href="chocopy_language_reference.pdf">fully specified using formal grammar, typing rules, and operational semantics</a>. ChocoPy is used to teach <a href="https://www2.eecs.berkeley.edu/Courses/CS164/">CS 164 at UC Berkeley</a>. ChocoPy has been designed by <a href="https://people.eecs.berkeley.edu/~rohanpadhye/">Rohan Padhye</a> and <a href="https://people.eecs.berkeley.edu/~ksen">Koushik Sen</a>, with substantial contributions from <a href="https://www2.eecs.berkeley.edu/Faculty/Homepages/hilfinger.html">Paul Hilfinger</a>.</p> <p><mark>New!</mark> A short paper on ChocoPy will appear at <a href="https://2019.splashcon.org/track/splash-2019-SPLASH-E">SPLASH-E&apos;19</a>. Check out the <a href="chocopy-splashe19.pdf">preprint</a>.</p> <p>At a glance, ChocoPy is:</p> <ul> <li><strong>Familiar</strong>: ChocoPy programs can be executed directly in a Python (3.6+) interpreter. ChocoPy programs can also be edited using standard Python syntax highlighting.</li> <li><strong>Safe</strong>: ChocoPy uses Python 3.6 <a href="https://www.python.org/dev/peps/pep-0484/">type</a> <a href="https://www.python.org/dev/peps/pep-0526/">annotations</a> to enforce static type checking. The <a href="chocopy_language_reference.pdf">type system</a> supports nominal subtyping.</li> <li><strong>Concise</strong>: A full compiler for ChocoPy be implemented in about 12 weeks by undergraduate students of computer science. This can be a hugely rewarding exercise for students.</li> <li><strong>Expressive</strong>: One can write non-trivial ChocoPy programs using lists, classes, and nested functions. Such <a href="#features">language features</a> also lead to interesting implications for compiler design.</li>
</ul> <p><strong>Bonus</strong>: Due to static type safety and ahead-of-time compilation, most student implementations outperform the reference Python implementation on non-trivial benchmarks.</p> <h2>Try ChocoPy</h2> <pre class="example"># Search in a list
def contains(items:[int], x:int) -&gt; bool:
    i:int = 0
    while i &lt; len(items):
        if items[i] == x:
            return True
        i = i + 1
    return False

if contains([4, 8, 15, 16, 23], 15):
  print(&quot;Item found!&quot;)    # Prints this
else:
  print(&quot;Item not found.&quot;)
</pre> <h2 id="resources">Teaching Resources</h2> <p>The following resources are available for conducting a compilers course with ChocoPy:</p> <ul> <li>A <a href="chocopy_language_reference.pdf">language reference manual</a>, complete with formal grammar, typing rules, and operational semantics.</li> <li>An <a href="chocopy_implementation_guide.pdf">implementation guide</a> describing calling conventions and runtime support in RISC-V.</li> <li>A Java-based framework for conducting three Programming Assignments (PAs): <ol> <li>Lexing and Parsing ChocoPy into Abstract Syntax Trees (ASTs)</li> <li>Semantic analysis and type checking on ASTs</li> <li>Code generation from typed ASTs to <a href="https://riscv.org/specifications/">RV32IM assembly</a></li> </ol> The framework uses <a href="https://json.org/">JSON</a> as an intermediate representation for piping results between compiler stages. The framework includes auto-grading support. All artifacts are platform independent and only require Java 8+ and Apache Maven.</li> <li>A modified version of the <a href="https://github.com/chocopy/venus">Venus simulator</a> for executing RISC-V programs. Venus can be deployed to the web (for online debugging) or compiled to the JVM (for testing and auto-grading).</li> <li>A Java-based reference compiler that compiles ChocoPy programs to <em>auto-documented</em> RISC-V assembly. Students have access to a binary version of this compiler, for use in debugging their own assignments. The reference compiler also powers the online examples on this web page. The source code of the reference compiler <a href="#contact">can be made available to instructors</a>.</li> </ul> <h2 id="features">Language Features</h2> Here are some code examples demonstrating various features of ChocoPy. Edit and compile the programs below to observe the generated RISC-V assembly, which can itself be executed online. A detailed description of the ChocoPy language is available in the official <a href="chocopy_language_reference.pdf">language reference manual</a>. <h3>Static Type Checking</h3>
<pre class="example"># A broken program
def is_even(x:int) -&gt; bool:
    if x % 2 == 1:
        return 0      # FIXME
    else:
        return True

print(is_even(&quot;3&quot;))   # FIXME
</pre> <h3>Nested functions with global/nonlocal variables</h3> <pre class="example"># Compute x**y
def exp(x: int, y: int) -&gt; int: a: int = 0 global invocations # Count calls to this function def f(i: int) -&gt; int: nonlocal a def geta() -&gt; int: return a if i <=> <pre class="example"># A resizable list of integers
class Vector(object): # Attributes items: [int] = None size: int = 0 # Constructor def __init__(self:&quot;Vector&quot;): self.items = [0] # Returns current capacity def capacity(self:&quot;Vector&quot;) -&gt; int: return len(self.items) # Increases capacity of vector by one element def increase_capacity(self:&quot;Vector&quot;) -&gt; int: self.items = self.items + [0] return self.capacity() # Appends one item to end of vector def append(self:&quot;Vector&quot;, item: int): if self.size == self.capacity(): self.increase_capacity() self.items[self.size] = item self.size = self.size + 1 # A faster (but more memory-consuming) implementation of vector
class DoublingVector(Vector): doubling_limit:int = 16 # Overriding to do fewer resizes def increase_capacity(self:&quot;DoublingVector&quot;) -&gt; int: if (self.capacity() <=> <p>ChocoPy <em>does not support</em> modules and imports, higher order functions, native dictionaries, and exceptions.</p> <p>Want to use ChocoPy to run your own compilers course? Send an email to <a href="mailto:instructors@chocopy.org">instructors@chocopy.org</a>.</p> </=></pre></=></pre></body>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2019 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
    </footer>
    
</body>
</html>
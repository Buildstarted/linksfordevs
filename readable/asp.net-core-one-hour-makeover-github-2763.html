<!DOCTYPE html>
<html lang="en">
<head>
    <title>linksfor.dev(s)</title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        <h1>
                <span style="cursor: default" title="linksfor.dev(s) has been running for 1 year! :partypopper:">ðŸŽ‰</span>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <div class="readable">
        <h1>ASP.NET Core One Hour Makeover</h1>
        <p>
Reading time: 6-8 minutes        </p>
        <p><a href="https://gist.github.com/jongalloway/70e5373837534abe6c89e7ab3ec4efb5">https://gist.github.com/jongalloway/70e5373837534abe6c89e7ab3ec4efb5</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
  <div id="file-_aspnet-core-one-hour-makeover-devsum-2019-md">
      
    
  <div id="file-_aspnet-core-one-hour-makeover-devsum-2019-md-readme">
    <article itemprop="text"><p><a href="https://aka.ms/aspnetcore-makeover" rel="nofollow">https://aka.ms/aspnetcore-makeover</a></p>
<h2><a href="https://www.slideshare.net/jongalloway/aspnet-core-one-hour-makeover-147543558" rel="nofollow">Slides</a></h2>
<h2>Outline</h2>
<ul>
<li>Intro (goals/non-goals/what you'll learn)</li>
<li>Pick The Right Starting Template
<ul>
<li>Web Application (no auth)</li>
<li>Web API</li>
<li>SPA</li>
<li>Other templates (teaser)</li>
</ul>
</li>
<li>Source Control and Solution Structure
<ul>
<li>editorconfig</li>
<li>gitignore</li>
</ul>
</li>
<li>Maintainability
<ul>
<li>Tests</li>
<li>Health Checks</li>
<li>Debug Footer</li>
</ul>
</li>
<li>Front End
<ul>
<li>Bootstrap</li>
<li>Front end build?</li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/client-side/libman/libman-vs?view=aspnetcore-2.2" rel="nofollow">Libman</a></li>
<li>SEO</li>
</ul>
</li>
<li>Performance (no way we'll get to this in 50 minutes...)
<ul>
<li>ANCM</li>
<li>Tiered Compilation</li>
<li>Language feature opt-in</li>
<li>Caching</li>
<li>Miniprofiler</li>
</ul>
</li>
<li>Creating your own templates</li>
</ul>
<h2>Code Snippets</h2>
<h3>FunctionalTests.cs</h3>
<div><pre><span>using</span> <span>Microsoft</span>.<span>AspNetCore</span>.<span>Mvc</span>.<span>Testing</span>;
<span>using</span> <span>OneHour</span>.<span>Web</span>;
<span>using</span> <span>System</span>;
<span>using</span> <span>System</span>.<span>Threading</span>.<span>Tasks</span>;
<span>using</span> <span>Xunit</span>;

<span>namespace</span> <span>WebApp</span>.<span>Tests</span>
{
	<span>public</span> <span>class</span> <span>BasicTests</span>
		: <span>IClassFixture</span>&lt;<span>WebApplicationFactory</span>&lt;<span>Startup</span>&gt;&gt;
	{
		<span>private</span> <span>readonly</span> <span>WebApplicationFactory</span>&lt;<span>Startup</span>&gt; <span>_factory</span>;

		<span>public</span> <span>BasicTests</span>(<span>WebApplicationFactory</span>&lt;<span>Startup</span>&gt; <span>factory</span>)
		{
			<span>_factory</span> <span>=</span> <span>factory</span>;
		}

		[<span>Theory</span>]
		[<span>InlineData</span>(<span><span>"</span>/<span>"</span></span>)]
		[<span>InlineData</span>(<span><span>"</span>/Index<span>"</span></span>)]
		[<span>InlineData</span>(<span><span>"</span>/Privacy<span>"</span></span>)]
		<span>public</span> <span>async</span> <span>Task</span> <span>Get_EndpointsReturnSuccessAndCorrectContentType</span>(<span>string</span> <span>url</span>)
		{
			<span><span>//</span> Arrange</span>
			<span>var</span> <span>client</span> <span>=</span> <span>_factory</span>.<span>CreateClient</span>();

			<span><span>//</span> Act</span>
			<span>var</span> <span>response</span> <span>=</span> <span>await</span> <span>client</span>.<span>GetAsync</span>(<span>url</span>);

			<span><span>//</span> Assert</span>
			<span>response</span>.<span>EnsureSuccessStatusCode</span>(); <span><span>//</span> Status Code 200-299</span>
			<span>Assert</span>.<span>Equal</span>(<span><span>"</span>text/html; charset=utf-8<span>"</span></span>,
				<span>response</span>.<span>Content</span>.<span>Headers</span>.<span>ContentType</span>.<span>ToString</span>());
		}

		[<span>Fact</span>]
		<span>public</span> <span>async</span> <span>Task</span> <span>Get_HealthCheckReturnsHealthy</span>()
		{
			<span><span>//</span> Arrange</span>
			<span>var</span> <span>client</span> <span>=</span> <span>_factory</span>.<span>CreateClient</span>();

			<span><span>//</span> Act</span>
			<span>var</span> <span>response</span> <span>=</span> <span>await</span> <span>client</span>.<span>GetAsync</span>(<span><span>"</span>/health<span>"</span></span>);

			<span><span>//</span> Assert</span>
			<span>response</span>.<span>EnsureSuccessStatusCode</span>(); <span><span>//</span> Status Code 200-299</span>
			<span>Assert</span>.<span>Equal</span>(<span><span>"</span>Healthy<span>"</span></span>,
				<span>response</span>.<span>Content</span>.<span>ReadAsStringAsync</span>().<span>Result</span>);

		}
	}
}</pre></div>
<h3>libman.json</h3>
<div><pre>{
  <span><span>"</span>version<span>"</span></span>: <span><span>"</span>1.0<span>"</span></span>,
  <span><span>"</span>defaultProvider<span>"</span></span>: <span><span>"</span>cdnjs<span>"</span></span>,
  <span><span>"</span>libraries<span>"</span></span>: [
  {
   <span><span>"</span>library<span>"</span></span>: <span><span>"</span>jquery@3.3.1<span>"</span></span>,
   <span><span>"</span>files<span>"</span></span>: [
    <span><span>"</span>jquery.min.js<span>"</span></span>,
    <span><span>"</span>jquery.js<span>"</span></span>,
    <span><span>"</span>jquery.min.map<span>"</span></span>
   ],
   <span><span>"</span>destination<span>"</span></span>: <span><span>"</span>wwwroot/lib/jquery/dist<span>"</span></span>
  },
  {
   <span><span>"</span>provider<span>"</span></span>: <span><span>"</span>unpkg<span>"</span></span>,
   <span><span>"</span>library<span>"</span></span>: <span><span>"</span>bootstrap@4.1.3<span>"</span></span>,
   <span><span>"</span>destination<span>"</span></span>: <span><span>"</span>wwwroot/lib/bootstrap/<span>"</span></span>,
   <span><span>"</span>files<span>"</span></span>: [
    <span><span>"</span>dist/css/bootstrap.css<span>"</span></span>,
    <span><span>"</span>dist/css/bootstrap-grid.css<span>"</span></span>,
    <span><span>"</span>dist/css/bootstrap-reboot.css<span>"</span></span>,
    <span><span>"</span>dist/js/bootstrap.js<span>"</span></span>
   ]
  },
  {
   <span><span>"</span>provider<span>"</span></span>: <span><span>"</span>unpkg<span>"</span></span>,
   <span><span>"</span>library<span>"</span></span>: <span><span>"</span>ionicons@4.5.5<span>"</span></span>,
   <span><span>"</span>destination<span>"</span></span>: <span><span>"</span>wwwroot/lib/ionicons<span>"</span></span>,
   <span><span>"</span>files<span>"</span></span>: [ <span><span>"</span>dist/css/ionicons.min.css<span>"</span></span> ]
  }
  ]
}  </pre></div>
<h3>Sitemap Extension</h3>
<div><pre><span>using</span> <span>Ducksoft</span>.<span>NetCore</span>.<span>Razor</span>.<span>Sitemap</span>.<span>Models</span>;
<span>using</span> <span>Microsoft</span>.<span>AspNetCore</span>.<span>Mvc</span>;
<span>using</span> <span>Microsoft</span>.<span>Extensions</span>.<span>DependencyInjection</span>;

<span>namespace</span> <span>OneHour</span>.<span>Web</span>.<span>Utility</span>
{
	<span>public</span> <span>static</span> <span>class</span> <span>SitemapExtensions</span>
	{
		<span>public</span> <span>static</span> <span>IServiceCollection</span> <span>ConfigureMvcRazorPages</span>(<span>this</span> <span>IServiceCollection</span> <span>services</span>,
			  <span>CompatibilityVersion</span> <span>version</span>, <span>string</span> <span>startPageUrl</span> <span>=</span> <span><span>"</span><span>"</span></span>, <span>string</span> <span>startPageArea</span> <span>=</span> <span><span>"</span><span>"</span></span>)
		{
			<span>services</span>.<span>AddMvc</span>()
				.<span>SetCompatibilityVersion</span>(<span>version</span>)
				.<span>AddRazorPagesOptions</span>(<span>options</span> <span>=&gt;</span>
				{
					<span>var</span> <span>isSupportAreas</span> <span>=</span> <span>!</span><span>string</span>.<span>IsNullOrWhiteSpace</span>(<span>startPageArea</span>);
					<span>options</span>.<span>AllowAreas</span> <span>=</span> <span>isSupportAreas</span>;
					<span>options</span>.<span>AllowMappingHeadRequestsToGetHandler</span> <span>=</span> <span>true</span>;
					<span>if</span> (<span>isSupportAreas</span>)
					{
						<span>options</span>.<span>Conventions</span>.<span>AddAreaPageRoute</span>(<span>startPageArea</span>, <span>startPageUrl</span>, <span>string</span>.<span>Empty</span>);
					}
					<span>else</span> <span>if</span> (<span>!</span><span>string</span>.<span>IsNullOrWhiteSpace</span>(<span>startPageUrl</span>))
					{
						<span>options</span>.<span>Conventions</span>.<span>AddPageRoute</span>(<span>startPageUrl</span>, <span>string</span>.<span>Empty</span>);
					}
				})
				.<span>AddRazorPagesOptions</span>(<span>options</span> <span>=&gt;</span>
				{
					<span>options</span>.<span>Conventions</span>.<span>Add</span>(<span>new</span> <span>SitemapRouteConvention</span>());
				})
				.<span>AddRazorPagesOptions</span>(<span>options</span> <span>=&gt;</span>
				{
					<span>options</span>.<span>Conventions</span>.<span>AddPageRoute</span>(<span><span>"</span>/Sitemap<span>"</span></span>, <span><span>"</span>sitemap.xml<span>"</span></span>);
				});

			<span>return</span> <span>services</span>;
		}
	}
}</pre></div>
<h3>.template.config/template.json</h3>
<div><pre>{
<span><span>"</span>$schema<span>"</span></span>: <span><span>"</span>http://json.schemastore.org/template<span>"</span></span>,
<span><span>"</span>author<span>"</span></span>: <span><span>"</span>YOUR NAME<span>"</span></span>,
<span><span>"</span>classifications<span>"</span></span>: [ <span><span>"</span>ASP.NET Core<span>"</span></span>, <span><span>"</span>Solution<span>"</span></span> ],
<span><span>"</span>identity<span>"</span></span>: <span><span>"</span>[YOUR NAME].AspNetCoreSolutionTemplateTemplate.CSharp<span>"</span></span>,
<span><span>"</span>name<span>"</span></span>: <span><span>"</span>ASP.NET Core One Hour<span>"</span></span>,
<span><span>"</span>shortName<span>"</span></span>: <span><span>"</span>aspnetonehour<span>"</span></span>,
<span><span>"</span>sourceName<span>"</span></span>: <span><span>"</span>OneHour<span>"</span></span>
}</pre></div>
<h2>References and Other Good Stuff</h2>
<h3>An Opinionated Approach to ASP.NET Core (Scott Allen)</h3>
<ul>
<li><a href="https://www.youtube.com/watch?v=qxb62AErRWw" rel="nofollow">An Opinionated Approach to ASP.NET Core - NDC - YouTube</a></li>
<li><a href="https://odetocode.com/blogs/scott/archive/2018/08/28/net-core-opinion-1-structuring-a-repository.aspx" rel="nofollow">.NET Core Opinion #1 - Structuring a Repository</a></li>
<li><a href="https://odetocode.com/blogs/scott/archive/2018/09/06/net-core-opinion-2-ndash-managing-a-repository-structure.aspx" rel="nofollow">.NET Core Opinion #2 - Managing a Repository Structure</a></li>
<li><a href="https://odetocode.com/blogs/scott/archive/2018/09/13/net-core-opinion-3-ndash-other-folders-to-include.aspx" rel="nofollow">.NET Core Opinion #3 - Other Folders To Include in the Source Repository</a></li>
<li><a href="https://odetocode.com/blogs/scott/archive/2018/09/21/net-core-opinion-4-ndash-increase-productivity-with-dev.aspx" rel="nofollow">.NET Core Opinion #4 - Increase Productivity with Dev Scripts</a></li>
<li><a href="https://odetocode.com/blogs/scott/archive/2018/10/17/net-core-opinion-5-deployment-scripts-and-templates.aspx" rel="nofollow">.NET Core Opinion #5 - Deployment Scripts and Templates</a></li>
<li><a href="https://odetocode.com/blogs/scott/archive/2018/10/29/net-core-opinion-6-ndash-be-wary-of-gui.aspx" rel="nofollow">.NET Core Opinion #6 - Be Wary of GUI Build Tools</a></li>
<li><a href="https://codingblast.com/asp-net-core-best-practices/" rel="nofollow">Community blogger's transcription</a></li>
</ul>
<h3>Grab Bag</h3>
<ul>
<li><a href="https://www.telerik.com/blogs/aspnet-core-22-goes-bootstrap-4" rel="nofollow">ASP.NET Core 2.2 Goes Bootstrap 4</a></li>
<li><a href="https://www.hanselman.com/blog/ASPNETCoreArchitectDavidFowlersHiddenGemsIn21.aspx" rel="nofollow">ASP.NET Core Architect David Fowler's Hidden Gems in 2.1</a></li>
</ul>
<h3>Existing Template Solutions</h3>
<ul>
<li><a href="https://aspnetboilerplate.com/" rel="nofollow">ASP.NET Boilerplate</a></li>
<li><a href="https://github.com/Dotnet-Boxed/Templates/blob/master/Docs/API.md">.NET Boxed</a></li>
</ul>
<h3>Stuff I Wish I'd Had Time For</h3>
<ul>
<li>
<p><a href="https://marketplace.visualstudio.com/items?itemName=dnikolovv.dev-adventures-project-setup" rel="nofollow">Dev Adventures .NET Core project setup. - Visual Studio Marketplace</a></p>
</li>
<li>
<p><a href="https://dotnetnew.azurewebsites.net/" rel="nofollow">dotnet templates</a></p>
</li>
<li>
<p><a href="https://github.com/madskristensen/PhotoGallery">madskristensen/PhotoGallery: ASP.NET Core Photo Gallery</a></p>
</li>
<li>
<p><a href="https://github.com/madskristensen/AspNetCoreTemplatePack">madskristensen/AspNetCoreTemplatePack</a></p>
</li>
<li>
<p><a href="https://docs.microsoft.com/en-us/dotnet/core/tools/custom-templates" rel="nofollow">Custom templates for dotnet new - .NET Core CLI </a></p>
</li>
<li>
<p><a href="https://github.com/Xabaril/AspNetCore.Diagnostics.HealthChecks">Xabaril/AspNetCore.Diagnostics.HealthChecks: Enterprise HealthChecks for ASP.NET Core Diagnostics Package</a></p>
</li>
<li>
<p><a href="https://blogs.msdn.microsoft.com/dotnet/2017/08/09/web-apps-aspnetcore-architecture-guidance/" rel="nofollow">Web Applications with ASP.NET Core Architecture and Patterns guidance (Updated for .NET Core 2.0) </a></p>
</li>
<li>
<p><a href="https://www.codementor.io/ibrahimsuta/asp-net-core-best-practices-tips-and-tricks-an-opinionated-approach-part-1-ffpj26mju" rel="nofollow">ASP.NET Core - Best practices (tips and tricks) - an opinionated approach - Part 1 </a></p>
</li>
<li>
<p><a href="https://codingblast.com/tag/asp-net-core-best-practices/" rel="nofollow">ASP.NET Core Best Practices Archives - CodingBlast</a></p>
</li>
<li>
<p><a href="https://stackify.com/asp-net-core-features/" rel="nofollow">Top 13 ASP.NET Core Features You Need to Know</a></p>
</li>
<li>
<p><a href="https://github.com/gothinkster/aspnetcore-realworld-example-app">gothinkster/aspnetcore-realworld-example-app: ASP.NET Core backend implementation for RealWorld</a></p>
</li>
<li>
<p><a href="https://docs.microsoft.com/en-us/aspnet/core/performance/caching/memory?view=aspnetcore-2.2" rel="nofollow">Cache in-memory in ASP.NET Core </a></p>
</li>
<li>
<p><a href="https://github.com/VahidN/EFSecondLevelCache.Core/">VahidN/EFSecondLevelCache.Core: Entity Framework Core Second Level Caching Library</a></p>
</li>
<li>
<p><a href="https://github.com/SteffenMangold/EntityFrameworkCore.Cacheable">SteffenMangold/EntityFrameworkCore.Cacheable: EntityFrameworkCore second level cache</a></p>
</li>
<li>
<p><a href="https://github.com/dotnet-architecture/eShopOnWeb">dotnet-architecture/eShopOnWeb: Sample ASP.NET Core 2.1 reference application, powered by Microsoft, demonstrating a layered application architecture with monolithic deployment model. Download 130+ page eBook PDF from docs folder.</a></p>
</li>
<li>
<p><a href="https://miniprofiler.com/dotnet/AspDotNetCore" rel="nofollow">MiniProfiler for .NET : ASP.NET Core</a></p>
</li>
<li>
<p><a href="https://codingblast.com/asp-net-core-best-practices/" rel="nofollow">ASP.NET Core Best Practices - Opinionated Approach - CodingBlast</a></p>
</li>
<li>
<p><a href="https://stackoverflow.com/questions/48469342/redirect-asp-net-core-2-0-urls-to-lowercase?noredirect=1&amp;lq=1" rel="nofollow">url redirection - Redirect asp.net core 2.0 urls to lowercase - Stack Overflow</a></p>
</li>
<li>
<p>AddOptions (strongly typed)</p>
</li>
<li>
<p><a href="https://github.com/AArnott/Nerdbank.GitVersioning/blob/master/doc/dotnet.md">https://github.com/AArnott/Nerdbank.GitVersioning/blob/master/doc/dotnet.md</a></p>
</li>
<li>
<p><a href="https://dotnetthoughts.net/how-to-display-app-version-in-aspnet-core/" rel="nofollow">https://dotnetthoughts.net/how-to-display-app-version-in-aspnet-core/</a></p>
</li>
<li>
<p><a href="https://github.com/JosephWoodward/GlobalExceptionHandlerDotNet">https://github.com/JosephWoodward/GlobalExceptionHandlerDotNet</a></p>
</li>
<li>
<p><a href="https://nugetmusthaves.com/Category/ASP.NET?page=4" rel="nofollow">https://nugetmusthaves.com/Category/ASP.NET?page=4</a></p>
</li>
<li>
<p><a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/logging/?view=aspnetcore-2.2" rel="nofollow">https://docs.microsoft.com/en-us/aspnet/core/fundamentals/logging/?view=aspnetcore-2.2</a></p>
</li>
<li>
<p><a href="https://docs.microsoft.com/en-us/aspnet/core/performance/performance-best-practices?view=aspnetcore-2.2" rel="nofollow">https://docs.microsoft.com/en-us/aspnet/core/performance/performance-best-practices?view=aspnetcore-2.2</a></p>
</li>
</ul>
</article>
  </div>

  </div>
</div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>

</body>
</html>
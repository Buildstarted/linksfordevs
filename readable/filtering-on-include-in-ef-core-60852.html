<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Filtering on Include in EF Core - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Filtering on Include in EF Core - linksfor.dev(s)"/>
    <meta property="og:description" content="For years (quite literally 3 years) I&#x2019;ve been waiting for filtering to be available on includes within Entity Framework, or more specifically, EF Core. Finally, the next preview should have this included. From the pull request, the additional operations to be specified inside Include/ThenInclude are:"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://www.jasongaylord.com/blog/filtering-on-include-in-ef-core"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
	<div class="devring" style="background: #222">
		<div class="grid">
			<div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
				<span class="devring-title">devring.club</span>
				<a href="https://devring.club/site/1/previous" class="devring-previous">Previous</a>
				<a href="https://devring.club/random" class="devring-random">Random</a>
				<a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
			</div>
		</div>
	</div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Filtering on Include in EF Core</title>
<div class="readable">
        <h1>Filtering on Include in EF Core</h1>
            <div>Reading time: 2 minutes</div>
        <div>Posted here: 20 Apr 2020</div>
        <p><a href="https://www.jasongaylord.com/blog/filtering-on-include-in-ef-core">https://www.jasongaylord.com/blog/filtering-on-include-in-ef-core</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div itemprop="articleBody"><p>For years (<a href="https://jasong.us/34I5FSg" target="_blank">quite literally 3 years</a>) Iâ€™ve been waiting for filtering to be available on includes within Entity Framework, or more specifically, EF Core. Finally, the next preview should <a href="https://jasong.us/34NUSWL" target="_blank">have this included</a>. From the pull request, the additional operations to be specified inside Include/ThenInclude are:</p>

<ul>
	<li><code>Where</code></li>
	<li><code>OrderBy(Descending)/ThenBy(Descending)</code></li>
	<li><code>Skip</code></li>
	<li><code>Take</code></li>
</ul>

<p>The <a href="https://jasong.us/3euxIJh" target="_blank">original request</a> has been updated to show a few of the supported examples and restrictions. From the original request, note that only one filter allowed per navigation, so for cases where the same navigation needs to be included multiple times (e.g. multiple ThenInclude on the same navigation) apply the filter only once, or apply exactly the same filter for that navigation.</p>

<p>Example:</p>

<pre><code>customers 
    .<span>Include</span>(c =&gt; c.Orders.Where(o =&gt; o.Name != <span>"Foo"</span>)).ThenInclude(o =&gt; o.OrderDetails) 
    .<span>Include</span>(c =&gt; c.Orders).ThenInclude(o =&gt; o.Customer)</code></pre>

<p>or</p>

<pre><code>customers
    .<span>Include</span>(c =&gt; c.Orders.Where(o =&gt; o.Name != <span>"Foo"</span>)).ThenInclude(o =&gt; o.OrderDetails)
    .<span>Include</span>(c =&gt; c.Orders.Where(o =&gt; o.Name != <span>"Foo"</span>)).ThenInclude(o =&gt; o.Customer)</code></pre>

<p>Special thanks to <a href="https://jasong.us/2VhXFo9" target="_blank">Maurycy Markowski</a> for updating us all and <a href="https://stackoverflow.com/users/861716/gert-arnold" target="_blank">Gert Arnold</a> for updating my original Stack Overflow request.</p>
</div><p>If you want to view or submit comments you must accept the cookie consent.</p></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
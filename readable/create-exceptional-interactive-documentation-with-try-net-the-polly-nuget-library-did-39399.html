<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Create exceptional interactive documentation with Try .NET - The Polly NuGet library did! - Scott Hanselman - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Create exceptional interactive documentation with Try .NET - The Polly NuGet library did! - Scott Hanselman - linksfor.dev(s)"/>
    <meta property="article:author" content="Scott Hanselman"/>
    <meta property="og:description" content="I&#x27;ve blogged at length about the great open source project called &#x27;Polly&#x27; NuGet Package of the Week: Polly wanna ..."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://www.hanselman.com/blog/CreateExceptionalInteractiveDocumentationWithTryNETThePollyNuGetLibraryDid.aspx"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Create exceptional interactive documentation with Try .NET - The Polly NuGet library did! - Scott Hanselman</title>
<div class="readable">
        <h1>Create exceptional interactive documentation with Try .NET - The Polly NuGet library did! - Scott Hanselman</h1>
            <div>by Scott Hanselman</div>
            <div>Reading time: 6-7 minutes</div>
        <div>Posted here: 27 Oct 2019</div>
        <p><a href="https://www.hanselman.com/blog/CreateExceptionalInteractiveDocumentationWithTryNETThePollyNuGetLibraryDid.aspx">https://www.hanselman.com/blog/CreateExceptionalInteractiveDocumentationWithTryNETThePollyNuGetLibraryDid.aspx</a></p>
        <hr/>
<div id="readability-page-1" class="page"><section>
	<section>
          
		<p>I've blogged at length about the great open source project called "Polly"</p> <ul> <li><a href="https://www.hanselman.com/blog/NuGetPackageOfTheWeekPollyWannaFluentlyExpressTransientExceptionHandlingPoliciesInNET.aspx">NuGet Package of the Week: Polly wanna fluently express transient exception handling policies in .NET?</a>  </li><li><a href="https://www.hanselman.com/blog/AddingCrossCuttingMemoryCachingToAnHttpClientFactoryInASPNETCoreWithPolly.aspx">Adding Cross-Cutting Memory Caching to an HttpClientFactory in ASP.NET Core with Polly</a>  </li><li><a href="https://www.hanselman.com/blog/TheProgrammersHindsightCachingWithHttpClientFactoryAndPollyPart2.aspx">The Programmer's Hindsight - Caching with HttpClientFactory and Polly Part 2</a>  </li><li><a href="https://www.hanselman.com/blog/AddingResilienceAndTransientFaultHandlingToYourNETCoreHttpClientWithPolly.aspx">Adding Resilience and Transient Fault handling to your .NET Core HttpClient with Polly</a></li></ul> <p>and I've blogged about "Try .NET" which is a wonderful .NET Core global tool that lets you make interactive in-browser documentation and create workshops that can be run both online and locally (totally offline!)</p> <ul> <li><a href="https://www.hanselman.com/blog/IntroducingTheTryNETGlobalToolInteractiveInbrowserDocumentationAndWorkshopCreator.aspx">Introducing the Try .NET Global Tool - interactive in-browser documentation and workshop creator</a></li></ul> <p>If you've got <a href="http://www.dot.net/?WT.mc_id=-blog-scottha">.NET Core</a> installed, you can try it in minutes! Just do this:</p><pre>dotnet tool install --global dotnet-try<br>dotnet try demo</pre>
<p>Even better, you can just clone a Try .NET enabled repository with markdown files that have a few magic herbs and spices, then run "<code>dotnet try</code>" in that cloned folder.</p>
<p>What does this have to do with <a href="http://www.thepollyproject.org/">Polly</a>, the lovely .NET resilience and transient fault handling library that YOU should be using every day? Well, my friends, check out <a href="https://github.com/bryanjhogan/trydotnet-polly?WT.mc_id=-blog-scottha">this lovely bit of work by <strong>Bryan J Hogan</strong></a>! He's created some interactive workshop-style demos using Try .NET! </p>
<p>How easy is it to check out? Let's give it a try. I've run <code>dotnet tool install --global dotnet-try</code> already. You may need to run update if you've installed it a while back.</p><pre>git clone https://github.com/bryanjhogan/trydotnet-polly.git<br>dotnet try</pre>
<p>That's it. What does it do? It'll launch your browser to a local website powered by Try .NET that looks like this!</p><figure><img title="Interactive local documentation with Try.NET" alt="Interactive local documentation with Try.NET" src="https://www.hanselman.com/blog/content/binary/Windows-Live-Writer/b465691bd4a9_12934/image_36a76845-155a-4d04-b635-31538db8e136.png" width="999" height="780"></figure> 
<p>Sweet! Ah, but Dear Reader, scroll down! Let me try out one of the examples. You'll see a Monaco-based local text editor (the same edit that powers VS Code) and you're able to run - and modify - local code samples IN THE BROWSER!</p><figure><img title="Checking out Polly exception retries" alt="Checking out Polly exception retries" src="https://www.hanselman.com/blog/content/binary/Windows-Live-Writer/b465691bd4a9_12934/image_0baf3433-7dc8-4e68-a8cc-5f7c411342f0.png" width="999" height="780"></figure> 
<p>Here's the code as text to make it more accessible.</p><div><div id="highlighter_541280"><div><div><p><code>RetryPolicy retryPolicy = Policy.Handle&lt;Exception&gt;()</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>.Retry(3, (exception, retryCount) =&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Console.WriteLine($</code><code>"{exception.GetType()} thrown, retrying {retryCount}."</code><code>);</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>});</code></p><p><code>int</code> <code>result = retryPolicy.Execute(() =&gt; errorProneCode.QueryTheDatabase());</code></p><p><code>Console.WriteLine($</code><code>"Received a response of {result}."</code><code>);</code></p></div></div></div></div>
<p>And the output appears below the sample, again, in a console within the browser:</p><pre>System.Exception thrown, retrying 1.<br>System.InsufficientMemoryException thrown, retrying 2.<br>Received a response of 0.</pre>
<p>You can see that Polly gives you a RetryPolicy that can envelop your code and handle things like transient errors, occasional flaky server responses, or whatever else you want it to do. It can be configured as a policy outside your code, or coded inline fluently like this.</p>
<p>NOTE the URL! See that it's a .MD or Markdown file? Try .NET has a special handler that reads in a regular markdown file and executes it. The result is an HTML representation of your Markdown *and* your sample, now executable!</p>
<p>What's the page/image above look like as Markdown? Like this:</p><pre># Polly Retries Part 2<p>### Retrying When an Exception Occurs<br>The Polly NuGet package has been added and we are going to use the Retry Policy when querying database. <br>The policy states that if an exception occurs, it will retry up to three times.</p><p>Note how you execute the unreliable code inside the policy. `retryPolicy.Execute(() =&gt; errorProneCode.QueryTheDatabase());`</p><p>``` cs --region retryIfException --source-file .\src\Program.cs --project .\src\PollyDemo.csproj <br>```</p><p>#### Next: [Retrying Based on a Result  &amp;raquo;](./retryIfIncorrectStatus.md) Previous: [Before You Add Polly &amp;laquo;](../lettingItFail.md)

</p></pre>
<p>Note the special ``` region. The code isn't inline, but rather it lives in a <em>named region </em>in Program.cs in a project in this same repository, neatly under the /src folder. The region is presented in the sample, but as samples are usually more complex and require additional libraries and such, the region name and project context is passed into your app as Try.NET executes it.</p>
<p>Go check out some Try .NET enabled sample repositories. Just make sure you have the <a href="https://github.com/dotnet/try?WT.mc_id=-blog-scottha">Try .NET global tool</a> installed, then go clone and "dotnet try" any of these! </p>
<ul>
<li><a href="https://github.com/bryanjhogan/trydotnet-polly?WT.mc_id=-blog-scottha">https://github.com/bryanjhogan/trydotnet-polly</a> 
</li><li><a href="https://github.com/dotnet/try-samples?WT.mc_id=-blog-scottha">https://github.com/dotnet/try-samples</a> (there's like 5 sample areas in here, do "dotnet try" in the different directories!)</li></ul>
<p>If you're doing classwork, teaching workshops, making assignments for homework, or even working in a low-bandwidth or remote environment this is great as you can put the repositories on a USB key and once they've run once they'll run offline! </p>
<p>Now, be inspired by (and star on GitHub) <a href="https://github.com/bryanjhogan/trydotnet-polly?WT.mc_id=-blog-scottha">Bryan's</a> great work and go make your own interactive .NET documentation! </p>
<hr>

<p><strong>Sponsor: </strong>Like C#? We do too! Thatâ€™s why we've developed a fast, smart, cross-platform .NET IDE which gives you even more coding power. Clever code analysis, rich code completion, instant search and navigation, an advanced debugger... With JetBrains Rider, everything you need is at your fingertips. Code C# at the speed of thought on Linux, Mac, or Windows. <a href="https://hnsl.mn/362RGqA">Try JetBrains Rider today</a>!</p>


  
		
<div>
	<div>
	    <h4>About Scott</h4>
        <div>
			<p>Scott Hanselman is a former professor, former Chief Architect in finance, now speaker, consultant, father, diabetic, and Microsoft employee. He is a failed stand-up comic, a cornrower, and a book author.</p>
            <p><a href="https://facebook.com/scott.hanselman"><img src="https://www.hanselman.com/images/icon-fb.png" alt="facebook"></a>
            <a href="https://twitter.com/shanselman"><img src="https://www.hanselman.com/images/icon-twitter.png" alt="twitter"></a>
            <a href="https://plus.google.com/108573066018819777334?rel=author" rel="author"><img src="https://www.hanselman.com/images/icon-gplus.png" alt="g+"></a>
            <a href="http://feeds.hanselman.com/ScottHanselman"><img src="https://www.hanselman.com/images/icon-rss.png" alt="subscribe"></a><br>
            <a href="http://hanselman.com/about">About</a> &nbsp; <a href="http://www.hanselman.com/newsletter">Newsletter</a>
        </p></div>
	</div> 
    
      <div>
          
         <p><strong>Hosting By</strong><br>
                <a rel="nofollow" href="https://sherweb.com/"><img alt="Dedicated Windows Server Hosting by SherWeb" width="125" height="125" src="https://images.sherweb.com/OrcsWeb/SherWebPoweredbyLogo_V-250x250Color.png"></a>
          </p>        

     </div>
</div>
  
  
		



		
		
		
		
		
  </section>
</section></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
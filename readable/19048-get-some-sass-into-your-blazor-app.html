<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Get Some Sass Into Your Blazor App -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>Get Some Sass Into Your Blazor App</h1><div><div class="post-content"><p>I've been doing a lot of styling work recently so I thought it might be useful to write a post about it. We're going to have a run through of what Sass is and why you might want to use it. And then we're going to have a look at how we can get it integrated into a Blazor application.</p><h2 id="what-is-sass">What is Sass?</h2><p>As you can probably tell from my very subtle title, I use <a href="https://sass-lang.com/">Sass</a> for managing my styles. If you've never heard of Sass, it stands for Syntactically Awesome Style Sheets and it's a Css extension language or pre-processor. </p><p>Sass has two syntax options, SCSS and indented. The latter is the older, original syntax for Sass. Files using this option have a <code>.sass</code> extension. It uses indentation in order to describe the format of the document instead of the brackets and semi-colons found in traditional Css.</p><p>SCSS is the more modern syntax and files using this option have the <code>.scss</code> extension. Minus a few small exceptions, this is superset of Css and therefor any valid Css is also valid SCSS. This option uses brackets and semi-colons and looks almost identical to traditional Css which makes it easier to pick up for most people.</p><p>We can't use Sass files directly, they must be compiled it into valid Css first. There are a few different way of doing this but traditionally the common approach is to install Npm, a task runner like Gulp along with various other packages to handle the compilation and eventual minification. Don't worry though, in a bit I'm going to show you how you can avoid all of that and stay within the .NET ecosystem to compile your Sass.</p><h2 id="why-use-sass">Why use Sass?</h2><p>Now we know a bit about Sass why would we want to use it? Css has always been a tricky to manage, especially in large applications or team environments. Stylesheets become very large and making changes or keeping things organised quickly becomes an issue. Not to mention the amount of repeated code that inevitably happens.</p><p>SASS offers a solution to this by enabling the use of basic programming paradigms such as modules, variables, functions and inheritance.</p><p>For example, how many times have you gone searching back through your Css for a certain colour value or padding size? Sass variable remove this issue, you can define your value in a variable which you can then use throughout your styles. </p><pre><code class="language-css">$primary-color: #f4f4f3;

a { color: $primary-color; }
.logo { color: $primary-color; }
</code></pre><p>Another common problem with Css is repeating the same code. SASS give us an answer to that as well in the form of <em>mixins</em>. Mixins allow us to write re-usable chunks of code which we can then apply anywhere across our site. </p><pre><code class="language-css">@mixin flex-row() {
  display: flex;
  flex-direction: row;
}

.row {
  @include flex-row;
}

</code></pre><p>The above example compiles to the following Css.</p><pre><code class="language-css">.row {
  display: flex;
  flex-direction: row;
}
</code></pre><p>We can even pass variables into them to make them even more flexible.</p><pre><code class="language-css">@mixin transform($degrees) {
  transform: translateZ($degrees);
  -webkit-transform: translateZ($degrees);
  -ms-transform: translateZ($degrees);
}

.header {
  @include transform(180deg);
}
</code></pre><p>Which compiles to this.</p><pre><code class="language-css">.header {
  transform: translateZ(180deg);
  -webkit-transform: translateZ(180deg);
  -ms-transform: translateZ(180deg);
}
</code></pre><p>You can see examples of all the great features of Sass in the <a href="https://sass-lang.com/guide">guide on the official site</a>. But hopefully, even with the examples above, you can see what an advantage using Sass can give you.</p><h2 id="using-sass-with-blazor">Using SASS with Blazor</h2><p>Now we know some of the benefits of using SASS, let's look at how can we take advantage of it in Blazor. We're also looking to avoid the JavaScript tool chain for compiling the Sass as well, so what are our options?</p><p>The answer to this question is <a href="https://github.com/madskristensen/WebCompiler">Web Compiler</a> by Madz Kristensen. This extension for Visual Studio will allow us to compile Sass to Css without having to install NPM or Gulp. The even better news is that there is also a NuGet package which adds a MSBuild task so we can even compile Sass in our devops pipeline.</p><h3 id="installing-web-compiler">Installing Web Compiler</h3><p>Start by opening up Visual Studio 2019 and going to the <em>Extension &gt; Manage Extensions</em> menu. Select <em>Online</em> from the left menu and then search for <em>web compiler</em> in the search box.</p><figure class="kg-card kg-image-card"><img src="https://chrissainty.com/content/images/2019/04/install-web-compiler.jpg" class="kg-image"></figure><p>Click <em>Download</em> and then close Visual Studio to start the install process.</p><p>Once the install process is complete you can re-open Visual Studio. I'm going to create a fresh Blazor client-side app for this process but you can follow along using your own application. </p><h3 id="enabling-sass-compilation">Enabling Sass Compilation</h3><p>I'm going to start by adding a Sass file to my project. I"m going to add this in a new folder at the root of my app called <em>Styles</em>.</p><figure class="kg-card kg-image-card"><img src="https://chrissainty.com/content/images/2019/04/solution-1.jpg" class="kg-image"></figure><p>Next, I'm going to right click on that file and go to the <em>Web Compiler</em> menu and then <em>Compile File</em>.</p><figure class="kg-card kg-image-card"><img src="https://chrissainty.com/content/images/2019/04/compile-sass.jpg" class="kg-image"></figure><p>Once that is done there should be some new files in the project.</p><figure class="kg-card kg-image-card"><img src="https://chrissainty.com/content/images/2019/04/compiled-sass.jpg" class="kg-image"></figure><p>There is now a <code>.css</code> version of my Sass file, <code>BlazorSass.css</code>. And there is also a minified version, <code>BlazorSass.min.css</code>. In the root there are two new files, <code>compilerconfig.json</code> and <code>compilerconfig.json.defaults</code>. Let have a closer look at these two.</p><pre><code class="language-json">// compilerconfig.json

[
  {
    "outputFile": "Styles/BlazorSass.css",
    "inputFile": "Styles/BlazorSass.scss"
  }
]
</code></pre><p>The <code>compilerconfig.json</code> allows us to specify an input and an output file. We input SASS and it will output Css. By default, the output is located next to the input file but I'm going to make a change here and move the output location to the <em>wwwroot</em> folder. This will allow our compiled Css to be included when we publish our app.</p><pre><code class="language-json">// compilerconfig.json

[
  {
    "outputFile": "wwwroot/css/BlazorSass.css",
    "inputFile": "Styles/BlazorSass.scss"
  }
]
</code></pre><p>You will notice that as soon as you save the changes to the file your Sass will be recompiled and a new file will appear in the new output location. </p><figure class="kg-card kg-image-card"><img src="https://chrissainty.com/content/images/2019/04/css-in-wwwroot.jpg" class="kg-image"></figure><p>The great thing about Web Compiler is that whenever a change is made to either a Sass file or the <code>compilerconfig.json</code> a recompile will be triggered. This means that when you have your Blazor app running you can make style changes and you won't need to do a rebuild, you will be able to just refresh the browser to see your changes.</p><p>Let's have a look at the <code>compilerconfig.json.defaults</code> file next.</p><pre><code class="language-json">{
  "compilers": {
    "less": {
      "autoPrefix": "",
      "cssComb": "none",
      "ieCompat": true,
      "strictMath": false,
      "strictUnits": false,
      "relativeUrls": true,
      "rootPath": "",
      "sourceMapRoot": "",
      "sourceMapBasePath": "",
      "sourceMap": false
    },
    "sass": {
      "autoPrefix": "",
      "includePath": "",
      "indentType": "space",
      "indentWidth": 2,
      "outputStyle": "nested",
      "Precision": 5,
      "relativeUrls": true,
      "sourceMapRoot": "",
      "lineFeed": "",
      "sourceMap": false
    },
    "stylus": {
      "sourceMap": false
    },
    "babel": {
      "sourceMap": false
    },
    "coffeescript": {
      "bare": false,
      "runtimeMode": "node",
      "sourceMap": false
    },
    "handlebars": {
      "root": "",
      "noBOM": false,
      "name": "",
      "namespace": "",
      "knownHelpersOnly": false,
      "forcePartial": false,
      "knownHelpers": [],
      "commonjs": "",
      "amd": false,
      "sourceMap": false
    }
  },
  "minifiers": {
    "css": {
      "enabled": true,
      "termSemicolons": true,
      "gzip": false
    },
    "javascript": {
      "enabled": true,
      "termSemicolons": true,
      "gzip": false
    }
  }
}
</code></pre><p>Ok, there's a lot of stuff in there. So as well as compiling Sass files, Web Compiler can compile a lot of other things as well. From this defaults file, we are able to configure the settings for the various compilers. </p><p>I'm only interested in Sass and minification so everything else can be safely removed. </p><pre><code class="language-json">{
  "compilers": {
    "sass": {
      "autoPrefix": "",
      "includePath": "",
      "indentType": "space",
      "indentWidth": 2,
      "outputStyle": "nested",
      "Precision": 5,
      "relativeUrls": true,
      "sourceMapRoot": "",
      "lineFeed": "",
      "sourceMap": true
    }
  },
  "minifiers": {
    "css": {
      "enabled": true,
      "termSemicolons": true,
      "gzip": false
    }
  }
}
</code></pre><p>I'm not going to change any of the default other than to enable sourceMaps which will make life a bit easier when debugging style issues.</p><p>The final piece of configuration needed is to enable compile on build. This will issue a prompt to install the NuGet package I mentioned earlier. This package will provide a MSBuild task so the Sass can be compiled during builds. To do this, right click on the <code>compilerconfig.json</code> and go to the <em>Web Compiler</em> menu and then <em>Enable compile on build...</em></p><figure class="kg-card kg-image-card"><img src="https://chrissainty.com/content/images/2019/04/compile-on-build.jpg" class="kg-image"></figure><p>When you see the prompt to install the NuGet package, select Y<em>es</em>.</p><figure class="kg-card kg-image-card"><img src="https://chrissainty.com/content/images/2019/04/install-nuget-package.jpg" class="kg-image"></figure><p>You should then be able to see the <em>BuildWebCompiler</em> NuGet package in your projects dependencies.</p><figure class="kg-card kg-image-card"><img src="https://chrissainty.com/content/images/2019/04/nuget-packages.jpg" class="kg-image"></figure><h2 id="linking-the-css">Linking the Css</h2><p>The last thing to do is to add a link to the compiled Css file into the <em>index.html</em>.</p><pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="utf-8" /&gt;
    &lt;meta name="viewport" content="width=device-width" /&gt;
    &lt;title&gt;BlazorSass&lt;/title&gt;
    &lt;base href="/" /&gt;
    &lt;link href="css/BlazorSass.min.css" rel="stylesheet" /&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;app&gt;Loading...&lt;/app&gt;

    &lt;script src="_framework/blazor.webassembly.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>That's it, the project is now setup to use Sass for styling.</p><h2 id="summary">Summary</h2><p>Sass is a very powerful tool to help us manage styles over traditional Css. We can even avoid the JavaScript tool chain by taking advantage of Madz excellent Web Compiler extension. </p><p>If you would like to learn more about Sass, then here are a few resources which will help you get started.</p><p>In a future post I'm going to share some ideas on how to structure Blazor applications which will include Sass structure as well. So check back for that one soon.</p><hr><hr></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
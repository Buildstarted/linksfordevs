<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Bringing the Periodic Table of the Elements app to HoloLens 2 with MRTK v2 - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Bringing the Periodic Table of the Elements app to HoloLens 2 with MRTK v2 - linksfor.dev(s)"/>
    <meta property="article:author" content="Yoon Park (&#xBC15;&#xB3D9;&#xC724;)"/>
    <meta property="og:description" content="Sharing the story of updating HoloLens app made with HoloToolkit(HTK) to use new Mixed Reality Toolkit v2(MRTK) which supports HoloLens&#x2026;"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://medium.com/@dongyoonpark/bringing-the-periodic-table-of-the-elements-app-to-hololens-2-with-mrtk-v2-a6e3d8362158"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="grid">
        <h1>
                <span style="cursor: default" title="linksfor.dev(s) has been running for 1 year! :partypopper:">🎉</span>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Bringing the Periodic Table of the Elements app to HoloLens 2 with MRTK v2</title>
<div class="readable">
        <h1>Bringing the Periodic Table of the Elements app to HoloLens 2 with MRTK v2</h1>
        <p>
by Yoon Park (&#xBC15;&#xB3D9;&#xC724;) <br/>Reading time: 15-18 minutes        </p>
        <p><a href="https://medium.com/@dongyoonpark/bringing-the-periodic-table-of-the-elements-app-to-hololens-2-with-mrtk-v2-a6e3d8362158">https://medium.com/@dongyoonpark/bringing-the-periodic-table-of-the-elements-app-to-hololens-2-with-mrtk-v2-a6e3d8362158</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div><section><div><div><p id="6a52"><h2>Sharing the story of updating HoloLens app made with HoloToolkit(HTK) to use new Mixed Reality Toolkit v2(MRTK) which supports HoloLens 2’s articulated hand tracking and eye tracking input</h2></p><div><div><div><p><a rel="noopener" href="https://medium.com/@dongyoonpark?source=post_page-----a6e3d8362158----------------------"><img alt="Yoon Park (박동윤)" src="https://miro.medium.com/fit/c/96/96/2*rv4XDrKNk0sXe0VP2LWnRQ.jpeg" width="48" height="48"></a></p></div></div></div><figure><a href="https://www.linkedin.com/in/cre8ivepark/"><div><div><div><p><img src="https://miro.medium.com/max/60/1*F0WFXwIEQ7NyKWUlANBuhQ.png?q=20" width="1920" height="100" role="presentation"></p><p><img width="1920" height="100" role="presentation" src="https://miro.medium.com/max/1920/1*F0WFXwIEQ7NyKWUlANBuhQ.png"></p></div></div></div></a></figure></div></div><div><div><div><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*xTTHyL_uj-cQfU-QZvqZ4g.png?q=20" width="2557" height="1622" role="presentation"></p><p><img width="2557" height="1622" role="presentation" src="https://miro.medium.com/max/2557/1*xTTHyL_uj-cQfU-QZvqZ4g.png"></p></div></div></div></div></figure></div></div></div><div><div><p id="d507" data-selectable-paragraph="">We published <a href="https://github.com/Microsoft/MRDesignLabs_Unity_PeriodicTable" target="_blank" rel="noopener nofollow">Mixed Reality Design Lab’s Periodic Table of the Elements app</a> for HoloLens and immersive headset back in 2015 to demonstrate how to create an end-to-end experience using HoloToolkit’s building blocks. To fully leverage new articulated hand tracking and eye tracking input on HoloLens 2, we need to update HoloToolkit(HTK) to newly released Mixed Reality Toolkit(MRTK) v2.</p><figure><div></div><figcaption>The original version for HoloLens 1st gen and immersive headset</figcaption></figure><figure><div></div><figcaption>Microsoft HoloLens 2</figcaption></figure><p id="dfdd" data-selectable-paragraph="">MRTK is a Microsoft driven open source project. MRTK-Unity provides a set of foundational components and features to accelerate mixed reality app development in Unity. The latest Release of MRTK v2 supports HoloLens/HoloLens 2, Windows Mixed Reality, and OpenVR platforms.</p><p id="fcc6" data-selectable-paragraph="">Since MRTK v2 is completely redesigned from the ground up, foundational components such as <strong>input system are not compatible with HoloToolkit</strong>. Because of this, you need to put some effort to upgrade HoloToolkit to MRTK. In this story, I’ll show you how I updated HoloToolkit to MRTK and evolved the design to fully leverage hand tracking and eye tracking input.</p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*fnRS0JPJfAYnB1Dh3kBQXw.png?q=20" width="1623" height="417" role="presentation"></p><p><img width="1623" height="417" role="presentation"></p></div></div></div></div></figure><p id="27f0" data-selectable-paragraph="">You can find the latest information about the tools needed for HoloLens 2 development on this page:</p><p id="2412" data-selectable-paragraph=""><a href="https://docs.microsoft.com/en-us/windows/mixed-reality/install-the-tools" target="_blank" rel="noopener nofollow">https://docs.microsoft.com/en-us/windows/mixed-reality/install-the-tools</a></p><p id="066a" data-selectable-paragraph="">From MRTK GitHub repository, <a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/releases" target="_blank" rel="noopener nofollow">you can download MRTK release packages under ‘<strong>Release</strong>’ menu.</a> You can also clone the repository. The branch name for the MRTK v2 is <strong>mrtk_release</strong>. If you want to get the latest features and components under active development, you can use the <strong>mrtk_development</strong> branch. However, please keep in mind that development branch could be unstable and something might be broken.</p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*06gJYUuwY8aAUpcg1qLVYw.png?q=20" width="2104" height="1762" role="presentation"></p><p><img width="2104" height="1762" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">Release packages on MRTK GitHub</figcaption></figure><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*Ls0fdpjPFJ2JndUr-2Lrjw.png?q=20" width="1603" height="387" role="presentation"></p><p><img width="1603" height="387" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">MRTK release packages download links</figcaption></figure><p id="27c4" data-selectable-paragraph="">There are two types of release packages. <strong>Foundation </strong>and <strong>Examples</strong>. <strong>Foundation </strong>package has core features and input system of MRTK<strong>. </strong>Optional<strong> Examples </strong>package contains example scenes and scripts that demonstrate the use of core features in the Foundation package. In the example scenes, you will be able to play with various types of new interaction building blocks and UI components. Below is one of the example scenes you can find in the Examples package.</p><p id="f478" data-selectable-paragraph=""><a href="https://github.com/microsoft/MixedRealityToolkit-Unity/blob/mrtk_release/Documentation/README_HandInteractionExamples.md" target="_blank" rel="noopener nofollow"><strong>HandInteractionExamples</strong>.unity scene</a> demonstrates various types of spatial UI and interactions for the hand tracking input.</p></div></div><div><div><div><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*DZ2xD-Ym_Irh8OqbGLGktw.png?q=20" width="1200" height="572" role="presentation"></p><p><img width="1200" height="572" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">MRTK’s HandInteractionExamples scene</figcaption></figure></div></div></div><div><div><figure><div></div><figcaption>Hand Interaction Examples scene in MRTK Examples package</figcaption></figure><p id="1cf2" data-selectable-paragraph="">The original Periodic Table app project had <strong>HoloTookit </strong>folder with <strong>MRDL_PeriodicTable </strong>folder. Since the app specific scripts and contents are in MRDL_PeriodicTable folder, we can simply delete HoloToolkit folder.</p><figure><div><div><div><p><img src="https://miro.medium.com/max/34/1*1Px13DMtqVyNB3DgTRnPVQ.png?q=20" width="300" height="532" role="presentation"></p><p><img width="300" height="532" role="presentation"></p></div></div></div><figcaption data-selectable-paragraph="">Original project structure with HoloToolkit</figcaption></figure><p id="fd32" data-selectable-paragraph="">After deleting HoloToolkit folder, let’s import new MRTK packages through <strong>Assets &gt; Import Package &gt; Custom Package</strong>… menu.</p></div></div><div><div><div><div><figure><div><div><div><p><img src="https://miro.medium.com/max/60/1*RLHFi_TE3UYyfDKiqYCDAQ.png?q=20" width="963" height="492" role="presentation"></p><p><img width="963" height="492" role="presentation"></p></div></div></div></figure><figure><div><div><div><p><img src="https://miro.medium.com/max/48/1*it7I53aSgKGf95Hc142e-Q.png?q=20" width="578" height="729" role="presentation"></p><p><img width="578" height="729" role="presentation"></p></div></div></div><figcaption data-selectable-paragraph="">Importing new MRTK v2 package</figcaption></figure></div></div></div></div><div><div><p id="403d" data-selectable-paragraph="">When you import new MRTK, a lot of things will look broken because the location of the shaders, materials, fonts have been changed. Also, you will see many error messages from the scripts.</p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*cHMKaDv8_yVZ0W-AFU2GPA.png?q=20" width="3240" height="2075" role="presentation"></p><p><img width="3240" height="2075" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">Contents are displayed in pink color with missing shader/material</figcaption></figure><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*xEGF2JydQrY1Ep5ju3uBEA.png?q=20" width="1790" height="1106" role="presentation"></p><p><img width="1790" height="1106" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">A lot of error messages</figcaption></figure><h2 id="22d0" data-selectable-paragraph="">Namespace issues</h2><p id="b350" data-selectable-paragraph="">When you look at the script errors, you will find that most of them are about the namespace changes. Old <strong>HoloToolkit.Unity</strong> namespace lines could be easily cleaned up by using Visual Studio’s ‘<strong>Remove and Sort Usings</strong>’ menu.</p></div></div><div><div><div><div><figure><div><div><div><p><img src="https://miro.medium.com/max/60/1*HjWC2vdwRuWFd8b99N_z6Q.png?q=20" width="569" height="165" role="presentation"></p><p><img width="569" height="165" role="presentation"></p></div></div></div></figure><figure><div><div><div><p><img src="https://miro.medium.com/max/60/1*b7tcjRkF3pbJhFYMm2Sfmw.png?q=20" width="968" height="319" role="presentation"></p><p><img width="968" height="319" role="presentation"></p></div></div></div><figcaption data-selectable-paragraph="">Remove and Sort Usings menu</figcaption></figure></div></div></div></div><div><p id="d39c" data-selectable-paragraph="">For missing classes and interfaces, you can use ‘<strong>Show potential fixes</strong>’ menu to add/update the proper reference. Below example shows adding <strong>Microsoft.MixedReality.Toolkit.UI</strong> for the <strong>InteractionReceiver</strong></p></div><div><div><div><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*JitjvDQG2Bmhorj--A7NAg.png?q=20" width="1671" height="525" role="presentation"></p><p><img width="1671" height="525" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">‘Show potential fixes’ menu</figcaption></figure><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*6xlrxy7YtQ32R0lWvSaktA.png?q=20" width="2108" height="523" role="presentation"></p><p><img width="2108" height="523" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">Adding proper namespace</figcaption></figure></div></div></div><div><div><div><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*pxRsPjT7guU6JeD9fEAEYQ.png?q=20" width="2354" height="867" role="presentation"></p><p><img width="2354" height="867" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">Missing Font materials</figcaption></figure><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*-mt-JMMmdMgCHg8PRDweEw.png?q=20" width="3238" height="1000" role="presentation"></p><p><img width="3238" height="1000" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">Re-assigned proper Font material for the Selawik font.</figcaption></figure><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*FgiaCChTm3ZKuQx3Od7ORg.png?q=20" width="1322" height="580" role="presentation"></p><p><img width="1322" height="580" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">Assigning proper font and material</figcaption></figure></div></div></div><div><p id="907b" data-selectable-paragraph="">You will also find some of the materials using old HoloToolkit’s shader broken, showing <strong>Hidden/InternalErrorShader</strong>. You can simply re-assign <strong>Mixed Reality Toolkit &gt; Standard</strong> from the Shader drop-down menu.</p></div><div><div><div><div><figure><div><div><div><p><img src="https://miro.medium.com/max/60/1*paAisrmx5swMxgA8XDqrXw.png?q=20" width="828" height="262" role="presentation"></p><p><img width="828" height="262" role="presentation"></p></div></div></div></figure><figure><div><div><div><p><img src="https://miro.medium.com/max/60/1*mE1nySRkPDqLsh5owl0wrw.png?q=20" width="954" height="966" role="presentation"></p><p><img width="954" height="966" role="presentation"></p></div></div></div><figcaption data-selectable-paragraph="">Re-assigning missing MRTK/Standard shader</figcaption></figure></div></div></div></div><div><div><h2 id="a112" data-selectable-paragraph="">Foundational Scene Components: Camera, InputManager, Cursor</h2><p id="bb98" data-selectable-paragraph="">In the Scene Hierarchy, HoloToolkit had three basic components: MixedRealityCamera, InputManager, and Cursor. In MRTK, they are replaced with <strong>MixedRealityToolkit </strong>and <strong>MixedRealityPlayspace</strong>.</p></div></div><div><div><div><div><figure><div><div><div><p><img src="https://miro.medium.com/max/60/1*DrwceVAfKoxhtvbX5V6JXQ.png?q=20" width="576" height="359" role="presentation"></p><p><img width="576" height="359" role="presentation"></p></div></div></div></figure><figure><div><div><div><p><img src="https://miro.medium.com/max/60/1*Ryj0UAtp7_ZLnJuXFrqoAw.png?q=20" width="575" height="308" role="presentation"></p><p><img width="575" height="308" role="presentation"></p></div></div></div><figcaption data-selectable-paragraph="">Default scene setup component for HoloToolkit vs MRTK v2</figcaption></figure></div></div></div></div><div><div><p id="c33d" data-selectable-paragraph="">To upgrade these basic scene components, simply delete old ones and use the menu <strong>Mixed Reality Toolkit &gt; Add to Scene and Configure…</strong></p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*G8kPh4QmPYuFcBWQm_9Dng.png?q=20" width="1146" height="214" role="presentation"></p><p><img width="1146" height="214" role="presentation"></p></div></div></div></div></figure><p id="16b1" data-selectable-paragraph="">Sometimes, MixedRealityPlayspace might not be added through this menu. In this case, you can create a new scene, add components using the menu, then drag and drop these components into your existing scene. (You can drag and drop other scene files into the opened scene)</p></div></div><div><div><div><div><figure><div><div><div><p><img src="https://miro.medium.com/max/60/1*KO0d5wI95tbw1EUIuJZ8MA.png?q=20" width="1199" height="868" role="presentation"></p><p><img width="1199" height="868" role="presentation"></p></div></div></div></figure><figure><div><div><div><p><img src="https://miro.medium.com/max/60/1*R8glHbD38CzasaBAhJY_-Q.png?q=20" width="578" height="402" role="presentation"></p><p><img width="578" height="402" role="presentation"></p></div></div></div></figure><figure><div><div><div><p><img src="https://miro.medium.com/max/60/1*zMCfMUAHIZE20zfiwl_RvA.png?q=20" width="901" height="744" role="presentation"></p><p><img width="901" height="744" role="presentation"></p></div></div></div><figcaption data-selectable-paragraph="">Drag and Drop MixedRealityPlayspace from the other scene</figcaption></figure></div></div></div></div><div><div><h2 id="6027" data-selectable-paragraph="">Running the app in Unity Editor with input simulation</h2><p id="1221" data-selectable-paragraph="">MRTK v2 supports in-editor input simulation. Using the keyboard and mouse, you can test your app for the hand tracking and eye tracking input. Space bar gives you the right hand and the left shift key gives you the left hand. T and Y key make them persistent. By dragging with the mouse right button, you can control the camera. Using W, A, S, D keys, you can move.</p><p id="b146" data-selectable-paragraph="">See MRTK’s <a href="https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/InputSimulation/InputSimulationService.html" target="_blank" rel="noopener nofollow"><strong>Input Simulation Service documentation</strong></a> for more details.</p><h2 id="ab7c" data-selectable-paragraph="">Button</h2><p id="d277" data-selectable-paragraph=""><a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/htk_release/Assets/HoloToolkit-Examples/UX/Readme/README_InteractableObjectExample.md" target="_blank" rel="noopener nofollow"><strong>Compound Button script</strong></a> series was used in Element and surface type buttons to provide visual feedback for different types of interaction states and trigger actions. In MRTK v2, Compound Button has been replaced with <a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/mrtk_release/Documentation/README_Interactable.md" target="_blank" rel="noopener nofollow"><strong>Interactable</strong></a><strong>. </strong>With Interactable, you can easily add visual feedback to the different input states such as default, focus and pressed. You can also use input events to trigger actions.</p><p id="b66c" data-selectable-paragraph=""><strong>ElementContainer </strong>is the cube-shaped prefab which contains the template for the element model, information layout and open/close animations. The entire box acts as a button. In the Element object under ElementContainer, I have removed old ElementButton script and added <strong>Interactable</strong>.</p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*t6wgq8iOYCNZ1vv0nJqQGg.png?q=20" width="2705" height="1061" role="presentation"></p><p><img width="2705" height="1061" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">ElementContainer prefab and Element object</figcaption></figure><p id="9920" data-selectable-paragraph=""><strong>Interactable</strong> handles visual states and event trigger for the <a href="https://docs.microsoft.com/en-us/windows/mixed-reality/point-and-commit" target="_blank" rel="noopener nofollow">far interaction inputs such as Gaze + Air-tap, Hand ray, and motion controller pointer</a>. Since we want to keep the far interaction model for the element targeting and selection, we will use Interactable.</p><p id="0c75" data-selectable-paragraph="">See<strong> </strong><a href="https://docs.microsoft.com/en-us/windows/mixed-reality/interactable-object" target="_blank" rel="noopener nofollow"><strong>Interactable object design guideline</strong></a> for more details.</p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*L89M8xhuHGAQCK9EeaLDsQ.jpeg?q=20" width="1200" height="516" role="presentation"></p><p><img width="1200" height="516" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">A simple example of using Interactable to add visual feedback to an object</figcaption></figure><p id="ec01" data-selectable-paragraph="">In the <strong>Interactable</strong>, I have created a new profile ‘<strong>ElementBoxTheme</strong>’ with the Theme Property ‘<strong>ScaleOffsetColorTheme</strong>’ and Target object ‘Box’ (which is the outer shell of the element object). With this, we can easily define color, scale, and offset values for the different input states — Default, Focus, Pressed, and Disabled.</p></div></div><div><div><div><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*HHfsd47FyZoYsyEsZK55ow.png?q=20" width="1200" height="921" role="presentation"></p><p><img width="1200" height="921" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">Removing old ElementButton script Adding Interactable</figcaption></figure><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*tcYg5DpsQ3tSU5bWFN4RAA.png?q=20" width="1200" height="587" role="presentation"></p><p><img width="1200" height="587" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">Created two themes to add visual feedback to the Box and PanelFront object</figcaption></figure></div></div></div><div><div><p id="aaed" data-selectable-paragraph="">In the <strong>Interactable</strong>, you can also easily add actions for the various types of events. The <strong>Open() </strong>method in the Element.cs script triggers the animation, opens the element box, and shows the 3D model with information on the panels. <strong>SetActiveElement()</strong> is used together to specify currently opened element.</p><pre><span id="d2db" data-selectable-paragraph="">public void SetActiveElement()<br>{<br>     Element element = gameObject.GetComponent&lt;Element&gt;();<br>     ActiveElement = element;<br>}</span><span id="f63b" data-selectable-paragraph="">public void Open()<br>{<br>     if (present.Presenting)<br>     return;<br>     StartCoroutine(UpdateActive());<br>}</span></pre><p id="0062" data-selectable-paragraph="">Under the <strong>Events </strong>section of the <strong>Interactable</strong>, I have added two method calls by dragging and dropping the Element script and using the drop-down.</p></div></div><div><div><div><div><figure><div><div><div><p><img src="https://miro.medium.com/max/60/1*ZGr4uhYjokMEurfcMkT_BQ.png?q=20" width="777" height="265" role="presentation"></p><p><img width="777" height="265" role="presentation"></p></div></div></div></figure><figure><div><div><div><p><img src="https://miro.medium.com/max/60/1*Vgrd7SAtJAw7ceDwoXT9qg.png?q=20" width="775" height="343" role="presentation"></p><p><img width="775" height="343" role="presentation"></p></div></div></div><figcaption data-selectable-paragraph="">Assigning method calls under the Events section</figcaption></figure></div></div></div></div><div><div><p id="cac2" data-selectable-paragraph="">Surface type buttons were made with <strong>HolographicButton</strong> prefab in HoloToolkit. The <strong>HolographicButton </strong>prefab has been updated as well, from <strong>CompoundButton </strong>to <strong>Interactable</strong>. Additionally, <a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/mrtk_release/Documentation/README_Button.md" target="_blank" rel="noopener nofollow">new <strong>PressableButton </strong>and <strong>PressableButtonPlated </strong>prefab</a> have been added which supports direct manipulation with articulated hand tracking input. With PressableButton, you can press the button with your fingertip. <strong>PressableButton </strong>also uses <strong>Interactable</strong>.</p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*puQOrOiuVDKgDRE09A6bQA.png?q=20" width="1200" height="572" role="presentation"></p><p><img width="1200" height="572" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">PressableButtonPlated prefab which supports direct hand interaction</figcaption></figure></div></div><div><div><div><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*AL5BjvjMeMyHjgLMDrifCg.png?q=20" width="3205" height="1238" role="presentation"></p><p><img width="3205" height="1238" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">Old Surface type buttons based on Compound Button series</figcaption></figure></div></div></div><div><div><p id="f619" data-selectable-paragraph="">To use direct hand interaction, I have removed the old surface type buttons and added new <strong>PressableButtonPlated</strong> prefabs.</p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*4aqIiFPABvc246YXtigAVQ.png?q=20" width="1618" height="687" role="presentation"></p><p><img width="1618" height="687" role="presentation"></p></div></div></div></div></figure><p id="fd13" data-selectable-paragraph="">These buttons will update the layout style by changing the <strong>Grid Object Collection</strong>’s Surface Type. (Explained in the next section below)</p><p id="94d5" data-selectable-paragraph="">Grid Object Collection is also useful when you want to layout multiple buttons. Instead of manually calculating the button size and putting the coordinates, use Grid Object Collection and adjust Rows and Cell Width/Height.</p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*x3zqXwY87EwTody8S8m6Sg.png?q=20" width="1582" height="562" role="presentation"></p><p><img width="1582" height="562" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">Buttons in a grid layout with Grid Object Collection</figcaption></figure><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*SxgWQc8PdLsxvWniT_zXug.png?q=20" width="1246" height="472" role="presentation"></p><p><img width="1246" height="472" role="presentation"></p></div></div></div></div></figure><h2 id="db84" data-selectable-paragraph="">Object Collection</h2><p id="8212" data-selectable-paragraph=""><a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/htk_release/Assets/HoloToolkit-Examples/UX/Readme/README_ObjectCollection.md" target="_blank" rel="noopener nofollow"><strong>Object Collection</strong></a> is a script which helps you lay out an array of objects in various types of shapes. In MRTK v2, you can find the scripts with updated names: <a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/mrtk_release/Assets/MixedRealityToolkit.SDK/Features/UX/Scripts/Collections/GridObjectCollection.cs" target="_blank" rel="noopener nofollow">GridObjectCollection.cs</a></p><blockquote><p id="3b50" data-selectable-paragraph=""><a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/tree/mrtk_release/Assets/MixedRealityToolkit.SDK/Features/UX/Scripts/Collections" target="_blank" rel="noopener nofollow">MixedRealityToolkit.SDK/Features/UX/Scripts/Collections</a></p></blockquote><figure><div><div><div><p><img src="https://miro.medium.com/max/60/1*CZqV7FN6x72w3UIzOGPgew.jpeg?q=20" width="640" height="487" role="presentation"></p><p><img width="640" height="487" role="presentation"></p></div></div></div><figcaption data-selectable-paragraph="">Object Collection Types</figcaption></figure><p id="41c4" data-selectable-paragraph="">Dynamically generated element objects are located under the <strong>TableParent</strong>.In the <strong>TableParent</strong> object, I have replaced old ObjecCollection script with new <strong>GridObjectCollection</strong> script. To change various properties of the GridObjectCollection through the buttons, I have added a new script <strong>LayoutStyleChanger</strong>. It simply changes the properties then update the collection.</p></div></div><div><div><div><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*5GIVrr8_vKvYNrLC4wOUxw.png?q=20" width="1562" height="958" role="presentation"></p><p><img width="1562" height="958" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">GridObjectCollection script</figcaption></figure></div></div></div><div><div><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*gPELmZxZqtFBBz8SSfROyg.png?q=20" width="1166" height="1019" role="presentation"></p><p><img width="1166" height="1019" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">Changing various options of the GridObjectCollection</figcaption></figure><p id="065f" data-selectable-paragraph="">Using the <strong>Interactable</strong> component in the PressableButtonPlated, we can easily trigger action using the <strong>OnClick</strong>() event under the <strong>Events</strong> section. For each surface type button, I have assigned LayoutStyleChanger script’s ChangeLayoutStyleXXX() method.</p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/50/1*1PfTwHVnk_M0PyDooq_QgQ.png?q=20" width="1070" height="1290" role="presentation"></p><p><img width="1070" height="1290" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">Assigning the method to the PressableButtonPlated</figcaption></figure></div></div><div><div><div><figure><div></div><figcaption>Surface type selection made with PressableButtonPlated + GridObjectCollection</figcaption></figure></div></div></div><div><div><h2 id="4034" data-selectable-paragraph="">Interaction Receiver</h2><p id="c89b" data-selectable-paragraph="">In MRTK v2, you can find the same InteractionReceiver class at this location:</p><blockquote><p id="2f19" data-selectable-paragraph=""><a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/tree/mrtk_release/Assets/MixedRealityToolkit.SDK/Features/UX/Scripts/Receivers" target="_blank" rel="noopener nofollow">MixedRealityToolkit.SDK/Features/UX/Scripts/Receivers</a></p></blockquote><p id="4dc8" data-selectable-paragraph="">InteractionReceiver in MRTK v2 supports additional events related to hand tracking interactions such as TouchStarted and TouchCompleted.</p><p id="08df" data-selectable-paragraph="">After resolving the scripts and prefab errors, I was able to run the app in the editor. MRTK v2 supports in-editor input simulation including articulated hand tracking. You can easily test HoloLens input using the keyboard and mouse. For more information on the in-editor input simulation, please refer to this page: <a href="https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/InputSimulation/InputSimulationService.html" target="_blank" rel="noopener nofollow">Input Simulation Service</a>.</p></div></div><div><div><div><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*zDYhNbGDJ0ClYbDqBeZjqQ.png?q=20" width="3227" height="2080" role="presentation"></p><p><img width="3227" height="2080" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">Fixed Font material issue</figcaption></figure></div></div></div><div><p id="b4c1" data-selectable-paragraph="">Once you update the app to MRTK v2, the new input system automatically supports available input types. For example, in HoloLens, you can use Gaze and Air-tap gesture to target and select. In HoloLens 2, hand ray will be automatically visualized when a hand is detected. Because of this, now Periodic Table supports both HoloLens 1st gen and HoloLens 2.</p></div><div><div><div><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*MVGEQ8JmQyyNNkzNtndx9A.png?q=20" width="3227" height="2080" role="presentation"></p><p><img width="3227" height="2080" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">Running in the editor with hand ray using MRTK’s input simulation</figcaption></figure><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*uQB6Dmmv5vsr1LCOy7rPlA.png?q=20" width="1919" height="991" role="presentation"></p><p><img width="1919" height="991" role="presentation"></p></div></div></div></div></figure></div></div></div><div><div><p id="114a" data-selectable-paragraph="">Once an element is focused and selected, the box flies to the user and opens up a 3D model and information panels. Since the original version was designed for the gaze and air-tap, the element was still far from the user. To leverage HoloLens 2’s direct hand input interaction, I have adjusted the element position to the near interaction range which is about 45cm from the user.</p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*Bv2I1F7gBaWTiKijfQUFPQ.jpeg?q=20" width="1940" height="939" role="presentation"></p><p><img width="1940" height="939" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">Target sizing in near interaction range</figcaption></figure><p id="e0da" data-selectable-paragraph="">The original version had an implicit button around the 3D model for closing the element box with air-tap. Since the information panel and the element object are within the distance for the near interactions, we can use a pressable button for the ‘Close’ action. MRTK’s pressable button has 3.2x3.2cm dimension to support both near and far interactions.</p></div></div><div><div><div><figure><div></div><figcaption>Close button in action with hand tracking input simulation</figcaption></figure></div></div></div><div><div><p id="d498" data-selectable-paragraph="">One of the most exciting features in HoloLens 2 is articulated hand tracking input. Using this, we can achieve more <a href="https://docs.microsoft.com/en-us/windows/mixed-reality/interaction-fundamentals" target="_blank" rel="noopener nofollow">instinctual interactions</a> by directly interacting with holographic objects.</p><p id="4e3b" data-selectable-paragraph="">In the Periodic Table app, the hero content object is the 3D element model. By adding direct manipulation interactions, the user can observe and inspect the model by grabbing it and bringing it closer or by scaling it and rotating it.</p><p id="3842" data-selectable-paragraph="">Adding direct manipulation is very easy in MRTK v2. The <a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/mrtk_release/Documentation/README_ManipulationHandler.md" target="_blank" rel="noopener nofollow"><strong>ManipulationHander</strong> script</a> handles both one-handed and two-handed manipulation. It also supports both near and far interactions. You can use this for Gaze-based interactions or Hand ray-based interactions too. By simply assigning ManipulationHandler script, you can make any object manipulatable — Grab, Move, Rotate, Scale.</p></div></div><div><div><div><div><figure><div><div><div><p><img src="https://miro.medium.com/max/60/1*tGZnZ0513vGThIM4aNjXqQ.png?q=20" width="1200" height="572" role="presentation"></p><p><img width="1200" height="572" role="presentation"></p></div></div></div></figure><figure><div><div><div><p><img src="https://miro.medium.com/max/60/1*147IBbKrD3JYku0Peoncog.jpeg?q=20" width="1529" height="572" role="presentation"></p><p><img width="1529" height="572" role="presentation"></p></div></div></div><figcaption data-selectable-paragraph="">Manipulation Handler supports both one and two-handed manipulation</figcaption></figure></div></div></div></div><div><div><figure><div><div><div><div><p><img src="https://miro.medium.com/max/46/1*qiR0a6hdEP7syT7cNKCDKQ.png?q=20" width="1367" height="1753" role="presentation"></p><p><img width="1367" height="1753" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">Added Manipulation Handler script to MoleculeObject</figcaption></figure></div></div><div><div><div><figure><div></div><figcaption>Manipulating the element object using hand input simulation</figcaption></figure></div></div></div><div><div><p id="d175" data-selectable-paragraph="">The <strong>Interactable</strong> script which we used in the Element box provides the voice command functionality. To use this voice command feature, you need to:</p><ol><li id="1ce1" data-selectable-paragraph="">Add the keyword to the <strong>Voice Command</strong> field under the <strong>Interactable</strong>.</li><li id="8f96" data-selectable-paragraph="">Add the keyword to the <strong>MixedRealitySpeechCommandsProfile</strong>. You can see this profile by selecting MixedRealityToolkit in the Hierarchy panel, then in the Inspector panel, click through <strong>MixedRealityInputSystemProfile &gt; MixedRealitySpeechCommandsProfile<br></strong><em>*To add your keyword to the MixedRealitySpeechCommandsProfile, you need to clone profile using the ‘</em><strong><em>Clone</em></strong><em>’ button.</em></li></ol><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*ktTf0hHJ8v7rwTSfqTSV1g.png?q=20" width="770" height="660" role="presentation"></p><p><img width="770" height="660" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">Adding a voice command keyword to the Interactable</figcaption></figure></div></div><div><div><div><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*X89u0zD8yUBZ1iHJWefd8w@2x.png?q=20" width="5810" height="3404" role="presentation"></p><p><img width="5810" height="3404" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">Adding a new keyword to MixedRealitySpeechCommandsProfile</figcaption></figure></div></div></div><div><div><p id="fb48" data-selectable-paragraph="">Once you have added keywords, you can test it in the editor’s game mode using the PC’s microphone.</p><p id="f2ba" data-selectable-paragraph="">Eye tracking is one of the most exciting features in HoloLens 2. You can learn about various types of eye tracking interactions through the <a href="https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/EyeTracking/EyeTracking_ExamplesOverview.html" target="_blank" rel="noopener nofollow">MRTK’s eye tracking examples.</a> You can find these examples in the Microsoft.MixedReality.Toolkit.Unity.<strong>Examples</strong>-VERSION.unitypackage. The folder is <strong>MixedRealityToolkit.Examples/Demos/EyeTracking</strong>.</p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*ia7XAxcK7JWocwiQ6XVQTg.png?q=20" width="1200" height="572" role="presentation"></p><p><img width="1200" height="572" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">Eye Tracking example scene</figcaption></figure><p id="d6f8" data-selectable-paragraph="">For the Periodic Table of the Elements app, we will use eye tracking’s auto-scrolling feature on the left information panel.</p><h2 id="a8fc" data-selectable-paragraph="">Enabling the Eye Tracking input</h2><p id="ea3f" data-selectable-paragraph="">To enable eye tracking input in HoloLens 2, you need to add Eye Gaze Data Provider to the MRTK’s Data Providers under InputSystemProfile. For more details, please refer to this page: <a href="https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fmicrosoft.github.io%2FMixedRealityToolkit-Unity%2FDocumentation%2FEyeTracking%2FEyeTracking_BasicSetup.html&amp;data=02%7C01%7CDongYoon.Park%40microsoft.com%7C9ec8507560c44e65172c08d6e2e8df5b%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636945887138626382&amp;sdata=fMAbbRP5Wqvt9B35SJQMSTlCE8fhJSTbl8VdDYKu12c%3D&amp;reserved=0" target="_blank" rel="noopener nofollow"><strong>Getting started with Eye Tracking</strong></a></p></div></div><div><div><div><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*cTZHLt5dgZJzg4M5iiuLbA.png?q=20" width="2304" height="1221" role="presentation"></p><p><img width="2304" height="1221" role="presentation"></p></div></div></div></div></figure></div></div></div><div><div><p id="29f2" data-selectable-paragraph="">One additional step to enable eye tracking input is the checkbox <strong>Use Eye Tracking</strong> in the Gaze Provider. You can find the Gaze Provider under <strong>MixedRealityPlayspace &gt; Main Camera</strong></p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*DBd5d-ZSB_7vTN86iq21ZA.png?q=20" width="1096" height="450" role="presentation"></p><p><img width="1096" height="450" role="presentation"></p></div></div></div></div></figure><p id="1992" data-selectable-paragraph="">To simulate the eye tracking in the Unity editor, you need to check <strong>Simulate Eye Position</strong> in the <strong>MixedRealityInputSimulationProfile.</strong></p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/48/1*FWtq_wwQqKDCcY09sDsPGQ.png?q=20" width="1109" height="1361" role="presentation"></p><p><img width="1109" height="1361" role="presentation"></p></div></div></div></div></figure><p id="4abd" data-selectable-paragraph="">To build and deploy to the device, the <em>‘GazeInput’</em> capability must be enabled in the Visual Studio’s application manifest.</p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*HWSBOmJW_RHsF7IJAJ84zg.png?q=20" width="1108" height="765" role="presentation"></p><p><img width="1108" height="765" role="presentation"></p></div></div></div></div></figure><h2 id="9f5f" data-selectable-paragraph="">Auto scroll with Eye Tracking input</h2><p id="3930" data-selectable-paragraph="">You can find the script and example of making Unity’s TextMesh Pro auto scroll with eye tracking in the <strong>EyeTrackingDemo-03-Navigation.unity</strong> scene.</p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*kpHPhVei7q-qPpgr7nzAZA.png?q=20" width="1934" height="1142" role="presentation"></p><p><img width="1934" height="1142" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">EyeTrackingDemo-03-Navigation scene</figcaption></figure><p id="6a6b" data-selectable-paragraph="">You can find the Scroll View component under <strong>Eye-based-Scroll &gt; Eye Scroll &gt; Canvas</strong>.</p></div></div><div><div><div><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*LQX7eD3uGcpXfuUDEpASMg.png?q=20" width="3234" height="1437" role="presentation"></p><p><img width="3234" height="1437" role="presentation"></p></div></div></div></div></figure></div></div></div><div><p id="ab39" data-selectable-paragraph="">The ActiveEyeGazeRegion object has the scripts <strong>EyeTrackingTarget</strong> and <strong>ScrollRectTransf</strong>. You can see the script provides various options.</p></div><div><div><p id="f57f" data-selectable-paragraph="">From MixedRealityToolkit.Examples package, I imported the EyeTracking folder(<strong>MixedRealityToolkit.Examples/Demos/EyeTracking)</strong> into the Periodic Table app project.</p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*g5kWjFkkw2trfBlyCh_jCg.png?q=20" width="1046" height="580" role="presentation"></p><p><img width="1046" height="580" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">Importing EyeTracking folder from MixedRealityToolkit.Unity.Examples package</figcaption></figure><p id="5646" data-selectable-paragraph="">Since the original Periodic Table app used TextMesh for the text display, I have updated the code to use TextMesh Pro.</p></div></div><div><div><div><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*W2kxodZ_pBBHiz2JxRz2Sg.png?q=20" width="3240" height="1394" role="presentation"></p><p><img width="3240" height="1394" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">Brought the auto scroll canvas example into the Element Container</figcaption></figure><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*BI9Ae_RblwkIUK1Gd545rg.png?q=20" width="3227" height="2080" role="presentation"></p><p><img width="3227" height="2080" role="presentation"></p></div></div></div></div></figure></div></div></div><div><div><div><div><figure><div><div><div><p><img src="https://miro.medium.com/max/60/1*BUMzIhFA_Qxr3Ofnd2rvMQ.png?q=20" width="758" height="545" role="presentation"></p><p><img width="758" height="545" role="presentation"></p></div></div></div></figure><figure><div><div><div><p><img src="https://miro.medium.com/max/60/1*b72Si_f0YwVHFwuHYLaSYg.png?q=20" width="857" height="554" role="presentation"></p><p><img width="857" height="554" role="presentation"></p></div></div></div></figure><figure><div><div><div><p><img src="https://miro.medium.com/max/60/1*Ylkk8N6tTPf8-h98DIPbDA.png?q=20" width="922" height="576" role="presentation"></p><p><img width="922" height="576" role="presentation"></p></div></div></div><figcaption data-selectable-paragraph="">Replaced old TextMesh with new TextMesh Pro</figcaption></figure></div></div></div></div></section></div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
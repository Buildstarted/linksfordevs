<!DOCTYPE html>
<html lang="en">
<head>
    <title>
dotnet/corert - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="dotnet/corert - linksfor.dev(s)"/>
    <meta property="og:description" content="@MichalStrehovsky: @YairHalberstadt .NET Native (the ARM64 version specifically) is pretty much CoreRT, but with added WinRT interop support and a more powerful code generator backend: the runtime, class libraries and garbage collector are the same, and much of the compiler is the same too (except for the code generation part). So all UWP .NET apps run on &quot;CoreRT&#x2B;&#x2B;&quot;"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://gitter.im/dotnet/corert?at=5cc1cd5f8446a6023e7514c0"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - dotnet/corert</title>
<div class="readable">
        <h1>dotnet/corert</h1>
            <div>Reading time: 11-14 minutes</div>
        <div>Posted here: 01 May 2019</div>
        <p><a href="https://gitter.im/dotnet/corert?at=5cc1cd5f8446a6023e7514c0">https://gitter.im/dotnet/corert?at=5cc1cd5f8446a6023e7514c0</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
        <div data-v-44ebcb1a=""><header data-v-44ebcb1a=""><section data-v-44ebcb1a=""><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 18 25" data-v-44ebcb1a=""><rect x="15" y="5" width="2" height="10" data-v-44ebcb1a=""></rect> <rect x="10" y="5" width="2" height="20" data-v-44ebcb1a=""></rect> <rect x="5" y="5" width="2" height="20" data-v-44ebcb1a=""></rect> <rect width="2" height="15" data-v-44ebcb1a=""></rect></svg></section> <section data-v-44ebcb1a=""><span data-v-44ebcb1a=""><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 98.7 16.3" style="enable-background:new 0 0 98.7 16.3;" xml:space="preserve">

<g id="XMLID_43_">
	<path id="XMLID_62_" d="M20.9,0.3h2.6v15.8h-2.6V0.3z"></path>
	<path id="XMLID_60_" d="M34.8,2.9h-4V0.3h11.8v2.6h-5.2v13.2h-2.6V2.9z"></path>
	<path id="XMLID_58_" d="M51.9,2.9h-4V0.3h11.8v2.6h-5.2v13.2h-2.6V2.9z"></path>
	<path id="XMLID_56_" d="M66.4,0.3h11.8v2.6H69v3.9h7.9v2.6H69v4h9.2v2.6H66.4V0.3z"></path>
	<path id="XMLID_53_" d="M98.7,16.1l-4.2-5.9c1.7-0.9,2.8-2.5,2.8-4.6c0-3.1-2.5-5.3-5.7-5.3l-6.2,0v15.8h2.6l0-5.3
		c0,0,3.6,0,3.6,0l3.8,5.3H98.7z M88.1,8.2l0-5.3l3.5,0c1.7,0,3,1,3,2.6c0,1.7-1.4,2.6-3,2.6L88.1,8.2z"></path>
	<path id="XMLID_52_" d="M7.9,7.1v2.6l3.9,0c0,0,0,1.4,0,2.3c-0.1,0.2-0.4,1.8-3.8,1.8c-0.2,0-0.3,0-0.5,0
		c-0.1,0-0.2,0-0.2,0c-0.1,0-0.2,0-0.2,0c-0.1,0-0.2-0.1-0.3-0.1c-0.1,0-0.1,0-0.2-0.1c0,0-0.1,0-0.1,0c-2.1-0.7-3.5-2.8-3.5-5.3
		l0,0v0v0c0-0.3,0-0.5,0.1-0.8C3.3,4.7,5.4,2.5,8,2.5c0.9,0,2.5,0.3,3.6,1.5l1.5-2.2c0,0-1.3-1.9-5-1.9C3.7,0,0.4,3.3,0,7.3
		c0,0.3,0,0.6,0,0.8l0,0l0,0c0,4.3,3.2,7.9,7.7,8.1c0.2,0,0.3,0,0.5,0c0,0,0.1,0,0.1,0c0.3,0,0.5,0,0.7,0c0.1,0,0.2,0,0.3,0
		c0.2,0,0.3,0,0.5-0.1c2.7-0.1,4.7-2.3,4.7-3.4c0-5,0-5.7,0-5.7H7.9z"></path>
</g>
</svg>
</span></section></header> <section data-v-44ebcb1a=""><h2 data-v-44ebcb1a="">Where communities thrive</h2> <br data-v-44ebcb1a=""> <ul data-v-44ebcb1a=""><li data-v-44ebcb1a="">Join over <strong data-v-44ebcb1a="">1.5M+ people</strong></li> <li data-v-44ebcb1a="">Join over <strong data-v-44ebcb1a="">100K+ communities</strong></li> <li data-v-44ebcb1a="">Free <strong data-v-44ebcb1a="">without limits</strong></li> <li data-v-44ebcb1a="">Create <strong data-v-44ebcb1a="">your own community</strong></li></ul> <ul data-v-44ebcb1a=""><li data-v-44ebcb1a=""><a href="https://gitter.im/explore" data-v-44ebcb1a="">Explore more communities</a></li></ul></section></div>

      <div>
        
<div>
  <header id="header-wrapper"><div id="header">
    



<div>
  
  <div tabindex="0">
    <p>This repo contains CoreRT, a .NET Core runtime optimized for AOT (ahead of time compilation) scenarios, with the accompanying .NET Native compiler toolchain.</p>
  </div>
</div>




  </div></header>
  <div>
    <div id="right-toolbar-layout"><div>

    <div id="toolbar-top-content">
      

      <div id="activity-region"><div>


<ul id="activity-list"><li>
</li><li><div>
  <p>Jan 31 2019 22:00</p>

  <p><span data-link-type="mention" data-screen-name="MichalStrehovsky">MichalStrehovsky</span> commented <span data-link-type="issue" data-issue="6919" data-issue-repo="dotnet/corert">#6919</span></p>

</div>
</li><li><div>
  <p>Jan 31 2019 21:59</p>

  <p><span data-link-type="mention" data-screen-name="MichalStrehovsky">MichalStrehovsky</span> opened <a href="https://github.com/dotnet/corert/pull/6928" target="_blank" data-link-type="issue" data-issue="6928" data-issue-repo="dotnet/corert">#6928</a></p>
</div>
</li><li>
</li><li><div>
  <p>Jan 31 2019 19:57</p>

  <p><span data-link-type="mention" data-screen-name="kouvel">kouvel</span> commented <span data-link-type="issue" data-issue="6880" data-issue-repo="dotnet/corert">#6880</span></p>

</div>
</li><li><div>
  <p>Jan 31 2019 19:45</p>

  <p><span data-link-type="mention" data-screen-name="filipnavara">filipnavara</span> commented <span data-link-type="issue" data-issue="6880" data-issue-repo="dotnet/corert">#6880</span></p>

</div>
</li><li><div>
  <p>Jan 31 2019 19:44</p>

  <div>
    <p>
      <span data-link-type="mention" data-screen-name="jkotas">jkotas</span> on master
    </p>
    <p>
      <span data-link-type="commit" data-commit-sha="6846016496d2bfb991434b01501ca5dbc8f42b94" data-commit-repo="dotnet/corert">Merge pull request #6815 from d…</span> <span data-link-type="commit" data-commit-sha="0bb1894ce322731a6a718ad915e325712c67974b" data-commit-repo="dotnet/corert">Merge pull request #6839 from d…</span> <span data-link-type="commit" data-commit-sha="66050c52492b59e423bb67714e1740c469cd7562" data-commit-repo="dotnet/corert">Merge pull request #6859 from d…</span> and 8 more <a href="https://github.com/dotnet/corert/compare/8985aa34449d...64e556fa2320" target="_blank">(compare)</a>
    </p>
  </div>
</div>
</li><li>
</li><li><div>
  <p>Jan 31 2019 19:43</p>

  <p><span data-link-type="mention" data-screen-name="kouvel">kouvel</span> commented <span data-link-type="issue" data-issue="6880" data-issue-repo="dotnet/corert">#6880</span></p>

</div>
</li><li><div>
  <p>Jan 31 2019 19:26</p>

  <p><span data-link-type="mention" data-screen-name="kouvel">kouvel</span> commented <span data-link-type="issue" data-issue="6880" data-issue-repo="dotnet/corert">#6880</span></p>

</div>
</li><li><div>
  <p>Jan 31 2019 19:19</p>

  <div>
    <p>
      <span data-link-type="mention" data-screen-name="trylek">trylek</span> on master
    </p>
    <p>
      <span data-link-type="commit" data-commit-sha="8985aa34449d22594ce41c0163f3315d4264ff5f" data-commit-repo="dotnet/corert">Pointer size and ARM64 fixes in…</span> <a href="https://github.com/dotnet/corert/compare/89b8bcee2ce5...8985aa34449d" target="_blank">(compare)</a>
    </p>
  </div>
</div>
</li><li>
</li><li><div>
  <p>Jan 31 2019 18:40</p>

  <p><span data-link-type="mention" data-screen-name="jkotas">jkotas</span> synchronize <a href="https://github.com/dotnet/corert/pull/6926" target="_blank" data-link-type="issue" data-issue="6926" data-issue-repo="dotnet/corert">#6926</a></p>
</div>
</li><li><div>
  <p>Jan 31 2019 18:40</p>

  <div>
    <p>
      <span data-link-type="mention" data-screen-name="jkotas">jkotas</span> on nmirror
    </p>
    <p>
      <span data-link-type="commit" data-commit-sha="2835c40deff4a09939f10657fe3b92c58eb49dd9" data-commit-repo="dotnet/corert">MethodOnStruct - Fixing Project…</span> <span data-link-type="commit" data-commit-sha="f5a59ac833d83e392f29755fcd0dbea25c908730" data-commit-repo="dotnet/corert">Merge pull request #6927 from d…</span> <a href="https://github.com/dotnet/corert/compare/b3897832dc0d...f5a59ac833d8" target="_blank">(compare)</a>
    </p>
  </div>
</div>
</li><li>
</li><li><div>
  <p>Jan 31 2019 18:32</p>

  <p><span data-link-type="mention" data-screen-name="dotnet-bot">dotnet-bot</span> opened <a href="https://github.com/dotnet/corert/pull/6927" target="_blank" data-link-type="issue" data-issue="6927" data-issue-repo="dotnet/corert">#6927</a></p>
</div>
</li><li><div>
  <p>Jan 31 2019 17:19</p>

  <div>
    <p>
      <span data-link-type="mention" data-screen-name="jkotas">jkotas</span> on master
    </p>
    <p>
      <span data-link-type="commit" data-commit-sha="b1f5ebc282bd3e85fff723532047ca3040b06c08" data-commit-repo="dotnet/corert">Reverting "Fixing up the UTF8Fo…</span> <span data-link-type="commit" data-commit-sha="89b8bcee2ce56b5919e4f9d8c385525f6a98b005" data-commit-repo="dotnet/corert">Add managed implementation of G…</span> <a href="https://github.com/dotnet/corert/compare/8be34273e287...89b8bcee2ce5" target="_blank">(compare)</a>
    </p>
  </div>
</div>
</li><li>
</li><li><div>
  <p>Jan 31 2019 17:18</p>

  <div>
    <p>
      <span data-link-type="mention" data-screen-name="jkotas">jkotas</span> on master
    </p>
    <p>
      <span data-link-type="commit" data-commit-sha="8be34273e2873139d8f67ba00169f0cd3fef4c93" data-commit-repo="dotnet/corert">Fix ProjectN build breaks (#692…</span> <a href="https://github.com/dotnet/corert/compare/6bd279ea72b0...8be34273e287" target="_blank">(compare)</a>
    </p>
  </div>
</div>
</li><li>
</li></ul>
</div></div>
    </div>

    

  </div></div>
    
    <div>
      
      <div id="content-wrapper"><div>
    <div>

      
      

      <div id="content-frame" role="log" aria-live="polite" aria-atomic="false" aria-relevant="additions text">
        <div id="chat-container"><div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/7110884?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/7110884?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    
    <p><span data-link-type="mention" data-screen-name="Alan-FGR">@Alan-FGR</span> a function pointer is a single address that can be indirectly invoked and is pointer sized. A delegate is a heap object that is a tuple of function and target (instance pointer). So you can pass to c code a function pointer that is expected to be called like a static function and the CLR will provide a static delegate thunk (IIRC the terminology) that secretly adds the this pointer and invokes the instance method
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/8399299?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/8399299?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    
    <p>
      right, but shouldn't the UnmanagedFunctionPointer attribute turn the delegate into a function pointer? Maybe the problem is that attribute isn't implemented in CoreRT?
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/7110884?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/7110884?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    
    <p><span data-link-type="mention" data-screen-name="Alan-FGR">@Alan-FGR</span> well that's the marshalling magic and i've meant that this doesn't just work, this is a lot of runtime effort to make it work, or a lot of things that could break :P
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/8399299?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/8399299?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    
    <p>
      I don't understand <span data-link-type="mention" data-screen-name="Suchiman">@Suchiman</span>, so that attribute has to do with marshalling, it doesn't actually turn the C# delegate into a function pointer? there's still the other delegate stuff under the hood there?
    </p>

  </div>
</div>
</div>
                <div><div>
    
  <div>
    <p>
      C# delegates are kinda collections too right?
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/8399299?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/8399299?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    
    <p>
      actually, it seems UnmanagedFunctionPointer inly really changes the call convention tbh
    </p>

  </div>
</div>
</div>
                <div><div>
    
  <div>
    <p>
      if that's the case then my code was indeed incorrect, but it's still very strange that it worked fine on netfx and coreclr
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/7110884?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/7110884?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    
    <p><span data-link-type="mention" data-screen-name="Alan-FGR">@Alan-FGR</span> yes, UnmanagedFunctionPointer is only a hint to the marshaller
    </p>

  </div>
</div>
</div>
                
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/8399299?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/8399299?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    
    <p>
      ok, thanks <span data-link-type="mention" data-screen-name="Suchiman">@Suchiman</span>... still, there's inconsistency between CoreCLR and CoreRT there
    </p>

  </div>
</div>
</div>
                <div><div>
    
  <div>
    <p>
      what the code was doing before was actually converting the native function pointer into a delegate and then the delegate was being called and was calling the function pointer, what's not only wrong (because the signature wasn't impl) but it's terrible in terms of perf too
    </p>

  </div>
</div>
</div>
                <div><div>
    
  <div>
    <p>
      i mean, if you get a function pointer from native and marshal it into a delegate, it's actually going to add that function to the delegate collection kinda thing i guess... the delegate will store the pointer to the native function, it won't <em>be</em> the native function
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/8399299?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/8399299?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    
    <p>
      that kinda makes sense tbh, otherwise that attribute would have to break delegates default behavior
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars1.githubusercontent.com/u/25616533?v=4&amp;s=30" srcset="https://avatars1.githubusercontent.com/u/25616533?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    <div>
      <p>troll-kadabra</p>
      <p>@troll-kadabra</p>
      </div>
    <p>
      alan does it work on ubuntu
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/8399299?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/8399299?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    
    <p>
      it should, on mono/coreclr i'm pretty sure it will, corert binaries i don't know :P
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars1.githubusercontent.com/u/25616533?v=4&amp;s=30" srcset="https://avatars1.githubusercontent.com/u/25616533?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    <div>
      <p>troll-kadabra</p>
      <p>@troll-kadabra</p>
      </div>
    <p>
      where can i see corert state on linux
    </p>

  </div>
</div>
</div>
                <div><div>
    
  <div>
    <p><span data-link-type="mention" data-screen-name="Alan-FGR">@Alan-FGR</span> make c# engine plz :p
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/8399299?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/8399299?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    
    <p><span data-link-type="mention" data-screen-name="troll-kadabra">@troll-kadabra</span> i'll eventually roll out some minECS systems, but probably not a fully featured game engine, at most some level editors and whatnot perhaps
    </p>

  </div>
</div>
</div>
                <div><div>
    
  <div>
    <p>
      first I gotta finish minECS though :trollface: 
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/29174528?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/29174528?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    <div>
      <p>Yair Halberstadt</p>
      <p>@YairHalberstadt</p>
      </div>
    <p>
      I'm trying to find out what CoreRT is used for currently, but I can't find much in brief Google Search. Can anyone here shed light on that? Thanks.
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/7110884?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/7110884?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    
    <p><span data-link-type="mention" data-screen-name="YairHalberstadt">@YairHalberstadt</span> well CoreRT is an experimental AOT runtime
    </p>

  </div>
</div>
</div>
                <div><div>
    
  <div>
    <p><span data-link-type="mention" data-screen-name="YairHalberstadt">@YairHalberstadt</span> but it's used in some form for  .NET native (UWP) i believe
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/29174528?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/29174528?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    <div>
      <p>Yair Halberstadt</p>
      <p>@YairHalberstadt</p>
      </div>
    <p>
      Ok, so not much at the moment?
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/7110884?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/7110884?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/13110571?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/13110571?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
      
    <div>
      <p>Michal Strehovský</p>
      <p>@MichalStrehovsky</p>
      </div>
    <p><span data-link-type="mention" data-screen-name="YairHalberstadt">@YairHalberstadt</span> .NET Native (the ARM64 version specifically) is pretty much CoreRT, but with added WinRT interop support and a more powerful code generator backend: the runtime, class libraries and garbage collector are the same, and much of the compiler is the same too (except for the code generation part). So all UWP .NET apps run on "CoreRT++"
    </p>

  </div>
</div>
</div>
                
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars1.githubusercontent.com/u/7650031?v=4&amp;s=30" srcset="https://avatars1.githubusercontent.com/u/7650031?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    <div>
      <p>masonwheeler</p>
      <p>@masonwheeler</p>
      </div>
    <p>
      Hmm... what cool extra codegen stuff does the .NET Native system have, and what's stopping it from being added to CoreRT?
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/13110571?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/13110571?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    <div>
      <p>Michal Strehovský</p>
      <p>@MichalStrehovsky</p>
      </div>
    <p>
      .NET Native uses UTC as the code generation backend. It's the same code generation backend that Visual C++ uses. It's closed source and can only target Windows
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars1.githubusercontent.com/u/7650031?v=4&amp;s=30" srcset="https://avatars1.githubusercontent.com/u/7650031?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    <div>
      <p>masonwheeler</p>
      <p>@masonwheeler</p>
      </div>
    <p>
      *nod*
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/29174528?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/29174528?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    <div>
      <p>Yair Halberstadt</p>
      <p>@YairHalberstadt</p>
      </div>
    <p>
      Thanks. So is .Net Native built on CoreRT, or CoreRT is extracted from .Net Native?
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/7110884?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/7110884?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    
    <p><span data-link-type="mention" data-screen-name="MichalStrehovsky">@MichalStrehovsky</span> what's the deal with ARM64 in particular? Is this not true for x86 / x64?
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/13110571?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/13110571?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    <div>
      <p>Michal Strehovský</p>
      <p>@MichalStrehovsky</p>
      </div>
    <p><span data-link-type="mention" data-screen-name="YairHalberstadt">@YairHalberstadt</span> ~95% of the source code in the CoreRT repo is also used in .NET Native. .NET Native adds a couple extra things
    </p>

  </div>
</div>
</div>
                <div><div>
    
  <div>
    <p><span data-link-type="mention" data-screen-name="Suchiman">@Suchiman</span> ARM64 came to .NET Native as a supported platform last year, so we decided to reuse the ILCompiler for that. <a href="http://blogs.microsoft.co.il/sasha/2014/04/28/net-native-performance-internals/" rel="nofollow noopener noreferrer" target="_blank">This article</a> describes .NET Native compilation a bit. For ARM64, we no longer do the "Compiling to MDIL" and "Native binding" step. Instead, we use pieces of the CoreRT ILCompiler, generate object files, and link them with the platform linker. Migrating the rest of the architectures to the same plan is a cost/benefit exercise
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/7110884?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/7110884?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/29174528?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/29174528?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    <div>
      <p>Yair Halberstadt</p>
      <p>@YairHalberstadt</p>
      </div>
    <p>
      So updates to CoreRT eventually end up in .Net Native
    </p>

  </div>
</div>
</div>
                
                <div><div>
    
  <div>
    <p>
      And so CoreRT isn't really experimental from that perspective? Changes to it will end up in production?
    </p>

  </div>
</div>
</div>
                <div><div>
    
  <div>
    <p>
      Anyway thanks for the info
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/8399299?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/8399299?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  
</div>
</div>
                <div><div>
    
  <div>
    <p>
      i thought that maybe checking whether solutiondir exists, that would at least fix building coreclr from the VS i guess
    </p>

  </div>
</div>
</div>
                <div><div>
    
  <div>
    <p>
      it's very frustration to people when stuff does not build and work outta the box
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/7110884?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/7110884?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  
</div>
</div>
                <div><div>
    
  <div>
    <p>
      what's the problem with that include?
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/8399299?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/8399299?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    
    <p>
      the problem is that breaks building from VS
    </p>

  </div>
</div>
</div>
                <div><div>
    
  <div>
    <p>
      if you don't have that include installed and try to open the solution in VS and build a net core binary it'll just complain that the ilcompiler thing isn't installed and abort
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars2.githubusercontent.com/u/1388864?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/1388864?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    
    <div>
      <p><span data-link-type="mention" data-screen-name="Alan-FGR">@Alan-FGR</span> I use</p><pre><code>&lt;PackageReference Include=<span>"Microsoft.DotNet.ILCompiler"</span> <span>Version</span>=<span>"1.0.0-alpha-27619-01"</span> <span>Condition</span>=<span>"'$(CoreRT)' == 'True'"</span> /&gt;</code></pre><p>and then <code>dotnet publish -r win-x64 -c release -f netcoreapp3.0 /p:CoreRT=True</code></p>
    </div>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars0.githubusercontent.com/u/8399299?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/8399299?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    
    <p><span data-link-type="mention" data-screen-name="ahopper">@ahopper</span> wow, i didn't know you could pass a condition like that, thank you :smiley:
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars2.githubusercontent.com/u/1388864?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/1388864?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    
    <p>
      I think I got it from <span data-link-type="mention" data-screen-name="wieslawsoltes">@wieslawsoltes</span> 
    </p>

  </div>
</div>
</div>
                <div><div>
  <div>
    <div>
      <p><img src="https://avatars1.githubusercontent.com/u/2297442?v=4&amp;s=30" srcset="https://avatars1.githubusercontent.com/u/2297442?v=4&amp;s=60 2x" height="30" width="30" alt="">
  
</p>

    </div>
  </div>
    
  <div>
    <div>
      <p>Wiesław Šoltés</p>
      <p>@wieslawsoltes</p>
      </div>
    <div><p>
      I also do this :</p><pre><code><span>  <span>&lt;<span>PropertyGroup</span>&gt;</span>
    <span>&lt;<span>CoreRT</span>&gt;</span>False<span>&lt;/<span>CoreRT</span>&gt;</span>
  <span>&lt;/<span>PropertyGroup</span>&gt;</span>
  <span>&lt;<span>PropertyGroup</span> <span>Condition</span>=<span>"'$(RuntimeIdentifier)' == 'win-x64'"</span>&gt;</span>
    <span>&lt;<span>CoreRT</span>&gt;</span>True<span>&lt;/<span>CoreRT</span>&gt;</span>
    <span>&lt;<span>DefineConstants</span>&gt;</span>$(DefineConstants);_CORERT;_CORERT_WIN_X64<span>&lt;/<span>DefineConstants</span>&gt;</span>
  <span>&lt;/<span>PropertyGroup</span>&gt;</span>
  <span>&lt;<span>PropertyGroup</span> <span>Condition</span>=<span>"'$(RuntimeIdentifier)' == 'linux-x64'"</span>&gt;</span>
    <span>&lt;<span>CoreRT</span>&gt;</span>True<span>&lt;/<span>CoreRT</span>&gt;</span>
    <span>&lt;<span>DefineConstants</span>&gt;</span>$(DefineConstants);_CORERT;_CORERT_LINUX_X64<span>&lt;/<span>DefineConstants</span>&gt;</span>
  <span>&lt;/<span>PropertyGroup</span>&gt;</span>
  <span>&lt;<span>PropertyGroup</span> <span>Condition</span>=<span>"'$(RuntimeIdentifier)' == 'osx-x64'"</span>&gt;</span>
    <span>&lt;<span>CoreRT</span>&gt;</span>True<span>&lt;/<span>CoreRT</span>&gt;</span>
    <span>&lt;<span>DefineConstants</span>&gt;</span>$(DefineConstants);_CORERT;_CORERT_OSX_X64<span>&lt;/<span>DefineConstants</span>&gt;</span>
  <span>&lt;/<span>PropertyGroup</span>&gt;</span></span></code></pre>
    </div>

  </div>
</div>
</div>
                <div><div>
    
  <div>
    <div><p>
      or this:</p><pre><code>  &lt;ItemGroup Condition=<span>"'</span>$(RuntimeIdentifier)<span>' == '</span>win-<span>x64'</span> <span>or</span> <span>'$(RuntimeIdentifier)'</span> == <span>'linux-x64'</span> <span>or</span> <span>'$(RuntimeIdentifier)'</span> == <span>'osx-x64'</span><span>"&gt;
    &lt;RdXmlFile Include="</span><span>Draw2D.</span><span>rd.</span>xml<span>" /&gt;
    &lt;PackageReference Include="</span><span>Microsoft.</span><span>DotNet.</span>ILCompiler<span>" Version="</span><span>1.0</span><span>.0</span>-alpha-*<span>" /&gt;
  &lt;/ItemGroup&gt;</span></code></pre>
    </div>

  </div>
</div>
</div>
            </div></div>
      </div>
    </div>
    
  </div></div>
      
    </div>
  </div>
</div>



      </div>
    </div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs" /></noscript>
</body>
</html>
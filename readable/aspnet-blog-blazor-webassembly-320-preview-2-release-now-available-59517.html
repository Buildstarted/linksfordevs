<!DOCTYPE html>
<html lang="en">
<head>
    <title>
ASP.NET Blog | Blazor WebAssembly 3.2.0 Preview 2 release now available - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="ASP.NET Blog | Blazor WebAssembly 3.2.0 Preview 2 release now available - linksfor.dev(s)"/>
    <meta property="article:author" content="Daniel RothPrincipal Program Manager,&#xA0;ASP.NETFollow Daniel"/>
    <meta property="og:description" content="A new preview update of Blazor WebAssembly is now available! Here&#x2019;s what&#x2019;s new in this release:&#xA;&#xA;Integration with ASP.NET Core static web assets&#xA;Token-based authentication&#xA;Improved framework caching&#xA;Updated linker configuration&#xA;Build Progressive Web Apps&#xA;&#xA;Get started&#xA;To get started with Blazor WebAssembly 3.2.0 Preview 2 install the latest .NET Core 3.1 SDK."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://devblogs.microsoft.com/aspnet/blazor-webassembly-3-2-0-preview-2-release-now-available/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - ASP.NET Blog | Blazor WebAssembly 3.2.0 Preview 2 release now available</title>
<div class="readable">
        <h1>ASP.NET Blog | Blazor WebAssembly 3.2.0 Preview 2 release now available</h1>
            <div>by Daniel RothPrincipal Program Manager,&#xA0;ASP.NETFollow Daniel</div>
            <div>Reading time: 16-21 minutes</div>
        <div>Posted here: 11 Mar 2020</div>
        <p><a href="https://devblogs.microsoft.com/aspnet/blazor-webassembly-3-2-0-preview-2-release-now-available/">https://devblogs.microsoft.com/aspnet/blazor-webassembly-3-2-0-preview-2-release-now-available/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="featured">

	<div>
                
         <div><div><div><p><img src="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2019/02/DaniethRothPhoto-150x150.jpeg" width="58" height="58" alt="Daniel Roth"></p><p>Daniel</p></div></div></div>     
        <p>March 10th, 2020</p><!-- .entry-meta -->

		<p>A new preview update of Blazor WebAssembly is now available! Here’s what’s new in this release:</p>
<ul>
<li>Integration with ASP.NET Core static web assets</li>
<li>Token-based authentication</li>
<li>Improved framework caching</li>
<li>Updated linker configuration</li>
<li>Build Progressive Web Apps</li>
</ul>
<h2>Get started</h2>
<p>To get started with Blazor WebAssembly 3.2.0 Preview 2 install the latest <a href="https://dotnet.microsoft.com/download/dotnet-core/3.1" target="_blank">.NET Core 3.1 SDK</a>.</p>
<blockquote>
<p>NOTE: Version 3.1.102 or later of the .NET Core SDK is <strong>required</strong> to use this Blazor WebAssembly release! Make sure you have the correct .NET Core SDK version by running <code>dotnet --version</code> from a command prompt.</p>
</blockquote>
<p>Once you have the appropriate .NET Core SDK installed, run the following command to install the update Blazor WebAssembly template:</p>
<pre><code><span>dotnet </span><span>new</span><span> </span><span>-</span><span>i </span><span>Microsoft</span><span>.</span><span>AspNetCore</span><span>.</span><span>Components</span><span>.</span><span>WebAssembly</span><span>.</span><span>Templates</span><span>::</span><span>3.2</span><span>.</span><span>0</span><span>-</span><span>preview2</span><span>.</span><span>20160.5</span></code></pre>
<p>That’s it! You can find additional docs and samples on <a href="https://blazor.net/" target="_blank">https://blazor.net</a>.</p>
<h2>Upgrade an existing project</h2>
<p>To upgrade an existing Blazor WebAssembly app from 3.2.0 Preview 1 to 3.2.0 Preview 2:</p>
<ul>
<li>Update your package references and namespaces as described below:
<ul>
<li>Microsoft.AspNetCore.Blazor -&gt; Microsoft.AspNetCore.Components.WebAsssembly</li>
<li>Microsoft.AspNetCore.Blazor.Build -&gt; Microsoft.AspNetCore.Components.WebAsssembly.Build</li>
<li>Microsoft.AspNetCore.Blazor.DevServer -&gt; Microsoft.AspNetCore.Components.WebAsssembly.DevServer</li>
<li>Microsoft.AspNetCore.Blazor.Server -&gt; Microsoft.AspNetCore.Components.WebAsssembly.Server</li>
<li>Microsoft.AspNetCore.Blazor.HttpClient -&gt; Microsoft.AspNetCore.Blazor.HttpClient (unchanged)</li>
<li>Microsoft.AspNetCore.Blazor.DataAnnotations.Validation -&gt; Microsoft.AspNetCore.Components.DataAnnotations.Validation</li>
<li>Microsoft.AspNetCore.Blazor.Mono -&gt; Microsoft.AspNetCore.Components.WebAssembly.Runtime</li>
<li>Mono.WebAssembly.Interop -&gt; WebAssembly.JSInterop</li>
</ul>
</li>
<li>Update all Microsoft.AspNetCore.Components.WebAssembly.* package references to version 3.2.0-preview2.20160.5.</li>
<li>In <em>Program.cs</em> add a call to <code>builder.Services.AddBaseAddressHttpClient()</code>.</li>
<li>Rename <code>BlazorLinkOnBuild</code> in your project files to <code>BlazorWebAssemblyEnableLinking</code>.</li>
<li>If your Blazor WebAssembly app is hosted using ASP.NET Core, make the following updates in <em>Startup.cs</em> in your Server project:
<ul>
<li>Rename <code>UseBlazorDebugging</code> to <code>UseWebAssemblyDebugging</code>.</li>
<li>Remove the call to <code>services.AddResponseCompression</code> (response compression is now handled by the Blazor framework).</li>
<li>Replace the call to <code>app.UseClientSideBlazorFiles&lt;Client.Program&gt;()</code> with <code>app.UseBlazorFrameworkFiles()</code>.</li>
<li>Replace the call to <code>endpoints.MapFallbackToClientSideBlazor&lt;Client.Program&gt;("index.html")</code> with <code>endpoints.MapFallbackToFile("index.html")</code>.</li>
</ul>
</li>
</ul>
<p>Hopefully that wasn’t too painful!</p>
<h2>Integration with ASP.NET Core static web assets</h2>
<p>Blazor WebAssembly apps now integrate seamlessly with how ASP.NET Core handles static web assets. Blazor WebAssembly apps can use the standard ASP.NET Core convention for consuming static web assets from referenced projects and packages: <em>_content/{LIBRARY NAME}/{path}</em>. This allows you to easily pick up static assets from referenced component libraries and JavaScript interop libraries just like you can in a Blazor Server app or any other ASP.NET Core web app.</p>
<p>Blazor WebAssembly apps are also now hosted in ASP.NET Core web apps using the same static web assets infrastructure. After all, a Blazor WebAssembly app is just a bunch of static files!</p>
<p>This integration simplifies the startup code for ASP.NET Core hosted Blazor WebAssembly apps and removes the need to have an assembly reference from the server project to the client project. Only the project reference is needed, so setting <code>ReferenceOutputAssembly</code> to <code>false</code> for the client project reference is now supported.</p>
<p>Building on the static web assets support in ASP.NET Core also enables new scenarios like hosting ASP.NET Core hosted Blazor WebAssembly apps in Docker containers. In Visual Studio you can add docker support to your Blazor WebAssembly app by right-clicking on the Server project and selecting Add &gt; Docker support.</p>
<h2>Token-based authentication</h2>
<p>Blazor WebAssembly now has built-in support for token-based authentication.</p>
<p>Blazor WebAssembly apps are secured in the same manner as Single Page Applications (SPAs). There are several approaches for authenticating users to SPAs, but the most common and comprehensive approach is to use an implementation based on the OAuth 2.0 protocol, such as OpenID Connect (OIDC). OIDC allows client apps, like a Blazor WebAssembly app, to verify the user identity and obtain basic profile information using a trusted provider.</p>
<p>Using the Blazor WebAssembly project template you can now quickly create apps setup for authentication using:</p>
<ul>
<li>ASP.NET Core Identity and IdentityServer</li>
<li>An existing OpenID Connect provider</li>
<li>Azure Active Directory</li>
</ul>
<h3>Authenticate using ASP.NET Core Identity and IdentityServer</h3>
<p>Authentication for Blazor WebAssembly apps can be handled using ASP.NET Core Identity and IdentityServer. ASP.NET Core Identity handles authenticating users while IdentityServer handles the necessary protocol endpoints.</p>
<p>To create a Blazor WebAssembly app setup with authentication using ASP.NET Core Identity and IdentityServer run the following command:</p>
<pre><code><span>dotnet </span><span>new</span><span> blazorwasm </span><span>--</span><span>hosted </span><span>--</span><span>auth </span><span>Individual</span><span> </span><span>-</span><span>o </span><span>BlazorAppWithAuth1</span></code></pre>
<p>If you’re using Visual Studio, you can create the project by selecting the “ASP.NET Core hosted” option and the selecting “Change Authentication” &gt; “Individual user accounts”.</p>
<p><a href="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/blazor-indvidual-auth.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/blazor-indvidual-auth.png" alt="Blazor authentication">  </a></p>
<p>Run the app and try to access the Fetch Data page. You’ll get redirected to the login page.</p>
<p><a href="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/Blazor-login.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/Blazor-login.png" alt="Blazor login">  </a></p>
<p>Register a new user and log in. You can now access the Fetch Data page.</p>
<p><a href="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/fetch-data-authorized.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/fetch-data-authorized.png" alt="Fetch data authorized">  </a></p>
<p>The Server project is configured to use the default ASP.NET Core Identity UI, as well as IdentityServer, and JWT authentication:</p>
<pre><code><span>// Add the default ASP.NET Core Identity UI</span><span>
services</span><span>.</span><span>AddDefaultIdentity</span><span>&lt;</span><span>ApplicationUser</span><span>&gt;(</span><span>options </span><span>=&gt;</span><span> options</span><span>.</span><span>SignIn</span><span>.</span><span>RequireConfirmedAccount</span><span> </span><span>=</span><span> </span><span>true</span><span>)</span><span>
    </span><span>.</span><span>AddEntityFrameworkStores</span><span>&lt;</span><span>ApplicationDbContext</span><span>&gt;();</span><span>

</span><span>// Add IdentityServer with support for API authorization</span><span>
services</span><span>.</span><span>AddIdentityServer</span><span>()</span><span>
    </span><span>.</span><span>AddApiAuthorization</span><span>&lt;</span><span>ApplicationUser</span><span>,</span><span> </span><span>ApplicationDbContext</span><span>&gt;();</span><span>

</span><span>// Add JWT authentication</span><span>
services</span><span>.</span><span>AddAuthentication</span><span>()</span><span>
    </span><span>.</span><span>AddIdentityServerJwt</span><span>();</span></code></pre>
<p>The Client app is registered with IdentityServer in the <em>appsettings.json</em> file:</p>
<pre><code><span>"IdentityServer"</span><span>:</span><span> </span><span>{</span><span>
  </span><span>"Clients"</span><span>:</span><span> </span><span>{</span><span>
    </span><span>"BlazorAppWithAuth1.Client"</span><span>:</span><span> </span><span>{</span><span>
      </span><span>"Profile"</span><span>:</span><span> </span><span>"IdentityServerSPA"</span><span>
    </span><span>}</span><span>
  </span><span>}</span><span>
</span><span>},</span></code></pre>
<p>In the Client project, the services needed for API authorization are added in <em>Program.cs</em>:</p>
<pre><code><span>builder</span><span>.</span><span>Services</span><span>.</span><span>AddApiAuthorization</span><span>();</span></code></pre>
<p>In <em>FetchData.razor</em> the <code>IAccessTokenProvider</code> service is used to acquire an access token from the server. The token may be cached or acquired without the need of user interaction. If acquiring the token succeeds, it is then applied to the request for weather forecast data using the standard HTTP Authorization header. If acquiring the token silently fails, the user is redirected to the login page:</p>
<pre><code><span>protected</span><span> </span><span>override</span><span> async </span><span>Task</span><span> </span><span>OnInitializedAsync</span><span>()</span><span>
</span><span>{</span><span>
    </span><span>var</span><span> httpClient </span><span>=</span><span> </span><span>new</span><span> </span><span>HttpClient</span><span>();</span><span>
    httpClient</span><span>.</span><span>BaseAddress</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>Uri</span><span>(</span><span>Navigation</span><span>.</span><span>BaseUri</span><span>);</span><span>

    </span><span>var</span><span> tokenResult </span><span>=</span><span> await </span><span>AuthenticationService</span><span>.</span><span>RequestAccessToken</span><span>();</span><span>

    </span><span>if</span><span> </span><span>(</span><span>tokenResult</span><span>.</span><span>TryGetToken</span><span>(</span><span>out</span><span> </span><span>var</span><span> token</span><span>))</span><span>
    </span><span>{</span><span>
        httpClient</span><span>.</span><span>DefaultRequestHeaders</span><span>.</span><span>Add</span><span>(</span><span>"Authorization"</span><span>,</span><span> $</span><span>"Bearer {token.Value}"</span><span>);</span><span>
        forecasts </span><span>=</span><span> await httpClient</span><span>.</span><span>GetJsonAsync</span><span>&lt;</span><span>WeatherForecast</span><span>[]&gt;(</span><span>"WeatherForecast"</span><span>);</span><span>
    </span><span>}</span><span>
    </span><span>else</span><span>
    </span><span>{</span><span>
        </span><span>Navigation</span><span>.</span><span>NavigateTo</span><span>(</span><span>tokenResult</span><span>.</span><span>RedirectUrl</span><span>);</span><span>
    </span><span>}</span><span>
</span><span>}</span></code></pre>
<p>For additional details on using Blazor WebAssembly with ASP.NET Core Identity and IdentityServer see <a href="https://docs.microsoft.com/aspnet/core/security/blazor/webassembly/hosted-with-identity-server" target="_blank">Secure an ASP.NET Core Blazor WebAssembly hosted app with Identity Server</a></p>
<h3>Authenticate using an existing OpenID Connect provider</h3>
<p>You can setup authentication for a standalone Blazor WebAssembly using any valid OIDC provider. Once you’ve registered your app with the OIDC provider you configure the Blazor WebAssembly app to use that provider by calling <code>AddOidcAuthentication</code> in <em>Program.cs</em>:</p>
<pre><code><span>builder</span><span>.</span><span>Services</span><span>.</span><span>AddOidcAuthentication</span><span>(</span><span>options </span><span>=&gt;</span><span>
</span><span>{</span><span>
    options</span><span>.</span><span>ProviderOptions</span><span>.</span><span>Authority</span><span> </span><span>=</span><span> </span><span>"{AUTHORITY}"</span><span>;</span><span>
    options</span><span>.</span><span>ProviderOptions</span><span>.</span><span>ClientId</span><span> </span><span>=</span><span> </span><span>"{CLIENT ID}"</span><span>;</span><span>
</span><span>});</span></code></pre>
<p>You can create a standalone Blazor WebAssembly app that uses a specific OIDC provider for authentication using the following command:</p>
<pre><code><span>dotnet </span><span>new</span><span> blazorwasm </span><span>--</span><span>auth </span><span>Individual</span><span> </span><span>--</span><span>client</span><span>-</span><span>id </span><span>"{CLIENT ID}"</span><span> </span><span>--</span><span>authority </span><span>"{AUTHORITY}"</span></code></pre>
<p>For more details on configuring authentication for a standalone Blazor WebAssembly app see <a href="https://docs.microsoft.com/aspnet/core/security/blazor/webassembly/standalone-with-authentication-library" target="_blank">Secure an ASP.NET Core Blazor WebAssembly standalone app with the Authentication library</a></p>
<h3>Authenticate using Azure AD &amp; Azure AD B2C</h3>
<p>You can also setup Blazor WebAssembly apps to use Azure Active Directory (Azure AD) or Azure Active Directory Business-to-Customer (Azure AD B2C) for authentication. When authenticating using Azure AD or Azure AD B2C authentication is handled using the new Microsoft.Authentication.WebAssembly.Msal library, which is based on the Microsoft Authentication Library (MSAL.js).</p>
<p>To learn how to setup authentication for Blazor WebAssembly app using Azure AD or Azure AD B2C see:</p>
<ul>
<li><a href="https://docs.microsoft.com/aspnet/core/security/blazor/webassembly/hosted-with-azure-active-directory" target="_blank">Secure an ASP.NET Core Blazor WebAssembly hosted app with Azure Active Directory</a></li>
<li><a href="https://docs.microsoft.com/aspnet/core/security/blazor/webassembly/hosted-with-azure-active-directory-b2c" target="_blank">Secure an ASP.NET Core Blazor WebAssembly hosted app with Azure Active Directory B2C</a></li>
</ul>
<h3>Additional authentication resources</h3>
<p>This is just a sampling of the new authentication capabilities in Blazor WebAssembly. To learn more about how Blazor WebAssembly supports authentication see <a href="https://docs.microsoft.com/aspnet/core/security/blazor/webassembly/" target="_blank">Secure ASP.NET Core Blazor WebAssembly</a>.</p>
<h2>Improved framework caching</h2>
<p>If you look at the network trace of what’s being download for a Blazor WebAssembly app after it’s initially loaded, you might think that Blazor WebAssembly has been put on some sort of extreme diet:</p>
<p><a href="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/blazor-network.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/blazor-network.png" alt="Blazor network">  </a></p>
<p>Whoa! Only 159kB? What’s going on here?</p>
<p>When a Blazor WebAssembly app is initially loaded, the runtime and framework files are now stored in the browser cache storage:</p>
<p><a href="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/Blazor-cache.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/Blazor-cache.png" alt="Blazor cache">  </a></p>
<p>When the app loads, it first uses the contents of the <em>blazor.boot.json</em> to check if it already has all of the runtime and framework files it needs in the cache. If it does, then no additional network requests are necessary.</p>
<p>You can still see what the true size of the app is during development by checking the browser console:</p>
<p><a href="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/blazor-loaded-resources.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/blazor-loaded-resources.png" alt="Blazor loaded resources">  </a></p>
<h2>Updated linker configuration</h2>
<p>You may notice with this preview release that the download size of the app during development is now a bit larger, but build times are faster. This is because we no longer run the .NET IL linker during development to remove unused code. In previous Blazor previews we ran the linker on every build, which slowed down development. Now we only run the linker for release builds, which are typically done as part of publishing the app. When publishing the app with a release build (<code>dotnet publish -c Release</code>), the linker removes any unnecessary code and the download size is much more reasonable (~2MB for the default template).</p>
<p>If you prefer to still run the .NET IL linker on each build during development, you can turn it on by adding <code>&lt;BlazorWebAssemblyEnableLinking&gt;true&lt;BlazorWebAssemblyEnableLinking&gt;</code> to your project file.</p>
<h2>Build Progressive Web Apps with Blazor</h2>
<p>A Progressive Web App (PWA) is a web-based app that uses modern browser APIs and capabilities to behave like a native app. These capabilities can include:</p>
<ul>
<li>Working offline and always loading instantly, independently of network speed</li>
<li>Being able to run in its own app window, not just a browser window</li>
<li>Being launched from the host operating system (OS) start menu, dock, or home screen</li>
<li>Receiving push notifications from a backend server, even while the user is not using the app</li>
<li>Automatically updating in the background</li>
</ul>
<p>A user might first discover and use the app within their web browser like any other single-page app (SPA), then later progress to installing it in their OS and enabling push notifications.</p>
<p>Blazor WebAssembly is a true standards-based client-side web app platform, so it can use any browser API, including the APIs needed for PWA functionality.</p>
<h3>Using the PWA template</h3>
<p>When creating a new Blazor WebAssembly app, you’re offered the option to add PWA features. In Visual Studio, the option is given as a checkbox in the project creation dialog:</p>
<p><a href="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/create-blazor-pwa.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/create-blazor-pwa.png" alt="image">  </a></p>
<p>If you’re creating the project on the command line, you can use the <code>--pwa</code> flag. For example,</p>
<pre><code><span>dotnet </span><span>new</span><span> blazorwasm </span><span>--</span><span>pwa </span><span>-</span><span>o </span><span>MyNewProject</span></code></pre>
<p>In both cases, you’re free to also use the “ASP.NET Core hosted” option if you wish, but don’t have to do so. PWA features are independent of how the app is hosted.</p>
<h3>Installation and app manifest</h3>
<p>When visiting an app created using the PWA template option, users have the option to install the app into their OS’s start menu, dock, or home screen.</p>
<p>The way this option is presented depends on the user’s browser. For example, when using desktop Chromium-based browsers such as Edge or Chrome, an <em>Add</em> button appears within the address bar:</p>
<p><a href="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/install-blazor-pwa.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/install-blazor-pwa.png" alt="image">  </a></p>
<p>On iOS, visitors can install the PWA using Safari’s <em>Share</em> button and its <em>Add to Homescreen</em> option. On Chrome for Android, users should tap the <em>Menu</em> button in the upper-right corner, then choose <em>Add to Home screen</em>.</p>
<p>Once installed, the app appears in its own window, without any address bar.</p>
<p><a href="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/Installed-blazor-pwa-1.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/Installed-blazor-pwa-1.png" alt="image">  </a></p>
<p>To customize the window’s title, color scheme, icon, or other details, see the file <code>manifest.json</code> in your project’s <code>wwwroot</code> directory. The schema of this file is defined by web standards. For detailed documentation, see https://developer.mozilla.org/en-US/docs/Web/Manifest.</p>
<h3>Offline support</h3>
<p>By default, apps created using the PWA template option have support for running offline. A user must first visit the app while they are online, then the browser will automatically download and cache all the resources needed to operate offline.</p>
<blockquote>
<p><strong>Important:</strong> Offline support is only enabled for <em>published</em> apps. It is not enabled during development. This is because it would interfere with the usual development cycle of making changes and testing them.</p>
<p><strong>Warning:</strong> If you intend to ship an offline-enabled PWA, there are <a href="https://aka.ms/blazor-offline-considerations" target="_blank">several important warnings and caveats</a> you need to understand. These are inherent to offline PWAs, and not specific to Blazor. Be sure to read and understand these caveats before making assumptions about how your offline-enabled app will work.</p>
</blockquote>
<p>To see how offline support works, first <a href="https://docs.microsoft.com/aspnet/core/host-and-deploy/blazor/#publish-the-app" target="_blank">publish your app</a>, and host it on a server supporting HTTPS. When you visit the app, you should be able to open the browser’s dev tools and verify that a <em>Service Worker</em> is registered for your host:</p>
<p><a href="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/server-worker.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/server-worker.png" alt="image">  </a></p>
<p>Additionally, if you reload the page, then on the <em>Network</em> tab you should see that all resources needed to load your page are being retrieved from the <em>Service Worker</em> or <em>Memory Cache</em>:</p>
<p><a href="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/blazor-cached-resources.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/blazor-cached-resources.png" alt="image">  </a></p>
<p>This shows that the browser is not dependent on network access to load your app. To verify this, you can either shut down your web server, or instruct the browser to simulate offline mode:</p>
<p><a href="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/browser-offline.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/03/browser-offline.png" alt="image">  </a></p>
<p>Now, even without access to your web server, you should be able to reload the page and see that your app still loads and runs. Likewise, even if you simulate a very slow network connection, your page will still load almost immediately since it’s loaded independently of the network.</p>
<p>To learn more about building PWAs with Blazor, check out the <a href="https://docs.microsoft.com/aspnet/core/blazor/progressive-web-app/" target="_blank">documentation</a>.</p>
<h2>Known issues</h2>
<p>There are a few known issues with this release that you may run into:</p>
<ul>
<li>
<p>When building a Blazor WebAssembly app using an older .NET Core SDK you may see the following build error:</p>
<pre><code><span>error MSB4018</span><span>:</span><span> </span><span>The</span><span> </span><span>"ResolveBlazorRuntimeDependencies"</span><span> task failed unexpectedly</span><span>.</span><span>
error MSB4018</span><span>:</span><span> </span><span>System</span><span>.</span><span>IO</span><span>.</span><span>FileNotFoundException</span><span>:</span><span> </span><span>Could</span><span> </span><span>not</span><span> load file </span><span>or</span><span> assembly </span><span>'\BlazorApp1\obj\Debug\netstandard2.1\BlazorApp1.dll'</span><span>.</span><span> </span><span>The</span><span> system cannot find the file specified</span><span>.</span><span>
error MSB4018</span><span>:</span><span> </span><span>File</span><span> name</span><span>:</span><span> </span><span>'\BlazorApp1\obj\Debug\netstandard2.1\BlazorApp1.dll'</span><span> 
error MSB4018</span><span>:</span><span>    at </span><span>System</span><span>.</span><span>Reflection</span><span>.</span><span>AssemblyName</span><span>.</span><span>nGetFileInformation</span><span>(</span><span>String</span><span> s</span><span>)</span><span>
error MSB4018</span><span>:</span><span>    at </span><span>System</span><span>.</span><span>Reflection</span><span>.</span><span>AssemblyName</span><span>.</span><span>GetAssemblyName</span><span>(</span><span>String</span><span> assemblyFile</span><span>)</span><span>
error MSB4018</span><span>:</span><span>    at </span><span>Microsoft</span><span>.</span><span>AspNetCore</span><span>.</span><span>Components</span><span>.</span><span>WebAssembly</span><span>.</span><span>Build</span><span>.</span><span>ResolveBlazorRuntimeDependencies</span><span>.</span><span>GetAssemblyName</span><span>(</span><span>String</span><span> assemblyPath</span><span>)</span><span>
error MSB4018</span><span>:</span><span>    at </span><span>Microsoft</span><span>.</span><span>AspNetCore</span><span>.</span><span>Components</span><span>.</span><span>WebAssembly</span><span>.</span><span>Build</span><span>.</span><span>ResolveBlazorRuntimeDependencies</span><span>.</span><span>ResolveRuntimeDependenciesCore</span><span>(</span><span>String</span><span> entryPoint</span><span>,</span><span> </span><span>IEnumerable</span><span>`1 applicationDependencies, IEnumerable`</span><span>1</span><span> monoBclAssemblies</span><span>)</span><span>
error MSB4018</span><span>:</span><span>    at </span><span>Microsoft</span><span>.</span><span>AspNetCore</span><span>.</span><span>Components</span><span>.</span><span>WebAssembly</span><span>.</span><span>Build</span><span>.</span><span>ResolveBlazorRuntimeDependencies</span><span>.</span><span>Execute</span><span>()</span><span>
error MSB4018</span><span>:</span><span>    at </span><span>Microsoft</span><span>.</span><span>Build</span><span>.</span><span>BackEnd</span><span>.</span><span>TaskExecutionHost</span><span>.</span><span>Microsoft</span><span>.</span><span>Build</span><span>.</span><span>BackEnd</span><span>.</span><span>ITaskExecutionHost</span><span>.</span><span>Execute</span><span>()</span><span>
error MSB4018</span><span>:</span><span>    at </span><span>Microsoft</span><span>.</span><span>Build</span><span>.</span><span>BackEnd</span><span>.</span><span>TaskBuilder</span><span>.</span><span>ExecuteInstantiatedTask</span><span>(</span><span>ITaskExecutionHost</span><span> taskExecutionHost</span><span>,</span><span> </span><span>TaskLoggingContext</span><span> taskLoggingContext</span><span>,</span><span> </span><span>TaskHost</span><span> taskHost</span><span>,</span><span> </span><span>ItemBucket</span><span> bucket</span><span>,</span><span> </span><span>TaskExecutionMode</span><span> howToExecuteTask</span><span>)</span></code></pre>
<p>To address this issue, upgrade to version 3.1.102 or later of the <a href="https://dotnet.microsoft.com/download/dotnet-core/3.1" target="_blank">.NET Core 3.1 SDK</a>.</p>
</li>
<li>
<p>You may see the following warning when building from the command-line:</p>
<pre><code><span>CSC </span><span>:</span><span> warning CS8034</span><span>:</span><span> </span><span>Unable</span><span> to load </span><span>Analyzer</span><span> assembly C</span><span>:</span><span>\Users\user\.nuget\packages\microsoft</span><span>.</span><span>aspnetcore</span><span>.</span><span>components</span><span>.</span><span>analyzers\3</span><span>.</span><span>1.0</span><span>\analyzers\dotnet\cs\Microsoft</span><span>.</span><span>AspNetCore</span><span>.</span><span>Components</span><span>.</span><span>Analyzers</span><span>.</span><span>dll </span><span>:</span><span> </span><span>Assembly</span><span> </span><span>with</span><span> same name </span><span>is</span><span> already loaded</span></code></pre>
<p>This issue will be fixed in a future update to the .NET Core SDK. To workaround this issue, add the <code>&lt;DisableImplicitComponentsAnalyzers&gt;true&lt;/DisableImplicitComponentsAnalyzers&gt;</code> property to the project file.</p>
</li>
</ul>
<h2>Feedback</h2>
<p>We hope you enjoy the new features in this preview release of Blazor WebAssembly! Please let us know what you think by filing issues on <a href="https://github.com/dotnet/aspnetcore/issues" target="_blank">GitHub</a>.</p>
<p>Thanks for trying out Blazor!</p>
        
        
        
        

		        
        
        
	</div><!-- .entry-content -->
    
    </div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
ASP.NET Core updates in .NET 5 Preview 6 | ASP.NET Blog - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="ASP.NET Core updates in .NET 5 Preview 6 | ASP.NET Blog - linksfor.dev(s)"/>
    <meta property="article:author" content="Sourabh ShirhattiFollow"/>
    <meta property="og:description" content="ASP.NET Core updates in .NET 5 Preview 6"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://devblogs.microsoft.com/aspnet/asp-net-core-updates-in-net-5-preview-6/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - ASP.NET Core updates in .NET 5 Preview 6 | ASP.NET Blog</title>
<div class="readable">
        <h1>ASP.NET Core updates in .NET 5 Preview 6 | ASP.NET Blog</h1>
            <div>by Sourabh ShirhattiFollow</div>
            <div>Reading time: 4-5 minutes</div>
        <div>Posted here: 26 Jun 2020</div>
        <p><a href="https://devblogs.microsoft.com/aspnet/asp-net-core-updates-in-net-5-preview-6/">https://devblogs.microsoft.com/aspnet/asp-net-core-updates-in-net-5-preview-6/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="featured">

	<div>
                
         <div><div><div><p><img src="https://secure.gravatar.com/avatar/07efe6bbd54a0f6649a09f43acb183d8?s=58&amp;d=mm&amp;r=g" width="58" height="58" alt="Avatar"></p><p>Sourabh</p></div></div></div>     
        <p>June 25th, 2020</p><!-- .entry-meta -->

		<p><a href="https://devblogs.microsoft.com/dotnet/announcing-net-5-0-preview-6/">.NET 5 Preview 6 is now available</a> and is ready for evaluation. Here’s what’s new in this release:</p>
<ul>
<li>Blazor WebAssembly template now included</li>
<li>JSON extension methods for <code><span>HttpRequest</span></code> and <code><span>HttpResponse</span></code></li>
<li>Extension method to allow anonymous access to an endpoint</li>
<li>Custom handling of authorization failures</li>
<li>SignalR Hub filters</li>
</ul>
<h2>Get started</h2>
<p>To get started with ASP.NET Core in .NET 5.0 Preview 6 <a href="https://dotnet.microsoft.com/download/dotnet-core/5.0" target="_blank">install the .NET 5.0 SDK</a>.</p>
<p>You need to use <a href="https://visualstudio.microsoft.com/vs/preview/" target="_blank">Visual Studio 2019 16.7</a> or <a href="https://visualstudio.microsoft.com/" target="_blank">Visual Studio 2019 for Mac 8.6</a> to use .NET 5.0. Install the latest version of the <a href="https://code.visualstudio.com/Docs/languages/csharp" target="_blank">C# extension</a>, to use .NET 5.0 with <a href="https://visualstudio.microsoft.com/" target="_blank">Visual Studio Code</a>.</p>
<h2>Upgrade an existing project</h2>
<p>To upgrade an existing ASP.NET Core 5.0 Preview 5 app to ASP.NET Core 5.0 Preview 6:</p>
<ul>
<li>Update all Microsoft.AspNetCore.* package references to <code><span>5.0</span><span>.</span><span>0</span><span>-</span><span>preview</span><span>.</span><span>6.</span><span>*</span></code>.</li>
<li>Update all Microsoft.Extensions.* package references to <code><span>5.0</span><span>.</span><span>0</span><span>-</span><span>preview</span><span>.</span><span>6.</span><span>*</span></code>.</li>
</ul>
<p>See the full list of <a href="https://github.com/aspnet/announcements/issues?q=is%3Aopen+is%3Aissue+milestone%3A5.0+label%3A%22Breaking+change%22" target="_blank">breaking changes</a> in ASP.NET Core 5.0.</p>
<p>That’s it! You should now be all set to use .NET 5 Preview 6.</p>
<h2>What’s new?</h2>
<h3>Blazor WebAssembly template now included</h3>
<p>The Blazor WebAssembly template is now included in the .NET 5 SDK along with the Blazor Server template. To create a Blazor WebAssembly project, simply run <code><span>dotnet </span><span>new</span><span> blazorwasm</span></code>.</p>
<h3>JSON extension methods for <code><span>HttpRequest</span></code> and <code><span>HttpResponse</span></code></h3>
<p>You can now easily read and write JSON data from an <code><span>HttpRequest</span></code> and <code><span>HttpResponse</span></code> using the new <code><span>ReadFromJsonAsync</span></code> and <code><span>WriteAsJsonAsync</span></code> extension methods. These extension methods use the <code><span>System</span><span>.</span><span>Text</span><span>.</span><span>Json</span></code> serializer to handle the JSON data. You can also check if a request has a JSON content type using the new <code><span>HasJsonContentType</span></code> extension method.</p>
<p>The JSON extension methods can be combined with endpoint routing to create JSON APIs in a style of programming we call “route to code”. It is a new option for developers who want to create basic JSON APIs in a lightweight way. For example, a web app that has only a handful of endpoints might choose to use route to code rather than the full functionality of ASP.NET Core MVC.</p>
<pre><code><span><span>endpoints</span></span><span><span>.</span></span><span><span>MapGet</span></span><span><span>(</span></span><span><span>"/weather/{city:alpha}"</span></span><span><span>,</span></span><span><span> </span></span><span><span>async</span></span><span><span> context </span></span><span><span>=&gt;</span></span><span><span>
</span></span><span><span>{</span></span><span><span>
    </span></span><span><span>var</span></span><span><span> city </span></span><span><span>=</span></span><span><span> </span></span><span><span>(</span></span><span><span>string</span></span><span><span>)</span></span><span><span>context</span></span><span><span>.</span></span><span><span>Request</span></span><span><span>.</span></span><span><span>RouteValues</span></span><span><span>[</span></span><span><span>"city"</span></span><span><span>];</span></span><span><span>
    </span></span><span><span>var</span></span><span><span> weather </span></span><span><span>=</span></span><span><span> </span></span><span><span>GetFromDatabase</span></span><span><span>(</span></span><span><span>city</span></span><span><span>);</span></span><span><span>

    </span></span><span><span>await</span></span><span><span> context</span></span><span><span>.</span></span><span><span>Response</span></span><span><span>.</span></span><span><span>WriteAsJsonAsync</span></span><span><span>(</span></span><span><span>weather</span></span><span><span>);</span></span><span><span>
</span></span><span><span>});</span></span></code></pre>
<p>Find out more about the JSON extension methods in a <a href="https://channel9.msdn.com/Shows/On-NET/ASPNET-Core-Series-Route-to-Code" target="_blank">recent On .NET interview about route to code</a>.</p>
<h3>Extension method to allow anonymous access to an endpoint</h3>
<p>You can now allow anonymous access to an endpoint using the simpler <code><span>AllowAnonymous</span></code> extension method when using endpoint routing.</p>
<pre><code><span><span>public</span></span><span><span> </span></span><span><span>void</span></span><span><span> </span></span><span><span>Configure</span></span><span><span>(</span></span><span><span>IApplicationBuilder</span></span><span><span> app</span></span><span><span>,</span></span><span><span> </span></span><span><span>IWebHostEnvironment</span></span><span><span> env</span></span><span><span>)</span></span><span><span>
</span></span><span><span>{</span></span><span><span>
    app</span></span><span><span>.</span></span><span><span>UseRouting</span></span><span><span>();</span></span><span><span>

    app</span></span><span><span>.</span></span><span><span>UseAuthentication</span></span><span><span>();</span></span><span><span>
    app</span></span><span><span>.</span></span><span><span>UseAuthorization</span></span><span><span>();</span></span><span><span>

    app</span></span><span><span>.</span></span><span><span>UseEndpoints</span></span><span><span>(</span></span><span><span>endpoints </span></span><span><span>=&gt;</span></span><span><span>
    </span></span><span><span>{</span></span><span><span>
        endpoints</span></span><span><span>.</span></span><span><span>MapGet</span></span><span><span>(</span></span><span><span>"/"</span></span><span><span>,</span></span><span><span> </span></span><span><span>async</span></span><span><span> context </span></span><span><span>=&gt;</span></span><span><span>
        </span></span><span><span>{</span></span><span><span>
            </span></span><span><span>await</span></span><span><span> context</span></span><span><span>.</span></span><span><span>Response</span></span><span><span>.</span></span><span><span>WriteAsync</span></span><span><span>(</span></span><span><span>"Hello World!"</span></span><span><span>);</span></span><span><span>
        </span></span><span><span>})</span></span><span><span>
        </span></span><span><span>.</span></span><span><span>AllowAnonymous</span></span><span><span>();</span></span><span><span>
    </span></span><span><span>});</span></span><span><span>
</span></span><span><span>}</span></span></code></pre>
<h3>Custom handling of authorization failures</h3>
<p>Custom handling of authorization failures is now easier with the new <code><span>IAuthorizationMiddlewareResultHandler</span></code> interface that is invoked by the AuthorizationMiddleware. The default implementation remains the same, but a custom handler can be be registered in DI which allows things like custom HTTP responses based on why authorization failed. A sample that demonstrates usage of the <code><span>IAuthorizationMiddlewareResultHandler</span></code> can be found <a href="https://github.com/dotnet/aspnetcore/blob/master/src/Security/samples/CustomAuthorizationFailureResponse/Authorization/SampleAuthorizationMiddlewareResultHandler.cs" target="_blank">here</a>.</p>
<h3>SignalR Hub filters</h3>
<p>Hub filters, called Hub pipelines in ASP.NET SignalR, is a feature that allows you to run code before and after Hub methods are called, similar to how middleware lets you run code before and after an HTTP request. Common uses include logging, error handling, and argument validation.</p>
<p>You can read more about this Hub filters on the <a href="https://docs.microsoft.com/aspnet/core/signalr/hub-filters?view=aspnetcore-5.0" target="_blank">docs page</a>.</p>
<h2>Give feedback</h2>
<p>We hope you enjoy this release of ASP.NET Core in .NET 5! We are eager to hear about your experiences with this latest .NET 5 release. Let us know what you think by filing issues on <a href="https://github.com/dotnet/aspnetcore/issues" target="_blank">GitHub</a>.</p>
<p>Thanks for trying out ASP.NET Core!</p>
        
        
        
        

		        
        
        
	</div><!-- .entry-content -->
    
    </div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
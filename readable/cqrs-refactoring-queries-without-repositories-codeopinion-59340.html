<!DOCTYPE html>
<html lang="en">
<head>
    <title>
CQRS: Refactoring Queries without Repositories - CodeOpinion - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="CQRS: Refactoring Queries without Repositories - CodeOpinion - linksfor.dev(s)"/>
    <meta property="og:description" content="Should you eager or lazy load navigation properties in your Aggregate Root? The answer is neither by using queries without Repositories or Aggregate Roots."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://codeopinion.com/cqrs-refactoring-queries-without-repositories/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - CQRS: Refactoring Queries without Repositories - CodeOpinion</title>
<div class="readable">
        <h1>CQRS: Refactoring Queries without Repositories - CodeOpinion</h1>
            <div>Reading time: 14-18 minutes</div>
        <div>Posted here: 06 Mar 2020</div>
        <p><a href="https://codeopinion.com/cqrs-refactoring-queries-without-repositories/">https://codeopinion.com/cqrs-refactoring-queries-without-repositories/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><article id="post-6834">
		<div>
		<!-- .entry-header -->

		<div>
			
<figure><img src="https://codeopinion.com/wp-content/uploads/2020/03/RefactorTwitter-1-1024x536.png" alt="CQRS: Refactoring Queries without Repositories" srcset="https://codeopinion.com/wp-content/uploads/2020/03/RefactorTwitter-1-1024x536.png 1024w, https://codeopinion.com/wp-content/uploads/2020/03/RefactorTwitter-1-300x157.png 300w, https://codeopinion.com/wp-content/uploads/2020/03/RefactorTwitter-1-768x402.png 768w, https://codeopinion.com/wp-content/uploads/2020/03/RefactorTwitter-1.png 1200w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>


<figure>
<div>
<twitter-widget id="twitter-widget-3" data-tweet-id="1232146307642343425"></twitter-widget>
</div>
</figure>


<p>This question posted on Twitter (and the subsequent thread) caught my attention.  I had to pipe in with my own opinion on having queries without repositories.</p>


<figure>
<div>
<twitter-widget id="twitter-widget-4" data-tweet-id="1232322907512221697"></twitter-widget>
</div>
</figure>


<p>To summarize, the question is about using Aggregate Roots with an ORM like Entity Framework.  Should you eager load all navigation properties or alternatively I guess, use lazy loading?</p>


<p>My answer is if you’re only using an aggregate root for commands (to change state) and you generally have a higher read to write ratio, then eager load the navigation properties.  As a general rule of thumb.</p>


<h2>eShopOnWeb</h2>


<p>I recently heard about <a rel="noreferrer noopener" aria-label="eShipOnWeb (opens in a new tab)" href="https://github.com/dotnet-architecture/eShopOnWeb" target="_blank">eShipOnWeb</a> from <a rel="noreferrer noopener" aria-label="Steve Smith (opens in a new tab)" href="https://twitter.com/ardalis" target="_blank">Steve Smith</a>.  It’s a reference application using ASP.NET Core 3.1 using a layered monolithic architecture.</p>


<p>I decided to take a look around and try and refactor a spot that was using a repository for a query.</p>


<p>There is a query to return all of the orders for a signed-in user.  It’s pretty simple but is a good example of it using the <strong>OrderRepository</strong> along with a specification to fetch out the relevant orders.  From there it creates a ViewModel that is used in a Razor view.</p>


<figure>
<div>
<div><div id="gist101615194">
    <div>
      <div>
        <div>
  <div id="file-myorders-cs">
    

  <div itemprop="text">
      
<table data-tab-size="8">
      <tbody><tr>
        <td id="file-myorders-cs-L1" data-line-number="1"></td>
        <td id="file-myorders-cs-LC1"><span>using</span> <span>MediatR</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L2" data-line-number="2"></td>
        <td id="file-myorders-cs-LC2"><span>using</span> <span>Microsoft</span>.<span>eShopWeb</span>.<span>ApplicationCore</span>.<span>Interfaces</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L3" data-line-number="3"></td>
        <td id="file-myorders-cs-LC3"><span>using</span> <span>Microsoft</span>.<span>eShopWeb</span>.<span>ApplicationCore</span>.<span>Specifications</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L4" data-line-number="4"></td>
        <td id="file-myorders-cs-LC4"><span>using</span> <span>Microsoft</span>.<span>eShopWeb</span>.<span>Web</span>.<span>ViewModels</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L5" data-line-number="5"></td>
        <td id="file-myorders-cs-LC5"><span>using</span> <span>System</span>.<span>Collections</span>.<span>Generic</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L6" data-line-number="6"></td>
        <td id="file-myorders-cs-LC6"><span>using</span> <span>System</span>.<span>Linq</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L7" data-line-number="7"></td>
        <td id="file-myorders-cs-LC7"><span>using</span> <span>System</span>.<span>Threading</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L8" data-line-number="8"></td>
        <td id="file-myorders-cs-LC8"><span>using</span> <span>System</span>.<span>Threading</span>.<span>Tasks</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L9" data-line-number="9"></td>
        <td id="file-myorders-cs-LC9">
</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L10" data-line-number="10"></td>
        <td id="file-myorders-cs-LC10"><span>namespace</span> <span>Microsoft</span>.<span>eShopWeb</span>.<span>Web</span>.<span>Features</span>.<span>MyOrders</span></td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L11" data-line-number="11"></td>
        <td id="file-myorders-cs-LC11">{</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L12" data-line-number="12"></td>
        <td id="file-myorders-cs-LC12">    <span>public</span> <span>class</span> <span>GetMyOrdersHandler</span> : <span>IRequestHandler</span>&lt;<span>GetMyOrders</span>, <span>IEnumerable</span>&lt;<span>OrderViewModel</span>&gt;&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L13" data-line-number="13"></td>
        <td id="file-myorders-cs-LC13">    {</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L14" data-line-number="14"></td>
        <td id="file-myorders-cs-LC14">        <span>private</span> <span>readonly</span> <span>IOrderRepository</span> <span>_orderRepository</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L15" data-line-number="15"></td>
        <td id="file-myorders-cs-LC15">
</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L16" data-line-number="16"></td>
        <td id="file-myorders-cs-LC16">        <span>public</span> <span>GetMyOrdersHandler</span>(<span>IOrderRepository</span> <span>orderRepository</span>)</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L17" data-line-number="17"></td>
        <td id="file-myorders-cs-LC17">        {</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L18" data-line-number="18"></td>
        <td id="file-myorders-cs-LC18">            <span>_orderRepository</span> <span>=</span> <span>orderRepository</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L19" data-line-number="19"></td>
        <td id="file-myorders-cs-LC19">        }</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L20" data-line-number="20"></td>
        <td id="file-myorders-cs-LC20">
</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L21" data-line-number="21"></td>
        <td id="file-myorders-cs-LC21">        <span>public</span> <span>async</span> <span>Task</span>&lt;<span>IEnumerable</span>&lt;<span>OrderViewModel</span>&gt;&gt; <span>Handle</span>(<span>GetMyOrders</span> <span>request</span>, <span>CancellationToken</span> <span>cancellationToken</span>)</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L22" data-line-number="22"></td>
        <td id="file-myorders-cs-LC22">        {</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L23" data-line-number="23"></td>
        <td id="file-myorders-cs-LC23">            <span>var</span> <span>specification</span> <span>=</span> <span>new</span> <span>CustomerOrdersWithItemsSpecification</span>(<span>request</span>.<span>UserName</span>);</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L24" data-line-number="24"></td>
        <td id="file-myorders-cs-LC24">            <span>var</span> <span>orders</span> <span>=</span> <span>await</span> <span>_orderRepository</span>.<span>ListAsync</span>(<span>specification</span>);</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L25" data-line-number="25"></td>
        <td id="file-myorders-cs-LC25">
</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L26" data-line-number="26"></td>
        <td id="file-myorders-cs-LC26">            <span>return</span> <span>orders</span>.<span>Select</span>(<span>o</span> <span>=&gt;</span> <span>new</span> <span>OrderViewModel</span></td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L27" data-line-number="27"></td>
        <td id="file-myorders-cs-LC27">            {</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L28" data-line-number="28"></td>
        <td id="file-myorders-cs-LC28">                <span>OrderDate</span> <span>=</span> <span>o</span>.<span>OrderDate</span>,</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L29" data-line-number="29"></td>
        <td id="file-myorders-cs-LC29">                <span>OrderItems</span> <span>=</span> <span>o</span>.<span>OrderItems</span><span>?</span>.<span>Select</span>(<span>oi</span> <span>=&gt;</span> <span>new</span> <span>OrderItemViewModel</span>()</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L30" data-line-number="30"></td>
        <td id="file-myorders-cs-LC30">                {</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L31" data-line-number="31"></td>
        <td id="file-myorders-cs-LC31">                    <span>PictureUrl</span> <span>=</span> <span>oi</span>.<span>ItemOrdered</span>.<span>PictureUri</span>,</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L32" data-line-number="32"></td>
        <td id="file-myorders-cs-LC32">                    <span>ProductId</span> <span>=</span> <span>oi</span>.<span>ItemOrdered</span>.<span>CatalogItemId</span>,</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L33" data-line-number="33"></td>
        <td id="file-myorders-cs-LC33">                    <span>ProductName</span> <span>=</span> <span>oi</span>.<span>ItemOrdered</span>.<span>ProductName</span>,</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L34" data-line-number="34"></td>
        <td id="file-myorders-cs-LC34">                    <span>UnitPrice</span> <span>=</span> <span>oi</span>.<span>UnitPrice</span>,</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L35" data-line-number="35"></td>
        <td id="file-myorders-cs-LC35">                    <span>Units</span> <span>=</span> <span>oi</span>.<span>Units</span></td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L36" data-line-number="36"></td>
        <td id="file-myorders-cs-LC36">                }).<span>ToList</span>(),</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L37" data-line-number="37"></td>
        <td id="file-myorders-cs-LC37">                <span>OrderNumber</span> <span>=</span> <span>o</span>.<span>Id</span>,</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L38" data-line-number="38"></td>
        <td id="file-myorders-cs-LC38">                <span>ShippingAddress</span> <span>=</span> <span>o</span>.<span>ShipToAddress</span>,</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L39" data-line-number="39"></td>
        <td id="file-myorders-cs-LC39">                <span>Total</span> <span>=</span> <span>o</span>.<span>Total</span>()</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L40" data-line-number="40"></td>
        <td id="file-myorders-cs-LC40">            });</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L41" data-line-number="41"></td>
        <td id="file-myorders-cs-LC41">        }</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L42" data-line-number="42"></td>
        <td id="file-myorders-cs-LC42">    }</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L43" data-line-number="43"></td>
        <td id="file-myorders-cs-LC43">}</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      
    </div>
</div>
</div>
</div>
</figure>


<p>Here’s the razor view for reference</p>


<figure>
<div>
<div><div id="gist101615215">
    <div>
      <div>
        <div>
  <div id="file-myorders-cshtml">
    

  <div itemprop="text">
      
<table data-tab-size="8">
      <tbody><tr>
        <td id="file-myorders-cshtml-L1" data-line-number="1"></td>
        <td id="file-myorders-cshtml-LC1"><span>@model </span><span>IEnumerable</span>&lt;<span>OrderViewModel</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L2" data-line-number="2"></td>
        <td id="file-myorders-cshtml-LC2"><span>@{</span></td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L3" data-line-number="3"></td>
        <td id="file-myorders-cshtml-LC3">    <span>ViewData</span>[<span><span>"</span>Title<span>"</span></span>] <span>=</span> <span><span>"</span>My Order History<span>"</span></span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L4" data-line-number="4"></td>
        <td id="file-myorders-cshtml-LC4"><span>}</span></td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L5" data-line-number="5"></td>
        <td id="file-myorders-cshtml-LC5">
</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L6" data-line-number="6"></td>
        <td id="file-myorders-cshtml-LC6">&lt;<span>div</span> <span>class</span>=<span><span>"</span>esh-orders<span>"</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L7" data-line-number="7"></td>
        <td id="file-myorders-cshtml-LC7">    &lt;<span>div</span> <span>class</span>=<span><span>"</span>container<span>"</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L8" data-line-number="8"></td>
        <td id="file-myorders-cshtml-LC8">        &lt;<span>h1</span>&gt;<span>@ViewData</span>["Title"]&lt;/<span>h1</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L9" data-line-number="9"></td>
        <td id="file-myorders-cshtml-LC9">        &lt;<span>article</span> <span>class</span>=<span><span>"</span>esh-orders-titles row<span>"</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L10" data-line-number="10"></td>
        <td id="file-myorders-cshtml-LC10">            &lt;<span>section</span> <span>class</span>=<span><span>"</span>esh-orders-title col-xs-2<span>"</span></span>&gt;Order number&lt;/<span>section</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L11" data-line-number="11"></td>
        <td id="file-myorders-cshtml-LC11">            &lt;<span>section</span> <span>class</span>=<span><span>"</span>esh-orders-title col-xs-4<span>"</span></span>&gt;Date&lt;/<span>section</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L12" data-line-number="12"></td>
        <td id="file-myorders-cshtml-LC12">            &lt;<span>section</span> <span>class</span>=<span><span>"</span>esh-orders-title col-xs-2<span>"</span></span>&gt;Total&lt;/<span>section</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L13" data-line-number="13"></td>
        <td id="file-myorders-cshtml-LC13">            &lt;<span>section</span> <span>class</span>=<span><span>"</span>esh-orders-title col-xs-2<span>"</span></span>&gt;Status&lt;/<span>section</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L14" data-line-number="14"></td>
        <td id="file-myorders-cshtml-LC14">            &lt;<span>section</span> <span>class</span>=<span><span>"</span>esh-orders-title col-xs-2<span>"</span></span>&gt;&lt;/<span>section</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L15" data-line-number="15"></td>
        <td id="file-myorders-cshtml-LC15">        &lt;/<span>article</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L16" data-line-number="16"></td>
        <td id="file-myorders-cshtml-LC16">        <span>@if</span> (<span>Model</span> <span>!=</span> <span>null</span> <span>&amp;&amp;</span> <span>Model</span>.<span>Any</span>())</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L17" data-line-number="17"></td>
        <td id="file-myorders-cshtml-LC17">        <span>{</span></td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L18" data-line-number="18"></td>
        <td id="file-myorders-cshtml-LC18">            <span>@foreach (</span><span>var</span> <span>item</span> <span>in</span> <span>Model</span><span>)</span></td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L19" data-line-number="19"></td>
        <td id="file-myorders-cshtml-LC19">            <span>{</span></td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L20" data-line-number="20"></td>
        <td id="file-myorders-cshtml-LC20">                &lt;<span>article</span> <span>class</span>=<span><span>"</span>esh-orders-items row<span>"</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L21" data-line-number="21"></td>
        <td id="file-myorders-cshtml-LC21">                    &lt;<span>section</span> <span>class</span>=<span><span>"</span>esh-orders-item col-xs-2<span>"</span></span>&gt;<span>@Html.DisplayFor(modelItem</span> <span>=</span><span>&gt;</span> <span>item</span>.<span>OrderNumber</span>)&lt;/<span>section</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L22" data-line-number="22"></td>
        <td id="file-myorders-cshtml-LC22">                    &lt;<span>section</span> <span>class</span>=<span><span>"</span>esh-orders-item col-xs-4<span>"</span></span>&gt;<span>@Html.DisplayFor(modelItem</span> <span>=</span><span>&gt;</span> <span>item</span>.<span>OrderDate</span>)&lt;/<span>section</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L23" data-line-number="23"></td>
        <td id="file-myorders-cshtml-LC23">                    &lt;<span>section</span> <span>class</span>=<span><span>"</span>esh-orders-item col-xs-2<span>"</span></span>&gt;$ <span>@Html.DisplayFor(modelItem</span> <span>=</span><span>&gt;</span> <span>item</span>.<span>Total</span>)&lt;/<span>section</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L24" data-line-number="24"></td>
        <td id="file-myorders-cshtml-LC24">                    &lt;<span>section</span> <span>class</span>=<span><span>"</span>esh-orders-item col-xs-2<span>"</span></span>&gt;<span>@Html.DisplayFor(modelItem</span> <span>=</span><span>&gt;</span> <span>item</span>.<span>Status</span>)&lt;/<span>section</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L25" data-line-number="25"></td>
        <td id="file-myorders-cshtml-LC25">                    &lt;<span>section</span> <span>class</span>=<span><span>"</span>esh-orders-item col-xs-1<span>"</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L26" data-line-number="26"></td>
        <td id="file-myorders-cshtml-LC26">                        &lt;<span>a</span> <span>class</span>=<span><span>"</span>esh-orders-link<span>"</span></span> <span>asp-controller</span>=<span><span>"</span>Order<span>"</span></span> <span>asp-action</span>=<span><span>"</span>Detail<span>"</span></span> <span>asp-route-orderId</span>=<span><span>"</span>@item.OrderNumber<span>"</span></span>&gt;<span>Detail</span>&lt;/<span>a</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L27" data-line-number="27"></td>
        <td id="file-myorders-cshtml-LC27">                    &lt;/<span>section</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L28" data-line-number="28"></td>
        <td id="file-myorders-cshtml-LC28">                    &lt;<span>section</span> <span>class</span>=<span><span>"</span>esh-orders-item col-xs-1<span>"</span></span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L29" data-line-number="29"></td>
        <td id="file-myorders-cshtml-LC29">                        <span>@if</span> (<span>item</span>.<span>Status</span>.<span>ToLower</span>() <span>==</span> <span><span>"</span>submitted<span>"</span></span>)</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L30" data-line-number="30"></td>
        <td id="file-myorders-cshtml-LC30">                    <span>{</span></td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L31" data-line-number="31"></td>
        <td id="file-myorders-cshtml-LC31">                            &lt;<span>a</span> <span>class</span>=<span><span>"</span>esh-orders-link<span>"</span></span> <span>asp-controller</span>=<span><span>"</span>Order<span>"</span></span> <span>asp-action</span>=<span><span>"</span>cancel<span>"</span></span> <span>asp-route-orderId</span>=<span><span>"</span>@item.OrderNumber<span>"</span></span>&gt;<span>Cancel</span>&lt;/<span>a</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L32" data-line-number="32"></td>
        <td id="file-myorders-cshtml-LC32">                        <span>}</span></td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L33" data-line-number="33"></td>
        <td id="file-myorders-cshtml-LC33">                    &lt;/<span>section</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L34" data-line-number="34"></td>
        <td id="file-myorders-cshtml-LC34">                &lt;/<span>article</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L35" data-line-number="35"></td>
        <td id="file-myorders-cshtml-LC35">            <span>}</span></td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L36" data-line-number="36"></td>
        <td id="file-myorders-cshtml-LC36">        <span>}</span></td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L37" data-line-number="37"></td>
        <td id="file-myorders-cshtml-LC37">    &lt;/<span>div</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cshtml-L38" data-line-number="38"></td>
        <td id="file-myorders-cshtml-LC38">&lt;/<span>div</span>&gt;</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      
    </div>
</div>
</div>
</div>
</figure>


<p>Looking at the Razor view, you can see that it doesn’t use some of the properties on <strong>OrderViewModel</strong>.  The OrderItems or ShippingAddress properties are never used.</p>


<p>The Repository with the specification is retrieving the entire Order Aggregate Root and eager loading the OrderItems.  We’re fetching in a lot of data that we simply aren’t using.</p>


<h2>Refactoring Queries without Repositories</h2>


<p>The refactor is rather simple.  Just remove the repository and instead inject the Entity Framework DbContext (CatalogContext).  The second part is creating a separate ViewModel (MyOrdersViewModel ) that only contains the data we need for our Razor view.  Then use this new ViewModel as a projection in our EF Query.</p>


<figure>
<div>
<div><div id="gist101615277">
    <div>
      <div>
        <div>
  <div id="file-myorders-cs">
    

  <div itemprop="text">
      
<table data-tab-size="8">
      <tbody><tr>
        <td id="file-myorders-cs-L1" data-line-number="1"></td>
        <td id="file-myorders-cs-LC1"><span>using</span> <span>System</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L2" data-line-number="2"></td>
        <td id="file-myorders-cs-LC2"><span>using</span> <span>MediatR</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L3" data-line-number="3"></td>
        <td id="file-myorders-cs-LC3"><span>using</span> <span>System</span>.<span>Collections</span>.<span>Generic</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L4" data-line-number="4"></td>
        <td id="file-myorders-cs-LC4"><span>using</span> <span>System</span>.<span>Linq</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L5" data-line-number="5"></td>
        <td id="file-myorders-cs-LC5"><span>using</span> <span>System</span>.<span>Threading</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L6" data-line-number="6"></td>
        <td id="file-myorders-cs-LC6"><span>using</span> <span>System</span>.<span>Threading</span>.<span>Tasks</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L7" data-line-number="7"></td>
        <td id="file-myorders-cs-LC7"><span>using</span> <span>Microsoft</span>.<span>AspNetCore</span>.<span>Authorization</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L8" data-line-number="8"></td>
        <td id="file-myorders-cs-LC8"><span>using</span> <span>Microsoft</span>.<span>AspNetCore</span>.<span>Mvc</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L9" data-line-number="9"></td>
        <td id="file-myorders-cs-LC9"><span>using</span> <span>Microsoft</span>.<span>EntityFrameworkCore</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L10" data-line-number="10"></td>
        <td id="file-myorders-cs-LC10"><span>using</span> <span>Microsoft</span>.<span>eShopWeb</span>.<span>Infrastructure</span>.<span>Data</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L11" data-line-number="11"></td>
        <td id="file-myorders-cs-LC11">
</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L12" data-line-number="12"></td>
        <td id="file-myorders-cs-LC12"><span>namespace</span> <span>Microsoft</span>.<span>eShopWeb</span>.<span>Web</span>.<span>Features</span>.<span>MyOrders</span></td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L13" data-line-number="13"></td>
        <td id="file-myorders-cs-LC13">{   </td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L14" data-line-number="14"></td>
        <td id="file-myorders-cs-LC14">    <span>public</span> <span>class</span> <span>MyOrdersViewModel</span></td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L15" data-line-number="15"></td>
        <td id="file-myorders-cs-LC15">    {</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L16" data-line-number="16"></td>
        <td id="file-myorders-cs-LC16">        <span>public</span> <span>IEnumerable</span>&lt;<span>OrderSummaryViewModel</span>&gt; <span>Orders</span> { <span>get</span>; <span>set</span>; }</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L17" data-line-number="17"></td>
        <td id="file-myorders-cs-LC17">    }</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L18" data-line-number="18"></td>
        <td id="file-myorders-cs-LC18">    </td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L19" data-line-number="19"></td>
        <td id="file-myorders-cs-LC19">    <span>public</span> <span>class</span> <span>OrderSummaryViewModel</span></td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L20" data-line-number="20"></td>
        <td id="file-myorders-cs-LC20">    {</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L21" data-line-number="21"></td>
        <td id="file-myorders-cs-LC21">        <span>private</span> <span>const</span> <span>string</span> <span>DEFAULT_STATUS</span> <span>=</span> <span><span>"</span>Pending<span>"</span></span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L22" data-line-number="22"></td>
        <td id="file-myorders-cs-LC22">
</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L23" data-line-number="23"></td>
        <td id="file-myorders-cs-LC23">        <span>public</span> <span>int</span> <span>OrderNumber</span> { <span>get</span>; <span>set</span>; }</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L24" data-line-number="24"></td>
        <td id="file-myorders-cs-LC24">        <span>public</span> <span>DateTimeOffset</span> <span>OrderDate</span> { <span>get</span>; <span>set</span>; }</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L25" data-line-number="25"></td>
        <td id="file-myorders-cs-LC25">        <span>public</span> <span>decimal</span> <span>Total</span> { <span>get</span>; <span>set</span>; }</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L26" data-line-number="26"></td>
        <td id="file-myorders-cs-LC26">        <span>public</span> <span>string</span> <span>Status</span> <span>=&gt;</span> <span>DEFAULT_STATUS</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L27" data-line-number="27"></td>
        <td id="file-myorders-cs-LC27">    }</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L28" data-line-number="28"></td>
        <td id="file-myorders-cs-LC28">    </td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L29" data-line-number="29"></td>
        <td id="file-myorders-cs-LC29">    <span>public</span> <span>class</span> <span>GetMyOrdersHandler</span> : <span>IRequestHandler</span>&lt;<span>GetMyOrders</span>, <span>MyOrdersViewModel</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L30" data-line-number="30"></td>
        <td id="file-myorders-cs-LC30">    {</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L31" data-line-number="31"></td>
        <td id="file-myorders-cs-LC31">        <span>private</span> <span>readonly</span> <span>CatalogContext</span> <span>_db</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L32" data-line-number="32"></td>
        <td id="file-myorders-cs-LC32">
</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L33" data-line-number="33"></td>
        <td id="file-myorders-cs-LC33">        <span>public</span> <span>GetMyOrdersHandler</span>(<span>CatalogContext</span> <span>db</span>)</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L34" data-line-number="34"></td>
        <td id="file-myorders-cs-LC34">        {</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L35" data-line-number="35"></td>
        <td id="file-myorders-cs-LC35">            <span>_db</span> <span>=</span> <span>db</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L36" data-line-number="36"></td>
        <td id="file-myorders-cs-LC36">        }</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L37" data-line-number="37"></td>
        <td id="file-myorders-cs-LC37">
</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L38" data-line-number="38"></td>
        <td id="file-myorders-cs-LC38">        <span>public</span> <span>async</span> <span>Task</span>&lt;<span>MyOrdersViewModel</span>&gt; <span>Handle</span>(<span>GetMyOrders</span> <span>request</span>, <span>CancellationToken</span> <span>cancellationToken</span>)</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L39" data-line-number="39"></td>
        <td id="file-myorders-cs-LC39">        {</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L40" data-line-number="40"></td>
        <td id="file-myorders-cs-LC40">            <span>var</span> <span>result</span> <span>=</span> <span>new</span> <span>MyOrdersViewModel</span>();</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L41" data-line-number="41"></td>
        <td id="file-myorders-cs-LC41">            <span>result</span>.<span>Orders</span> <span>=</span> <span>await</span> <span>_db</span>.<span>Orders</span></td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L42" data-line-number="42"></td>
        <td id="file-myorders-cs-LC42">                .<span>Include</span>(<span>x</span> <span>=&gt;</span> <span>x</span>.<span>OrderItems</span>)</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L43" data-line-number="43"></td>
        <td id="file-myorders-cs-LC43">                .<span>Where</span>(<span>x</span> <span>=&gt;</span> <span>x</span>.<span>BuyerId</span> <span>==</span> <span>request</span>.<span>UserName</span>)</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L44" data-line-number="44"></td>
        <td id="file-myorders-cs-LC44">                .<span>Select</span>(<span>o</span> <span>=&gt;</span> <span>new</span> <span>OrderSummaryViewModel</span></td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L45" data-line-number="45"></td>
        <td id="file-myorders-cs-LC45">                {</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L46" data-line-number="46"></td>
        <td id="file-myorders-cs-LC46">                    <span>OrderDate</span> <span>=</span> <span>o</span>.<span>OrderDate</span>,</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L47" data-line-number="47"></td>
        <td id="file-myorders-cs-LC47">                    <span>OrderNumber</span> <span>=</span> <span>o</span>.<span>Id</span>,</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L48" data-line-number="48"></td>
        <td id="file-myorders-cs-LC48">                    <span>Total</span> <span>=</span> <span>o</span>.<span>OrderItems</span>.<span>Sum</span>(<span>x</span> <span>=&gt;</span> <span>x</span>.<span>Units</span> <span>*</span> <span>x</span>.<span>UnitPrice</span>),</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L49" data-line-number="49"></td>
        <td id="file-myorders-cs-LC49">                })</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L50" data-line-number="50"></td>
        <td id="file-myorders-cs-LC50">                .<span>ToArrayAsync</span>(<span>cancellationToken</span>: <span>cancellationToken</span>);</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L51" data-line-number="51"></td>
        <td id="file-myorders-cs-LC51">            </td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L52" data-line-number="52"></td>
        <td id="file-myorders-cs-LC52">            <span>return</span> <span>result</span>;</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L53" data-line-number="53"></td>
        <td id="file-myorders-cs-LC53">        }</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L54" data-line-number="54"></td>
        <td id="file-myorders-cs-LC54">    }</td>
      </tr>
      <tr>
        <td id="file-myorders-cs-L55" data-line-number="55"></td>
        <td id="file-myorders-cs-LC55">}</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      
    </div>
</div>
</div>
</div>
</figure>


<h2>Side Notes</h2>


<p>In many situations, I prefer to create a SQL Database View that I will create a new class to represent and use that as a DbSet in my DbContext.  And most often I have a completely different DbContext for writes vs reads.  My Reads DbContext is what will have a model that represents the SQL view.  This allows you to do that projection as an SQL View rather than doing the projection in your code.</p>


<p>If you were using a SQL Database View and created an OrderSummary class that was on your DbContext, that now might look like this:</p>


<figure>
<div>
<div><div id="gist101615331">
    <div>
      <div>
        <div>
  <div id="file-view-cs">
    

  <div itemprop="text">
      
<table data-tab-size="8">
      <tbody><tr>
        <td id="file-view-cs-L1" data-line-number="1"></td>
        <td id="file-view-cs-LC1"><span>using</span> <span>System</span>;</td>
      </tr>
      <tr>
        <td id="file-view-cs-L2" data-line-number="2"></td>
        <td id="file-view-cs-LC2"><span>using</span> <span>MediatR</span>;</td>
      </tr>
      <tr>
        <td id="file-view-cs-L3" data-line-number="3"></td>
        <td id="file-view-cs-LC3"><span>using</span> <span>System</span>.<span>Collections</span>.<span>Generic</span>;</td>
      </tr>
      <tr>
        <td id="file-view-cs-L4" data-line-number="4"></td>
        <td id="file-view-cs-LC4"><span>using</span> <span>System</span>.<span>Linq</span>;</td>
      </tr>
      <tr>
        <td id="file-view-cs-L5" data-line-number="5"></td>
        <td id="file-view-cs-LC5"><span>using</span> <span>System</span>.<span>Threading</span>;</td>
      </tr>
      <tr>
        <td id="file-view-cs-L6" data-line-number="6"></td>
        <td id="file-view-cs-LC6"><span>using</span> <span>System</span>.<span>Threading</span>.<span>Tasks</span>;</td>
      </tr>
      <tr>
        <td id="file-view-cs-L7" data-line-number="7"></td>
        <td id="file-view-cs-LC7"><span>using</span> <span>Microsoft</span>.<span>AspNetCore</span>.<span>Authorization</span>;</td>
      </tr>
      <tr>
        <td id="file-view-cs-L8" data-line-number="8"></td>
        <td id="file-view-cs-LC8"><span>using</span> <span>Microsoft</span>.<span>AspNetCore</span>.<span>Mvc</span>;</td>
      </tr>
      <tr>
        <td id="file-view-cs-L9" data-line-number="9"></td>
        <td id="file-view-cs-LC9"><span>using</span> <span>Microsoft</span>.<span>EntityFrameworkCore</span>;</td>
      </tr>
      <tr>
        <td id="file-view-cs-L10" data-line-number="10"></td>
        <td id="file-view-cs-LC10"><span>using</span> <span>Microsoft</span>.<span>eShopWeb</span>.<span>Infrastructure</span>.<span>Data</span>;</td>
      </tr>
      <tr>
        <td id="file-view-cs-L11" data-line-number="11"></td>
        <td id="file-view-cs-LC11">
</td>
      </tr>
      <tr>
        <td id="file-view-cs-L12" data-line-number="12"></td>
        <td id="file-view-cs-LC12"><span>namespace</span> <span>Microsoft</span>.<span>eShopWeb</span>.<span>Web</span>.<span>Features</span>.<span>MyOrders</span></td>
      </tr>
      <tr>
        <td id="file-view-cs-L13" data-line-number="13"></td>
        <td id="file-view-cs-LC13">{      </td>
      </tr>
      <tr>
        <td id="file-view-cs-L14" data-line-number="14"></td>
        <td id="file-view-cs-LC14">    <span>public</span> <span>class</span> <span>GetMyOrdersHandler</span> : <span>IRequestHandler</span>&lt;<span>GetMyOrders</span>, <span>MyOrdersViewModel</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-view-cs-L15" data-line-number="15"></td>
        <td id="file-view-cs-LC15">    {</td>
      </tr>
      <tr>
        <td id="file-view-cs-L16" data-line-number="16"></td>
        <td id="file-view-cs-LC16">        <span>private</span> <span>readonly</span> <span>CatalogContext</span> <span>_db</span>;</td>
      </tr>
      <tr>
        <td id="file-view-cs-L17" data-line-number="17"></td>
        <td id="file-view-cs-LC17">
</td>
      </tr>
      <tr>
        <td id="file-view-cs-L18" data-line-number="18"></td>
        <td id="file-view-cs-LC18">        <span>public</span> <span>GetMyOrdersHandler</span>(<span>CatalogContext</span> <span>db</span>)</td>
      </tr>
      <tr>
        <td id="file-view-cs-L19" data-line-number="19"></td>
        <td id="file-view-cs-LC19">        {</td>
      </tr>
      <tr>
        <td id="file-view-cs-L20" data-line-number="20"></td>
        <td id="file-view-cs-LC20">            <span>_db</span> <span>=</span> <span>db</span>;</td>
      </tr>
      <tr>
        <td id="file-view-cs-L21" data-line-number="21"></td>
        <td id="file-view-cs-LC21">        }</td>
      </tr>
      <tr>
        <td id="file-view-cs-L22" data-line-number="22"></td>
        <td id="file-view-cs-LC22">
</td>
      </tr>
      <tr>
        <td id="file-view-cs-L23" data-line-number="23"></td>
        <td id="file-view-cs-LC23">        <span>public</span> <span>async</span> <span>Task</span>&lt;<span>MyOrdersViewModel</span>&gt; <span>Handle</span>(<span>GetMyOrders</span> <span>request</span>, <span>CancellationToken</span> <span>cancellationToken</span>)</td>
      </tr>
      <tr>
        <td id="file-view-cs-L24" data-line-number="24"></td>
        <td id="file-view-cs-LC24">        {</td>
      </tr>
      <tr>
        <td id="file-view-cs-L25" data-line-number="25"></td>
        <td id="file-view-cs-LC25">            <span>var</span> <span>result</span> <span>=</span> <span>new</span> <span>MyOrdersViewModel</span>();</td>
      </tr>
      <tr>
        <td id="file-view-cs-L26" data-line-number="26"></td>
        <td id="file-view-cs-LC26">            <span>result</span>.<span>Orders</span> <span>=</span> <span>await</span> <span>_db</span>.<span>OrderSummaries</span></td>
      </tr>
      <tr>
        <td id="file-view-cs-L27" data-line-number="27"></td>
        <td id="file-view-cs-LC27">                .<span>Where</span>(<span>x</span> <span>=&gt;</span> <span>x</span>.<span>BuyerId</span> <span>==</span> <span>request</span>.<span>UserName</span>)</td>
      </tr>
      <tr>
        <td id="file-view-cs-L28" data-line-number="28"></td>
        <td id="file-view-cs-LC28">                .<span>Select</span>(<span>o</span> <span>=&gt;</span> <span>new</span> <span>OrderSummaryViewModel</span></td>
      </tr>
      <tr>
        <td id="file-view-cs-L29" data-line-number="29"></td>
        <td id="file-view-cs-LC29">                {</td>
      </tr>
      <tr>
        <td id="file-view-cs-L30" data-line-number="30"></td>
        <td id="file-view-cs-LC30">                    <span>OrderDate</span> <span>=</span> <span>o</span>.<span>OrderDate</span>,</td>
      </tr>
      <tr>
        <td id="file-view-cs-L31" data-line-number="31"></td>
        <td id="file-view-cs-LC31">                    <span>OrderNumber</span> <span>=</span> <span>o</span>.<span>Id</span>,</td>
      </tr>
      <tr>
        <td id="file-view-cs-L32" data-line-number="32"></td>
        <td id="file-view-cs-LC32">                    <span>Total</span> <span>=</span> <span>o</span>.<span>Total</span>,</td>
      </tr>
      <tr>
        <td id="file-view-cs-L33" data-line-number="33"></td>
        <td id="file-view-cs-LC33">                })</td>
      </tr>
      <tr>
        <td id="file-view-cs-L34" data-line-number="34"></td>
        <td id="file-view-cs-LC34">                .<span>ToArrayAsync</span>(<span>cancellationToken</span>: <span>cancellationToken</span>);</td>
      </tr>
      <tr>
        <td id="file-view-cs-L35" data-line-number="35"></td>
        <td id="file-view-cs-LC35">            </td>
      </tr>
      <tr>
        <td id="file-view-cs-L36" data-line-number="36"></td>
        <td id="file-view-cs-LC36">            <span>return</span> <span>result</span>;</td>
      </tr>
      <tr>
        <td id="file-view-cs-L37" data-line-number="37"></td>
        <td id="file-view-cs-LC37">        }</td>
      </tr>
      <tr>
        <td id="file-view-cs-L38" data-line-number="38"></td>
        <td id="file-view-cs-LC38">    }</td>
      </tr>
      <tr>
        <td id="file-view-cs-L39" data-line-number="39"></td>
        <td id="file-view-cs-LC39">}</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      
    </div>
</div>
</div>
</div>
</figure>


<h2>Live Coding Session</h2>


<p>I did a live coding session on my YouTube and Twitch channels.  You can check out the recording here of doing this exact refactor.</p>

<p><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/zAuLo7mq7oY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
</p>

<h2>GitHub</h2>


<p>If you want to take a look a the full sample, you can also find my refactor changes on my <a rel="noreferrer noopener" aria-label="fork of eShipOnWeb on GitHub (opens in a new tab)" href="https://github.com/dcomartin/eShopOnWeb" target="_blank">fork of eShipOnWeb on GitHub</a>.</p>


<h2>Links</h2>


<ul>
<li><a rel="noreferrer noopener" aria-label="Avoiding the Repository Pattern with an ORM (opens in a new tab)" href="https://codeopinion.com/avoiding-the-repository-pattern-with-an-orm/" target="_blank">Avoiding the Repository Pattern with an ORM</a></li>
<li><a href="https://codeopinion.com/is-cqrs-complicated/">Is CQRS Complicated?</a></li>
<li><a href="https://codeopinion.com/loosely-coupled-show/" target="_blank" rel="noreferrer noopener" aria-label="Loosely Coupled Show: Software Architecture and Design (opens in a new tab)">Loosely Coupled Show: Software Architecture and Design</a></li>
</ul>



<!-- Mailchimp for WordPress v4.7.5 - https://wordpress.org/plugins/mailchimp-for-wp/ --><!-- / Mailchimp for WordPress Plugin -->


					</div><!-- .entry-content -->

		<!-- .entry-meta -->
	</div>

	
</article></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
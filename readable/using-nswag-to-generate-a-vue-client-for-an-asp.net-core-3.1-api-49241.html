<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Using NSwag to Generate a Vue Client for an ASP.NET Core 3.1 API - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Using NSwag to Generate a Vue Client for an ASP.NET Core 3.1 API - linksfor.dev(s)"/>
    <meta property="og:description" content="This week we are going to add a Vue project that will utilize the contacts API we created a few weeks ago using a client-generated by NSwag. This post is part of the revamp of the ASP.NET Core Basi&#x2026;"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://elanderson.net/2020/01/using-nswag-to-generate-a-vue-client-for-an-asp-net-core-3-1-api/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="grid">
        <h1>
                <span style="cursor: default" title="linksfor.dev(s) has been running for 1 year! :partypopper:">🎉</span>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Using NSwag to Generate a Vue Client for an ASP.NET Core 3.1 API</title>
<div class="readable">
        <h1>Using NSwag to Generate a Vue Client for an ASP.NET Core 3.1 API</h1>
        <p>
Reading time: 7-9 minutes        </p>
        <p><a href="https://elanderson.net/2020/01/using-nswag-to-generate-a-vue-client-for-an-asp-net-core-3-1-api/">https://elanderson.net/2020/01/using-nswag-to-generate-a-vue-client-for-an-asp-net-core-3-1-api/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><article id="post-4554" itemtype="https://schema.org/CreativeWork" itemscope="itemscope">
<div>

<div itemprop="text">
<p>This week we are going to add a <a href="https://vuejs.org/">Vue</a> project that will utilize the contacts API we created a few weeks ago using a client-generated by NSwag. This post is part of the revamp of the ASP.NET Core Basics repo that was kicked off when .NET Core 3.0 was released which is now targeting .NET Core 3.1. For details on how the associated samples got to their current point check out the following posts.</p>
<p><a href="https://elanderson.net/2019/10/swagger-openapi-with-nswag-and-asp-net-core-3/">Swagger/OpenAPI with NSwag and ASP.NET Core 3</a><a href="https://elanderson.net/2020/01/using-nswag-to-generate-blazor-server-client-for-an-asp-net-core-3-1-api/"><br>
</a><a href="https://elanderson.net/2019/11/asp-net-core-3-add-entity-framework-core-to-existing-project/">ASP.NET Core 3: Add Entity Framework Core to Existing Project</a><a href="https://elanderson.net/2020/01/using-nswag-to-generate-blazor-server-client-for-an-asp-net-core-3-1-api/"><br>
</a><a href="https://elanderson.net/2019/12/new-razor-pages-application-backed-with-an-api/">New Razor Pages Project Backed with an API</a><a href="https://elanderson.net/2020/01/using-nswag-to-generate-blazor-server-client-for-an-asp-net-core-3-1-api/"><br>
</a><a href="https://elanderson.net/2019/12/using-nswag-to-generate-angular-client-for-an-asp-net-core-3-api/">Using NSwag to Generate Angular Client for an ASP.NET Core 3 API</a><a href="https://elanderson.net/2020/01/using-nswag-to-generate-blazor-server-client-for-an-asp-net-core-3-1-api/"><br>
</a><a href="https://elanderson.net/2019/12/using-nswag-to-generate-react-client-for-an-asp-net-core-3-api/">Using NSwag to Generate React Client for an ASP.NET Core 3 API</a><a href="https://elanderson.net/2020/01/using-nswag-to-generate-blazor-server-client-for-an-asp-net-core-3-1-api/"><br>
</a><a href="https://elanderson.net/2020/01/using-nswag-to-generate-blazor-server-client-for-an-asp-net-core-3-1-api/">Using NSwag to Generate Blazor Server Client for an ASP.NET Core 3.1 API</a><a href="https://elanderson.net/2020/01/using-nswag-to-generate-blazor-server-client-for-an-asp-net-core-3-1-api/"><br>
</a><a href="https://elanderson.net/2020/01/using-nswag-to-generate-a-vue-client-for-an-asp-net-core-3-1-api/">Using NSwag to Generate a Vue Client for an ASP.NET Core 3.1 API</a></p>
<p>The sample code before any changes from this post can be found <a href="https://github.com/elanderson/ASP.NET-Core-Basics-Refresh/tree/0ac0e84ca999545e5cac7764a019b14ce76353c8">here</a>.</p>
<p><img src="https://i0.wp.com/elanderson.net/wp-content/uploads/2020/01/555px-Vue.js_Logo_2.svg_.png?resize=300%2C260&amp;ssl=1" alt="" width="300" height="260" data-recalc-dims="1" srcset="https://i0.wp.com/elanderson.net/wp-content/uploads/2020/01/555px-Vue.js_Logo_2.svg_.png?resize=300%2C260&amp;ssl=1 300w, https://i0.wp.com/elanderson.net/wp-content/uploads/2020/01/555px-Vue.js_Logo_2.svg_.png?w=555&amp;ssl=1 555w" data-lazy-loaded="1" sizes="(max-width: 300px) 100vw, 300px"><img src="https://i1.wp.com/elanderson.net/wp-content/uploads/2020/01/600px-.NET_Core_Logo.svg_.png?resize=260%2C260&amp;ssl=1" alt="" width="260" height="260" data-recalc-dims="1" srcset="https://i1.wp.com/elanderson.net/wp-content/uploads/2020/01/600px-.NET_Core_Logo.svg_.png?resize=300%2C300&amp;ssl=1 300w, https://i1.wp.com/elanderson.net/wp-content/uploads/2020/01/600px-.NET_Core_Logo.svg_.png?resize=150%2C150&amp;ssl=1 150w, https://i1.wp.com/elanderson.net/wp-content/uploads/2020/01/600px-.NET_Core_Logo.svg_.png?resize=100%2C100&amp;ssl=1 100w, https://i1.wp.com/elanderson.net/wp-content/uploads/2020/01/600px-.NET_Core_Logo.svg_.png?w=600&amp;ssl=1 600w" data-lazy-loaded="1" sizes="(max-width: 260px) 100vw, 260px"></p>
<h3>Create the Vue Project</h3>
<p>Unlike the rest of the projects in this series, there is no .NET CLI template from Microsoft that has Vue support so to crate the Vue project we will be using the <a href="https://cli.vuejs.org/guide/">Vue CLI</a>. Before getting started ensure you have <a href="https://www.npmjs.com/get-npm">npm installed</a>.</p>
<p>Install the Vue CLI using the following command from a command prompt.</p>

<p>Next, use the following command to start the project creation process using the Vue CLI. Keep in mind that the CLI creates a directory with the project name.</p>

<p>The above command kicks off a series of questions about the application. This sample is going to use TypeScript which means that the default can’t be used so we need to select <strong>Manually select features</strong>.</p>
<p><img src="https://i1.wp.com/elanderson.net/wp-content/uploads/2019/12/vueCliPresetManuallySelectFeaturesSelected.png?resize=219%2C67&amp;ssl=1" alt="" width="219" height="67" data-recalc-dims="1" data-lazy-loaded="1"></p>
<p>For the next question, we need to select <strong>TypeScript</strong>. I also included the Router and Linter / Formatter. I also found out later in the process that Babel was needed so feel free to select it on this question.</p>
<p><img src="https://i1.wp.com/elanderson.net/wp-content/uploads/2019/12/vueCliProjectFeaturesSelected.png?resize=395%2C197&amp;is-pending-load=1#038;ssl=1" alt="" width="395" height="197" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/elanderson.net/wp-content/uploads/2019/12/vueCliProjectFeaturesSelected.png?w=395&amp;ssl=1 395w, https://i1.wp.com/elanderson.net/wp-content/uploads/2019/12/vueCliProjectFeaturesSelected.png?resize=300%2C150&amp;ssl=1 300w" data-lazy-sizes="(max-width: 395px) 100vw, 395px" data-lazy-src="https://i1.wp.com/elanderson.net/wp-content/uploads/2019/12/vueCliProjectFeaturesSelected.png?resize=395%2C197&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>The project creation process asked a bunch more questions that I basically took the defaults on. Here is a screenshot of all the questions and the options I used.</p>
<p><img src="https://i0.wp.com/elanderson.net/wp-content/uploads/2019/12/vueCliRestOfQuestions.png?resize=860%2C199&amp;is-pending-load=1#038;ssl=1" alt="" width="860" height="199" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/elanderson.net/wp-content/uploads/2019/12/vueCliRestOfQuestions.png?w=860&amp;ssl=1 860w, https://i0.wp.com/elanderson.net/wp-content/uploads/2019/12/vueCliRestOfQuestions.png?resize=300%2C69&amp;ssl=1 300w, https://i0.wp.com/elanderson.net/wp-content/uploads/2019/12/vueCliRestOfQuestions.png?resize=768%2C178&amp;ssl=1 768w" data-lazy-sizes="(max-width: 860px) 100vw, 860px" data-lazy-src="https://i0.wp.com/elanderson.net/wp-content/uploads/2019/12/vueCliRestOfQuestions.png?resize=860%2C199&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>Now that the project is created if we need to change directories to the one created in the above process.</p>

<p>Use the following command to run the new project.</p>

<h3>Use NSwagStudio to Generate an API Client</h3>
<p>NSwag provides multiple options for client generation including a CLI, code, or a Windows application. This post is going to use the Windows application which is called NSwagStudio. NSwagStudio can be downloaded and installed from <a href="http://rsuter.com/Projects/NSwagStudio/installer.php">here</a>.</p>
<p>Next, make sure your API is running and get the URL of its OpenAPI/Swagger specification URL. For example, using a local instance of the sample solution’s Contacts API the URL is <strong>https://localhost:5001/swagger/v1/swagger.json</strong>. If you are using the Swagger UI you can find a link to your swagger.json under the API title.</p>
<p><img src="https://i1.wp.com/elanderson.net/wp-content/uploads/2019/10/swaggerUiSpecLinkSelected.png?resize=339%2C202&amp;is-pending-load=1#038;ssl=1" alt="" width="339" height="202" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/elanderson.net/wp-content/uploads/2019/10/swaggerUiSpecLinkSelected.png?w=339&amp;ssl=1 339w, https://i1.wp.com/elanderson.net/wp-content/uploads/2019/10/swaggerUiSpecLinkSelected.png?resize=300%2C179&amp;ssl=1 300w" data-lazy-sizes="(max-width: 339px) 100vw, 339px" data-lazy-src="https://i1.wp.com/elanderson.net/wp-content/uploads/2019/10/swaggerUiSpecLinkSelected.png?resize=339%2C202&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>Now that we have the OpenAPI/Swager specification URL for the API switch over to NSwagStudio. The application will open with a new document ready to go. There are a few options we will need to set. First, select the <strong>OpenAPI/Swagger Specification</strong> tab and enter your API’s specification URL in the&nbsp;<strong>Specification URL</strong> box.</p>
<p><img src="https://i0.wp.com/elanderson.net/wp-content/uploads/2019/10/nswagStudioInputSetup.png?resize=986%2C643&amp;is-pending-load=1#038;ssl=1" alt="" width="986" height="643" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/elanderson.net/wp-content/uploads/2019/10/nswagStudioInputSetup.png?w=986&amp;ssl=1 986w, https://i0.wp.com/elanderson.net/wp-content/uploads/2019/10/nswagStudioInputSetup.png?resize=300%2C196&amp;ssl=1 300w, https://i0.wp.com/elanderson.net/wp-content/uploads/2019/10/nswagStudioInputSetup.png?resize=768%2C501&amp;ssl=1 768w" data-lazy-sizes="(max-width: 986px) 100vw, 986px" data-lazy-src="https://i0.wp.com/elanderson.net/wp-content/uploads/2019/10/nswagStudioInputSetup.png?resize=986%2C643&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>In the&nbsp;<strong>Outputs</strong> section check the <strong>TypeScript Client</strong> checkbox and then select the <strong>TypeScript Client</strong> tab. There are a lot of options to play with, the highlighted options are the ones that are important for this sample. First, make sure <strong>Module name </strong>and <strong>Namespace </strong>are both empty. I’m sure there is a way to get the client working with a module or namespace, but I didn’t have any luck. &nbsp; For <strong>Template</strong>, we just need a <strong>Fetch</strong> based client. The final option that needs to be set is the <strong>Output file</strong> path and this is the location you want the generated file to be. I output to the Vue project directory under /src/apis/contactApi.ts. After all the options are set click <strong>Generate Files</strong>.</p>
<h3>Create UI and Use Generated Client</h3>
<p>Note that I haven’t touch Vue in a long time so the actually UI bits may or may not be the “proper” way to do this stuff in Vue, but it should be understandable enough that you can see how the API client is used. As with the other post in this same vein, we are going to create a contact list that gets its data from an API.</p>
<p>First, we are going to create a new component for the contact list in the /src/component directory with the filename of <strong>ContactList.vue</strong> with the following contents. The lines specific to the usage of the NSwag generated client are highlighted.</p>
<div><ul><li><span>&lt;template</span><span>&gt;</span><span></span></li><li><span>  </span><span>&lt;div</span><span>&gt;</span><span></span></li><li><span>    </span><span>&lt;table</span><span> </span><span>class</span><span>=</span><span>"table table-striped"</span><span> </span><span>aria-labelledby</span><span>=</span><span>"tabelLabel"</span><span>&gt;</span><span></span></li><li><span>      </span><span>&lt;thead</span><span>&gt;</span><span></span></li><li><span>        </span><span>&lt;tr</span><span>&gt;</span><span></span></li><li><span>          </span><span>&lt;th</span><span>&gt;</span><span>Name</span><span>&lt;/th&gt;</span><span></span></li><li><span>          </span><span>&lt;th</span><span>&gt;</span><span>Address</span><span>&lt;/th&gt;</span><span></span></li><li><span>          </span><span>&lt;th</span><span>&gt;</span><span>City</span><span>&lt;/th&gt;</span><span></span></li><li><span>          </span><span>&lt;th</span><span>&gt;</span><span>State</span><span>&lt;/th&gt;</span><span></span></li><li><span>          </span><span>&lt;th</span><span>&gt;</span><span>Postal Code</span><span>&lt;/th&gt;</span><span></span></li><li><span>          </span><span>&lt;th</span><span>&gt;</span><span>Phone</span><span>&lt;/th&gt;</span><span></span></li><li><span>          </span><span>&lt;th</span><span>&gt;</span><span>Email</span><span>&lt;/th&gt;</span><span></span></li><li><span>        </span><span>&lt;/tr&gt;</span><span></span></li><li><span>      </span><span>&lt;/thead&gt;</span><span></span></li><li><span>      </span><span>&lt;tbody</span><span>&gt;</span><span></span></li><li><span>        </span><span>&lt;tr</span><span> </span><span>v-for</span><span>=</span><span>"contact in contacts"</span><span> </span><span>v-bind:key</span><span>=</span><span>"contact.id"</span><span>&gt;</span><span></span></li><li><span>          </span><span>&lt;td</span><span>&gt;</span><span>{{contact.name}}</span><span>&lt;/td&gt;</span><span></span></li><li><span>          </span><span>&lt;td</span><span>&gt;</span><span>{{contact.address}}</span><span>&lt;/td&gt;</span><span></span></li><li><span>          </span><span>&lt;td</span><span>&gt;</span><span>{{contact.city}}</span><span>&lt;/td&gt;</span><span></span></li><li><span>          </span><span>&lt;td</span><span>&gt;</span><span>{{contact.state}}</span><span>&lt;/td&gt;</span><span></span></li><li><span>          </span><span>&lt;td</span><span>&gt;</span><span>{{contact.postalCode}}</span><span>&lt;/td&gt;</span><span></span></li><li><span>          </span><span>&lt;td</span><span>&gt;</span><span>{{contact.phone}}</span><span>&lt;/td&gt;</span><span></span></li><li><span>          </span><span>&lt;td</span><span>&gt;</span><span>{{contact.email}}</span><span>&lt;/td&gt;</span><span></span></li><li><span>        </span><span>&lt;/tr&gt;</span><span></span></li><li><span>      </span><span>&lt;/tbody&gt;</span><span></span></li><li><span>    </span><span>&lt;/table&gt;</span><span></span></li><li><span>  </span><span>&lt;/div&gt;</span><span></span></li><li><span></span><span>&lt;/template&gt;</span><span></span></li><li><span></span></li><li><span></span><span>&lt;script</span><span> </span><span>lang</span><span>=</span><span>"ts"</span><span>&gt;</span><span></span></li><li><span>import { Component, Prop, Vue } from 'vue-property-decorator'</span></li><li><span>import { ContactsClient, Contact } from '../apis/contactsApi'</span></li><li><span>@Component</span></li><li><span>export default class HelloWorld extends Vue {</span></li><li><span>  name: string = 'ContactList';</span></li><li><span>  contacts: Contact[] = [];</span></li><li><span>  private created () {</span></li><li><span>    let client = new ContactsClient()</span></li><li><span>    client.getContacts().then(data =&gt; (this.contacts = data))</span></li><li><span>  }</span></li><li><span>}</span></li><li><span></span><span>&lt;/script&gt;</span><span></span></li><li><span></span></li><li><span></span><span>&lt;style</span><span> scoped</span><span>&gt;</span><span></span></li><li><span></span><span>&lt;/style&gt;</span></li></ul></div>
<p>As you can see from the <strong>created</strong> function above we are creating a new instance of the <strong>ContactsClient</strong> and calling its <strong>getContacts</strong> function and using the data we get back from the API to replace the <strong>contacts</strong> field with the results of the API call.</p>
<p>Next, we are going to create a <strong>ContactList.vue</strong> under the /src/views directory with the following code. This is basically a wrapper around the component we created above.</p>
<div><ul><li><span>&lt;template&gt;</span></li><li><span>  &lt;div&gt;</span></li><li><span>    &lt;ContactListComponent/&gt;</span></li><li><span>  &lt;/div&gt;</span></li><li><span>&lt;/template&gt;</span></li><li><span></span></li><li><span>&lt;script&gt;</span></li><li><span>import ContactListComponent from </span><span>'@/components/ContacList'</span><span></span></li><li><span>export </span><span>default</span><span> </span><span>{</span><span></span></li><li><span>  name: </span><span>'contactList'</span><span>,</span></li><li><span>  components: </span><span>{</span><span></span></li><li><span>    ContactListComponent</span></li><li><span>  </span><span>}</span><span></span></li><li><span></span><span>}</span><span></span></li><li><span>&lt;/script&gt;</span></li></ul></div>
<p>Now that we have our view ready we need to add a link to the application’s navigation so a user can get to the contact list. Open <strong>App.vue</strong> and a router link to the nav div for the contact list.</p>
<div><ul><li><span>&lt;div</span><span> </span><span>id</span><span>=</span><span>"nav"</span><span>&gt;</span><span></span></li><li><span>    </span><span>&lt;router-link</span><span> </span><span>to</span><span>=</span><span>"/"</span><span>&gt;</span><span>Home</span><span>&lt;/router-link&gt;</span><span> |</span></li><li><span>    </span><span>&lt;router-link</span><span> </span><span>to</span><span>=</span><span>"/contactList"</span><span>&gt;</span><span>Contacts</span><span>&lt;/router-link&gt;</span><span> |</span></li><li><span>    </span><span>&lt;router-link</span><span> </span><span>to</span><span>=</span><span>"/about"</span><span>&gt;</span><span>About</span><span>&lt;/router-link&gt;</span><span></span></li><li><span></span><span>&lt;/div&gt;</span></li></ul></div>
<p>Now we need to add the new component to the routes for the application. Open <strong>index.ts</strong> in the /src/router directory and add an import for the contact list view.</p>
<div><ul><li><span>import</span><span> ContactList from </span><span>'../views/ContactList.vue'</span></li></ul></div>
<p>Finally, add the contact list to the routes array.</p>
<div><ul><li><span>const</span><span> routes = </span><span>[</span><span></span></li><li><span>  </span><span>{</span><span></span></li><li><span>    path: </span><span>'/'</span><span>,</span></li><li><span>    name: </span><span>'home'</span><span>,</span></li><li><span>    component: Home</span></li><li><span>  </span><span>}</span><span>,</span></li><li><span>  </span><span>{</span><span></span></li><li><span>    path: </span><span>'/contactList'</span><span>,</span></li><li><span>    name: </span><span>'contactList'</span><span>,</span></li><li><span>    component: ContactList</span></li><li><span>  </span><span>}</span><span>,</span></li><li><span>  </span><span>{</span><span></span></li><li><span>    path: </span><span>'/about'</span><span>,</span></li><li><span>    name: </span><span>'about'</span><span>,</span></li><li><span>   </span><span> // route level code-splitting</span><span></span></li><li><span>   </span><span> // this generates a separate chunk (about.[hash].js) for this route</span><span></span></li><li><span>   </span><span> // which is lazy-loaded when the route is visited.</span><span></span></li><li><span>    component: </span><span>(</span><span>)</span><span> =&gt; </span><span>import</span><span>(</span><span>/* webpackChunkName: "about" */</span><span> </span><span>'../views/About.vue'</span><span>)</span><span></span></li><li><span>  </span><span>}</span><span></span></li><li><span></span><span>]</span></li></ul></div>
<h3>Wrapping Up</h3>
<p>As always NSwag makes it very easy to create a client to interact with an API. Hopefully, this was useful even if my Vue code might not be idiomatic.</p>
<p>The sample projects after all the changes in this post can be found <a href="https://github.com/elanderson/ASP.NET-Core-Basics-Refresh/tree/a7e807f6fb4195caafb357c4b037d01cf41a33aa">here</a>.</p>
<hr>
<p>
<em>
Also published on <a href="https://medium.com/@elanderson/using-nswag-to-generate-a-vue-client-for-an-asp-net-core-3-1-api-cae8c121c1cf">Medium</a>. </em>
</p>

</div>
</div>
</article></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
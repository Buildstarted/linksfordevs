<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Creating Certificates in .NET Core for Vue.js development using&#xA0;HTTPS -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <h1>Creating Certificates in .NET Core for Vue.js development using&#xA0;HTTPS</h1>
    <div id="post-13204" class="post-13204 post type-post status-publish format-standard hentry category-net category-net-core category-asp-net-core category-dotnet category-javascript category-typescript tag-net-core tag-cer tag-certificate tag-dotnetcore tag-pem tag-pfx tag-rsa tag-vue-js tag-x509"> <div class="entry-content"> <p>This article shows how to create development certificates for a Vue.js application, so that you can develop using HTTPS. The certificates are created using the <a href="https://www.nuget.org/packages/CertificateManager/">CertificateManager </a>nuget package.</p>
<p><strong>Code:</strong> <a href="https://github.com/damienbod/AspNetCoreCertificates/blob/master/src/CreateAngularVueJsDevelopmentCertificates">CreateAngularVueJsDevelopmentCertificates</a></p>
<p>A simple <a href="https://docs.microsoft.com/en-us/dotnet/core/get-started">.NET Core console</a> application is used to create the certificates. This type of application can run on most of the standard operating systems. Create a new console application and add the package <a href="https://www.nuget.org/packages/CertificateManager/">CertificateManager</a>. The package <em>Microsoft.Extensions.DependencyInjection</em> is also required to initialize the package.</p>
<pre class="brush: xml; title: ; notranslate">
&lt;Project Sdk=&quot;Microsoft.NET.Sdk&quot;&gt;

  &lt;PropertyGroup&gt;
    &lt;OutputType&gt;Exe&lt;/OutputType&gt;
    &lt;TargetFramework&gt;netcoreapp3.1&lt;/TargetFramework&gt;
  &lt;/PropertyGroup&gt;

  &lt;ItemGroup&gt;
    &lt;PackageReference 
 Include=&quot;Microsoft.Extensions.DependencyInjection&quot; Version=&quot;3.1.1&quot; /&gt;

    &lt;PackageReference Include=&quot;CertificateManager&quot; Version=&quot;1.0.3&quot; /&gt;

  &lt;/ItemGroup&gt;

&lt;/Project&gt;

</pre>
<p>The <strong>ServiceCollection </strong>from the Microsoft.Extensions.DependencyInjection package is used to setup the IoC. Use the <strong>AddCertificateManager</strong> method to add the CertificateManager service types. Get an instance of the <strong>CreateCertificatesRsa</strong> class using the ServiceCollection and call the <strong>CreateDevelopmentCertificate</strong> method to create the certificate. Add the domain name for which the certificate is to be used, and the length of time in years for which it should be valid. You can also add a friendly name to your certificate.</p>
<pre class="brush: csharp; title: ; notranslate">
var sp = new ServiceCollection()
	.AddCertificateManager()
	.BuildServiceProvider();

var _createCertificatesRsa = 
   sp.GetService&lt;CreateCertificatesRsa&gt;();

// Create development certificate for localhost
var devCertificate = _createCertificatesRsa
	.CreateDevelopmentCertificate(&quot;localhost&quot;, 10);

devCertificate.FriendlyName = &quot;localhost development&quot;;
</pre>
<p>Now the certificate can be exported. Three files will be exported. The pfx certificate can be used to add the certificate to the windows operating system. If using a different os, then export a pem file or something like that. The key file contains the private key of the certificate and the pem export contains the certificate with the public key.</p>
<pre class="brush: csharp; title: ; notranslate">
string password = &quot;1234&quot;;
var importExportCertificate = 
   sp.GetService&lt;ImportExportCertificate&gt;();

// full pfx with password
var rootCertInPfxBtyes = 
   iec.ExportRootPfx(password, devCertificate);
File.WriteAllBytes(&quot;dev_localhost.pfx&quot;, rootCertInPfxBtyes);

// private key
var exportRsaPrivateKeyPem = 
   iec.PemExportRsaPrivateKey(devCertificate);
File.WriteAllText($&quot;dev_localhost.key&quot;, exportRsaPrivateKeyPem);

// public key certificate as pem
var exportPublicKeyCertificatePem = 
   iec.PemExportPublicKeyCertificate(devCertificate);
File.WriteAllText($&quot;dev_localhost.pem&quot;, exportPublicKeyCertificatePem);

</pre>
<p><strong>Use the Certificates with Vue.js project</strong></p>
<p>Create a new Vue.js project, for example using the Vue.js CLI.</p>
<p>Add the new certificate files to a folder in the Vue.js project.</p>
<p><img src="https://damienbod.files.wordpress.com/2020/01/vue_certs_01.png?w=475" alt class="alignnone size-full wp-image-13217" srcset="https://damienbod.files.wordpress.com/2020/01/vue_certs_01.png 475w, https://damienbod.files.wordpress.com/2020/01/vue_certs_01.png?w=150 150w" sizes="(max-width: 475px) 100vw, 475px"></p>
<p>Add a new file called <strong>vue.config.js</strong> to the root of the Vue.js project. In this file add the HTTPS configuration with the newly created certificates. </p>
<pre class="brush: jscript; title: ; notranslate">
const fs = require(&apos;fs&apos;)

module.exports = {
    devServer: {
		host: &apos;localhost&apos;,
		disableHostCheck: true,
        https: {
          key: fs.readFileSync(&apos;./certs/dev_localhost.key&apos;),
          cert: fs.readFileSync(&apos;./certs/dev_localhost.pem&apos;),
        },
        public: &apos;https://localhost:8080&apos;
    }
}
</pre>
<p>The certificate needs to be trusted with the host operating system. Use the pfx file for this. On windows, just double click the file and follow the help windows to trust it.</p>
<p>Start the Vue application with <strong>npm run serve</strong></p>
<p><img src="https://damienbod.files.wordpress.com/2020/01/vue_certs_02.png?w=640" alt width="640" class="alignnone size-full wp-image-13224" srcset="https://damienbod.files.wordpress.com/2020/01/vue_certs_02.png?w=640&amp;h=407 640w, https://damienbod.files.wordpress.com/2020/01/vue_certs_02.png?w=150&amp;h=95 150w, https://damienbod.files.wordpress.com/2020/01/vue_certs_02.png?w=600&amp;h=381 600w, https://damienbod.files.wordpress.com/2020/01/vue_certs_02.png?w=768&amp;h=488 768w, https://damienbod.files.wordpress.com/2020/01/vue_certs_02.png 790w" sizes="(max-width: 640px) 100vw, 640px"></p>
<p>And the Vue.js can be tested and run locally using HTTPS.</p>
<p><img src="https://damienbod.files.wordpress.com/2020/01/vue_certs_03.png?w=640" alt width="640" class="alignnone size-full wp-image-13225" srcset="https://damienbod.files.wordpress.com/2020/01/vue_certs_03.png?w=640&amp;h=470 640w, https://damienbod.files.wordpress.com/2020/01/vue_certs_03.png?w=150&amp;h=110 150w, https://damienbod.files.wordpress.com/2020/01/vue_certs_03.png?w=600&amp;h=440 600w, https://damienbod.files.wordpress.com/2020/01/vue_certs_03.png 766w" sizes="(max-width: 640px) 100vw, 640px"></p>
<p><strong>Links:</strong></p>
<p><a href="https://github.com/damienbod/AspNetCoreCertificates">https://github.com/damienbod/AspNetCoreCertificates</a></p>
<p><a href="https://www.nuget.org/packages/CertificateManager/">https://www.nuget.org/packages/CertificateManager/</a></p>
<p><a href="https://docs.microsoft.com/en-us/dotnet/core/get-started">https://docs.microsoft.com/en-us/dotnet/core/get-started</a></p> </div> </div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
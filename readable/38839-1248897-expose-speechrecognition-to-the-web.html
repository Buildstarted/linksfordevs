<!DOCTYPE html>
<html lang="en">
<head>
    <title>
1248897 - Expose SpeechRecognition to the web -
linksfor.dev(s)
    </title>
	<link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <h1>1248897 - Expose SpeechRecognition to the web</h1>
    <body class="bugzilla-mozilla-org skin-standard bug_modal yui-skin-sam"> <p id="wrapper"> <aside id="message-container"> </aside> <main id="bugzilla-body">
<div id="main-inner"> <section class="module"> <div class="module-content"> </div>
</section> <section class="module" id="module-categories"> <div class="module-content" id="module-categories-content"><div class="fields-lhs"> <div class="field" id="field-product"> <div class="value"> <span id="field-value-product"> </span> </div> </div> <div class="field edit-show"> </div>
</div><div class="fields-rhs"> <div class="field" id="field-importance"> </div> </div> </div>
</section> <section class="module" id="module-tracking"> </section> <section class="module" id="module-people"> </section> <section class="module" id="module-references"> </section> <section class="module" id="module-details"> </section> <section class="module edit-show" id="module-crash-data"> </section> <section class="module edit-show" id="module-security"> <div class="module-content" id="module-security-content"><div class="groups edit-hide"> This bug is publicly visible.
</div> </div>
</section> <section class="module edit-show" id="module-user-story"> </section> <section class="module" id="module-attachments"> </section> <meta> <div class="change-set ca-420453" id="c3"><div class="activity"><div class="change">Blocks: <a class="bz_bug_link bz_status_NEW" href="/show_bug.cgi?id=1244460">1244460</a><br>No longer blocks: <a class="bz_bug_link bz_status_NEW" href="/show_bug.cgi?id=1244237">1244237</a></div><div class="change">Status: RESOLVED &#x2192; REOPENED</div><div class="change">Resolution: DUPLICATE &#x2192; ---</div></div></div><div class="change-set" id="a6572753_474938"><div class="change" id="aa6572753_474938"> </div></div><div class="change-set" id="c4"><div class="activity"><div class="change">Flags: needinfo?(sebastianzartner)</div><div class="change">Flags: needinfo?(overholt)</div><div class="change">Flags: needinfo?(dietrich)</div></div></div><div class="change-set" id="c5"><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(sebastianzartner)</span></div></div></div><div class="change-set" id="a9383892_39966"><div class="change" id="aa9383892_39966"> </div></div><div class="change-set" id="a9383993_39966"><div class="change" id="aa9383993_39966"> </div></div><div class="change-set" id="c6"><div class="activity"></div></div><div class="change-set" id="c7"><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(overholt)</span></div></div></div><div class="change-set" id="a9589982_219124"><div class="change" id="aa9589982_219124"> </div><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(dietrich)</span></div></div></div><div class="change-set" id="a52568717_471096"><div class="change" id="aa52568717_471096"> </div></div><div class="change-set" id="c26"><div class="activity"><div class="change">Assignee: anatal &#x2192; lissyx+mozillians</div></div></div><div class="change-set" id="a56943675_512198"><div class="change" id="aa56943675_512198"> </div></div><div class="change-set" id="a69604406_473918"><div class="change" id="aa69604406_473918"> </div></div><div class="change-set" id="c29"><div class="activity"><div class="change"> <a href="/attachment.cgi?id=8984315&amp;action=edit" class>Attachment #8984315</a> - Flags: review?(bugs) &#x2192; review-</div></div></div><div class="change-set" id="c31"><div class="activity"><div class="change"> <a href="/attachment.cgi?id=8986675&amp;action=edit" class>Attachment #8986675</a> - Flags: review?(bugs) &#x2192; review-</div></div></div><div class="change-set" id="a75040362_420453"><div class="change" id="aa75040362_420453"> </div></div><div class="change-set" id="a75295177_446518"><div class="change" id="aa75295177_446518"> </div></div><div class="change-set" id="a75329576_607591"><div class="change" id="aa75329576_607591"> </div></div><div class="change-set" id="c41"><div class="activity"><div class="change"> <a href="/buglist.cgi?f1=cf_status_firefox47&amp;o1=isnotempty">status-firefox47</a>: <a href="/buglist.cgi?f1=cf_status_firefox47&amp;o1=equals&amp;v1=affected">affected</a> &#x2192; <a href="/buglist.cgi?f1=cf_status_firefox47&amp;o1=equals&amp;v1=wontfix">wontfix</a></div><div class="change"> <a href="/buglist.cgi?f1=cf_status_firefox63&amp;o1=isnotempty">status-firefox63</a>: --- &#x2192; <a href="/buglist.cgi?f1=cf_status_firefox63&amp;o1=equals&amp;v1=affected">affected</a></div></div></div><div class="change-set" id="c42"><div class="activity"><div class="change"> <a href="/attachment.cgi?id=8991057&amp;action=edit" class>Attachment #8991057</a> - Flags: review?(bugs) &#x2192; review-</div></div></div><div class="change-set" id="c45"><div class="activity"><div class="change"> <a href="/attachment.cgi?id=8993800&amp;action=edit" class>Attachment #8993800</a> - Flags: review?(apehrson)</div></div></div><div class="change-set" id="a76420441_537765"><div class="change" id="aa76420441_537765"> </div><div class="activity"><div class="change">Flags: needinfo?(apehrson)</div></div></div><div class="change-set" id="c49"><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(apehrson)</span></div></div></div><div class="change-set" id="c50"><div class="activity"><div class="change"> <a href="/attachment.cgi?id=8993800&amp;action=edit" class>Attachment #8993800</a> - Flags: review-</div></div></div><div class="change-set" id="c51"><div class="activity"><div class="change"> <a href="/attachment.cgi?id=8993800&amp;action=edit" class>Attachment #8993800</a> - Flags: <span class="activity-deleted">review?(bugs)</span></div></div></div><div class="change-set" id="c56"><div class="comment-text markdown-body " id="ct-56"><p>Andre, Oli, and Andreas what&apos;s the current status of this?</p>
<p>It looks like Andreas&apos; comments in his last review have not been addressed.</p>
<p>Alex was thinking about finishing this patch and integrating Deep Speech too.</p>
<p>Should he just jump in, fix Andreas&apos; request for changes, and do it?</p>
</div><div class="activity"><div class="change">Flags: needinfo?(apehrson)</div></div></div><div class="change-set" id="c57"><div class="comment-text markdown-body " id="ct-57"><p>Andre is driving this so check with him. Last I heard he was working on setting up a mock server with the mochitests, but then he has gotten disrupted by other work a number of times too.</p>
<p>I&apos;m happy to review any media bits, whoever writes them.</p>
</div><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(apehrson)</span></div></div></div><div class="change-set" id="c58"><div class="comment-text markdown-body " id="ct-58"><p>Many of the Andreas&apos; comments were already addressed after the last All Hands, including a major refactor of the media part. As he said, I was working on the mochitests and also finding the root of a memory leak that occurs when closing the tabs while the microphone capture is in process.</p>
<p>If the ultimate goal is to integrate Deep Speech, I believe a better use for Alex&apos; time would be to work in the backend instead the frontend being discussed here, since they should be totally decoupled, i.e, finish the docker containing deepspeech and deploy it to Mozilla&apos;s services cloud infrastructure, for online decoding, and/or, create another bug and patch just to integrate deepspeech&apos;s inference stack and models into gecko, plus the HTTP service which will receive the requests from the frontend here, in the case of offline.</p>
<p>Both are still missing and currently needs more attention than the patch being worked here, which is already functional if manually applied to Gecko.</p>
</div></div><div class="change-set" id="c59"><div class="comment-text markdown-body " id="ct-59"><blockquote>
<p>create another bug and patch just to integrate deepspeech&apos;s inference stack and models into gecko</p>
</blockquote>
<p>For offline there is already <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1474084">#1474084</a></p>
</div></div><div class="change-set" id="c60"><div class="comment-text markdown-body " id="ct-60"><p>(In reply to Andre Natal from <a class="bz_bug_link bz_status_REOPENED" href="/show_bug.cgi?id=1248897#c58">comment #58</a>)</p>
<blockquote>
<p>If the ultimate goal is to integrate Deep Speech, I believe a better use for Alex&apos; time would be to work in the backend instead the frontend being discussed here, since they should be totally decoupled, i.e, finish the docker containing deepspeech and deploy it to Mozilla&apos;s services cloud infrastructure, for online decoding, and/or, create another bug and patch just to integrate deepspeech&apos;s inference stack and models into gecko, plus the HTTP service which will receive the requests from the frontend here, in the case of offline.</p>
</blockquote>
<p>There&apos;s not that much to finish, it&apos;s working, and is iso-feature to the other implem served by speech proxy. I guess it would be more a question of production deployment etc. :)</p>
</div></div><div class="change-set" id="c61"><div class="comment-text markdown-body " id="ct-61"><p>(In reply to Andre Natal from <a class="bz_bug_link bz_status_REOPENED" href="/show_bug.cgi?id=1248897#c58">comment #58</a>)</p>
<blockquote>
<p>If the ultimate goal is to integrate Deep Speech, I believe a better use for Alex&apos; time would be to work in the backend instead the frontend being discussed here, since they should be totally decoupled, i.e, finish the docker containing deepspeech and deploy it to Mozilla&apos;s services cloud infrastructure, for online decoding, and/or, create another bug and patch just to integrate deepspeech&apos;s inference stack and models into gecko, plus the HTTP service which will receive the requests from the frontend here, in the case of offline.</p>
<p>Both are still missing and currently needs more attention than the patch being worked here, which is already functional if manually applied to Gecko.</p>
</blockquote>
<p>The Deep Speech backend exists already here [<a href="https://gitlab.com/deepspeech/ds-srv">https://gitlab.com/deepspeech/ds-srv</a>].</p>
<p>The associated Docker file is there too [<a href="https://gitlab.com/deepspeech/ds-srv/blob/master/Dockerfile.gpu">https://gitlab.com/deepspeech/ds-srv/blob/master/Dockerfile.gpu</a>]</p>
<p>So there is no blocker in that regard.</p>
<p>However, Alex and I are interested in bringing STT on device, <a class="bz_bug_link bz_status_ASSIGNED" href="/show_bug.cgi?id=1474084">bug 1474084</a>, so no servers are required, and Alex wants to resolve this bug and <a class="bz_bug_link bz_status_ASSIGNED" href="/show_bug.cgi?id=1474084">bug 1474084</a>.</p>
</div></div><div class="change-set" id="c62"><div class="comment-text markdown-body " id="ct-62"><p>(In reply to Alexandre LISSY :gerard-majax from <a class="bz_bug_link bz_status_REOPENED" href="/show_bug.cgi?id=1248897#c60">comment #60</a>)</p>
<blockquote>
<p>(In reply to Andre Natal from <a class="bz_bug_link bz_status_REOPENED" href="/show_bug.cgi?id=1248897#c58">comment #58</a>)</p>
<blockquote>
<p>If the ultimate goal is to integrate Deep Speech, I believe a better use for Alex&apos; time would be to work in the backend instead the frontend being discussed here, since they should be totally decoupled, i.e, finish the docker containing deepspeech and deploy it to Mozilla&apos;s services cloud infrastructure, for online decoding, and/or, create another bug and patch just to integrate deepspeech&apos;s inference stack and models into gecko, plus the HTTP service which will receive the requests from the frontend here, in the case of offline.</p>
</blockquote>
<p>There&apos;s not that much to finish, it&apos;s working, and is iso-feature to the other implem served by speech proxy. I guess it would be more a question of production deployment etc. :)</p>
</blockquote>
<p>Okay, I&apos;ll create a thread including you and Mozilla Services to roll that out to production</p>
</div></div><div class="change-set" id="c63"><div class="comment-text markdown-body " id="ct-63"><p>(In reply to kdavis from <a class="bz_bug_link bz_status_REOPENED" href="/show_bug.cgi?id=1248897#c61">comment #61</a>)</p>
<blockquote>
<p>(In reply to Andre Natal from <a class="bz_bug_link bz_status_REOPENED" href="/show_bug.cgi?id=1248897#c58">comment #58</a>)</p>
<blockquote>
<p>If the ultimate goal is to integrate Deep Speech, I believe a better use for Alex&apos; time would be to work in the backend instead the frontend being discussed here, since they should be totally decoupled, i.e, finish the docker containing deepspeech and deploy it to Mozilla&apos;s services cloud infrastructure, for online decoding, and/or, create another bug and patch just to integrate deepspeech&apos;s inference stack and models into gecko, plus the HTTP service which will receive the requests from the frontend here, in the case of offline.</p>
<p>Both are still missing and currently needs more attention than the patch being worked here, which is already functional if manually applied to Gecko.</p>
</blockquote>
<p>The Deep Speech backend exists already here [<a href="https://gitlab.com/deepspeech/ds-srv">https://gitlab.com/deepspeech/ds-srv</a>].</p>
<p>The associated Docker file is there too [<a href="https://gitlab.com/deepspeech/ds-srv/blob/master/Dockerfile.gpu">https://gitlab.com/deepspeech/ds-srv/blob/master/Dockerfile.gpu</a>]</p>
<p>So there is no blocker in that regard.</p>
<p>However, Alex and I are interested in bringing STT on device, <a class="bz_bug_link bz_status_ASSIGNED" href="/show_bug.cgi?id=1474084">bug 1474084</a>, so no servers are required, and Alex wants to resolve this bug and <a class="bz_bug_link bz_status_ASSIGNED" href="/show_bug.cgi?id=1474084">bug 1474084</a>.</p>
</blockquote>
<p>Cool, so is better to work on the tidbits to integrate deepspeech into gecko on <a class="bz_bug_link bz_status_ASSIGNED" href="/show_bug.cgi?id=1474084">bug 1474084</a> instead this one.</p>
<p>The goal of the patch here is to create an agnostic frontend which can communicate to whichever decoder through an HTTP Rest API, regardless of online or offline.</p>
<p>If the goal is to create a local deepspeech speech server exposed via http, you can use this as a frontend, but if the goal is to do something different, like for example injecting the frames directly into the inference stack, then is better to create a completely new SpeechRecognitionService instead injecting decoder specific code in this patch.</p>
</div></div><div class="change-set" id="c64"><div class="comment-text markdown-body " id="ct-64"><p>(In reply to Andre Natal from <a class="bz_bug_link bz_status_REOPENED" href="/show_bug.cgi?id=1248897#c63">comment #63</a>)</p>
<blockquote>
<p>The goal of the patch here is to create an agnostic frontend which can communicate to whichever decoder through an HTTP Rest API, regardless of online or offline.</p>
</blockquote>
<p>We want to use REST for offline?</p>
</div></div><div class="change-set" id="c65"><div class="comment-text markdown-body " id="ct-65"><p>I meant if you add a local http service to DEFAULT_RECOGNITION_ENDPOINT, it should work.</p>
<p>If that&apos;s not your goal, you should work on a whole new SpeechRecognitionService containing deep speech specific code on <a class="bz_bug_link bz_status_ASSIGNED" href="/show_bug.cgi?id=1474084">bug 1474084</a>.</p>
<p>Hope that helps.</p>
</div></div><div class="change-set" id="c66"><div class="comment-text markdown-body " id="ct-66"><p>(not sure I have anything to say here. I&apos;m just reviewing whatever is dumped to my review queue ;)<br>
And happy to review DOM/Gecko side of this)</p>
</div></div><div class="change-set" id="c67"><div class="comment-text markdown-body " id="ct-67"><p>(In reply to Andre Natal from <a class="bz_bug_link bz_status_REOPENED" href="/show_bug.cgi?id=1248897#c62">comment #62</a>)</p>
<blockquote>
<p>Okay, I&apos;ll create a thread including you and Mozilla Services to roll that out to production</p>
</blockquote>
<p>Could you put me on CC. Thanks</p>
</div></div><div class="change-set" id="a98548528_537765"><div class="change" id="aa98548528_537765"> </div></div><div class="change-set" id="a98548684_537765"><div class="change" id="aa98548684_537765"> </div><div class="activity"><div class="change">Duplicate of this bug: <a class="bz_bug_link bz_status_RESOLVED bz_closed" href="/show_bug.cgi?id=1392065">1392065</a></div></div></div><div class="change-set" id="a98550945_537765"><div class="change" id="aa98550945_537765"> </div></div><div class="change-set" id="c72"><div class="comment-text markdown-body " id="ct-72"><p>See <a class="bz_bug_link bz_status_RESOLVED bz_closed" href="/show_bug.cgi?id=1547409">bug 1547409</a>. Migrating webcompat priority whiteboard tags to project flags.</p>
</div><div class="activity"><div class="change">Webcompat Priority: --- &#x2192; P1</div></div></div><div class="change-set" id="a101790737_537765"><div class="change" id="aa101790737_537765"> </div><div class="activity"><div class="change">Target Milestone: --- &#x2192; Future</div></div></div><div class="change-set" id="c73"><div class="comment-text markdown-body " id="ct-73"><p>For testing reference, there are web platform tests for <a href="https://github.com/web-platform-tests/wpt/tree/master/speech-api">SpeechRecognition</a>, though many aren&apos;t all appearing on <a href="https://wpt.fyi/results/speech-api">wpt.fyi</a> and it&apos;s unclear to me how good the coverage is. It appears that <a href="https://chromium.googlesource.com/chromium/src/+/refs/heads/master/third_party/blink/web_tests/fast/speech/scripted">Blink</a> has a few extra tests.</p>
</div></div><div class="change-set" id="a107099798_537765"><div class="change" id="aa107099798_537765"> </div></div><div class="change-set" id="a107100055_537765"><div class="change" id="aa107100055_537765"> </div></div><div class="change-set" id="a107100201_537765"><div class="change" id="aa107100201_537765"> </div><div class="activity"><div class="change">No longer blocks: <a class="bz_bug_link bz_status_NEW" href="/show_bug.cgi?id=1565103">1565103</a></div></div></div><div class="change-set" id="a107100223_537765"><div class="change" id="aa107100223_537765"> </div></div><div class="change-set" id="c74"><div class="comment-text markdown-body " id="ct-74"><p>Andre, is this still on track for 70?</p>
<p>And, can you suggest a release note (either for 70 or for whatever future release this ends up in)? Thanks!</p>
<p>Release Note Request (optional, but appreciated)
[Why is this notable]:
[Affects Firefox for Android]:
[Suggested wording]:</p><p>
[Links (documentation, blog post, etc)]:</p></div></div></div></main></p>
<div class="activity"></div><div class="change-set" id="a110286382_537765"><div class="change" id="aa110286382_537765"> </div><div class="activity"><div class="change"> <a href="/buglist.cgi?f1=cf_tracking_firefox70&amp;o1=isnotempty">tracking-firefox70</a>: <a href="/buglist.cgi?f1=cf_tracking_firefox70&amp;o1=equals&amp;v1=%2B">+</a> &#x2192; ---</div></div></div><div class="change-set" id="c75"><div class="comment-text markdown-body " id="ct-75"><p>(In reply to Liz Henry (:lizzard) from <a class="bz_bug_link bz_status_REOPENED" href="/show_bug.cgi?id=1248897#c74">comment #74</a>)</p>
<blockquote>
<p>Andre, is this still on track for 70?</p>
<p>And, can you suggest a release note (either for 70 or for whatever future release this ends up in)? Thanks!</p>
<p>Release Note Request (optional, but appreciated)
[Why is this notable]:
[Affects Firefox for Android]:
[Suggested wording]:</p><p>
[Links (documentation, blog post, etc)]:</p>
</blockquote>
<p>Hi Liz, we moved it to 71. It&apos;s possible to track this there?</p>
<p>Thanks!</p>
</div></div><div class="change-set" id="a115034404_489339"><div class="change" id="aa115034404_489339"> </div><div class="activity"><div class="change">Webcompat Priority: P2 &#x2192; P1</div></div></div><div class="change-set" id="a115087986_537765"><div class="change" id="aa115087986_537765"> </div></div><div class="change-set" id="c77"><div class="comment-text markdown-body " id="ct-77"><p>(In reply to Pascal Chevrel:pascalc from <a class="bz_bug_link bz_status_REOPENED" href="/show_bug.cgi?id=1248897#c76">comment #76</a>)</p>
<blockquote>
<p>Updated to track our 71 release. Andr&#xE9;, will this need a mention in our release notes, a blog post or a mention on our Nightly twitter account to ask our core community to test it? Thanks</p>
</blockquote>
<p>It&apos;s not going to ride the trains. The plan is to hold the feature in Nightly. I guess that means it doesn&apos;t go into the release notes. But asking for folks to flip the pref and test it in Nightly would be good.</p>
</div></div><div class="change-set" id="c78"><div class="comment-text markdown-body " id="ct-78"><p>(In reply to Nils Ohlmeier [:drno] from <a class="bz_bug_link bz_status_REOPENED" href="/show_bug.cgi?id=1248897#c77">comment #77</a>)</p>
<blockquote>
<p>(In reply to Pascal Chevrel:pascalc from <a class="bz_bug_link bz_status_REOPENED" href="/show_bug.cgi?id=1248897#c76">comment #76</a>)</p>
<blockquote>
<p>Updated to track our 71 release. Andr&#xE9;, will this need a mention in our release notes, a blog post or a mention on our Nightly twitter account to ask our core community to test it? Thanks</p>
</blockquote>
<p>It&apos;s not going to ride the trains. The plan is to hold the feature in Nightly. I guess that means it doesn&apos;t go into the release notes. But asking for folks to flip the pref and test it in Nightly would be good.</p>
</blockquote>
<p>We have release notes for the Nightly channel <a href="https://www.mozilla.org/en-US/firefox/71.0a1/releasenotes/">https://www.mozilla.org/en-US/firefox/71.0a1/releasenotes/</a></p>
</div></div><div class="change-set" id="c79"><div class="comment-text markdown-body " id="ct-79"><p>(In reply to Nils Ohlmeier [:drno] from <a class="bz_bug_link bz_status_REOPENED" href="/show_bug.cgi?id=1248897#c77">comment #77</a>)</p>
<blockquote>
<p>It&apos;s not going to ride the trains. The plan is to hold the feature in Nightly. I guess that means it doesn&apos;t go into the release notes. But asking for folks to flip the pref and test it in Nightly would be good.</p>
</blockquote>
<p>Are there any instructions for testing this in nightly? I&apos;m a web developer who runs Firefox Nightly and has given several talks on the Web Speech API. Very keen to help with testing.</p>
</div></div><div class="change-set" id="c80"><div class="comment-text markdown-body " id="ct-80"><p>Hi Pascal, yes, let&apos;s do it, but let&apos;s wait until we have the code fully merged to start this discussion. Currently the date of landing is still uncertain since the code wasn&apos;t fully reviewed yet.</p>
</div></div><div class="change-set" id="c81"><div class="comment-text markdown-body " id="ct-81"><p>(In reply to jason.oneil from <a class="bz_bug_link bz_status_REOPENED" href="/show_bug.cgi?id=1248897#c79">comment #79</a>)</p>
<blockquote>
<p>(In reply to Nils Ohlmeier [:drno] from <a class="bz_bug_link bz_status_REOPENED" href="/show_bug.cgi?id=1248897#c77">comment #77</a>)</p>
<blockquote>
<p>It&apos;s not going to ride the trains. The plan is to hold the feature in Nightly. I guess that means it doesn&apos;t go into the release notes. But asking for folks to flip the pref and test it in Nightly would be good.</p>
</blockquote>
<p>Are there any instructions for testing this in nightly? I&apos;m a web developer who runs Firefox Nightly and has given several talks on the Web Speech API. Very keen to help with testing.</p>
</blockquote>
<p>Hi Jason,</p>
<p>the API hasn&apos;t landed and isn&apos;t available in Nightly yet , but as soon there is, to enable it will be just matter of switching a couple of flags on (if at all)</p>
</div></div> </body>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2019 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
    </footer>
    
    <script>
        (function() {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function() {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) {}
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
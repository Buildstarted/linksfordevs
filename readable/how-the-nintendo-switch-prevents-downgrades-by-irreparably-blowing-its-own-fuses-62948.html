<!DOCTYPE html>
<html lang="en">
<head>
    <title>
How the Nintendo Switch prevents downgrades by irreparably blowing its own fuses - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.min.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="How the Nintendo Switch prevents downgrades by irreparably blowing its own fuses - linksfor.dev(s)"/>
    <meta property="article:author" content="JonLuca DeCaro"/>
    <meta property="og:description" content="Note: this is a republish of the article I originally wrote on Medium for Hackernoon"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://blog.jonlu.ca/posts/nintendo-switch"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1 style="margin: unset">
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - How the Nintendo Switch prevents downgrades by irreparably blowing its own fuses</title>
<div class="readable">
        <h1>How the Nintendo Switch prevents downgrades by irreparably blowing its own fuses</h1>
            <div>by JonLuca DeCaro</div>
            <div>Reading time: 5-6 minutes</div>
        <div>Posted here: 16 Jun 2020</div>
        <p><a href="https://blog.jonlu.ca/posts/nintendo-switch">https://blog.jonlu.ca/posts/nintendo-switch</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div><p>Note: this is a republish of the article I originally wrote on Medium for <a href="https://medium.com/hackernoon/how-the-nintendo-switch-prevents-downgrades-by-irreparably-blowing-its-own-fuses-884bd3b7a8ba" target="_blank" rel="noopener noreferrer">Hackernoon</a></p><p>Downgrade prevention has been a cat-and-mouse game between consumers and companies since the inception of remote updates. The Nintendo Switch adopts a worrisome-strategy of preventing firmware downgrades by permanently modifying your device every time it updates. While this isn’t a new concept (the Xbox 360 was doing it back in 2007), it is part of a greater effort to prevent end users from modifying their devices to their liking.</p><p>The Nintendo Switch use an <a href="https://en.wikipedia.org/wiki/Tegra#Tegra_X1" target="_blank" rel="noopener noreferrer">Nvidia Tegra X1 SoC</a>, which comes with a fuse driver. This allows it to programmatically blow fuses — permanently modifying the device, making it impossible to revert to a previous state.</p><picture><source srcset="/images/switch.webp" type="image/webp"><source srcset="/images/switch.png" type="image/png"><img alt="Nintendo Switch" src="https://blog.jonlu.ca/images/switch.png"></picture><h2 id="how-it-works">How It Works</h2><p>The boot loader verifies a specific fuse, <a href="http://switchbrew.org/index.php?title=Fuses#FUSE_RESERVED_ODM7" target="_blank" rel="noopener noreferrer">FUSE_RESERVED_ODM7</a>, to prevent downgrading.<sup id="fnref:1"><a href="#fn:1">1</a></sup> Each software version expects a different number of fuses to be blown — if more than is expected, it fails to boot, and if less, it’ll blow those fuses and then proceed to boot. Blowing a fuse is irreversible— once it’s been set it can never be undone. It’s theoretically possible to physically modify the SoC and replace the fuses, but it’s so prohibitively invasive and expensive that it’s not a real option.</p><p>There are 256 bits in the set of ODM_RESERVED fuses, and there are 8 ODM_RESERVED. This allows for 32 fuses, or 32 future FW versions (provided they burn a fuse on every major release).</p><div id="gist89192822">
    <div>
      <div>
        <div>
  <div id="file-nintendosystemversiontable-csv">
    

  <div itemprop="text">
      

  <div>
    <table>
      <thead>
        <tr id="file-nintendosystemversiontable-csv-LC1">
          <td id="file-nintendosystemversiontable-csv-L1" data-line-number="1"></td>
            <th>System version</th>
            <th>Expected number of burnt fuses (retail)</th>
            <th>Expected number of burnt fuses (non-retail)</th>
        </tr>
      </thead>
      <tbody>
          <tr id="file-nintendosystemversiontable-csv-LC2">
            <td id="file-nintendosystemversiontable-csv-L2" data-line-number="2"></td>
              <td>1.0.0</td>
              <td>1</td>
              <td>0</td>
          </tr>
          <tr id="file-nintendosystemversiontable-csv-LC3">
            <td id="file-nintendosystemversiontable-csv-L3" data-line-number="3"></td>
              <td>2.0.0-2.3.0</td>
              <td>2</td>
              <td>0</td>
          </tr>
          <tr id="file-nintendosystemversiontable-csv-LC4">
            <td id="file-nintendosystemversiontable-csv-L4" data-line-number="4"></td>
              <td>3.0.0</td>
              <td>3</td>
              <td>1</td>
          </tr>
          <tr id="file-nintendosystemversiontable-csv-LC5">
            <td id="file-nintendosystemversiontable-csv-L5" data-line-number="5"></td>
              <td>3.0.1-3.0.2</td>
              <td>4</td>
              <td>1</td>
          </tr>
          <tr id="file-nintendosystemversiontable-csv-LC6">
            <td id="file-nintendosystemversiontable-csv-L6" data-line-number="6"></td>
              <td>4.0.0-4.1.0</td>
              <td>5</td>
              <td>1</td>
          </tr>
          <tr id="file-nintendosystemversiontable-csv-LC7">
            <td id="file-nintendosystemversiontable-csv-L7" data-line-number="7"></td>
              <td>5.0.0-5.1.0</td>
              <td>6</td>
              <td>1</td>
          </tr>
          <tr id="file-nintendosystemversiontable-csv-LC8">
            <td id="file-nintendosystemversiontable-csv-L8" data-line-number="8"></td>
              <td>6.0.0-6.1.0</td>
              <td>7</td>
              <td>1</td>
          </tr>
          <tr id="file-nintendosystemversiontable-csv-LC9">
            <td id="file-nintendosystemversiontable-csv-L9" data-line-number="9"></td>
              <td>6.2.0</td>
              <td>8</td>
              <td>1</td>
          </tr>
          <tr id="file-nintendosystemversiontable-csv-LC10">
            <td id="file-nintendosystemversiontable-csv-L10" data-line-number="10"></td>
              <td>7.0.0-8.0.1</td>
              <td>9</td>
              <td>1</td>
          </tr>
          <tr id="file-nintendosystemversiontable-csv-LC11">
            <td id="file-nintendosystemversiontable-csv-L11" data-line-number="11"></td>
              <td>8.1.0</td>
              <td>10</td>
              <td>1</td>
          </tr>
          <tr id="file-nintendosystemversiontable-csv-LC12">
            <td id="file-nintendosystemversiontable-csv-L12" data-line-number="12"></td>
              <td>9.0.0-9.0.1</td>
              <td>11</td>
              <td>1</td>
          </tr>
          <tr id="file-nintendosystemversiontable-csv-LC13">
            <td id="file-nintendosystemversiontable-csv-L13" data-line-number="13"></td>
              <td>9.1.0-9.2.0</td>
              <td>12</td>
              <td>1</td>
          </tr>
          <tr id="file-nintendosystemversiontable-csv-LC14">
            <td id="file-nintendosystemversiontable-csv-L14" data-line-number="14"></td>
              <td>10.0.0-10.0.4</td>
              <td>13</td>
              <td>1</td>
          </tr>
      </tbody>
    </table>
  </div>

  </div>

  </div>
</div>

      </div>
      
    </div>
</div>
<h2 id="workarounds">Workarounds</h2><p>In April 2018, the <a href="https://arstechnica.com/gaming/2018/04/the-unpatchable-exploit-that-makes-every-current-nintendo-switch-hackable/" target="_blank" rel="noopener noreferrer">first serious exploit of the Switch BootROM was released</a>. This is not a remotely patchable exploit, which means that all ~15 million devices currently out are vulnerable and will continue to be vulnerable for their lifespans. <a href="https://github.com/fail0verflow/shofel2" target="_blank" rel="noopener noreferrer">fail0verflow also released a Linux side loader</a>.</p><h2 id="2020-update">2020 Update</h2><p>Since this article was originally written (in 2018), the ability to bypass the fuse checks have come out. By setting your console to <a href="https://switch.homebrew.guide/usingcfw/manualchoiupgrade.html" target="_blank" rel="noopener noreferrer">RCM mode</a>, it allows you to bypass all these checks before the console has already booted. There are patched and unpatched versions of these Switches, which are outlined on the very useful <a href="https://nh-server.github.io/switch-guide/" target="_blank" rel="noopener noreferrer">NH Switch Guide</a> site.</p><h2 id="what-firmware-versions-are-currently-hackable">What firmware versions are currently hackable?</h2><p>From the <a href="https://nh-server.github.io/switch-guide/faq/" target="_blank" rel="noopener noreferrer">FAQ on NH-Server</a>:</p><blockquote><p>Currently two hardware revisions of the Switch exist. Any Switch bought or manufactured before the middle of 2018 has a bootrom bug that allows us to run code regardless of the firmware version on the Switch. When Nintendo updates the system, however, CFW will usually need an update to account for it. This bug cannot be fixed by Nintendo once the console leaves the factory, unless the console is sent in for repairs. This means that all current and future firmwares will be able to launch CFW through this exploit on the old hardware revision.</p></blockquote><blockquote><p>Any console purchased after approximately August 2018 is likely to be patched. This includes the latest units on shelves, referred to as ‘red box’ or ‘Mariko’. Mariko is hardware patched, but may come on a vulnerable firmware. Currently the only way to know if your Switch is hackable is by trying to send the payload in RCM. Even with this exploit fixed, many Switches on 8.0.1 and below will be hackable to some degree in the future (see Should I update my Firmware? for much more detailed information). The serial number on the back of the box can possibly tell you which consoles are patched and which aren’t. See here for an up to date list.</p></blockquote><h6 id="footnotes">Footnotes</h6></div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
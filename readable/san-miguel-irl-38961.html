<!DOCTYPE html>
<html lang="en">
<head>
    <title>
San Miguel, IRL - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="San Miguel, IRL - linksfor.dev(s)"/>
    <meta property="og:description" content="Some history of the San Miguel model, and an update on what the actual spot looks like today."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://pharr.org/matt/blog/2019/10/16/san-miguel-today.html"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
	<div class="devring" style="background: #222">
		<div class="grid">
			<div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
				<span class="devring-title">devring.club</span>
				<a href="https://devring.club/site/1/previous" class="devring-previous">Previous</a>
				<a href="https://devring.club/random" class="devring-random">Random</a>
				<a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
			</div>
		</div>
	</div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - San Miguel, IRL</title>
<div class="readable">
        <h1>San Miguel, IRL</h1>
            <div>Reading time: 5-7 minutes</div>
        <div>Posted here: 17 Oct 2019</div>
        <p><a href="https://pharr.org/matt/blog/2019/10/16/san-miguel-today.html">https://pharr.org/matt/blog/2019/10/16/san-miguel-today.html</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>The cover image of <em>Physically Based Rendering</em> plays two important roles:
it’s not just there for the aesthetics of a good looking book, but it also
sums up the book’s proposition—if you read and study this book, you can
completely understand how to write a program that generates images like
this one.  To that end, it’s always been a requirement that the cover image
be rendered by pbrt.</p>

<p>For the first edition, we used the best model we could put our hands on: an
ecosystem scene from the 1998 SIGGRAPH paper <a href="http://www.graphics.stanford.edu/papers/ecosys/">Realistic Modeling and
Rendering of Plant
Ecosystems</a>.  By 1998
standards, it was an impressive scene, and it was good enough for 2004.
For the second edition, in 2010, we wanted something new and more
impressive.</p>

<p>Lacking any better ideas, Greg and I sent a note to the pbrt mailing list
announcing a contest: submit a great scene for pbrt and the best will be on
the cover.  From what I remember, we didn’t get many responses and the ones
we did get weren’t any better than the scene we had from the first edition.
We kept on working on the book’s contents without a cover image and started
to worry about how that was going to turn out as the deadline got closer
and closer.</p>

<p>Then, out of nowhere, we received an email from Guillermo M. Leal LLaguno
with some renderings of what’s now known as the San Miguel model.  There
was a geometry-only version rendered with pbrt and a few <em>mental ray</em>
renderings, those with proper materials and textures.  Guillermo wrote:</p>

<blockquote>
  <p>The idea for this project came while on a trip to a small Mexican town
 (San Miguel de Allende). We stayed in a hacienda and I just loved the
 place, so when I came back I started to model it at night, but I was
 never able to finish it.  I did some renders some time ago in mental ray
 but just never finished it. I believe it’s an excellent subject for
 pbrt.</p>
</blockquote>

<p>The <em>mental ray</em> renderings looked great, but there was still some way to
go to get it rendering in pbrt—for example, the scene was modeled in 3DS
Max, but there was no 3DS Max to pbrt exporter.  And, while pbrt ain’t no
slouch of a renderer (if I may say so), it isn’t a commercial product, and
it was certainly less mature then than it is now.  It wasn’t clear whether
this was actually going to work out, with two months left at that point
before the cover image was due.</p>

<p>To my amazement, then and now, it all went remarkably well: Guillermo had
infinite patience working with a buggy early version of pbrt-v2 and went
ahead and wrote a 3ds Max to pbrt exporter from scratch.  Two months later,
he rendered the image that was used for the cover:</p>

<p>
<a href="https://pharr.org/matt/blog/images/sanmiguel-cover.png"><img src="https://pharr.org/matt/blog/images/thumb-sanmiguel-cover.jpg"></a>
</p>

<p>We released the scene description with the book and since then it has seen
widespread use in computer graphics research, both in pbrt and in other
renderers.  I think that it remains an impressive scene to this day: a
great combination of interesting architecture accented with an abundance of
plants, beautifully lit with a variety of materials.</p>

<h2 id="san-miguel-today">San Miguel today</h2>

<p>It so happens that the Mrs. Pharr recently took a trip to San Miguel de
Allende to meet up with her sister, who is traveling in Mexico.  She had
the genius idea of finding the hacienda, seeing it in person, and taking a
few pictures.</p>

<p>Other than knowing what town it was in, I didn’t have any more information
about the place—its name, its address, or any of that.  A few years ago,
Jacobo Ríos <a href="https://twitter.com/jakovo/status/917235279026470913">tweeted</a>
about visiting it, but I wasn’t able to find a way to get in touch with him
now.</p>

<p>Lacking better options, I spent an hour or so with Google image search,
searching for things like “San Miguel hacienda”, “San Miguel hacienda
tables and arches”, and scrolling through pages of results. I still
couldn’t find anything that matched the model—the grooves in the square
columns were the tell I was looking for but never found. So much for
Google’s fancy pants deep-neural-net-powered image search.</p>

<p>Fortunately, the folks at the front desk at her hotel immediately knew
the place from the image in Jacobo’s tweet: <a href="https://www.posadacarmina.com/">Hotel Posada
Carmina</a>.  It’s the restaurant there, Casa
Carmina, and it’s known for its breakfast. It seems that they also sell
Cuban cigars.</p>

<p>Here’s how it looks today:</p>

<p>
<a href="https://pharr.org/matt/blog/images/sanmiguel-2.jpg"><img src="https://pharr.org/matt/blog/images/thumb-sanmiguel-2.jpg"></a>
<a href="https://pharr.org/matt/blog/images/sanmiguel-1.jpg"><img src="https://pharr.org/matt/blog/images/thumb-sanmiguel-1.jpg"></a>
<a href="https://pharr.org/matt/blog/images/sanmiguel-3.jpg"><img src="https://pharr.org/matt/blog/images/thumb-sanmiguel-3.jpg"></a>
<a href="https://pharr.org/matt/blog/images/sanmiguel-4.jpg"><img src="https://pharr.org/matt/blog/images/thumb-sanmiguel-4.jpg"></a>
<a href="https://pharr.org/matt/blog/images/sanmiguel-5.jpg"><img src="https://pharr.org/matt/blog/images/thumb-sanmiguel-5.jpg"></a>
<a href="https://pharr.org/matt/blog/images/sanmiguel-6.jpg"><img src="https://pharr.org/matt/blog/images/thumb-sanmiguel-6.jpg"></a>
<a href="https://pharr.org/matt/blog/images/sanmiguel-7.jpg"><img src="https://pharr.org/matt/blog/images/thumb-sanmiguel-7.jpg"></a>
<a href="https://pharr.org/matt/blog/images/sanmiguel-8.jpg"><img src="https://pharr.org/matt/blog/images/thumb-sanmiguel-8.jpg"></a>
<i></i>
</p>


<p>I find it fascinating to see the actual place now, so familiar but yet so
different, after so many hours looking at renderings of it, peeping at
pixels to figure out bugs.  I like the blue stucco version more than the
yellow-ish tan, which I assume is thanks to Guillermo’s artistic license.</p>

<p>With the name of the spot in hand, I could google effectively.  I found
that <a href="https://www.google.com/maps/@20.913361,-100.7439909,3a,75y,262.55h,93.37t/data=!3m8!1e1!3m6!1sAF1QipPbQxz_QRUnTr4lC8MOXUPxNz2jRju15RrXxjFj!2e10!3e11!6shttps:%2F%2Flh5.googleusercontent.com%2Fp%2FAF1QipPbQxz_QRUnTr4lC8MOXUPxNz2jRju15RrXxjFj%3Dw203-h100-k-no-pi-0-ya275.4265-ro-0-fo100!7i7200!8i3600">street view absolutely
delivers</a>.
And it’s not just the outside—there are 360 degree panoramas at multiple
places in the interior that make up for those failed image searches and
then some:
<a href="https://www.google.com/maps/@20.9133566,-100.7440643,3a,75y,259.48h,97.43t/data=!3m6!1e1!3m4!1sAF1QipNcEdcgdsq6HuiwX4I0i-6nGqSjVmoxu5pG3r01!2e10!7i7200!8i3600">entrance</a>,
<a href="https://www.google.com/maps/@20.9133287,-100.744134,3a,75y,304.32h,89.95t/data=!3m6!1e1!3m4!1sAF1QipO6lk4HIqJrQKM_wNdX-xhHzyfS28g7keWmRsLZ!2e10!7i7200!8i3600">interior</a>,
<a href="https://www.google.com/maps/@20.9133281,-100.7441498,3a,75y,329.78h,70.01t/data=!3m6!1e1!3m4!1sAF1QipN_TZLmBXyjsyRFppBl5f5h_-PZIwpwlIK8ap2O!2e10!7i7200!8i3600">food
view</a>.</p>

<p>With the right search term, <a href="https://www.google.com/search?q=hotel+posada+carmina&amp;tbm=isch">image
search</a>
comes up with no end of images of the place as well.  Of them, my favorites
are <a href="https://panpamartinez.com/san-miguel-allende-wedding-posada-carmina-hotel-rocio-mike/">these photos of a
wedding</a>
that was held there in that familiar space.</p>

<p><img src="https://pharr.org/matt/blog/images/san-miguel-wedding.jpg">
<i>Photo from a wedding held at</i> Casa Carmina<i>, the inspiration for
the</i> San Miguel<i> model.</i></p>


<p>For how great the model is and how nice its renderings can be, it’s
incredible how different it is to see the space filled with people,
celebrating a day like that.  It seems that we still have a ways to go.</p>

  </div>

  



</article>

      </div>
    </div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
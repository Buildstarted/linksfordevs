<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Introducing the new Microsoft.Data.SqlClient | .NET Blog -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>Introducing the new Microsoft.Data.SqlClient | .NET Blog</h1><div><div class="entry-content col-12 sharepostcontent"><div class="row justify-content-center"><div class="col-md-4"><div><img src="https://secure.gravatar.com/avatar/c16238388fe24348cb8d7c4cf974bb7b?s=58&amp;d=mm&amp;r=g" width="58" height="58" alt="Avatar" class="avatar avatar-58 wp-user-avatar wp-user-avatar-58 photo avatar-default"><p>Diego</p></div></div></div><p>May 8th, 2019</p><p><em>This post was written by Vicky Harp, Program Manager on SqlClient and SQL Server Tools.</em> Those of you who have been following .NET development closely have very likely seen Scott Hunter’s latest blog post,&nbsp;<a href="https://devblogs.microsoft.com/dotnet/net-core-is-the-future-of-net/" rel="nofollow">.NET Core is the Future of .NET</a>. The change in focus of .NET Framework towards stability and new feature development moving to .NET Core means SQL Server needs to change in order to continue to provide the latest SQL features to .NET developers in the same timely manner that we have done in the past.</p><p>System.Data.SqlClient is the ADO.NET provider you use to access SQL Server or Azure SQL Databases. Historically SQL has used System.Data.SqlClient in .NET Framework as the starting point for client-side development when proving our new SQL features, and then propagating those designs to other drivers. We would still like to do this going forward but at the same time those same new features should be available in .NET Core, too.</p><p>Right now, we have two code bases and two different ways SqlClient is delivered to an application. In .NET Framework, versions are installed globally in Windows. In .NET Core, an application can pick a specific SqlClient version and ship with that. Wouldn’t it be nice if the .NET Core model of SqlClient delivery worked for .NET Framework, too?</p><p>We couldn’t just ship a new package that replaces System.Data.SqlClient. That would conflict with what lives inside .NET Framework now. Which brings us to our chosen solution…</p><h2><a id="microsoftdatasqlclient"></a>Microsoft.Data.SqlClient</h2><p>The Microsoft.Data.SqlClient package,&nbsp;<a href="https://www.nuget.org/packages/Microsoft.Data.SqlClient/" rel="nofollow">now available in preview on NuGet</a>, will be the flagship data access driver for SQL Server going forward.</p><p>This new package supports both .NET Core and .NET Framework. Creating a new SqlClient in a new namespace allows both the old System.Data.SqlClient and new Microsoft.Data.SqlClient to live side-by-side. While not automatic, there is a pretty straightforward path for applications to move from the old to the new. Simply add a NuGet dependency on Microsoft.Data.SqlClient and update any using references or qualified references.</p><p>In keeping with our plans to accelerate feature delivery in this new model, we are happy to offer support for two new SQL Server features on both .NET Framework and .NET Core, along with bug fixes and performance improvements:</p><ul><li>Data Classification – Available in Azure SQL Database and Microsoft SQL Server 2019 since CTP 2.0.</li><li>UTF-8 support – Available in Microsoft SQL Server SQL Server 2019 since CTP 2.3.</li></ul><p>Likewise, we have updated the .NET Core version of the provider with the long awaited support for Always Encrypted:</p><ul><li>Always Encrypted is available in Microsoft SQL Server 2016 and higher.</li><li>Enclave support was introduced in Microsoft SQL Server 2019 CTP 2.0.</li></ul><p>The binaries in the new package are based on the same code from System.Data.SqlClient in .NET Core and .NET Framework. This means there are multiple binaries in the package. In addition to the different binaries you would expect for supporting different operating systems, there are different binaries when you target .NET Framework versus when you target .NET Core. There was no magic code merge behind the scenes: we still have divergent code bases from .NET Framework and .NET Core (for now). This also means we still have divergent feature support between SqlClient targeting .NET Framework and SqlClient targeting .NET Core. If you want to migrate from .NET Framework to .NET Core but you are blocked because .NET Core does not yet support a feature (aside from Always Encrypted), the first preview release may not change that. But our top priority is bringing feature parity across those targets.</p><h2><a id="what-is-the-roadmap-for-microsoftdatasqlclient"></a>What is the roadmap for Microsoft.Data.SqlClient?</h2><p>Our roadmap has more frequent releases lighting up features in Core as fast as we can implement them. The long-term goal is a single code base and it will come to that over time, but the immediate need is feature support in SqlClient on .NET Core, so that is what we are focusing on, while still being able to deliver new SQL features to .NET Framework applications, too.</p><table border="1" cellpadding="5"><thead><tr><th> Feature Roadmap</th><th> Engineering Roadmap</th></tr></thead><tbody><tr><td> – Azure Active Directory authentication providers (Core)</td><td> – Merge .NET Framework and .NET Core code bases</td></tr><tr><td> – Active Directory Password</td><td> – Open source assembly</td></tr><tr><td> – Managed Service Identity</td><td> – Move to GitHub</td></tr><tr><td> – Active Directory Integrated</td><td></td></tr></tbody></table><p>&nbsp;<br>While we do not have dates for the above features, our goal is to have multiple releases throughout 2019. We anticipate Microsoft.Data.SqlClient moving from Preview to general availability sometime prior to the RTM releases of both SQL Server 2019 and .NET Core 3.0.</p><h2><a id="what-does-this-mean-for-systemdatasqlclient"></a>What does this mean for System.Data.SqlClient?</h2><p>It means the development focus has changed. We have no intention of dropping support for System.Data.SqlClient any time soon. It will remain as-is and we will fix important bugs and security issues as they arise. If you have a typical application that doesn’t use any of the newest SQL features, then you will still be well served by a stable and reliable System.Data.SqlClient for many years.</p><p>However, Microsoft.Data.SqlClient will be the only place we will be implementing new features going forward. We would encourage you to evaluate your needs and options and choose the right time for you to migrate your application or library from System.Data.SqlClient to Microsoft.Data.SqlClient.</p><h2><a id="closing" class="anchor"></a>Closing</h2><p>Please, try the preview bits by installing the <a href="https://www.nuget.org/packages/Microsoft.Data.SqlClient/">Microsoft.Data.SqlClient package</a>. We want to hear from you! Although we haven’t finished preparing the source code for publishing, you can already use the issue tracker at&nbsp;<a href="https://github.com/dotnet/SqlClient">https://github.com/dotnet/SqlClient</a>&nbsp;to report any issues.</p><p>Keep in mind that object-relational mappers such as EF Core, EF 6, or Dapper, and other non-Microsoft libraries, haven’t yet made the transition to the new provider, so you won’t be able to use the new features through any of these libraries. An updated versions of EF Core with support for Microsoft.Data.SqlClient are expected in an upcoming preview.</p><p>We also encourage you to visit our&nbsp;<a href="https://github.com/dotnet/SqlClient/wiki/Frequently-Asked-Questions">Frequently Asked Questions</a>&nbsp;and&nbsp;<a href="https://github.com/dotnet/SqlClient/blob/master/release-notes/1.0/1.0.0.md">Release Notes</a>&nbsp;pages in our GitHub repository. They contain additional information about the features available, how to get started, and our plans for the release.</p><p><em>This post was written by Vicky Harp, Program Manager on SqlClient and SQL Server Tools.</em></p><div class="authorinfoarea"><div><p>Program Manager ,&nbsp;.NET Data Access</p><p><strong>Follow Diego</strong>&nbsp;&nbsp;&nbsp;<a class="no-underline stayinformed" aria-label="Diego Vega Twitter profile" target="_blank" href="https://twitter.com/divega"></a><a class="no-underline stayinformed" aria-label="Diego Vega LinkedIn profile" target="_blank" href="https://linkedin.com/in/dbvega"><i class="fa fa-linkedin"></i></a><a class="no-underline stayinformed" aria-label="Diego Vega GitHub profile" target="_blank" href="https://github.com/divega"><i class="fa fa-github"></i></a><a class="no-underline stayinformed" aria-label="Diego Vega Stackoverflow profile" target="_blank" href="https://stackoverflow.com/users/393050/divega"><i class="fa fa-stack-overflow"></i></a><a class="no-underline stayinformed hvr-pop" aria-label="Diego Vega RSS Feed" target="_blank" href="https://devblogs.microsoft.com/dotnet/author/divegamicrosoft-com/feed/"></a></p></div></div></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
gravitational/gravity: Opinionated image-based Kubernetes packaging and management tools. -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>gravitational/gravity: Opinionated image-based Kubernetes packaging and management tools.</h1><div><div id="" class="markdown-body entry-content p-5"><a href="https://gravitational.com/gravity/" rel="nofollow"><img src="https://camo.githubusercontent.com/b9ca20103943f819a643055bc134c298ed17d327/68747470733a2f2f6772617669746174696f6e616c2e636f6d2f6772617669746174696f6e616c2f696d616765732f6c6f676f732f6c6f676f2d677261766974792d782d6c617267652e706e67" alt="Gravity" data-canonical-src="https://gravitational.com/gravitational/images/logos/logo-gravity-x-large.png"></a><p>Gravity is an <a href="https://kubernetes.io/" rel="nofollow">upstream Kubernetes</a> packaging solution
that takes the drama out of deploying and running applications in someone
else's cloud accounts, on-premise data centers, edge locations and other
"uncharted territory" environments.</p><p>With Gravity, your Kubernetes apps can run and be regularly updated anywhere in
the world without a massive DevOps team.</p><h2><a id="user-content-introduction" class="anchor" aria-hidden="true" href="#introduction"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction</h2><p>Gravity is an open source toolkit for creating "images" of Kubernetes
clusters and the applications running inside the clusters. The resulting
images are called <em>cluster images</em> and they are just <code>.tar</code> files.</p><p>A cluster image can be used to re-create full replicas of the original
cluster in any environment where compliance and consistency matters, i.e. in
locked-down AWS/GCE/Azure environments or even in air-gapped server rooms.
An image can run without human supervision, as a "kubernetes appliance".</p><p>Gravity has been running in production in major financial institutions,
government data centers and enterprises. Gravitational open sourced it in the
fall of 2018.</p><a href="https://gravitational.com/gravity/" rel="nofollow"><img src="https://camo.githubusercontent.com/d443728e05437b5d12ba192d08673be7e4ac5135/68747470733a2f2f6772617669746174696f6e616c2e636f6d2f6772617669746174696f6e616c2f696d616765732f67726170686963732f677261766974792d6f73732d6865726f2e706e67" alt="Gravity" data-canonical-src="https://gravitational.com/gravitational/images/graphics/gravity-oss-hero.png"></a><h2><a id="user-content-gravity-vs-" class="anchor" aria-hidden="true" href="#gravity-vs-"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Gravity vs ...</h2><p>There are plenty of Kubernetes distributions out there. Most of them aim to be
flexible, general purpose platforms. Gravity has a more narrow <strong>focus
on compliance and reducing the overhead of managing Kubernetes</strong>:</p><ul><li>Gravity clusters are idempotent, i.e. clusters created from the same image
are <em>always identical</em>. There is no configuration drift over time; no
"special snowflakes".</li><li>Gravity clusters are always "wrapped" with a privileged access gateway called
<a href="https://gravitational.com/teleport" rel="nofollow">Teleport</a>, which unifies k8s and SSH
authentication, integrates with SSO and keeps a detailed audit log for compliance
purposes. It even records the interactive SSH and <code>kubectl exec</code> sessions.</li><li>Gravity clusters deployed world-wide can be remotely managed via built-in
reverse SSH tunnels, i.e. developers can have access to thousands of k8s API
endpoints even if they're located behind NAT/firewalls.</li><li>Gravity includes tools to perform <em>infrastructure validation</em> prior to
cluster provisioning. This allows cluster designers to prevent users from
installing clusters on infrastructure that does not meet the system requirements.</li><li>Gravity clusters only allow Kubernetes components that have been thoroughly
tested by <a href="https://gravitational.com" rel="nofollow">Gravitational Inc</a> for compatibility
and stability. These components are called a "Kubernetes Runtime". Users can
pick a Runtime but Gravity does not allow any customization of
individual components of Kubernetes.</li></ul><h2><a id="user-content-who-is-gravity-for" class="anchor" aria-hidden="true" href="#who-is-gravity-for"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Who is Gravity for?</h2><p>We have seen the following primary use cases for using a image-based Kubernetes approach
(there may be others):</p><ul><li>Deploying and running complex SaaS applications into on-premises enterprise environments.</li><li>Deploying and running complex SaaS applications in thousands of edge locations (retail, transportation, energy, etc).</li></ul><p>Anyone who needs Kubernetes best practices out of the box, without having to
proactively manage it can benefit from Gravity. It allows you to focus on
building your product instead of managing Kubernetes.</p><h2><a id="user-content-cluster-images" class="anchor" aria-hidden="true" href="#cluster-images"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cluster Images</h2><p>A Cluster Image produced by Gravity includes:</p><ul><li>All Kubernetes binaries and their dependencies.</li><li>Built-in container registry.</li><li>De-duplicated layers of all application containers inside a cluster.</li><li>Built-in cluster orchestrator which guarantees HA operation, in-place
upgrades and auto-scaling.</li><li>Installation wizard for both CLI and web browser GUI.</li></ul><p>An image is all one needs to re-create the complete replica of the original
Kubernetes cluster, with all deployed applications inside, even in an
air-gapped server room.</p><h2><a id="user-content-how-do-initial-deployments-work" class="anchor" aria-hidden="true" href="#how-do-initial-deployments-work"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How do Initial Deployments work?</h2><p>A cluster image created with Gravity can be used for:</p><ol><li>Creating many Kubernetes clusters from scratch, on any infrastructure.</li><li>Installing applications contained in the cluster image into an existing
Kubernetes cluster, like OpenShift.</li></ol><h2><a id="user-content-how-do-updates-work" class="anchor" aria-hidden="true" href="#how-do-updates-work"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How do Updates work?</h2><p>Developers can continuously update their applications using different methods:</p><ol><li>Vanilla CI/CD using Kubernetes APIs, which is available for every cluster.
This is probably what you're already doing.</li><li>Via "polling model", when each Gravity cluster will automatically download
updates from a Gravity Hub, letting cluster users decide when/if they want
to upgrade. This method is recommended for traditional on-premise
environments when developers do not have access to each deployment site.</li><li>Offline method, when a developer prepares a new cluster image which can be
distributed via offline media. This method is suitable for air-gapped
environments.</li></ol><h2><a id="user-content-remote-access-and-compliance" class="anchor" aria-hidden="true" href="#remote-access-and-compliance"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Remote Access and Compliance</h2><p>Each cluster provisioned with Gravity includes the built-in SSH/Kubernetes gateway
called <a href="https://github.com/gravitational/teleport">Teleport</a>. Teleport provides the
following benefits:</p><ul><li>One-step authentication which issues credentials for both k8s API and SSH.</li><li>Ability to implement compliance rules like "developers must never touch production data".</li><li>Ability to grant remote access to the cluster via SSH or via k8s API, even if the
cluster is located behind NAT with no open ports.</li><li>Keeps a detailed audit log (including fully recorded interactive sessions)
for all SSH commands and all <code>kubectl</code> commands executed on cluster nodes.</li></ul><p>Teleport can also be used independently without Gravity, it has been <a href="https://gravitational.com/resources/audits/" rel="nofollow">audited
multiple times</a> by reputable
cyber security companies and it has been deployed in production in <a href="https://gravitational.com/teleport" rel="nofollow">multiple
organizations</a>.</p><h2><a id="user-content-is-gravity-production-ready" class="anchor" aria-hidden="true" href="#is-gravity-production-ready"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Is Gravity Production Ready?</h2><p>Yes! Even though Gravity was open sourced in September 2018, it started life
much earlier, as a component of a larger, proprietary system called Telekube.</p><p>Fully autonomous Gravity clusters are running inside of large banks, government
institutions, enterprises, etc. Some of the commercial users of Gravity are
listed on the <a href="https://gravitational.com" rel="nofollow">Gravitational web site</a></p><h2><a id="user-content-why-did-we-build-gravity" class="anchor" aria-hidden="true" href="#why-did-we-build-gravity"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Why did We Build Gravity?</h2><p>Gravity was built by <a href="https://gravitational.com" rel="nofollow">Gravitational Inc</a>, a company
based in Oakland, California. Gravitational's mission is to allow software
creators to easily share their products with customers without having to
convert themselves into software operators.</p><p>The original use case for Gravity was to allow Kubernetes applications to be
deployed into 3rd party environments, like on-premises datacenters. That's why
Gravity includes features like the built-in, graphical cluster installer,
infrastructure validation and a built-in privileged access manager (Teleport)
for providing remote support.</p><p>These features also resonated with security-minded teams who need to run
applications in environments where <em>compliance matters</em>. Gravity clusters are
always identical and do not allow any configuration drift over time, which
allows <em>cluster designers</em> (aka, Devops or SREs) to "publish" clusters that are approved for
production and allow multiple teams within the organization to rapidly scale their
Kubernetes adoption without having to become security and Kubernetes experts themselves.</p><h2><a id="user-content-building-from-source" class="anchor" aria-hidden="true" href="#building-from-source"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Building from source</h2><p>Gravity is written in Go. There are two ways to build the Gravity tools from
source: by using locally installed build tools or via Docker. In both cases
you will need a Linux machine.</p><p><strong>Building on MacOS, even with Docker, is possible but not currently supported</strong></p><div class="highlight highlight-source-shell"><pre>$ git clone git@github.com:gravitational/gravity.git
$ <span class="pl-c1">cd</span> gravity

<span class="pl-c"><span class="pl-c">#</span> Running 'make' with the default target uses Docker.</span><span class="pl-c"><span class="pl-c">#</span> The output will be stored in build/current/</span>
$ make

<span class="pl-c"><span class="pl-c">#</span> If you have Go 1.10+ installed, you can build without Docker which is faster.</span><span class="pl-c"><span class="pl-c">#</span> The output will be stored in $GOPATH/bin/</span>
$ make install

<span class="pl-c"><span class="pl-c">#</span> To remove the build artifacts:</span>
$ make clean</pre></div><h2><a id="user-content-known-issues" class="anchor" aria-hidden="true" href="#known-issues"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Known Issues</h2><p>While the code is open source, we're still working on updating the
documentation to reflect the differences between the proprietary and
community/OSS editions of the software. We are also working on providing open
source users with pre-built binaries on a regular basis.</p><h2><a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Contributing</h2><p>To contribute, please read the <a href="/gravitational/gravity/blob/master/CONTRIBUTING.md">contribution guidelines</a>.</p><h2><a id="user-content-talk-to-us" class="anchor" aria-hidden="true" href="#talk-to-us"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Talk to us</h2><ul><li>Want to join our team to hack on Gravity? <a href="https://gravitational.breezy.hr/" rel="nofollow">We are always hiring!</a></li><li>Want to stop managing Kubernetes and have autonomous appliance-like clusters?</li><li>Want to take your complex SaaS application and convert it into a downloadable
appliance so your customers can run it on their own AWS account or in a colo?</li></ul><p>Reach out to <code>info@gravitational.com</code></p></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
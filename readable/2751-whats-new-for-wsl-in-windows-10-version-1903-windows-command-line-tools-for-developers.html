<!DOCTYPE html>
<html lang="en">
<head>
    <title>
What&#x2019;s new for WSL in Windows 10 version 1903? &#x2013; Windows Command Line Tools For Developers -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>What’s new for WSL in Windows 10 version 1903? – Windows Command Line Tools For Developers</h1><div><div class="entry-content single"><p>The next Windows update is coming soon and we’re bringing exciting new updates to WSL with it! These include accessing the Linux file system from Windows, and improvements to how you manage and configure your distros in the command line.</p><h2>Accessing Linux files from Windows</h2><p>In the past, creating and changing Linux files from Windows resulted in <span><a href="https://blogs.msdn.microsoft.com/commandline/2016/11/17/do-not-change-linux-files-using-windows-apps-and-tools/">losing files or corrupting data</a></span>. Making this possible has been a <span><a href="https://wpdev.uservoice.com/forums/266908-command-prompt-console-windows-subsystem-for-l/suggestions/13856379-make-wsl-filesystem-accessible-from-windows">highly requested and long anticipated</a></span> feature. We’re proud to announce you can now easily access all the files in your Linux distros from Windows.</p><h3>Linux Files inside of File Explorer</h3><p>The best way to get started with this feature is to open your Linux files in File Explorer! To do this, open your favorite distro, make sure your current folder is your Linux home directory, and type in:</p><pre><strong>explorer.exe .</strong></pre><p>This will open a File Explorer window, located inside of your Linux distro.</p><p><img width="585" height="557" class="wp-image-4275 aligncenter" alt="" src="https://msdnshared.blob.core.windows.net/media/2019/02/linuxfromwindows.png"></p><p>From here you can access whatever Linux files you would like, just like you would any other file through File explorer. This includes operations such as: dragging files back and forth to other locations, copy and paste, and even interesting scenarios like using the context menu to open VSCode in a WSL directory!</p><p><img width="593" height="398" class="wp-image-4285 aligncenter" alt="" src="https://msdnshared.blob.core.windows.net/media/2019/02/linuxfromwindowsvscode-800x537.png"></p><h4>Improvements coming soon to the File Explorer experience</h4><p>When using this feature you’ll notice the distro files are exposed through the path: <span>\\wsl$\&lt;running_distro_name&gt;\</span>. This is due to the way Windows accesses the files inside of each distro (which you can learn the details of in the following section!) The WSL team is actively investigating ways to improve the discoverability of your Linux files inside of File Explorer.</p><h3>In command line</h3><p>WSL is primarily a command line tool, and so of course this feature also works in the command line. You can find your distro’s files by accessing \\wsl$\{distro name}\ where {distro name} is the name of a running distro. Here’s what it looks like to access Debian with PowerShell.</p><p><img width="494" height="281" class="wp-image-4295 aligncenter" alt="" src="https://msdnshared.blob.core.windows.net/media/2019/02/linuxfromwindowsps.png"></p><h3>How it works</h3><p>To put it briefly: a 9P protocol file server facilitates file related requests, with Windows acting as the client.</p><p>We’ve modified the WSL init daemon to include a 9P server. This server contains protocols that support Linux metadata, including permissions. There is a Windows service and driver that acts as the client and talks to the 9P server (which is running inside of a WSL instance). Client and server communicate over AF_UNIX sockets, since WSL allows interop between a Windows application and a Linux application using AF_UNIX as described in <span><a href="https://blogs.msdn.microsoft.com/commandline/2018/02/07/windowswsl-interop-with-af_unix/">this post</a></span>.</p><h3>Known issues</h3><p>This is a new feature, and some pieces of it may not work perfectly. Here are some known issues that we want to make you aware of when using this feature:</p><ul><li><strong>As of right now, the distros files will only be accessible from Windows when the distro is running (We aim to add support for non-running distros in a future update)</strong><br>Since the 9P file server runs inside of each distro, it is only accessible when that distro is running. The team is looking into ways to help resolve this.</li><li><strong>Accessing Linux files is treated the same as accessing a network resource, and any rules for</strong><strong>accessing network resources will still apply</strong><br>e.g: When using CMD, cd \\wsl$\Ubuntu\home will not work (as CMD does not support UNC paths as current directories), however copy \\wsl$\Ubuntu\home\somefile.txt C:\dev\ will work</li><li><strong><span>The old rules still apply, you should NOT access your Linux files inside of the AppData folder!</span><br></strong>If you try to access your Linux files through your AppData folder, you are bypassing using the 9P server, which means that you will not have access to your Linux files, and you could possibly <strong>corrupt</strong> your Linux distro.</li></ul><h3>Where to file feedback</h3><p>Our team is incredibly invested in hearing your feedback, in fact this whole feature was created based on our great community feedback! Please file any issues you that you may find on our Github page: <span><a href="https://github.com/Microsoft/WSL">https://github.com/Microsoft/WSL</a></span> and we will do our best to address them.</p><p>We can’t thank the community enough for helping make WSL an amazing tool!</p><h2>Improved wsl.exe command line experience</h2><p>We’ve also improved the command line experience in this latest update by consolidating our commands to wsl.exe and adding more command line functionality. You can now use wsl.exe to perform all the necessary commands you would need to configure and control WSL on your machine. You can always check all the commands you can run from wsl.exe by running wsl.exe --help</p><h3>New commands</h3><p>We’ve also added some new commands that will give you more functionality when using wsl.exe.</p><p>You can now run commands as different users, terminate running distributions, and even export and import different distros! Exporting a distro is accomplished by passing in <strong>--export</strong> as an argument and will output a tar file of your current distro. For example, you could use this functionality to share your distro setup with other people. Additionally, if you pass in --<strong>import</strong> as an argument you can import a tar file that contains the root file system of a Linux distro, which allows you to import any distro you’d like, with any configuration you’d like.</p><p>Here is the full list of commands that we’ve added to wsl.exe.</p><p><strong>Newly added commands</strong></p><ul><li>--user, -u &lt;UserName&gt;<br>Run as the specified user</li><li>--export &lt;DistributionName&gt; &lt;FileName&gt;<br>Exports the distribution to a tar file.<br>The filename can be – for standard output.</li><li>--import &lt;DistributionName&gt; &lt;InstallLocation&gt; &lt;FileName&gt;<br>Imports the specified tar file as a new distribution.<br>The filename can be – for standard input.</li><li>--terminate, -t &lt;DistributionName&gt;<br>Terminates the distribution.</li></ul><h3>Consolidated commands</h3><p>The commands that existed inside of wslconfig.exe have been added to wsl.exe to allow you to configure your distros more easily. Our goal is to consolidate how you interact with WSL to a single binary.</p><p><strong>Commands Added to wsl.exe from wslconfig.exe</strong></p><ul><li>--list , -l<br>Lists all distributions available on your machine<br>Can also contain further options:<ul><li>--all<br>Lists all distributions, including distributions that are currently being installed or uninstalled</li><li>–running<br>Lists only distributions that are currently running</li></ul></li><li>--setdefault, -s &lt;DistributionName&gt;<br>Sets the distribution as default.</li><li>--unregister &lt;DistributionName&gt;<br>Unregisters the distribution</li><li>--upgrade &lt;DistributionName&gt;<br>Upgrades the distribution to the WslFs file system format.</li></ul><h2>Console improvements</h2><p>The Windows Console team has also made some improvements that you’ll notice when using WSL. The Console team will post an update of what’s new in Windows 10, version 1903 very soon. Stay tuned!</p><h2>Thanks and feedback</h2><p>As always, we want to thank you for providing your feedback and encourage you to keep doing so! You can file issues on our Github at <span><a href="http://www.github.com/Microsoft/WSL">Microsoft/WSL</a></span> or reach out to a team member on Twitter.</p><p>Here are our WSL team members who are on Twitter:</p><p>Taylor Brown @Taylorb_msft</p><p>Sarah Cooley @VirtualScooley</p><p>Yosef Durr @yosefdurr</p><p>Sven Groot @svengroot_ms</p><p>Ben Hillis @benhillis</p><p>Craig Loewen @craigaloewen</p><p>Sunil Muthuswamy @SunilMut</p><p>Brian Perkins</p><p>Palkesh Soni @sonipalkesh</p><p>John Starks @gigastarks</p><p>Craig Wilhite @CraigWilhite</p><p>We’re looking forwards to seeing the fantastic work that you’ll do with this update.</p><p>Sincerely,</p><p>The WSL Team</p><ul><li>Why is the WSL resource name in the filepath called <strong>wsl$</strong>?</li></ul><p>Since <strong>wsl</strong> is a short acronym we realize that some resources on networks may already have that name. So we’ve added a dollar sign, since a machine name can’t have a dollar sign in it, which ensures that the name will be accessible with any existing network configuration.</p><p>Update Log:</p><ul><li>[2019-02-15] Updated the 'How it works' section to detail that a P9 server is used, and not Plan 9</li></ul></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
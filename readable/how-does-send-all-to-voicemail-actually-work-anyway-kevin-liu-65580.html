<!DOCTYPE html>
<html lang="en">
<head>
    <title>
How does &quot;Send all to voicemail&quot; actually work, anyway? :: Kevin Liu - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.min.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="How does &quot;Send all to voicemail&quot; actually work, anyway? :: Kevin Liu - linksfor.dev(s)"/>
    <meta property="og:description" content="A look into call forwarding and MMI codes. On my cell provider, you can make calls automatically go to voicemail by dialing a single phone number. But how does this all work, anyway?"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://kliu.io/post/call-forwarding-and-mmi/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1 style="margin: unset">
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - How does &quot;Send all to voicemail&quot; actually work, anyway? :: Kevin Liu</title>
<div class="readable">
        <h1>How does &quot;Send all to voicemail&quot; actually work, anyway? :: Kevin Liu</h1>
            <div>Reading time: 3 minutes</div>
        <div>Posted here: 12 Aug 2020</div>
        <p><a href="https://kliu.io/post/call-forwarding-and-mmi/">https://kliu.io/post/call-forwarding-and-mmi/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div><div>
        <p><em>(Disclaimer: I’m not a mobile network engineer. I made this post after some Googling, because it feels like there’s a lot of complexity in mobile networks that even most computer people don’t talk about!)</em></p>
<p>Recently, due to increased robocalls and other spam, I’ve decided to switch all of my calling to a Google Voice account I own, whose number appears to be on far fewer contact lists than the number given to me by Mint Mobile, my SIM provider. To do this, I wanted to send all calls on my old number to a voicemail box explaining to call me at the other number. At first, I tried to see if my phone could block calls itself, but failing to find anything, I looked for something on the carrier level.</p>
<p><a href="https://www.reddit.com/r/mintmobile/comments/behwyb/unconditional_call_forwarding/">Google reveals</a> that two magic phone numbers will accomplish this for me:</p>
<blockquote>
<ul>
<li>Send All To Voicemail - <code>**21*18056377456#</code></li>
<li>Allow Calls - <code>##21#</code></li>
</ul>
</blockquote>
<p>I dialed the first number, and lo and behold, all my calls go to voicemail. But how does this work, anyway?</p>
<h2 id="man-machine-interface-codess">Man-Machine Interface codess<a href="#man-machine-interface-codess" arialabel="Anchor">⌗</a> </h2>
<p>The first thing I noticed is that when I called either of the two numbers above, Android gave me a toast saying “Running MMI code.” Eventually, a popup window would show up saying: “Call forwarding [enabled/disabled].”</p>
<p>Further research reveals that MMI codes, or Man-Machine Codes, have actually been established since the 2G mobile specification was created. Here’s a list from a <a href="https://books.google.com/books?id=uR03kPNyx5UC&amp;pg=PA263&amp;lpg=PA263&amp;dq=mmi+codes&amp;source=bl&amp;ots=5_Xq1--1ii&amp;sig=ACfU3U3fSwls7kaxx5sDWZ3qFaGKNgqBow&amp;hl=en&amp;sa=X&amp;ved=2ahUKEwi17K3n7JHrAhVJmnIEHQciBkEQ6AEwFnoECBIQAQ#v=onepage&amp;q=mmi%20codes&amp;f=false">delightfully-old scan by Google Books</a>:</p>
<p><img src="https://kliu.io/images/call-forwarding-and-mmi/table.png" alt=""></p>
<p>Essentially, your phone will forward any code it doesn’t know about to your mobile provider, who has servers to handle specific numbered functions. It doesn’t send the actual number to the network though; instead, it <a href="https://berlin.ccc.de/~tobias/mmi-ussd-ss-codes-explained.html">gets parsed by the phone and sent out as ASN.1</a>. (That link also explains the difference between USSD and MMI codes, which is a big rabbit hole that I don’t want to get into.)</p>
<p>“Unconditional call forwarding” is Service Code 21, as visible in the Send All to Voicemail number: <code>**21*18056377456#</code>. It looks like the second parameter after the asterisks is the number to forward to, and <a href="https://800notes.com/Phone.aspx/1-805-637-7456?">1-805-637-7456</a> is T-Mobile’s voicemail box.</p>
<p>Mystery solved! “Send to voicemail” just instructs the network to forward all calls to a voicemail box’s number. It looks like the Allow Calls one just deletes the call forwarding rule.</p>

      </div></div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
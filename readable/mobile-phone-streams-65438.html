<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Mobile Phone Streams - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.min.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Mobile Phone Streams - linksfor.dev(s)"/>
    <meta property="og:description" content="There&#x2019;s a lot of confusion about &#x201C;mobile phone data&#x201D; on the web. In particular, GPS is not a stream that telcos have direct access to. Let&#x2019;s review the main three data strea&#x2026;"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://leoferres.info/blog/2020/07/15/mobile-phone-streams/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1 style="margin: unset">
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Mobile Phone Streams</title>
<div class="readable">
        <h1>Mobile Phone Streams</h1>
            <div>Reading time: 8-10 minutes</div>
        <div>Posted here: 09 Aug 2020</div>
        <p><a href="https://leoferres.info/blog/2020/07/15/mobile-phone-streams/">https://leoferres.info/blog/2020/07/15/mobile-phone-streams/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
                                                
<p>There’s a lot of confusion about “mobile phone data” on the web. In particular, GPS is <strong>not</strong> a stream that telcos have direct access to. Let’s review the main three data streams in a telco: CDRs, XDRs, and CPRs. Notice, importantly, that <strong>GPS is not one of the streams!</strong> More about this later.</p>



<h2>The three basic streams</h2>



<p>The first, called <strong>Call Detail Records</strong> (CDRs), is possibly the most common stream. They are “call” events, roughly who calls whom. It can be formalized roughly as <span></span><span id="MathJax-Element-1-Frame" tabindex="0"><nobr><span id="MathJax-Span-1"><span><span><span id="MathJax-Span-2"><span id="MathJax-Span-3">⟨</span><span id="MathJax-Span-4"><span><span><span id="MathJax-Span-5">n</span><span></span></span><span><span id="MathJax-Span-6">a</span><span></span></span></span></span><span id="MathJax-Span-7">,</span><span id="MathJax-Span-8"><span><span><span id="MathJax-Span-9">n</span><span></span></span><span><span id="MathJax-Span-10">b</span><span></span></span></span></span><span id="MathJax-Span-11">,</span><span id="MathJax-Span-12"><span><span><span id="MathJax-Span-13">t</span><span></span></span><span><span id="MathJax-Span-14">a</span><span></span></span></span></span><span id="MathJax-Span-15">,</span><span id="MathJax-Span-16"><span><span><span id="MathJax-Span-17">t</span><span></span></span><span><span id="MathJax-Span-18">b</span><span></span></span></span></span><span id="MathJax-Span-19">,</span><span id="MathJax-Span-20">d<span></span></span><span id="MathJax-Span-21">,</span><span id="MathJax-Span-22">r</span><span id="MathJax-Span-23">⟩</span></span><span></span></span></span><span></span></span></nobr></span>, where some device number <span></span><span id="MathJax-Element-2-Frame" tabindex="0"><nobr><span id="MathJax-Span-24"><span><span><span id="MathJax-Span-25"><span id="MathJax-Span-26">a</span></span><span></span></span></span><span></span></span></nobr></span> from some antenna <span></span><span id="MathJax-Element-3-Frame" tabindex="0"><nobr><span id="MathJax-Span-27"><span><span><span id="MathJax-Span-28"><span id="MathJax-Span-29"><span><span><span id="MathJax-Span-30">t</span><span></span></span><span><span id="MathJax-Span-31">a</span><span></span></span></span></span></span><span></span></span></span><span></span></span></nobr></span> (i.e., some latitude and longitude pair) calls a device <span></span><span id="MathJax-Element-4-Frame" tabindex="0"><nobr><span id="MathJax-Span-32"><span><span><span id="MathJax-Span-33"><span id="MathJax-Span-34">b</span></span><span></span></span></span><span></span></span></nobr></span> in some other location (antenna) <span></span><span id="MathJax-Element-5-Frame" tabindex="0"><nobr><span id="MathJax-Span-35"><span><span><span id="MathJax-Span-36"><span id="MathJax-Span-37"><span><span><span id="MathJax-Span-38">t</span><span></span></span><span><span id="MathJax-Span-39">b</span><span></span></span></span></span></span><span></span></span></span><span></span></span></nobr></span> at some time <span></span><span id="MathJax-Element-6-Frame" tabindex="0"><nobr><span id="MathJax-Span-40"><span><span><span id="MathJax-Span-41"><span id="MathJax-Span-42">d<span></span></span></span><span></span></span></span><span></span></span></nobr></span> with a duration (in minutes) <span></span><span id="MathJax-Element-7-Frame" tabindex="0"><nobr><span id="MathJax-Span-43"><span><span><span id="MathJax-Span-44"><span id="MathJax-Span-45">r</span></span><span></span></span></span><span></span></span></nobr></span>. The second stream is usually called XDRs, and there is no common/shared interpretation of the letters in the acronym: we’ll call them <strong>eXtended Detail Records</strong>. This is the <em>data</em> stream, requesting data packets from the network. It can be formalized as the tuple <span></span><span id="MathJax-Element-8-Frame" tabindex="0"><nobr><span id="MathJax-Span-46"><span><span><span id="MathJax-Span-47"><span id="MathJax-Span-48">⟨</span><span id="MathJax-Span-49">n</span><span id="MathJax-Span-50">,</span><span id="MathJax-Span-51">t</span><span id="MathJax-Span-52">,</span><span id="MathJax-Span-53">d<span></span></span><span id="MathJax-Span-54">,</span><span id="MathJax-Span-55">k</span><span id="MathJax-Span-56">⟩</span></span><span></span></span></span><span></span></span></nobr></span>, where some number <span></span><span id="MathJax-Element-9-Frame" tabindex="0"><nobr><span id="MathJax-Span-57"><span><span><span id="MathJax-Span-58"><span id="MathJax-Span-59">n</span></span><span></span></span></span><span></span></span></nobr></span> requests some packet of size <span></span><span id="MathJax-Element-10-Frame" tabindex="0"><nobr><span id="MathJax-Span-60"><span><span><span id="MathJax-Span-61"><span id="MathJax-Span-62">k</span></span><span></span></span></span><span></span></span></nobr></span> from some antenna <span></span><span id="MathJax-Element-11-Frame" tabindex="0"><nobr><span id="MathJax-Span-63"><span><span><span id="MathJax-Span-64"><span id="MathJax-Span-65">t</span></span><span></span></span></span><span></span></span></nobr></span> at time <span></span><span id="MathJax-Element-12-Frame" tabindex="0"><nobr><span id="MathJax-Span-66"><span><span><span id="MathJax-Span-67"><span id="MathJax-Span-68">d<span></span></span></span><span></span></span></span><span></span></span></nobr></span>. The difference with CDRs is that XDRs do not need a <em>callee</em>. It’s just the interaction between a device requesting a website, for example, and an antenna. This is less common a stream in the literature than the previous one, but we have used it successfully in a couple of our papers, see <a href="https://doi.org/10.1140/epjds/s13688-018-0157-5">here</a> and <a href="https://doi.org/10.1140/epjds/s13688-017-0119-3">here</a> for more details. The final stream, the least well-known, is called <strong>Control Plane ?(Records</strong>), CPRs. CP is not a “human-initiated” stream. Unlike all events in CDRs (a device calling some other device), and most events in XDRs (someone requesting some data packet), events stored in CPRs are initiated by the mobile phone network itself, with almost no human intervention. Some of these events include the assignment of a new cell (antenna), the registering of the device in the network, no-hangup events, among many others. Supposing a set of CP events <span></span><span id="MathJax-Element-13-Frame" tabindex="0"><nobr><span id="MathJax-Span-69"><span><span><span id="MathJax-Span-70"><span id="MathJax-Span-71">E<span></span></span><span id="MathJax-Span-72">=</span><span id="MathJax-Span-73">{</span><span id="MathJax-Span-74"><span><span><span id="MathJax-Span-75">e</span><span></span></span><span><span id="MathJax-Span-76">0</span><span></span></span></span></span><span id="MathJax-Span-77">,</span><span id="MathJax-Span-78"><span><span><span id="MathJax-Span-79">e</span><span></span></span><span><span id="MathJax-Span-80">1</span><span></span></span></span></span><span id="MathJax-Span-81">,</span><span id="MathJax-Span-82">…</span><span id="MathJax-Span-83">,</span><span id="MathJax-Span-84"><span><span><span id="MathJax-Span-85">e</span><span></span></span><span><span id="MathJax-Span-86">n</span><span></span></span></span></span><span id="MathJax-Span-87">}</span></span><span></span></span></span><span></span></span></nobr></span>, a CPR can be formalized as a tuple <span></span><span id="MathJax-Element-14-Frame" tabindex="0"><nobr><span id="MathJax-Span-88"><span><span><span id="MathJax-Span-89"><span id="MathJax-Span-90">⟨</span><span id="MathJax-Span-91">n</span><span id="MathJax-Span-92">,</span><span id="MathJax-Span-93">t</span><span id="MathJax-Span-94">,</span><span id="MathJax-Span-95">d<span></span></span><span id="MathJax-Span-96">,</span><span id="MathJax-Span-97"><span><span><span id="MathJax-Span-98">e</span><span></span></span><span><span id="MathJax-Span-99"><span id="MathJax-Span-100"><span id="MathJax-Span-101">i</span></span></span><span></span></span></span></span><span id="MathJax-Span-102">∈</span><span id="MathJax-Span-103">E<span></span></span><span id="MathJax-Span-104">⟩</span></span><span></span></span></span><span></span></span></nobr></span>, where like for XDRs, there is a device <span></span><span id="MathJax-Element-15-Frame" tabindex="0"><nobr><span id="MathJax-Span-105"><span><span><span id="MathJax-Span-106"><span id="MathJax-Span-107">n</span></span><span></span></span></span><span></span></span></nobr></span>, an antenna <span></span><span id="MathJax-Element-16-Frame" tabindex="0"><nobr><span id="MathJax-Span-108"><span><span><span id="MathJax-Span-109"><span id="MathJax-Span-110">t</span></span><span></span></span></span><span></span></span></nobr></span>, a date/time <span></span><span id="MathJax-Element-17-Frame" tabindex="0"><nobr><span id="MathJax-Span-111"><span><span><span id="MathJax-Span-112"><span id="MathJax-Span-113">d<span></span></span></span><span></span></span></span><span></span></span></nobr></span> and some code for an event <span></span><span id="MathJax-Element-18-Frame" tabindex="0"><nobr><span id="MathJax-Span-114"><span><span><span id="MathJax-Span-115"><span id="MathJax-Span-116"><span><span><span id="MathJax-Span-117">e</span><span></span></span><span><span id="MathJax-Span-118">i</span><span></span></span></span></span></span><span></span></span></span><span></span></span></nobr></span> of the network.</p>



<p>Before moving on, one word about antennas. All the <span></span><span id="MathJax-Element-19-Frame" tabindex="0"><nobr><span id="MathJax-Span-119"><span><span><span id="MathJax-Span-120"><span id="MathJax-Span-121">t</span></span><span></span></span></span><span></span></span></nobr></span>’s mentioned above have a <em>fixed latitude and longitude</em>. They are the towers (that’s why the letter <span></span><span id="MathJax-Element-20-Frame" tabindex="0"><nobr><span id="MathJax-Span-122"><span><span><span id="MathJax-Span-123"><span id="MathJax-Span-124">t</span></span><span></span></span></span><span></span></span></nobr></span>) you see around the city, either on their own lots or on top of buildings, or sometimes as indoor cells within large buildings like hospitals and malls. This is our level of geographical granularity: the antenna. This is another interesting topic that I might come back to in the future (nothing is as simple as it sounds), but for now, suffice it to say that we cannot go more granular than the antenna, and even in those places where antenna density is high, the noise produced by connecting to those antennas means that antenna aggregation must be done either temporally (only recording antennas every <em>x</em> minutes) or spatially grouping them (every 1km2, for example, see our work on gender mobility <a rel="noreferrer noopener" href="https://www.nature.com/articles/s41599-020-0500-x" target="_blank">here</a>). Below is a picture of towers in the Metro region of Santiago de Chile:</p>



<div><figure><img src="https://i1.wp.com/leoferres.info/blog/wp-content/uploads/2020/07/sclbss-1.jpg?resize=402%2C506&amp;ssl=1" alt="" width="402" height="507" srcset="https://i1.wp.com/leoferres.info/blog/wp-content/uploads/2020/07/sclbss-1.jpg?w=733&amp;ssl=1 733w, https://i1.wp.com/leoferres.info/blog/wp-content/uploads/2020/07/sclbss-1.jpg?resize=238%2C300&amp;ssl=1 238w" sizes="(max-width: 402px) 100vw, 402px"><figcaption>Santiago Metropolitan Region largest contiguous urban area (black line) and all towers (red dots) by SubTel.</figcaption></figure></div>



<p>Let’s take a look at some temporal properties of the different streams. The figure below shows the activity of ~85 people. These were employees of the telco who allowed us to measure their phone activity over the course of two weeks (from September 23rd until October 7th). Several interesting things arise: 1) Most of the time, CDRs drop to zero during the nighttime, keeping us effectively blind during that period. XDRs are more or less at the same level of CDRs, but they keep stable 24/7, still dropping during nighttime evidencing some circadian rhythm. Still, interestingly, for these 85 devices, XDRs are more or less comparable to CDRs during the day in the level of activity (in the 100s of events). CP records are, in turn, an order of magnitude more granular in time (the y-axis of the graph is logarithmic). Notice that something happened to the XDR dataset on Sept 25, when there was some network (or event-persistance) issue, and then again on the CP we’re missing a whole day, the Oct 5. Things that happen when you work with real data… Notice also that there was no observable interruption of CP on Sept 25, signalling perhaps a drop in the number of packets being sent on the internet, probably, but no issue with the health of the mobile network <em>per se</em>. Finally, ALSO notice that <strong>this is all at the level of antennas</strong>… there is no way for us to go beyond that level of geographic granularity.</p>



<div><figure><img src="https://i2.wp.com/leoferres.info/blog/wp-content/uploads/2020/07/stream_activity.png?resize=500%2C295&amp;ssl=1" alt="" width="500" height="295" srcset="https://i2.wp.com/leoferres.info/blog/wp-content/uploads/2020/07/stream_activity.png?w=667&amp;ssl=1 667w, https://i2.wp.com/leoferres.info/blog/wp-content/uploads/2020/07/stream_activity.png?resize=300%2C177&amp;ssl=1 300w, https://i2.wp.com/leoferres.info/blog/wp-content/uploads/2020/07/stream_activity.png?resize=500%2C295&amp;ssl=1 500w" sizes="(max-width: 500px) 100vw, 500px"><figcaption>Recorded activity for ~85 devices (used with consent, the users were employees of a telco) over the course of two weeks for the three different streams, CDR, XDR and CPRs.</figcaption></figure></div>



<p>Below’s another similar figure, except this time it’s not about activity (number of records) but rather the activity of those three streams for every device. That is, how many (unique) devices, of the 85 we had, had records at the different times of the day, also in a logarithmic scale. The important thing to notice is that for CDR and XDR (to different levels of course) you can see the circadian rhythm (CDRs, the blue line is showing this very strongly) while XDRs less so). CPRs, however, are mostly flat since the network does not really care whether the device’s owner is asleep or not, or if the device is connected to wifi or not at home, since it still needs to receive calls when one is placed. In similar words, the device is connected to the mobile phone network at all times (if such a network is available)</p>



<div><figure><img src="https://i1.wp.com/leoferres.info/blog/wp-content/uploads/2020/07/user_activity.png?w=500&amp;ssl=1" alt="" srcset="https://i1.wp.com/leoferres.info/blog/wp-content/uploads/2020/07/user_activity.png?w=667&amp;ssl=1 667w, https://i1.wp.com/leoferres.info/blog/wp-content/uploads/2020/07/user_activity.png?resize=300%2C177&amp;ssl=1 300w, https://i1.wp.com/leoferres.info/blog/wp-content/uploads/2020/07/user_activity.png?resize=500%2C295&amp;ssl=1 500w" sizes="(max-width: 500px) 100vw, 500px" width="500" height="295"><figcaption>Number of unique users with records at different times of the day</figcaption></figure></div>



<p>Those are some properties of the streams that are available to Telco operators. Now, to the main point of this post, GPS is not one of them.</p>



<h2>GPS is not a (mobile network) stream!</h2>



<p>Not all telcos are the same, of course, and the architectures vary (sometimes widely) among telcos even in the same country. But they all have access to at least the streams above, whether they persist them in some database or not. Hower, GPS is different. The GPS engine is a feature of the phone, the device itself, not the telco. What is usually called “fine location” in Android is something that only apps can use (yeah, you go ahead and install FaceSwap…), the mobile phone network does not, to the best of my knowledge (at least surely not the telco I work with), possess the capability of accessing this information off of the device itself. Sure, the information does travel through the internet, most like anything else, and likely through XDR stream, but it can only be read by the app’s creator at the other end of the line, not by the telco. Of course, if a telco has an app, that’s obviously a different story. We, as researchers, don’t have access to it.</p>



<p>So <a rel="noreferrer noopener" href="https://www.nytimes.com/interactive/2019/12/19/opinion/location-tracking-cell-phone.html" target="_blank">when the New York Times</a>, for example, is talking about cellphone data, it doesn’t mean the streams that telcos have access to, it means GPS data that apps in cellphones re-transmit to the apps’ creators and that some other companies aggregate, or even the original apps’ creators make available such as the case of <a rel="noreferrer noopener" href="https://www.google.com/covid19/mobility/" target="_blank">Google Mobility Reports</a> and <a href="https://www.facebook.com/geoinsights-portal/">Facebook’s GeoInsights</a>, which are indeed awesome tools (just not based on telephony data per se, but apps collecting GPS data).</p>



<p>It is important to me to keep both things separate: GPS is one thing, antenna-driven location is a very different one. In any case, here’s a video I uploaded a while back (in Spanish) to clear some of the concepts we use in our work, and it’s geared particularly to government officials and other decision-makers. Here it is, in Spanish, I’m afraid.</p>



<figure><p>
<iframe title="Una introducción a CDR y XDR" width="500" height="281" src="https://www.youtube.com/embed/S2RkQD5dUDk?feature=oembed" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p><figcaption>Me, speaking about the streams in Spanish, with a blackboard. I love blackboards.</figcaption></figure>



<p>Please don’t hesitate to leave comments below and tell me of mistakes or ommisions I’m sure I’ve made. In particular, I’d be interested to know whether some telcos do have native access to GPS information… and how (!).</p>

                    </div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
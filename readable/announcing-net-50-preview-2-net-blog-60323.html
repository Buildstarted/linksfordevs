<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Announcing .NET 5.0 Preview 2 | .NET Blog - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.min.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Announcing .NET 5.0 Preview 2 | .NET Blog - linksfor.dev(s)"/>
    <meta property="article:author" content="Richard LanderProgram Manager, .NET TeamFollow"/>
    <meta property="og:description" content="Today, we&#x2019;re releasing .NET 5.0 Preview 2. It contains a set of smaller features and performance improvements. We&#x2019;re continuing to work on the bigger features that will define the 5.0 release, some of which are starting to show up as initial designs at dotnet/designs."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://devblogs.microsoft.com/dotnet/announcing-net-5-0-preview-2/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1 style="margin: unset">
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Announcing .NET 5.0 Preview 2 | .NET Blog</title>
<div class="readable">
        <h1>Announcing .NET 5.0 Preview 2 | .NET Blog</h1>
            <div>by Richard LanderProgram Manager, .NET TeamFollow</div>
            <div>Reading time: 6-7 minutes</div>
        <div>Posted here: 02 Apr 2020</div>
        <p><a href="https://devblogs.microsoft.com/dotnet/announcing-net-5-0-preview-2/">https://devblogs.microsoft.com/dotnet/announcing-net-5-0-preview-2/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="featured"><div><div><div><div><p><img src="https://secure.gravatar.com/avatar/37f91ebe219df737566a4dc7cdd53b68?s=58&amp;d=mm&amp;r=g" width="58" height="58" alt="Avatar"></p><p>Richard</p></div></div></div><p>April 2nd, 2020</p><p>Today, we’re releasing .NET 5.0 Preview 2. It contains a set of smaller features and performance improvements. We’re continuing to work on the bigger features that will define the 5.0 release, some of which are starting to show up as initial designs at <a href="https://github.com/dotnet/designs/pulls" target="_blank">dotnet/designs</a>. The <a href="https://devblogs.microsoft.com/dotnet/announcing-net-5-0-preview-1/">.NET 5.0 Preview 1 post</a> covers what we are planning on building for .NET 5.0. Please take a look at the post and the designs repository and share any feedback you have. And, of course, please install Preview 2, and test any workloads you can with it.</p><p>You can <a href="https://dotnet.microsoft.com/download/dotnet-core/5.0" target="_blank">download .NET 5.0 Preview 2</a>, for Windows, macOS, and Linux:</p><ul><li><a href="https://dotnet.microsoft.com/download/dotnet-core/5.0" target="_blank">.NET 5.0 Preview 2 and Runtime</a></li><li><a href="https://hub.docker.com/_/microsoft-dotnet-core" target="_blank">Docker images</a></li><li><a href="https://snapcraft.io/dotnet-sdk" target="_blank">Snap installer</a></li></ul><p><a href="https://devblogs.microsoft.com/aspnet/asp-net-core-updates-in-net-5-preview-2/">ASP.NET Core</a> and <a href="https://devblogs.microsoft.com/dotnet/announcing-entity-framework-core-5-0-preview-2/">EF Core</a> are also being released today.</p><p>You need to use <a href="https://devblogs.microsoft.com/visualstudio/visual-studio-2019-version-16-6-preview-2/">Visual Studio 2019 16.6</a> to use .NET 5.0. Install the latest version of the <a href="https://code.visualstudio.com/Docs/languages/csharp" target="_blank">C# extension</a>, to use .NET 5.0 with Visual Studio Code. Visual Studio for Mac isn’t yet supported.</p><p>Release notes:</p><ul><li><a href="https://github.com/dotnet/core/blob/master/release-notes/5.0/preview/5.0.0-preview.2.md" target="_blank">.NET 5.0 Preview 2 release notes</a></li><li><a href="https://github.com/dotnet/core/blob/master/release-notes/5.0/5.0-known-issues.md" target="_blank">.NET 5.0 known issues</a></li><li><a href="https://github.com/dotnet/core/issues/4500" target="_blank">GitHub tracking issue</a></li></ul><p>Let’s look at some of the improvements in Preview 2.</p><h2>Code quality improvements in RyuJIT</h2><p>Every release includes a set of changes that improve the machine code that the JIT generates (we call this “code quality”). Better code quality means better performance. In summary, about half of the following improvements are actual new optimizations and the other half are due to changing the flow of RyuJIT to enable existing optimizations to apply to more code patterns.</p><ul><li><a href="https://github.com/dotnet/runtime/pull/32538" target="_blank">Use xmm for stack prolog – dotnet/runtime #32538</a> — Change to x86/x64 prolog zeroing code. Improvements: <a href="https://github.com/dotnet/runtime/pull/32538#issuecomment-595503265" target="_blank">Json</a>; <a href="https://github.com/dotnet/runtime/pull/32538#issuecomment-595619687/" target="_blank">TechEmpower</a>. Credit: <a href="https://github.com/benaadams" target="_blank">Ben Adams</a>.</li><li><a href="https://github.com/dotnet/runtime/pull/31834" target="_blank">Add ValueNumbering support for GT_SIMD and GT_HWINTRINSIC tree nodes – dotnet/runtime #31834</a> — Enable the optimizer for SIMD and hardware intrinsic types.</li><li><a href="https://github.com/dotnet/runtime/pull/32641" target="_blank">Use GT_NULLCHECK for unconsumed indirections – dotnet/runtime #32641</a> — Remove redundant null checks.</li><li><a href="https://github.com/dotnet/runtime/pull/32269" target="_blank">invoke nullable box optimizations earlier – dotnet/runtime #32269</a> — Improve optimizations for <code>Nullable&lt;T&gt;</code>.</li><li><a href="https://github.com/dotnet/runtime/pull/1644" target="_blank">Optimize range checks for various array index patterns – dotnet/runtime #1644</a> — Improvement in range check elimination.</li><li><a href="https://github.com/dotnet/runtime/pull/32790" target="_blank">Optimize <code>obj.GetType() != typeof(X)</code> for sealed classes – dotnet/runtime #32790</a> — Improvement to type check expression.</li><li><a href="https://github.com/dotnet/runtime/pull/31960" target="_blank">Eliminate duplicate zero initializations more aggressively – dotnet/runtime #31960</a> — Better and broader approach for eliminating duplicate zero initializations.</li><li><a href="https://github.com/dotnet/runtime/pull/2126" target="_blank">Fix method and basic block flags used by early opts – dotnet/runtime #2196</a> – Enables certain optimization to be used more often. For example, replacing array length with a constant now occurs much more often.</li></ul><p>If you like this style of improvement or are an ARM64 user, you may be interested in <a href="https://github.com/dotnet/runtime/pull/33749" target="_blank">Vectorise BitArray for ARM64</a>, coming soon (already merged, but not in Preview 2). This change demonstrates a lot of focus on ARM64 in .NET 5.0.</p><h2>Garbage Collector</h2><ul><li><a href="https://github.com/dotnet/coreclr/pull/25986" target="_blank">Card mark stealing – dotnet/coreclr #25986</a> — Server GC (on different threads) can now work-steal while marking gen0/1 objects held live by older generation objects. This means that ephemeral GC pauses are shorter for scenarios where some GC threads took much longer to mark than others.</li><li><a href="https://github.com/dotnet/runtime/pull/32283" target="_blank">Introducing Pinned Object Heap – dotnet/runtime #32283</a> — Implemented part of the POH (Pinned Object Heap) feature – the part internal to GC. This new heap (essentially a peer to LOH) will allow the GC to manage pinned objects separately, and as a result avoid the negative effects of pinned objects on the generational heaps.</li><li><a href="https://github.com/dotnet/runtime/pull/2103" target="_blank">Allow allocating large object from free list while background sweeping SOH – dotnet/runtime #2103</a> — Enabled LOH allocations using the free list while BGC is sweeping SOH. Previously this was only using end of segment space on LOH. This allowed for better heap usage.</li><li><a href="https://github.com/dotnet/coreclr/pull/27729" target="_blank">Background GC suspension fixes – dotnet/coreclr #27729</a> — Suspension fixes to reduce time for both BGC and user threads to be suspended. This reduces the total time it takes to suspend managed threads before a GC can happen. <a href="https://github.com/dotnet/coreclr/pull/27578" target="_blank">dotnet/coreclr #27578</a> also contributes to the same outcome.</li><li><a href="https://github.com/dotnet/runtime/pull/980" target="_blank">Fix named cgroup handling in docker – dotnet/runtime #980</a> — Added support to read limits from named cgroups. Previously we only read from the global one.</li></ul><h2>Closing</h2><p>Please take a moment to try out Preview 2, possibly in a container, a VM. We’d like your feedback on the quality of the release. There is a lot more coming, over the next several months, leading up a November release.</p><p>We’re running 50% of the <a href="https://dot.net/" target="_blank">.NET Website</a> traffic on .NET 5.0 as a test case, using Azure load balancing. We’ve been doing that since days after we released Preview 1. You may remember us doing something similar with .NET Core 3.0 and 3.1. By splitting the traffic 50/50, we can ensure that 5.0 gets consistently better with constant performance data available to us. This model keeps us honest, and it’s also a great testing approach. We trust our most important site with ALL of our previews, in production (which we don’t recommend for anyone else). That should make adopting our final release a pretty easy choice for you. The version number is in the footer of <a href="https://dotnet.microsoft.com/" target="_blank">.NET website</a>; feel free to check at any time.</p><p>Stepping back for a minute, many of you might be interested in how the the folks on the .NET Team at Microsoft are doing. We’re doing well. We have lots of Teams meeting every day to organize and support one another, and are just as active on GitHub as ever. The team is close-knit, and collaborating across multiple time-zones. We’re all focused on this release, and very much intending to deliver what we set out to deliver when we first defined our plans, after releasing .NET Core 3.0. Take care.</p></div></div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
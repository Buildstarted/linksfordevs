<!DOCTYPE html>
<html lang="en">
<head>
    <title>
ESPlay Micro -
linksfor.dev(s)
    </title>
	<link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <h1>ESPlay Micro</h1>
    <div class="container"> <p class="content-right"> <section class="section section-description"> <div class="description">Everyone loves ESP32 chip, it&apos;s wonderfull chip from espressif with great functionality and really mature in software development side. This project most inspired by Odroid Go and Pocketsprite, so why making new one despite buy one of them? Well, i know those devices are great and have well community support, but some of them had some issue that i don&apos;t really like. Odroid Go had shared it&apos;s spi for both display and sdcard, and they need patched esp-idf version for it and sdcard not work very well in spi mode, at least for my experience. Then pocketsprite only have esp32 wroom module without psram and also without sdcard support so limited portability for save my collection of games. <p>Then i decided to design my own hardware based on both of them so i could port it&apos;s software to my own designed hardware then here i presented to you ESPlay Micro.</p></div> </section> <section class="section section-details"> <div class="post-content details-content"> <p>The board are designed for the following feature :</p> <ul><li>ESP32 WROVER, Dual core processor with Integrated 4MB Flash + 4MB PSRAM</li><li>Integrated WIFI and Bluetooth 4 BLE</li><li>2,4&quot; ILI9341 TFT Panel</li><li>More button (expanded via PCF8574 I2C GPIO)</li><li>Micro SD slot connected to SDMMC Host in 1 Line Mode for save GPIO pin</li><li>Integrated I2S DAC via UDA1334A</li><li>Integrated USB to Serial for programming and debugging using CH340C</li><li>Built-in TP4056 Li-Po charger</li><li>I2C port for expandable function</li><li>3,5mm Headphone jack</li><li>Smaller Size, PCB only 100 x 50 mm.</li></ul> <p>And planned ability to run LVGL UI both of C and Micropython ( lv_micropython)<br></p> </div> </section> <section class="section section-files"> <table class="files-table"> <tbody> <tr class="component-"> <td class="file-details"> <p> Standard Tesselated Geometry - 7.46 MB - 11/25/2019 at 05:27 </p> </td> <td class="file-type file-preview"> </td> <td class="file-type"> <a href="https://cdn.hackaday.io/files/1667077132392288/board.stl"> <span class="file-button-description">Download</span> </a> </td> </tr> <tr class="component-"> <td class="file-details"> <p> x-zip-compressed - 2.39 MB - 11/25/2019 at 05:27 </p> </td> <td class="file-type file-preview"> </td> <td class="file-type"> <a href="https://cdn.hackaday.io/files/1667077132392288/board.FCStd"> <span class="file-button-description">Download</span> </a> </td> </tr> <tr class="component-"> <td class="file-details"> <p> x-zip-compressed - 204.27 kB - 11/25/2019 at 05:27 </p> </td> <td class="file-type file-preview"> </td> <td class="file-type"> <a href="https://cdn.hackaday.io/files/1667077132392288/bottom_last_layer.FCStd"> <span class="file-button-description">Download</span> </a> </td> </tr> <tr class="component-"> <td class="file-details"> <p> x-zip-compressed - 218.24 kB - 11/25/2019 at 05:27 </p> </td> <td class="file-type file-preview"> </td> <td class="file-type"> <a href="https://cdn.hackaday.io/files/1667077132392288/bottom.FCStd"> <span class="file-button-description">Download</span> </a> </td> </tr> <tr class="component-"> <td class="file-details"> <p> x-zip-compressed - 2.67 MB - 11/25/2019 at 05:26 </p> </td> <td class="file-type file-preview"> </td> <td class="file-type"> <a href="https://cdn.hackaday.io/files/1667077132392288/left_button.FCStd"> <span class="file-button-description">Download</span> </a> </td> </tr> </tbody> </table> <p> <a href="/project/166707/files" class="grey-gold-button medium-button show"> View all 12 files </a> </p> </section> <section class="section section-buildlogs"> <ul class="buildlogs-list j-buildlogs-list post-content details-content"> <li> <small class="authorship"> <span class="gray-link"><span class="identity-card"><a href="/hacker/434056-fuji-pebri">Fuji Pebri</a></span></span> &#x2022; <span class="time-card">20 hours ago</span> &#x2022; <a class="gray-link" href="/project/166707/log/171306-case-design-experiment#discussion-list"> 0 comments </a> </small> </li> <li> <small class="authorship"> <span class="gray-link"><span class="identity-card"><a href="/hacker/268569-makerfabs">Makerfabs</a></span></span> &#x2022; <span class="time-card">5 days ago</span> &#x2022; <a class="gray-link" href="/project/166707/log/171192-esplay-micro-mp3#discussion-list"> 0 comments </a> </small> </li> <li> <small class="authorship"> <span class="gray-link"><span class="identity-card"><a href="/hacker/434056-fuji-pebri">Fuji Pebri</a></span></span> &#x2022; <span class="time-card">10/28/2019 at 06:50</span> &#x2022; <a class="gray-link" href="/project/166707/log/170343-esplay-micro-loves-littlevgl-and-micropython#discussion-list"> 0 comments </a> </small> <div class="summary"> <p>Hi Hackaday,</p><p>Today i introduces you some ability what esplay micro can do. I port micropython with lvgl module built-in from littlevgl repository <a href="https://github.com/littlevgl/lv_micropython">here</a>. Picture will explain everything.</p><figure><img class="lazy" src="https://cdn.hackaday.io/images/3623891572245386241.jpg"></figure><p>the code for screenshot above</p><pre class="hljs python"><span class="hljs-keyword">import</span> lvgl <span class="hljs-keyword">as</span> lvlv.init() <span class="hljs-keyword">import</span> lvesp32<span class="hljs-keyword">import</span> ILI9341 <span class="hljs-keyword">as</span> ilid = ili.display()d.init()disp_buf1 = lv.disp_buf_t()buf1_1 = bytes(<span class="hljs-number">320</span>*<span class="hljs-number">10</span>)lv.disp_buf_init(disp_buf1,buf1_1, <span class="hljs-keyword">None</span>, len(buf1_1)//<span class="hljs-number">4</span>)disp_drv = lv.disp_drv_t()lv.disp_drv_init(disp_drv)disp_drv.buffer = disp_buf1disp_drv.flush_cb = d.flushdisp_drv.hor_res = <span class="hljs-number">320</span>disp_drv.ver_res = <span class="hljs-number">240</span>lv.disp_drv_register(disp_drv) <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Anim</span><span class="hljs-params">(lv.anim_t)</span>:</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, obj, val, size, exec_cb, path_cb, time=<span class="hljs-number">500</span>, playback = False, ready_cb=None)</span>:</span> super().__init__() lv.anim_init(self) lv.anim_set_time(self, time, <span class="hljs-number">0</span>) lv.anim_set_values(self, val, val+size) <span class="hljs-keyword">if</span> callable(exec_cb): lv.anim_set_custom_exec_cb(self, exec_cb) <span class="hljs-keyword">else</span>: lv.anim_set_exec_cb(self, obj, exec_cb) lv.anim_set_path_cb(self, path_cb ) <span class="hljs-keyword">if</span> playback: lv.anim_set_playback(self, <span class="hljs-number">0</span>) <span class="hljs-keyword">if</span> ready_cb: lv.anim_set_ready_cb(self, ready_cb) lv.anim_create(self) <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AnimatedChart</span><span class="hljs-params">(lv.chart)</span>:</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, parent, val, size)</span>:</span> super().__init__(parent) self.val = val self.size = size self.max = <span class="hljs-number">2000</span> self.min = <span class="hljs-number">500</span> self.factor = <span class="hljs-number">100</span> self.anim_phase1() <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">anim_phase1</span><span class="hljs-params">(self)</span>:</span> Anim( self, self.val, self.size, <span class="hljs-keyword">lambda</span> a, val: self.set_range(<span class="hljs-number">0</span>, val), lv.anim_path_ease_in, ready_cb=<span class="hljs-keyword">lambda</span> a:self.anim_phase2(), time=(self.max * self.factor) // <span class="hljs-number">100</span>) <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">anim_phase2</span><span class="hljs-params">(self)</span>:</span> Anim( self, self.val+self.size, -self.size, <span class="hljs-keyword">lambda</span> a, val: self.set_range(<span class="hljs-number">0</span>, val), lv.anim_path_ease_out, ready_cb=<span class="hljs-keyword">lambda</span> a:self.anim_phase1(), time=(self.min * self.factor) // <span class="hljs-number">100</span>) scr = lv.obj()chart = AnimatedChart(scr, <span class="hljs-number">100</span>, <span class="hljs-number">1000</span>)chart.set_width(scr.get_width() - <span class="hljs-number">100</span>)chart.align(scr, lv.ALIGN.CENTER, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)series1 = chart.add_series(lv.color_hex(<span class="hljs-number">0xFF0000</span>))chart.set_type(chart.TYPE.POINT | chart.TYPE.LINE)chart.set_series_width(<span class="hljs-number">3</span>)chart.set_range(<span class="hljs-number">0</span>,<span class="hljs-number">100</span>)chart.init_points(series1, <span class="hljs-number">10</span>)chart.set_points(series1, [<span class="hljs-number">76</span>,<span class="hljs-number">40</span>,<span class="hljs-number">40</span>,<span class="hljs-number">40</span>,<span class="hljs-number">50</span>,<span class="hljs-number">40</span>,<span class="hljs-number">50</span>,<span class="hljs-number">90</span>,<span class="hljs-number">95</span>,<span class="hljs-number">90</span>])chart.set_x_tick_texts(<span class="hljs-string">&apos;a\nb\nc\nd\ne&apos;</span>, <span class="hljs-number">2</span>, lv.chart.AXIS.DRAW_LAST_TICK)chart.set_x_tick_length(<span class="hljs-number">10</span>, <span class="hljs-number">5</span>)chart.set_y_tick_texts(<span class="hljs-string">&apos;1\n2\n3\n4\n5&apos;</span>, <span class="hljs-number">2</span>, lv.chart.AXIS.DRAW_LAST_TICK)chart.set_y_tick_length(<span class="hljs-number">10</span>, <span class="hljs-number">5</span>)chart.set_div_line_count(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>)chart.set_margin(<span class="hljs-number">30</span>) <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">on_slider_changed</span><span class="hljs-params">(self, obj=None, event=<span class="hljs-number">-1</span>)</span>:</span> chart.factor = slider.get_value() slider = lv.slider(scr)slider.align(chart, lv.ALIGN.OUT_RIGHT_TOP, <span class="hljs-number">10</span>, <span class="hljs-number">0</span>)slider.set_width(<span class="hljs-number">30</span>)slider.set_height(chart.get_height())slider.set_range(<span class="hljs-number">10</span>, <span class="hljs-number">200</span>)slider.set_value(chart.factor, <span class="hljs-number">0</span>)slider.set_event_cb(on_slider_changed)lv.scr_load(scr)</pre> </div> </li> <li> <small class="authorship"> <span class="gray-link"><span class="identity-card"><a href="/hacker/268569-makerfabs">Makerfabs</a></span></span> &#x2022; <span class="time-card">10/17/2019 at 01:59</span> &#x2022; <a class="gray-link" href="/project/166707/log/170000-trial-producton#discussion-list"> 0 comments </a> </small> </li></ul></section></p> <li> <small class="authorship"> <span class="gray-link"><span class="identity-card"><a href="/hacker/268569-makerfabs">Makerfabs</a></span></span> &#x2022; <span class="time-card">10/11/2019 at 06:59</span> &#x2022; <a class="gray-link" href="/project/166707/log/169794-start-to-play#discussion-list"> 0 comments </a> </small> </li> <li> <small class="authorship"> <span class="gray-link"><span class="identity-card"><a href="/hacker/434056-fuji-pebri">Fuji Pebri</a></span></span> &#x2022; <span class="time-card">10/01/2019 at 15:27</span> &#x2022; <a class="gray-link" href="/project/166707/log/169480-rev20-test-firmware-and-sound#discussion-list"> 0 comments </a> </small> <div class="summary"> <p>@Makerfabs sent me 2 PCBA Sample last week, so i could work for the firmware this weekend. After upload the fw i just surprise the sound and button didn&apos;t works, i spent two hours to see what happened. I didn&apos;t make any changes on button, then after reads the datasheet there&apos;s different i2c address scheme between PCF8574AT and PCF8574T. Earlier prototype PCF8574AT was used ( salvaged from 1602 lcd i2c backpack ) and the address 0x38 was used, with this sample PCF8574T the address is 0x20, one problem solved.</p><p>The Sound is different case, after 3 hours struggled with the programming the problem is not the software but really bad typos on schematics, the resistor for R-C filter was wrongly typed from 1 Ohm to 1 KOhm, swap the resistor with the right one and VOILA the sound works. The Sound output are really clean on the headphone and very low noise output from the speaker, really satisfied with the result.&#xA0;</p><figure><img class="lazy" src="https://cdn.hackaday.io/images/7954411569943602663.jpeg"></figure> </div> </li> <li> <small class="authorship"> <span class="gray-link"><span class="identity-card"><a href="/hacker/268569-makerfabs">Makerfabs</a></span></span> &#x2022; <span class="time-card">09/18/2019 at 05:50</span> &#x2022; <a class="gray-link" href="/project/166707/log/168902-rev20-pcba-sample-completed#discussion-list"> 4 comments </a> </small> </li> <li> <small class="authorship"> <span class="gray-link"><span class="identity-card"><a href="/hacker/434056-fuji-pebri">Fuji Pebri</a></span></span> &#x2022; <span class="time-card">08/29/2019 at 01:29</span> &#x2022; <a class="gray-link" href="/project/166707/log/167950-revision-time#discussion-list"> 0 comments </a> </small> </li> <li> <small class="authorship"> <span class="gray-link"><span class="identity-card"><a href="/hacker/434056-fuji-pebri">Fuji Pebri</a></span></span> &#x2022; <span class="time-card">08/06/2019 at 06:09</span> &#x2022; <a class="gray-link" href="/project/166707/log/166655-new-launcher-ui#discussion-list"> 0 comments </a> </small> </li> <li> <small class="authorship"> <span class="gray-link"><span class="identity-card"><a href="/hacker/434056-fuji-pebri">Fuji Pebri</a></span></span> &#x2022; <span class="time-card">08/01/2019 at 10:00</span> &#x2022; <a class="gray-link" href="/project/166707/log/166423-launcher-and-emulator#discussion-list"> 0 comments </a> </small> </li> <p class="log-btns"> <a href="/project/166707/logs" class="grey-gold-button medium-button show"> View all 12 project logs </a> </p> <section class="section last"> <div id="discussion-list" class="discussion-list"> <p> <a href="#" class="button-grey-gold-small login-comment login-button">Log In/Sign up to comment</a>
</p> <div id="j-discussion-131922" class="discussions-item"> <div class="discussions-item-image"> <a href="/hacker/434056"> <img src="https://cdn.hackaday.io/images/resize/100x100/2314741560965785587.jpeg" alt> </a> </div> <div class="discussions-item-body"> <small class="authorship"> <span class="identity-card"><a href="/hacker/434056-fuji-pebri">Fuji Pebri</a></span> wrote <a class="gray-link" href="/project/166707-esplay-micro/discussion-131922"><span class="time-card">08/28/2019 at 00:41</span></a> </small> <div class="comment-content"> <div id="comment-131922-content"> <p>Hi, actually it&apos;s already on planned list, that&apos;s why i added i2s DAC for high quality sound. And the good news is it work in progress, we need a new pcb revision cause the current pcb has bugs with sound design.</p> </div> </div> <p> <span class="delete-confirm hide"><span class="delete-q">Are you sure?</span> <a href="#" class="delete-yes">yes</a> | <a href="#" class="delete-no">no</a></span> </p> </div> </div> <div id="j-discussion-131694" class="discussions-item"> <div class="discussions-item-image"> <a href="/hacker/434056"> <img src="https://cdn.hackaday.io/images/resize/100x100/2314741560965785587.jpeg" alt> </a> </div> <div class="discussions-item-body"> <small class="authorship"> <span class="identity-card"><a href="/hacker/434056-fuji-pebri">Fuji Pebri</a></span> wrote <a class="gray-link" href="/project/166707-esplay-micro/discussion-131694"><span class="time-card">08/24/2019 at 04:47</span></a> </small> <div class="comment-content"> <div id="comment-131694-content"> <p>Thanks <a href="/hacker/277347">@Eugene Andruszczenko&#xA0;</a>for sending me your Retro ESP32 board, the board are awesome, still wait my GBP case arrive. Btw your retro esp32 has clean sound while esplay micro a lot of noise on low volume on speaker. i2s output has great sound although, i was design audio part carelessly, i will take yours as reference for next revision.</p> </div> </div> <p> <span class="delete-confirm hide"><span class="delete-q">Are you sure?</span> <a href="#" class="delete-yes">yes</a> | <a href="#" class="delete-no">no</a></span> </p> </div> </div> <div id="j-discussion-131669" class="discussions-item"> <div class="discussions-item-image"> <a href="/hacker/271335"> <img src="https://cdn.hackaday.io/images/resize/100x100/7019651513282227716.png" alt> </a> </div> <div class="discussions-item-body"> <small class="authorship"> <span class="identity-card"><a href="/hacker/271335-calebe94">Calebe94</a></span> wrote <a class="gray-link" href="/project/166707-esplay-micro/discussion-131669"><span class="time-card">08/23/2019 at 12:06</span></a> </small> <div class="comment-content"> <div id="comment-131669-content"> <p>Good work man. <br>When I finish my bachelor&apos;s degree I will update my project again, and I will definitely use your project as a reference.</p> </div> </div> <p> <span class="delete-confirm hide"><span class="delete-q">Are you sure?</span> <a href="#" class="delete-yes">yes</a> | <a href="#" class="delete-no">no</a></span> </p> </div> </div> <div id="j-discussion-130915" class="discussions-item"> <div class="discussions-item-image"> <a href="/hacker/434056"> <img src="https://cdn.hackaday.io/images/resize/100x100/2314741560965785587.jpeg" alt> </a> </div> <div class="discussions-item-body"> <small class="authorship"> <span class="identity-card"><a href="/hacker/434056-fuji-pebri">Fuji Pebri</a></span> wrote <a class="gray-link" href="/project/166707-esplay-micro/discussion-130915"><span class="time-card">08/06/2019 at 16:35</span></a> </small> <div class="comment-content"> <div id="comment-130915-content"> <p>Currently the circuit diagram is available in eagle format in my github repository. I&apos;ll add pdf format in next commit. Thanks.</p> </div> </div> <p> <span class="delete-confirm hide"><span class="delete-q">Are you sure?</span> <a href="#" class="delete-yes">yes</a> | <a href="#" class="delete-no">no</a></span> </p> </div> </div> <div id="j-discussion-130610" class="discussions-item"> <div class="discussions-item-image"> <a href="/hacker/35249"> <img src="https://cdn.hackaday.io/images/resize/100x100/6430311561458931741.png" alt> </a> </div> <div class="discussions-item-body"> <small class="authorship"> <span class="identity-card"><a href="/hacker/35249-dehipu">de&#x222B;hipu</a></span> wrote <a class="gray-link" href="/project/166707-esplay-micro/discussion-130610"><span class="time-card">08/01/2019 at 10:31</span></a> </small> <div class="comment-content"> <div id="comment-130610-content"> <p>I don&apos;t know why I only saw it now. Very nice project! I can see why you printed a case with button caps &#x2014; those metal buttons are the worst.</p> </div> </div> <p> <span class="delete-confirm hide"><span class="delete-q">Are you sure?</span> <a href="#" class="delete-yes">yes</a> | <a href="#" class="delete-no">no</a></span> </p> </div> </div> <div id="j-discussion-130625" class="discussions-item"> <div class="discussions-item-image"> <a href="/hacker/434056"> <img src="https://cdn.hackaday.io/images/resize/100x100/2314741560965785587.jpeg" alt> </a> </div> <div class="discussions-item-body"> <small class="authorship"> <span class="identity-card"><a href="/hacker/434056-fuji-pebri">Fuji Pebri</a></span> wrote <a class="gray-link" href="/project/166707-esplay-micro/discussion-130625"><span class="time-card">08/01/2019 at 14:36</span></a> </small> <div class="comment-content"> <div id="comment-130625-content"> <p>Thanks, yes the buttons are hard to press, later i&apos;ll change it with the silicon type. Earlier prototype using the same button with your uGame, those button are really good, but it&apos;s easily broken. My son could break it in just 2 months.</p> </div> </div> <p> <span class="delete-confirm hide"><span class="delete-q">Are you sure?</span> <a href="#" class="delete-yes">yes</a> | <a href="#" class="delete-no">no</a></span> </p> </div> </div> </div> </section> </div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2019 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
    </footer>
    
    <script>
        (function() {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function() {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) {}
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
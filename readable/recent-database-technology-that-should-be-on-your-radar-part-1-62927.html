<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Recent database technology that should be on your radar (part 1) - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Recent database technology that should be on your radar (part 1) - linksfor.dev(s)"/>
    <meta property="og:description" content="I&#x2019;m a huge fan of databases, so much so that I&#x2019;ve&#xA;written a book on so-called &#x201C;NoSQL&#x201D; databases, I spent some of my most fruitful years in tech working on the highly influential distributed database&#xA;Riak, and I even built a database called&#xA;Purple last year just for fun."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://lucperkins.dev/blog/new-db-tech-1/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
	<div class="devring" style="background: #222">
		<div class="grid">
			<div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
				<span class="devring-title">devring.club</span>
				<a href="https://devring.club/site/1/previous" class="devring-previous">Previous</a>
				<a href="https://devring.club/random" class="devring-random">Random</a>
				<a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
			</div>
		</div>
	</div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Recent database technology that should be on your radar (part 1)</title>
<div class="readable">
        <h1>Recent database technology that should be on your radar (part 1)</h1>
            <div>Reading time: 10-12 minutes</div>
        <div>Posted here: 16 Jun 2020</div>
        <p><a href="https://lucperkins.dev/blog/new-db-tech-1/">https://lucperkins.dev/blog/new-db-tech-1/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div><p>I’m a <strong>huge</strong> fan of databases, so much so that I’ve
<a href="https://7dbs.io/" target="_blank">written a book<sup><i></i></sup></a> on so-called “NoSQL” databases, I spent some of my most fruitful years in tech working on the highly influential distributed database
<a href="https://riak.com/" target="_blank">Riak<sup><i></i></sup></a>, and I even built a database called
<a href="https://purpledb.io/" target="_blank">Purple<sup><i></i></sup></a> last year just for fun.</p><p>Naturally, I’m always on the lookout for new and exciting developments in databases and DB-related tools when I scan (trash fires like) Twitter, Reddit, and HackerNews. In this post I’d like to talk about three recently minted database technologies that I find intriguing:</p><ul><li><a href="#tiledb">TileDB</a></li><li><a href="#materialize">Materialize</a></li><li><a href="#prisma">Prisma</a></li></ul><p>In part 2 I’ll cover three others:</p><ul><li><a href="https://edgedb.com/" target="_blank">EdgeDB<sup><i></i></sup></a></li><li><a href="https://tremor.rs/" target="_blank">Tremor<sup><i></i></sup></a></li><li><a href="https://debezium.io/" target="_blank">Debezium<sup><i></i></sup></a></li></ul><p>In part 3 I’ll conclude with some
<a href="#thoughts">closing thoughts</a>. <strong>Note</strong>: I’ll be focusing exclusively on the core technologies and mostly ignoring things like enterprise features (where applicable).</p><blockquote><p>My selection criteria are purely subjective. If there’s something you don’t see here that you think I should be checking out, tweet at me and let me know! My handle is
<a href="https://twitter.com/lucperkins" target="_blank">@lucperkins<sup><i></i></sup></a>.</p></blockquote><h2 id="tiledb">TileDB<a aria-label="Anchor" data-anchorjs-icon="#" href="#tiledb"></a></h2><p><a href="https://tiledb.com/" target="_blank">TileDB<sup><i></i></sup></a> is a DB built around
<a href="http://matlab.izmiran.ru/help/techdoc/matlab_prog/ch_dat32.html" target="_blank">multi-dimensional arrays<sup><i></i></sup></a> that enables you to easily work with types that aren’t a great fit for existing RDBMS systems, such as
<a href="https://docs.tiledb.com/main/basic-concepts/definitions/dense-vs-sparse-array" target="_blank">dense and sparse arrays<sup><i></i></sup></a> and
<a href="https://docs.tiledb.com/main/handling-dataframes" target="_blank">dataframes<sup><i></i></sup></a>. TileDB is specifically geared toward use cases like
<a href="https://docs.tiledb.com/genomics/" target="_blank">genomics<sup><i></i></sup></a> and
<a href="https://docs.tiledb.com/geospatial" target="_blank">geospatial<sup><i></i></sup></a> data.</p><h3 id="noteworthy-features">Noteworthy features<a aria-label="Anchor" data-anchorjs-icon="#" href="#noteworthy-features"></a></h3><ul><li>Swappable data backends with support for
<a href="https://aws.amazon.com/s3/" target="_blank">Amazon S3<sup><i></i></sup></a>,
<a href="https://min.io/" target="_blank">MinIO<sup><i></i></sup></a>, and others</li><li>Storage integrations for
<a href="https://hadoop.apache.org/docs/r1.2.1/hdfs_design.html" target="_blank">HDFS<sup><i></i></sup></a>,
<a href="https://prestodb.io/" target="_blank">PrestoDB<sup><i></i></sup></a>,
<a href="http://spark.apache.org/" target="_blank">Apache Spark<sup><i></i></sup></a>,
<a href="https://docs.dask.org/en/latest/index.html" target="_blank">Dask<sup><i></i></sup></a>, and others</li><li>Language bindings for
<a href="https://docs.tiledb.com/main/usage/c-cpp" target="_blank">C/C++<sup><i></i></sup></a>,
<a href="https://docs.tiledb.com/main/usage/python" target="_blank">Python<sup><i></i></sup></a>,
<a href="https://docs.tiledb.com/main/usage/r" target="_blank">R<sup><i></i></sup></a>,
<a href="https://docs.tiledb.com/main/usage/java" target="_blank">Java<sup><i></i></sup></a>, and
<a href="https://docs.tiledb.com/main/usage/go" target="_blank">Go<sup><i></i></sup></a></li></ul><h3 id="what-i-like-most">What I like most<a aria-label="Anchor" data-anchorjs-icon="#" href="#what-i-like-most"></a></h3><p>I’m a fan of “specialty” DBs like this that hone in on a specific set of data types and problems. The great thing about traditional RDBMSes is that they’re versatile enough to cover an extremely wide array of use cases (no pun intended) but sometimes you have “last mile” edge cases that are both (a) beyond the capabilities of “kitchen sink” systems and also (b) at the core of your business.</p><p>I expect to see the emergence of more systems like this as database use cases become ever more specialized and new problem domains emerge. The old guard RDBMSes aren’t going anywhere, of course, but it’s nonetheless encouraging to see TileDB and others pushing the envelope. What I’m <em>really</em> hoping for is the emergence of extremely “hackable,” resolutely non-monolithic DBs that provide a plugin interface for highly use-case-specific data types, but this is something I’ll talk about later.</p><h3 id="questions-for-the-project">Questions for the project<a aria-label="Anchor" data-anchorjs-icon="#" href="#questions-for-the-project"></a></h3><ol><li>How much work is done on the client library side versus the database side? Are the TileDB clients essentially language-specific math libraries for manipulating complex data types locally and occasionally saving the results to the desired backend <em>or</em> are they like other DB client libraries that mostly just relay commands to the database? It’s not entirely clear from the documentation.</li><li>What’s the rationale for providing a
<a href="https://docs.tiledb.com/main/handling-key-value-stores" target="_blank">key-value store<sup><i></i></sup></a> given the plethora of existing K/V options? The docs even say that “TileDB is <em>not</em> designed to work as a special-purpose key-value store.” What’s the value of ratcheting on a feature like this?</li></ol><hr><h2 id="materialize">Materialize<a aria-label="Anchor" data-anchorjs-icon="#" href="#materialize"></a></h2><p><a href="https://materialize.io/" target="_blank">Materialize<sup><i></i></sup></a> touts itself on its website as “the first true SQL streaming database” and that actually may not be overblown! It’s essentially a relational database that’s wire compatible with
<a href="https://postgresql.org/" target="_blank">PostgreSQL<sup><i></i></sup></a> but with the crucial difference that it offers
<a href="https://en.wikipedia.org/wiki/Materialized_view" target="_blank">materialized views<sup><i></i></sup></a> that are updated <em>in real time</em>.</p><blockquote><p>I’ve also seen Materialize described as a
<a href="https://materialize.io/blog-introduction" target="_blank">streaming data warehouse<sup><i></i></sup></a>, which seems fitting.</p></blockquote><p>In standard Postgres, for example, you have to manually update materialized views:</p><div><pre><code data-lang="sql"><span>CREATE</span> MATERIALIZED <span>VIEW</span> my_view (<span>/* ... */</span>);

REFRESH MATERIALIZED <span>VIEW</span> my_view;

<span>/* The underlying tables change */</span>

REFRESH MATERIALIZED <span>VIEW</span> my_view;

<span>/* More stuff happens */</span>

REFRESH MATERIALIZED <span>VIEW</span> my_view;
</code></pre></div><p>You can do this as frequently as you’d like, perhaps using a script or a cron job. What I have yet to see but always secretly wanted, however, is a database that natively supports <em>incremental updates</em> to materialized views. Yep, that’s right: Materialize <em>listens for changes</em> in the data sources that you specify and updates your views as those sources change.</p><p>Even if Materialize doesn’t “win” or stick around for very long, I suspect that the capabilities that it brings to the table are here to stay and will almost certainly be reproduced in DBs down the road.</p><h3 id="noteworthy-features-1">Noteworthy features<a aria-label="Anchor" data-anchorjs-icon="#" href="#noteworthy-features-1"></a></h3><ul><li>A diverse range of data sources, including other tables (as in standard Postgres), JSON, CSV, and other files,
<a href="https://kafka.apache.org/" target="_blank">Kafka<sup><i></i></sup></a> and
<a href="https://aws.amazon.com/kinesis/" target="_blank">Kinesis<sup><i></i></sup></a> topics, and most likely many others in the future.</li><li>The core engine is powered by two really powerful constructs:
<a href="https://timelydataflow.github.io/timely-dataflow/" target="_blank">timely dataflow<sup><i></i></sup></a> and
<a href="https://timelydataflow.github.io/differential-dataflow/" target="_blank">differential dataflow<sup><i></i></sup></a>. I won’t go over these here but I strongly recommend delving into those concepts yourself. The very academic-leaning creators of Materialize have been deeply involved with both projects, so you can trust that Materialize is the product <em>not</em> of a “hacker ethos” but rather an extremely careful, fastidious process.</li><li>Because Materialize is wire compatible with Postgres, you can still use
<a href="https://www.postgresql.org/docs/current/app-psql.html" target="_blank">psql<sup><i></i></sup></a> and all the other Postgres tools you’ve become accustomed to.</li></ul><h3 id="what-i-like-most-1">What I like most<a aria-label="Anchor" data-anchorjs-icon="#" href="#what-i-like-most-1"></a></h3><p>Materialize has the potential to replace a lot of things. Most obviously, it lets you full-on jettison any existing processes you have for incrementally updating your materialized views. That’s a moderately sized win.</p><p>The much bigger win for me, however, is that Materialize lets you decommission those portions of your data stack devoted to listening for changes on your data sources. You can do things like this
<a href="https://materialize.io/docs/sql/create-source/" target="_blank">natively<sup><i></i></sup></a>:</p><div><pre><code data-lang="sql"><span>CREATE</span> <span>SOURCE</span> click_events
<span>FROM</span> KAFKA BROKER <span>'localhost:9092'</span> TOPIC <span>'click_events'</span>
FORMAT AVRO <span>USING</span> CONFLUENT <span>SCHEMA</span> REGISTRY <span>'http://localhost:8081'</span>;
</code></pre></div><p>Your DB is now “aware” of a data source that it can use to construct auto-updating materialized views. This native “piping” feels even more magical to me than auto-updating views. If you’re running, say, serverless functions or
<a href="https://heron.apache.org/" target="_blank">Heron<sup><i></i></sup></a> jobs or
<a href="https://flink.apache.org/" target="_blank">Flink<sup><i></i></sup></a> pipelines that do nothing more than listen here and write an <code>INSERT</code> statement there, Materialize will enable you to unceremoniously cut out that part of your stack.</p><h3 id="questions-for-the-project-1">Questions for the project<a aria-label="Anchor" data-anchorjs-icon="#" href="#questions-for-the-project-1"></a></h3><ul><li>Why a separate DB and not a Postgres
<a href="https://www.postgresql.org/docs/current/external-extensions.html" target="_blank">extension<sup><i></i></sup></a>? I’m sure there are good architectural reasons for why an extension wouldn’t cut it here but I’d love to know what that is.</li><li>How easy is it to build extensions for other data sources? How could I write, for example, an extension for
<a href="https://pulsar.apache.org/" target="_blank">Apache Pulsar<sup><i></i></sup></a>? Do you plan on exposing an API for this to developers?</li></ul><hr><h2 id="prisma">Prisma<a aria-label="Anchor" data-anchorjs-icon="#" href="#prisma"></a></h2><p><a href="https://prisma.io/" target="_blank">Prisma<sup><i></i></sup></a> isn’t a database but rather a set of tools that seek to abstract away your database as much as possible. It’s currently compatible with
<a href="https://postgresql.org/" target="_blank">PostgreSQL<sup><i></i></sup></a>,
<a href="https://www.mysql.com/" target="_blank">MySQL<sup><i></i></sup></a>, and
<a href="https://www.sqlite.org/index.html" target="_blank">SQLite<sup><i></i></sup></a> on the DB side and
<a href="https://www.javascript.com/" target="_blank">JavaScript<sup><i></i></sup></a> and
<a href="lhttps://www.typescriptlang.org">TypeScript</a> on the language side (with support for more DBs and languages on the horizon). It touts itself as the “data layer for modern applications” and that sounds about right.</p><p>The Golden Path for using Prisma goes something like this:</p><ol><li>Define your application-level data types using Prisma’s schema SDL</li><li>Generate highly idiomatic code for your language of choice out of your created schema</li><li>Get busy creating REST APIs, GraphQL APIs, and whatever else you want to build</li></ol><p>Overall, I do understand the hesitance that some might have toward something like Prisma. A large subset of devs don’t want the database abstracted away. They don’t want clever DSLs and GUIs. They want to write plain SQL and they want to handcraft all their DB interaction code. I completely understand the desire to retain that degree of control, but I would nonetheless encourage you to spend 20-30 minutes giving Prisma a try. I think it does a very good job of carefully sailing between the Scylla of too much sugar and the Charybdis of raw SQL.</p><h3 id="noteworthy-features-2">Noteworthy features<a aria-label="Anchor" data-anchorjs-icon="#" href="#noteworthy-features-2"></a></h3><ul><li><a href="https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-client" target="_blank">Prisma Client<sup><i></i></sup></a> enables you to define your desired data types using a specialized schema SDL that generates code for you. Even the connection information for your database disappears from your application code and into the generated code.</li><li><a href="https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-migrate" target="_blank">Prisma Migrate<sup><i></i></sup></a> enables you to define DB migrations declaratively (rather than imperatively as with SQL). The messy details of how the DB gets from state <code>A</code> to state <code>B</code> are hidden from view.</li><li><a href="https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-studio" target="_blank">Prisma Studio<sup><i></i></sup></a> is a visual editor that essentially provides a GUI over the other Prisma tools.</li></ul><h3 id="what-i-like-most-2">What I like most<a aria-label="Anchor" data-anchorjs-icon="#" href="#what-i-like-most-2"></a></h3><p>The Prisma
<a href="https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-schema" target="_blank">schema DSL<sup><i></i></sup></a> is a way of defining not only the data types you need for your application but also which code generator you want to use and connection information for the DB you’re connecting to.</p><p>Plus, it provides enums, convenient annotations like <code>@id</code>, <code>@relation</code>, and <code>@default</code>. It’s reminiscent of both the DB migration DSLs from
<a href="https://guides.rubyonrails.org/active_record_basics.html" target="_blank">ActiveRecord<sup><i></i></sup></a> and
<a href="https://hexdocs.pm/ecto/Ecto.html" target="_blank">Ecto<sup><i></i></sup></a> and also IDLs like those used by
<a href="https://developers.google.com/protocol-buffers" target="_blank">Protocol Buffers<sup><i></i></sup></a> and
<a href="https://thrift.apache.org/docs/idl" target="_blank">Thrift<sup><i></i></sup></a>.</p><p>I’d really love to see the Prisma schema SDL or something like it adopted as a language-neutral standard (consumable by language-specific libraries). The status quo is that every programming language reinvents the wheel. I think it’d be beneficial to have a language-agnostic way of defining those types that define the relationship between the application and the DB.</p><blockquote><p>On a related note, a quick shoutout to Prisma’s exceedingly beautiful
<a href="https://www.prisma.io/docs/" target="_blank">documentation<sup><i></i></sup></a>. I absolutely consider this a feature and if your docs don’t belong in the “what I like most” section of a blog post then you should invest more resources into tech writing.</p></blockquote><h3 id="questions-for-the-project-2">Questions for the project<a aria-label="Anchor" data-anchorjs-icon="#" href="#questions-for-the-project-2"></a></h3><ol><li>Would Prisma also be useful in languages that already have widely used ORMs? If I’m using
<a href="https://guides.rubyonrails.org/active_record_basics.html" target="_blank">ActiveRecord<sup><i></i></sup></a> for Ruby or
<a href="https://hexdocs.pm/ecto/Ecto.html" target="_blank">Ecto<sup><i></i></sup></a> for Elixir, what’s my incentive to switch?</li><li>This is awkward, but why is Prisma a company? I don’t know how to pay you money and I don’t know what that money would be for 🤷🏼‍♂️ I like free stuff so I’ll take it but I’d love to hear where this is all going.</li></ol><blockquote><h2 id="hire-me">Hire me!<a aria-label="Anchor" data-anchorjs-icon="#" href="#hire-me"></a></h2><p>I’m currently looking for a new job and would love to get paid to work on DBs again. Hit me up at
<a href="mailto:lucperkins@gmail.com">lucperkins@gmail.com</a> if you want to chat. I’m reasonably dangerous in Go, Java, and Elixir, have tons of tech writing and DevRel experience, and know my way around Kubernetes, Prometheus, the realtime trifecta of Apache
<a href="https://pulsar.apache.org/" target="_blank">Pulsar<sup><i></i></sup></a>,
<a href="https://heron.apache.org/" target="_blank">Heron<sup><i></i></sup></a>, and
<a href="https://bookkeeper.apache.org/" target="_blank">BookKeeper<sup><i></i></sup></a>, and many other technologies. You can get more info about me on the
<a href="https://lucperkins.dev/">home page</a>. I’m also open to contract work of all kinds.</p></blockquote></div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Building a Simple Self-Driving Car Simulator - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Building a Simple Self-Driving Car Simulator - linksfor.dev(s)"/>
    <meta property="og:description" content="As part of my new job, I&#x2019;ve been working with Professor Liam Paull and his students on building a simulator for Duckietown. This is a university course being taught at ETH Zurich, the Univers&#x2026;"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://pointersgonewild.com/2018/05/21/building-a-simple-self-driving-car-simulator/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Building a Simple Self-Driving Car Simulator</title>
<div class="readable">
        <h1>Building a Simple Self-Driving Car Simulator</h1>
            <div>Reading time: 3 minutes</div>
        <div>Posted here: 27 Feb 2019</div>
        <p><a href="https://pointersgonewild.com/2018/05/21/building-a-simple-self-driving-car-simulator/">https://pointersgonewild.com/2018/05/21/building-a-simple-self-driving-car-simulator/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
								<p>As part of my new job, I’ve been working with Professor Liam Paull and his students on building a simulator for <a href="http://duckietown.org/">Duckietown</a>. This is a university course being taught at ETH Zurich, the University of Montreal, TTIC/UChicago and other institutions, where&nbsp;students learn about self-driving cars and robotics by building their own small-scale model which can drive around in the miniature Duckietown universe, complete with turns, intersections, traffic signs, and other moving vehicles.</p>
<p>The course has, so far, been focused on traditional robotics methods using computer vision and PID controllers to drive the robots. However, students and professors are becoming increasingly interested in using deep learning (and reinforcement learning in particular). Since reinforcement learning needs a lot of data, it’s much more practical to do it in simulation than with physical robots. This has been one of the main motivations for building a simulator.</p>
<p>The simulator I’m building works as an OpenAI Gym environment, which makes it easy to use for reinforcement learning. It’s written in pure Python and uses OpenGL (pyglet) to produce graphics. I chose Python because this is the language most used by the deep learning community, and I wanted for students to be able to modify the simulator easily. The simulator performs many forms of <a href="https://blog.openai.com/spam-detection-in-the-physical-world/">domain randomization</a>: it randomly varies colors, the camera angle and field of view, etc. This feature is meant to help neural networks learn to deal with variability, so that trained networks will hopefully work not just in simulation, but also in the real world as well.</p>
<p><span><iframe type="text/html" width="560" height="315" src="https://www.youtube.com/embed/lfT3Gg_APjI?version=3&amp;rel=1&amp;fs=1&amp;autohide=2&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;wmode=transparent" allowfullscreen="true"></iframe></span></p><p>Because Duckietown is a toy universe that is essentially two-dimensional,&nbsp;I’ve designed a <a href="https://github.com/duckietown/gym-duckietown/blob/master/gym_duckietown/maps/udem1.yaml">YAML map format</a> which can be easily hand-edited to create custom new environments. It essentially describes a set of tiles, and where to place 3D models relative to those tiles. I’ve also made some simplifying assumptions with regard to physics (the agent essentially moves along a 2D plane).</p>
<p>While working on this simulator, I’m also experimenting with sim-to-real transfer, that is, getting policies trained in simulation to work with a real robot. This is a work in progress, but we are close to having this working reliably. The video below shows some promising results:</p>
<p><span><iframe type="text/html" width="560" height="315" src="https://www.youtube.com/embed/Jo4rLRZ6a64?version=3&amp;rel=1&amp;fs=1&amp;autohide=2&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;wmode=transparent" allowfullscreen="true"></iframe></span></p><p>If you’re interested in playing with this, the source code is <a href="https://github.com/duckietown/gym-duckietown">available on GitHub</a>. Feedback and contributions are welcome. If you run into any issues, please report them, as I’d like to make the simulator as easy to use as possible.</p>

											</div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
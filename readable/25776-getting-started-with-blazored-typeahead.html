<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Getting Started With Blazored Typeahead -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>Getting Started With Blazored Typeahead</h1><div><div class="post-content"><blockquote><strong>Update:</strong> I've now released a new version of the Typeahead which supports Blazors forms and validation. I've updated this post accordingly as there were some breaking changes. Check out the <a href="https://github.com/Blazored/Typeahead">repo for full details</a>.</blockquote><p>This week I thought I'd give an overview of the most recent addition to the Blazored collection, <a href="https://www.nuget.org/packages/Blazored.Typeahead/">Blazored.Typeahead</a>. </p><p>For those for you not familiar with <a href="https://github.com/Blazored">Blazored</a>, it's a collection of components and libraries to help with developing Blazor applications. There are libraries such as <a href="https://www.nuget.org/packages/Blazored.LocalStorage/">Blazored.LocalStorage</a> and <a href="https://www.nuget.org/packages/Blazored.SessionStorage/">Blazored.SessionStorage</a> which wrap browser APIs with C# APIs, so you don't have to. Then there are components such as <a href="https://www.nuget.org/packages/Blazored.Modal/">Blazored.Modal</a> and <a href="https://www.nuget.org/packages/Blazored.Toast/">Blazored.Toast</a> which save you having to build common UI features. </p><h2 id="what-is-blazored-typeahead">What is Blazored.Typeahead</h2><p>Blazored.Typeahead is flexible autocomplete/typeahead/suggestion component for Blazor applications. Which looks like this...</p><figure class="kg-card kg-image-card"><img src="https://chrissainty.com/content/images/2019/06/BlazoredTypeaheadDemo.gif" class="kg-image"></figure><h2 id="features">Features</h2><p>Here are some of the key features of the component.</p><h3 id="forms-integration">Forms Integration</h3><p>There are two versions of the component, standalone and forms integrated. The first is designed to work independently while the second will only work with Blazor built-in forms and validation components.</p><h3 id="searching-data">Searching Data</h3><p>The primary feature of the component is in the way it handles searching. You provide the component with a search method which it will call with the search text entered. This means you're in full control of where your data comes from, it could be a local collection or it could be the result of an API call. </p><h3 id="debounce-control">Debounce Control</h3><p>The control has built in debounce functionality which delays searches being performed until a period of inactivity has been reached. This is extremely useful when calling external APIs for searching as performing a search on every keypress would not be a good thing, especially for long queries.</p><h3 id="templating">Templating</h3><p>Developers are able to provide templates for the following things.</p><ul><li>Selected result</li><li>Search result</li><li>Not found result</li></ul><p>This allows total control over how the results look and you can make them as rich and stylish as you want.</p><h2 id="getting-started">Getting Started</h2><p>Now we've looked at a few of the features let's look at how to get the component into a Blazor application.</p><h3 id="installing">Installing</h3><p>Just like all Blazored packages, <a href="https://www.nuget.org/packages/Blazored.Typeahead/">Blazored.Typeahead is available on NuGet</a>. You can add it to your apps by either searching for it in the package explorer in Visual Studio.</p><figure class="kg-card kg-image-card"><img src="https://chrissainty.com/content/images/2019/06/blazoredtypeahead-install.JPG" class="kg-image"></figure><p>Or if you prefer the command line, you can install it via the Package Manager Console or dotnet CLI using the following commands, respectively.</p><pre><code>Install-Package Blazored.Typeahead
</code></pre><pre><code>dotnet add package Blazored.Typeahead
</code></pre><p>Once the package is installed I would suggest adding the following using statement to your main <code>_Imports.razor</code>. This will save you having to use the fully qualified name when using the component.</p><pre><code>@using Blazored.Typeahead
</code></pre><p>You will also need to add the following tag to the <code>head</code> tag of either the <code>_Host.cshtml</code> or <code>index.html</code> file, depending on if you're running a Blazor Server App or a Blazor WebAssembly App.</p><pre><code class="language-html">&lt;link href="_content/Blazored.Typeahead/blazored-typeahead.css" rel="stylesheet" /&gt;
</code></pre><p>As well as the following script tag at the bottom.</p><pre><code class="language-html">&lt;script src="_content/Blazored.Typeahead/blazored-typeahead.js"&gt;&lt;/script&gt;
</code></pre><h3 id="configuration-options">Configuration Options</h3><p>In order to use the component there are a few required parameters and templates that must be provided. There are also several optional parameters which allow you to fine tune the components behaviour.</p><p><strong>Parameters</strong></p><ul><li><code>Value</code> (<em>Required</em>) - The item to bind the selected result to</li><li><code>SearchMethod</code> (<em>Required</em>) - The Method to call when performing a search</li><li><code>Placeholder</code> (<em>Optional</em>) - Allows developer to specify a placeholder message</li><li><code>MinimumLength</code> (<em>Optional | Default 1</em>) - Minimum number of characters required before starting a search</li><li><code>Debounce</code> (<em>Optional | Default 300</em>) - Time to wait after last keypress before starting a search</li></ul><p><strong>Templates</strong></p><ul><li><code>ResultTemplate</code> (<em>Required</em>) - Allows the user to define a template for a result in the results list</li><li><code>SelectedTemplate</code> (<em>Required</em>) - Allows the user to define a template for a selected item</li><li><code>NotFoundTemplate</code> - Allows the user to define a template when no items are found</li></ul><h2 id="usage-example">Usage Example</h2><p>In this example, we'll look at the minimum needed to get up and working. Most settings on the component have default values, the only things that must be specified are:</p><ul><li><code>SearchMethod</code> - The method which will be called to perform the search</li><li><code>Value</code> - The item to bind the selected result to</li><li><code>SelectedTemplate</code> - The template to use to display the selected item</li><li><code>ResultTemplate</code> - The template to use to when displaying search results</li></ul><p>To keep things simple we'll be querying a local collection of Films.</p><pre><code class="language-csharp">&lt;BlazoredTypeahead SearchMethod="SearchFilms"
                   @bind-Value="SelectedFilm"&gt;
    &lt;SelectedTemplate&gt;
        @context.Title
    &lt;/SelectedTemplate&gt;
    &lt;ResultTemplate&gt;
        @context.Title (@context.Year)
    &lt;/ResultTemplate&gt;
&lt;/BlazoredTypeahead&gt;

@if (SelectedFilm != null)
{
    &lt;p&gt;Selected Film is: @SelectedFilm.Title&lt;/p&gt;
}

@code {

    private List&lt;Film&gt; Films;
    private Film SelectedFilm;

    protected override void OnInitialized()
    {
        Films = new List&lt;Film&gt; {
            new Film("The Matrix", 1999),
            new Film("Hackers", 1995),
            new Film("War Games", 1983) };
    }

    private async Task&lt;IEnumerable&lt;Film&gt;&gt; SearchFilms(string searchText)
    {
        return await Task.FromResult(Films.Where(x =&gt; x.Title.ToLower().Contains(searchText.ToLower())).ToList());
    }

    class Film
    {
        public string Title { get; set; }
        public int Year { get; set; }

        public Film(string title, int year)
        {
            Title = title;
            Year = year;
        }
    }

}
</code></pre><p>The key thing to note in the code above is the <code>SearchFilms</code> method. This is what the typeahead is calling to perform the search. This method must have the following signature.</p><p><code>Task&lt;IEnumerable&lt;T&gt;&gt; MethodName(string searchText)</code></p><p>This gives us lots of flexibility on how data is sourced and queried. For example, we could change the <code>SearchFilms</code> method to query an API instead.</p><pre><code>private async Task&lt;IEnumerable&lt;Film&gt;&gt; SearchFilms(string searchText)
{
    var result = await httpClient.GetJsonAsync&lt;List&lt;Film&gt;&gt;($"https://awesomefilmsearch.com/api/films/?title={searchText}");
    return result;
}
</code></pre><h2 id="forms-integration-1">Forms Integration</h2><p><s>The current version of the control does not yet integrate with the forms and validation provided in Blazor. This is the next feature to be worked on and I'm hoping this will be done shortly.</s></p><p>Blazored.Typeahead now supports forms integration without any additional setup or code changes. Just put it inside of a <code>EditForm</code> component and it will just work as expected.</p><pre><code class="language-html">&lt;EditForm Model="@FormModel" OnValidSubmit="HandleFormSubmit"&gt;
    &lt;DataAnnotationsValidator /&gt;

    &lt;BlazoredTypeahead SearchMethod="GetPeopleLocal"
                       @bind-Value="FormModel.SelectedPerson"
                       Placeholder="Search by first name..."&gt;
        &lt;SelectedTemplate Context="person"&gt;
            @person.Firstname
        &lt;/SelectedTemplate&gt;
        &lt;ResultTemplate Context="person"&gt;
            @person.Firstname @person.Lastname
        &lt;/ResultTemplate&gt;
    &lt;/BlazoredTypeahead&gt;
    &lt;ValidationMessage For="@(() =&gt; FormModel.SelectedPerson)" /&gt;

    &lt;button class="btn btn-primary" type="submit"&gt;Submit&lt;/button&gt;
&lt;/EditForm&gt;
</code></pre><h2 id="summary">Summary</h2><p>That's about it for Blazored.Typeahead! If you like what you see then please go and add it to your Blazor project. This is still an early version of the component so if there are any features you would like to see, or if you find a bug, then please head over the <a href="https://github.com/Blazored/Typeahead">GitHub repo</a> and open an issue and we can have a chat about it.</p><hr><hr></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
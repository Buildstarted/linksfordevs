<!DOCTYPE html>
<html lang="en">
<head>
    <title>linksfor.dev(s)</title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        <h1>
                <span style="cursor: default" title="linksfor.dev(s) has been running for 1 year! :partypopper:">ðŸŽ‰</span>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Introducing .NET for Apache&#xAE; Spark&#x2122; Preview | .NET Blog</title>
<div class="readable">
        <h1>Introducing .NET for Apache&#xAE; Spark&#x2122; Preview | .NET Blog</h1>
        <p>
by Ankit AsthanaPrincipal PM Manager,&#xA0;.NET, Visual Studio, AI and Machine LearningFollow <br/>Reading time: 5-6 minutes        </p>
        <p><a href="https://devblogs.microsoft.com/dotnet/introducing-net-for-apache-spark/">https://devblogs.microsoft.com/dotnet/introducing-net-for-apache-spark/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="featured"><div><div><div><div><p><img src="https://devblogs.microsoft.com/dotnet/wp-content/uploads/sites/10/2019/04/ankit-150x150.png" width="58" height="58" alt="Ankit Asthana"></p></div></div></div><p>April 24th, 2019</p><p><span lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span>Today </span></span><span lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span>at </span></span><a href="https://databricks.com/sparkaisummit/north-america" target="_blank"><span><span lang="EN-US" xml:lang="EN-US" data-contrast="none"><span>Spark + AI summit</span></span></span></a> <span lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span>we are </span></span><span lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span>excited</span></span><span lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span> to </span></span><span lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span>announce</span></span> <a href="http://aka.ms/dotnetsparkpreview" target="_blank">.NET for Apache Spark</a><span lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span>.</span></span> <span lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span>Spark is a popular open</span></span><span lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span> source </span></span><span lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span>distributed process</span></span><span lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span>ing engine</span></span><span lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span> for an</span></span><span lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span>alytics over large data sets.&nbsp;Spark can be used for processing batches of data, real-time streams, machine learning, and ad-hoc query.</span></span></p><p><a href="http://aka.ms/dotnetsparkpreview" target="_blank">.NET for Apache Spark</a> is aimed at making ApacheÂ® Sparkâ„¢ accessible to .NET developers across all Spark APIs.&nbsp;So far Spark has been accessible through Scala, Java, Python and R but not .NET.</p><p>We plan to develop&nbsp;.NET for Apache Spark in the open (as a<a tabindex="-1" title="https://dotnetfoundation.org" href="https://dotnetfoundation.org/" target="_blank" rel="noreferrer noopener"> .NET Foundation</a> member project) along with the Spark and .NET community to ensure that developers get the best of both worlds.</p><p><a href="https://devblogs.microsoft.com/dotnet/wp-content/uploads/sites/10/2019/04/dotnetsparklogo-6.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/dotnet/wp-content/uploads/sites/10/2019/04/dotnetsparklogo-6.png" alt=".NET Spark Logo" width="906" height="334"> </a></p><p><span><a href="https://github.com/dotnet/spark" target="_blank">https://github.com/dotnet/spark&nbsp;</a><span></span></span></p><p>The remainder of this post provides more specifics on the following topics:</p><ul><li><a href="#dotnetspark">What is .NET For Apache Spark?</a></li><li><a href="#getstarted">Getting Started with .NET for Apache Spark</a></li><li><a href="#performance">.NET for Apache Spark performance</a></li><li><a href="#whatnext">Whatâ€™s next with .NET For Apache Spark</a></li><li><a href="#wrapup">Wrap Up</a></li></ul><h3><a id="dotnetspark"></a>What is .NET for Apache Spark?</h3><p>.<a href="http://aka.ms/dotnetsparkpreview" target="_blank">NET for Apache Spark</a> provides high performance APIs for using Spark from C# and F#. With this .NET APIs, you can access all aspects of Apache Spark including Spark SQL, DataFrames, Streaming, MLLib etc. .NET for Apache Spark lets you reuse all the knowledge, skills, code, and libraries you already have as a .NET developer.</p><p>The C#/ F# language binding to Spark will be written on a new Spark interop layer which offers easier extensibility. This new layer of Spark interop was written keeping in mind best practices for language extension and optimizes for interop and performance. Long term this extensibility can be used for adding support for other languages in Spark.</p><p>You can learn more details about this <a href="https://issues.apache.org/jira/browse/SPARK-26257" target="_blank">work through this proposal</a>.</p><p><a href="https://devblogs.microsoft.com/dotnet/wp-content/uploads/sites/10/2019/04/dotnetsparkarchitecture-1.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/dotnet/wp-content/uploads/sites/10/2019/04/dotnetsparkarchitecture-1.png" alt=".NET Spark Performance" width="377" height="316"> </a></p><p>.NET for Apache Spark is compliant with .NET Standard 2.0 and can be used on Linux, macOS, and Windows, just like the rest of .NET. .NET for Apache Spark is available by default in Azure HDInsight, and can be installed in Azure Databricks and more.</p><h3><a id="getstarted"></a>Getting Started with .NET for Apache Spark</h3><div><p>Before you can get started with .NET for Apache Spark, you do need to install a few things. Follow <a href="https://github.com/dotnet/spark#get-started" target="_blank">these steps</a> to get started with <a href="http://aka.ms/dotnetsparkpreview" target="_blank">.NET for Apache Spark</a></p><p>Once setup, you can start programming Spark applications in .NET with three easy steps.</p><p>In our first .NET Spark application we will write a basic Spark pipeline which counts the occurrence of each word in a text segment.</p><pre><span>// 1. Create a Spark session</span><span>
</span><span>var</span><span> spark </span><span>=</span><span> </span><span>SparkSession</span><span>
    </span><span>.</span><span>Builder</span><span>()</span><span>
    </span><span>.</span><span>AppName</span><span>(</span><span>"word_count_sample"</span><span>)</span><span>
    </span><span>.</span><span>GetOrCreate</span><span>();</span><span>

</span><span>// 2. Create a DataFrame</span><span>
</span><span>DataFrame</span><span> dataFrame </span><span>=</span><span> spark</span><span>.</span><span>Read</span><span>().</span><span>Text</span><span>(</span><span>"input.txt"</span><span>);</span><span>

</span><span>// 3. Manipulate and view data</span><span>
</span><span>var</span><span> words </span><span>=</span><span> dataFrame</span><span>.</span><span>Select</span><span>(</span><span>Split</span><span>(</span><span>dataFrame</span><span>[</span><span>"value"</span><span>],</span><span> </span><span>" "</span><span>).</span><span>Alias</span><span>(</span><span>"words"</span><span>));</span><span>

words</span><span>.</span><span>Select</span><span>(</span><span>Explode</span><span>(</span><span>words</span><span>[</span><span>"words"</span><span>])</span><span>
    </span><span>.</span><span>Alias</span><span>(</span><span>"word"</span><span>))</span><span>
    </span><span>.</span><span>GroupBy</span><span>(</span><span>"word"</span><span>)</span><span>
    </span><span>.</span><span>Count</span><span>()</span><span>
    </span><span>.</span><span>Show</span><span>();</span></pre><h3><a id="performance"></a>.NET for Apache Spark performance</h3><p>We are pleased to say that the first preview version of .NET for Apache Spark performs well on the popular <a href="http://www.tpc.org/tpch/" target="_blank">TPC-H benchmark</a>. The TPC-H benchmark consists of a suite of business oriented queries.&nbsp;The chart below illustrates the performance of .NET Core versus Python and Scala on the TPC-H query set.</p><p><a href="https://devblogs.microsoft.com/dotnet/wp-content/uploads/sites/10/2019/04/performance.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/dotnet/wp-content/uploads/sites/10/2019/04/performance.png" alt=".NET Spark Performance" width="820" height="615"> </a></p><p>The chart above shows the per query performance of .NET for Apache Spark versus Python and Scala. .NET for Apache Spark performs well against Python and Scala .&nbsp;Furthermore, in cases where UDF performance is critical such as query 1 where 3B rows of non-string data is passed between the JVM and the CLR .NET for Apache Spark is 2x faster than Python.</p><p>Itâ€™s also important to call out that this is our first preview of .NET for Apache Spark and we aim to further invest in improving and benchmarking performance (e.g. Arrow optimizations). You can follow our instructions to benchmark this on our GitHub repo.</p><h3><a id="whatnext"></a>Whatâ€™s next with .NET For Apache Spark</h3><p>Today marks the first step in our journey. Following are some features on our near-term roadmap. Please follow the <a href="https://github.com/dotnet/spark/blob/master/ROADMAP.md" target="_blank">full roadmap</a> on our <a href="https://github.com/dotnet/spark" target="_blank">GitHub repo</a>.</p><ul><li>Simplified getting started experience, documentation and samples</li><li>Native integration with developer tools such as Visual Studio, Visual Studio Code, Jupyter notebooks</li><li>.NET support for user-defined aggregate functions</li><li>.NET idiomatic APIs for C# and F# (e.g., using LINQ for writing queries)</li><li>Out of the box support with Azure Databricks, Kubernetes etc.</li><li>Make .NET for Apache Spark part of Spark Core. <a href="https://issues.apache.org/jira/browse/SPARK-27006" target="_blank">You can follow this<br> progress here.</a></li></ul><p>See something missing on this list, please drop us a comment below</p><h3><a id="wrapup"></a>Wrap Up</h3><p>.NET for Apache Spark is our first step in making .NET a great tech stack for building Big Data applications.</p><p>We need your help to shape the future of .NET for Apache Spark, we look forward to seeing what you &nbsp;build with .NET for Apache Spark. You can provide reach out to us through our GitHub repo.</p><p><span><a href="https://github.com/dotnet/spark" target="_blank">https://github.com/dotnet/spark&nbsp;</a><a href="https://github.com/dotnet/spark" aria-label="Star dotnet/spark on GitHub" data-size="large" data-show-count="true" target="_blank">Star</a></span></p><p><em>This blog is authored by Rahul Potharaju, Ankit Asthana, Tyson Condie, Terry Kim, Dan Moseley, Michael Rys and the rest of the .NET for Apache Spark team.&nbsp;</em></p></div></div></div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>linksfor.dev(s)</title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        <h1>
                <span style="cursor: default" title="linksfor.dev(s) has been running for 1 year! :partypopper:">ðŸŽ‰</span>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <div class="readable">
        <h1>.NET Internals Cookbook Part 5 &#x2014; Methods, parameters, modifiers &#x2013; Random IT Utensils</h1>
        <p>
Reading time: 15-19 minutes        </p>
        <p><a href="https://blog.adamfurmanek.pl/2019/03/16/net-internals-cookbook-part-5/">https://blog.adamfurmanek.pl/2019/03/16/net-internals-cookbook-part-5/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
                         <blockquote><p>This is the fifth part of the .NET Internals Cookbook series. For your convenience you can find other parts in the table of contents in <a href="https://blog.adamfurmanek.pl/2019/02/16/net-internals-cookbook-part-0/">Part 0 â€“ Table of contents</a></p></blockquote>
<h6>27. Can two methods differ in return type only?</h6>
<p>Not in C#, but they can in IL. See this:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68a3c457761325" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p><p>34</p><p>35</p><p>36</p><p>37</p><p>38</p><p>39</p><p>40</p><p>41</p><p>42</p><p>43</p><p>44</p><p>45</p><p>46</p><p>47</p><p>48</p><p>49</p><p>50</p><p>51</p><p>52</p><p>53</p><p>54</p><p>55</p><p>56</p><p>57</p><p>58</p><p>59</p><p>60</p><p>61</p><p>62</p><p>63</p><p>64</p><p>65</p><p>66</p><p>67</p><p>68</p><p>69</p><p>70</p><p>71</p><p>72</p><p>73</p><p>74</p><p>75</p><p>76</p><p>77</p><p>78</p><p>79</p><p>80</p><p>81</p><p>82</p><p>83</p><p>84</p><p>85</p><p>86</p><p>87</p><p>88</p><p>89</p><p>90</p><p>91</p><p>92</p><p>93</p><p>94</p><p>95</p><p>96</p><p>97</p><p>98</p><p>99</p></div>
				</td>
						<td><div><p><span>// Metadata version: v4.0.30319</span></p><p><span>.</span><span>assembly </span><span>extern</span><span> </span><span>mscorlib</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>publickeytoken</span><span> </span><span>=</span><span> </span><span>(</span><span>B7</span><span> </span><span>7A</span><span> </span><span>5C</span><span> </span><span>56</span><span> </span><span>19</span><span> </span><span>34</span><span> </span><span>E0</span><span> </span><span>89</span><span> </span><span>)</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>// .z\V.4..</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>ver</span><span> </span><span>4</span><span>:</span><span>0</span><span>:</span><span>0</span><span>:</span><span>0</span></p><p><span>}</span></p><p><span>.</span><span>assembly</span><span> </span><span>'9ebd3665-50ff-4ecf-b716-a61e4b5c1f81'</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>hash </span><span>algorithm</span><span> </span><span>0x00008004</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>ver</span><span> </span><span>0</span><span>:</span><span>0</span><span>:</span><span>0</span><span>:</span><span>0</span></p><p><span>}</span></p><p><span>.</span><span>module</span><span> </span><span>'9ebd3665-50ff-4ecf-b716-a61e4b5c1f81.dll'</span></p><p><span>// MVID: {79C4F8CD-B0E4-4474-8A80-82F28C5D6F41}</span></p><p><span>.</span><span>imagebase</span><span> </span><span>0x10000000</span></p><p><span>.</span><span>file </span><span>alignment</span><span> </span><span>0x00000200</span></p><p><span>.</span><span>stackreserve</span><span> </span><span>0x00100000</span></p><p><span>.</span><span>subsystem</span><span> </span><span>0x0003</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>// WINDOWS_CUI</span></p><p><span>.</span><span>corflags</span><span> </span><span>0x00000001</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;&nbsp;ILONLY</span></p><p><span>// Image base: 0x01530000</span></p><p><span>// =============== CLASS MEMBERS DECLARATION ===================</span></p><p><span>.</span><span>class</span><span> </span><span>public</span><span> </span><span>auto </span><span>ansi </span><span>beforefieldinit </span><span>Program</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>extends</span><span> </span><span>[</span><span>mscorlib</span><span>]</span><span>System</span><span>.</span><span>Object</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>method </span><span>public</span><span> </span><span>hidebysig </span><span>static</span><span> </span><span>void</span><span>&nbsp;&nbsp;</span><span>Main</span><span>(</span><span>)</span><span> </span><span>cil</span><span> </span><span>managed</span></p><p><span>&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// </span></p><p><span>	</span><span>.</span><span>entrypoint</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>maxstack</span><span>&nbsp;&nbsp;</span><span>1</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>locals </span><span>init</span><span> </span><span>(</span><span>[</span><span>0</span><span>]</span><span> </span><span>int32</span><span> </span><span>x</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>[</span><span>1</span><span>]</span><span> </span><span>float64</span><span> </span><span>y</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>language</span><span> </span><span>'{3F5162F8-07C6-11D3-9053-00C04FA302A1}'</span><span>,</span><span> </span><span>'{994B45C4-E6E9-11D2-903F-00C04FA302A1}'</span><span>,</span><span> </span><span>'{5A869D0B-6611-11D3-BD2A-0000F80849BD}'</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>line</span><span> </span><span>6</span><span>,</span><span>6</span><span> </span><span>:</span><span> </span><span>2</span><span>,</span><span>3</span><span> </span><span>''</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0000</span><span>:</span><span>&nbsp;&nbsp;</span><span>nop</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>line</span><span> </span><span>7</span><span>,</span><span>7</span><span> </span><span>:</span><span> </span><span>3</span><span>,</span><span>17</span><span> </span><span>''</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0001</span><span>:</span><span>&nbsp;&nbsp;</span><span>call&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>int32 </span><span>Program</span><span>::</span><span>Foo</span><span>(</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0006</span><span>:</span><span>&nbsp;&nbsp;</span><span>stloc</span><span>.</span><span>0</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>line</span><span> </span><span>8</span><span>,</span><span>8</span><span> </span><span>:</span><span> </span><span>3</span><span>,</span><span>20</span><span> </span><span>''</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0007</span><span>:</span><span>&nbsp;&nbsp;</span><span>call&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>float64 </span><span>Program</span><span>::</span><span>Foo</span><span>(</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_000c</span><span>:</span><span>&nbsp;&nbsp;</span><span>stloc</span><span>.</span><span>1</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>line</span><span> </span><span>9</span><span>,</span><span>9</span><span> </span><span>:</span><span> </span><span>2</span><span>,</span><span>3</span><span> </span><span>''</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_000d</span><span>:</span><span>&nbsp;&nbsp;</span><span>ret</span></p><p><span>&nbsp;&nbsp;</span><span>}</span><span> </span><span>// end of method Program::Main</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>method </span><span>private</span><span> </span><span>hidebysig </span><span>static</span><span> </span><span>int32 </span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Foo</span><span>(</span><span>)</span><span> </span><span>cil</span><span> </span><span>managed</span></p><p><span>&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// </span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>maxstack</span><span>&nbsp;&nbsp;</span><span>1</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>locals </span><span>init</span><span> </span><span>(</span><span>[</span><span>0</span><span>]</span><span> </span><span>int32 </span><span>V_0</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>line</span><span> </span><span>11</span><span>,</span><span>11</span><span> </span><span>:</span><span> </span><span>18</span><span>,</span><span>19</span><span> </span><span>''</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0000</span><span>:</span><span>&nbsp;&nbsp;</span><span>nop</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>line</span><span> </span><span>12</span><span>,</span><span>12</span><span> </span><span>:</span><span> </span><span>3</span><span>,</span><span>12</span><span> </span><span>''</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0001</span><span>:</span><span>&nbsp;&nbsp;</span><span>ldc</span><span>.</span><span>i4</span><span>.</span><span>5</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0002</span><span>:</span><span>&nbsp;&nbsp;</span><span>stloc</span><span>.</span><span>0</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0003</span><span>:</span><span>&nbsp;&nbsp;</span><span>br</span><span>.</span><span>s</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>IL</span><span>_</span>0005</p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>line</span><span> </span><span>13</span><span>,</span><span>13</span><span> </span><span>:</span><span> </span><span>2</span><span>,</span><span>3</span><span> </span><span>''</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0005</span><span>:</span><span>&nbsp;&nbsp;</span><span>ldloc</span><span>.</span><span>0</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0006</span><span>:</span><span>&nbsp;&nbsp;</span><span>ret</span></p><p><span>&nbsp;&nbsp;</span><span>}</span><span> </span><span>// end of method Program::Foo</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>method </span><span>private</span><span> </span><span>hidebysig </span><span>static</span><span> </span><span>float64 </span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Foo</span><span>(</span><span>)</span><span> </span><span>cil</span><span> </span><span>managed</span></p><p><span>&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// </span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>maxstack</span><span>&nbsp;&nbsp;</span><span>1</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>locals </span><span>init</span><span> </span><span>(</span><span>[</span><span>0</span><span>]</span><span> </span><span>float64 </span><span>V_0</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>line</span><span> </span><span>15</span><span>,</span><span>15</span><span> </span><span>:</span><span> </span><span>21</span><span>,</span><span>22</span><span> </span><span>''</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0000</span><span>:</span><span>&nbsp;&nbsp;</span><span>nop</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>line</span><span> </span><span>16</span><span>,</span><span>16</span><span> </span><span>:</span><span> </span><span>3</span><span>,</span><span>15</span><span> </span><span>''</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0001</span><span>:</span><span>&nbsp;&nbsp;</span><span>ldc</span><span>.</span><span>r8</span><span>&nbsp;&nbsp;&nbsp;&nbsp; </span><span>10.</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_000a</span><span>:</span><span>&nbsp;&nbsp;</span><span>stloc</span><span>.</span><span>0</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_000b</span><span>:</span><span>&nbsp;&nbsp;</span><span>br</span><span>.</span><span>s</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>IL</span><span>_</span>000d</p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>line</span><span> </span><span>17</span><span>,</span><span>17</span><span> </span><span>:</span><span> </span><span>2</span><span>,</span><span>3</span><span> </span><span>''</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_000d</span><span>:</span><span>&nbsp;&nbsp;</span><span>ldloc</span><span>.</span><span>0</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_000e</span><span>:</span><span>&nbsp;&nbsp;</span><span>ret</span></p><p><span>&nbsp;&nbsp;</span><span>}</span><span> </span><span>// end of method Program::Bar</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>method </span><span>public</span><span> </span><span>hidebysig </span><span>specialname </span><span>rtspecialname </span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>instance </span><span>void</span><span>&nbsp;&nbsp;</span><span>.</span><span>ctor</span><span>(</span><span>)</span><span> </span><span>cil</span><span> </span><span>managed</span></p><p><span>&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// </span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>maxstack</span><span>&nbsp;&nbsp;</span><span>8</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0000</span><span>:</span><span>&nbsp;&nbsp;</span><span>ldarg</span><span>.</span><span>0</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0001</span><span>:</span><span>&nbsp;&nbsp;</span><span>call&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>instance </span><span>void</span><span> </span><span>[</span><span>mscorlib</span><span>]</span><span>System</span><span>.</span><span>Object</span><span>::</span><span>.</span><span>ctor</span><span>(</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0006</span><span>:</span><span>&nbsp;&nbsp;</span><span>nop</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0007</span><span>:</span><span>&nbsp;&nbsp;</span><span>ret</span></p><p><span>&nbsp;&nbsp;</span><span>}</span><span> </span><span>// end of method Program::.ctor</span></p><p><span>}</span><span> </span><span>// end of class Program</span></p><p><span>// =============================================================</span></p><p><span>// </span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0028 seconds] -->

<p>Interesting part is this:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68a46093779692" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0001</span><span>:</span><span>&nbsp;&nbsp;</span><span>call&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>int32 </span><span>Program</span><span>::</span><span>Foo</span><span>(</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0006</span><span>:</span><span>&nbsp;&nbsp;</span><span>stloc</span><span>.</span><span>0</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>line</span><span> </span><span>8</span><span>,</span><span>8</span><span> </span><span>:</span><span> </span><span>3</span><span>,</span><span>20</span><span> </span><span>''</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0007</span><span>:</span><span>&nbsp;&nbsp;</span><span>call&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>float64 </span><span>Program</span><span>::</span><span>Foo</span><span>(</span><span>)</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->

<p>The way you call the method determines what methods you can declare since we need to be able to distinguish them. Since in IL you specify the return type when calling the method, you can have two methods with different return types.</p>
<h6>28. What is the difference between <code>const</code> and <code>readonly</code>?</h6>
<p>See <a href="https://dotnetfiddle.net/0vDoj4">this code</a>:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68a4d286037630" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>using </span><span>System</span><span>;</span></p><p><span>public</span><span> </span><span>class</span><span> </span><span>Program</span></p><p><span>{</span></p><p><span>	</span><span>const</span><span> </span><span>int</span><span> </span><span>a</span><span> </span><span>=</span><span> </span><span>5</span><span>;</span></p><p><span>	</span><span>static</span><span> </span><span>readonly </span><span>int</span><span> </span><span>b</span><span> </span><span>=</span><span> </span><span>6</span><span>;</span></p><p><span>	</span><span>public</span><span> </span><span>static</span><span> </span><span>void</span><span> </span><span>Main</span><span>(</span><span>)</span></p><p><span>	</span><span>{</span></p><p><span>		</span><span>Foo</span><span>(</span><span>a</span><span>)</span><span>;</span></p><p><span>		</span><span>Foo</span><span>(</span><span>b</span><span>)</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>	</span><span>static</span><span> </span><span>void</span><span> </span><span>Foo</span><span>(</span><span>int</span><span> </span><span>x</span><span>)</span><span>{</span></p><p><span>		</span><span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>x</span><span>)</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->

<p>When you decompile it you get:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68a50242136303" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>IL_0001</span><span>:</span><span>&nbsp;&nbsp;</span><span>ldc</span><span>.</span><span>i4</span><span>.</span><span>5</span></p><p><span>IL_0002</span><span>:</span><span>&nbsp;&nbsp;</span><span>call&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>void</span><span> </span><span>Program</span><span>::</span><span>Foo</span><span>(</span><span>int32</span><span>)</span></p><p><span>IL_0007</span><span>:</span><span>&nbsp;&nbsp;</span><span>nop</span></p><p><span>.</span><span>line</span><span> </span><span>10</span><span>,</span><span>10</span><span> </span><span>:</span><span> </span><span>3</span><span>,</span><span>10</span><span> </span><span>''</span></p><p><span>IL_0008</span><span>:</span><span>&nbsp;&nbsp;</span><span>ldsfld&nbsp;&nbsp;&nbsp;&nbsp; </span><span>int32 </span><span>Program</span><span>::</span><span>b</span></p><p><span>IL_000d</span><span>:</span><span>&nbsp;&nbsp;</span><span>call&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>void</span><span> </span><span>Program</span><span>::</span><span>Foo</span><span>(</span><span>int32</span><span>)</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->

<p>Const variable was replaced with raw integer, readonly variable was just used. This may have very unexpected consequences â€” if you change the value of the const variable and recompile the code, but not the user of this code, then the caller will still use old value.</p>
<h6>29. How are arguments passed in C#? By value? By reference? Differently?</h6>
<p>Passing by value is <a href="https://dotnetfiddle.net/ROjuOG">easy</a>:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68a53138688329" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>using </span><span>System</span><span>;</span></p><p><span>public</span><span> </span><span>class</span><span> </span><span>Program</span></p><p><span>{</span></p><p><span>	</span><span>public</span><span> </span><span>static</span><span> </span><span>void</span><span> </span><span>Main</span><span>(</span><span>)</span></p><p><span>	</span><span>{</span></p><p><span>		</span><span>int</span><span> </span><span>a</span><span> </span><span>=</span><span> </span><span>5</span><span>;</span></p><p><span>		</span><span>Foo</span><span>(</span><span>a</span><span>)</span><span>;</span></p><p><span>		</span><span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>a</span><span>)</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>	</span><span>static</span><span> </span><span>void</span><span> </span><span>Foo</span><span>(</span><span>int</span><span> </span><span>x</span><span>)</span><span>{</span></p><p><span>		</span><span>x</span><span> </span><span>=</span><span> </span><span>6</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->

<p>Output:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		
<!-- [Format Time: 0.0001 seconds] -->

<p>Here <code>Foo(5)</code> passed the value. The same goes for all value types, they are passed by value so they are copied when passed to a function. Because of that the variable <code>a</code> was not modified.</p>
<p>The same goes for references as well! You can often read that reference types are passed by, well, reference. But it is not true, see <a href="https://dotnetfiddle.net/C5g9RU">this code</a>:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68a59472317173" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>using </span><span>System</span><span>;</span></p><p><span>public</span><span> </span><span>class</span><span> </span><span>Program</span></p><p><span>{</span></p><p><span>	</span><span>public</span><span> </span><span>static</span><span> </span><span>void</span><span> </span><span>Main</span><span>(</span><span>)</span></p><p><span>	</span><span>{</span></p><p><span>		</span><span>object</span><span> </span><span>a</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>object</span><span>(</span><span>)</span><span>;</span></p><p><span>		</span><span>Foo</span><span>(</span><span>a</span><span>)</span><span>;</span></p><p><span>		</span><span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>a</span><span>)</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>	</span><span>static</span><span> </span><span>void</span><span> </span><span>Foo</span><span>(</span><span>object</span><span> </span><span>x</span><span>)</span><span>{</span></p><p><span>		</span><span>x</span><span> </span><span>=</span><span> </span><span>null</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->

<p>Output:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		
<!-- [Format Time: 0.0001 seconds] -->

<p>Even though reference was modified in the <code>Foo</code> method, the variable <code>a</code> is not modified. This is because what we pass is a reference, not an object. So reference types are passed in the same way as value types, only not the object is passed (or the value) but the reference to the object.</p>
<p>So to be super precise: references are passed by value but objects are passed <a href="https://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_sharing">by sharing</a>.</p>
<p>C# can pass variables by reference <a href="https://dotnetfiddle.net/oX30G0">as well</a>:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68a5e038001624" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>using </span><span>System</span><span>;</span></p><p><span>public</span><span> </span><span>class</span><span> </span><span>Program</span></p><p><span>{</span></p><p><span>	</span><span>public</span><span> </span><span>static</span><span> </span><span>void</span><span> </span><span>Main</span><span>(</span><span>)</span></p><p><span>	</span><span>{</span></p><p><span>		</span><span>int</span><span> </span><span>a</span><span> </span><span>=</span><span> </span><span>5</span><span>;</span></p><p><span>		</span><span>Foo</span><span>(</span><span>ref</span><span> </span><span>a</span><span>)</span><span>;</span></p><p><span>		</span><span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>a</span><span>)</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>	</span><span>static</span><span> </span><span>void</span><span> </span><span>Foo</span><span>(</span><span>ref </span><span>int</span><span> </span><span>x</span><span>)</span><span>{</span></p><p><span>		</span><span>x</span><span> </span><span>=</span><span> </span><span>6</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->

<p>Output:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		
<!-- [Format Time: 0.0001 seconds] -->

<p>When you execute it you can see that the variable <code>a</code> was modified.</p>
<h6>30. In what order are method parameters calculated?</h6>
<p>Most of the times this doesnâ€™t matter but for named parameters this can be a <a href="https://dotnetfiddle.net/htWs0r">little tricky</a>:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68a74154938938" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p></div>
				</td>
						<td><div><p><span>using </span><span>System</span><span>;</span></p><p><span>public</span><span> </span><span>class</span><span> </span><span>Program</span></p><p><span>{</span></p><p><span>	</span><span>public</span><span> </span><span>static</span><span> </span><span>void</span><span> </span><span>Main</span><span>(</span><span>)</span></p><p><span>	</span><span>{</span></p><p><span>		</span><span>Foo</span><span>(</span><span>b</span><span>:</span><span> </span><span>Identity</span><span>(</span><span>5</span><span>)</span><span>,</span><span> </span><span>a</span><span>:</span><span> </span><span>Identity</span><span>(</span><span>4</span><span>)</span><span>)</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>	</span><span>static</span><span> </span><span>void</span><span> </span><span>Foo</span><span>(</span><span>int</span><span> </span><span>a</span><span>,</span><span> </span><span>int</span><span> </span><span>b</span><span>)</span><span>{</span></p><p><span>		</span><span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>$</span><span>"a = {a}\nb = {b}"</span><span>)</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>	</span><span>static</span><span> </span><span>int</span><span> </span><span>Identity</span><span>(</span><span>int</span><span> </span><span>x</span><span>)</span><span>{</span></p><p><span>		</span><span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>x</span><span>)</span><span>;</span></p><p><span>		</span><span>return</span><span> </span><span>x</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->

<p>Output:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		
<!-- [Format Time: 0.0001 seconds] -->

<p>Parameters are calculated in the order specified by the caller, not as specified in the function signature.</p>
<h6>31. What is the difference between <code>typeof</code> and <code>GetType</code>?</h6>
<p>The former is evaluated during compilation, the latter in runtime. This means that the former doesnâ€™t need an object, as shown <a href="https://dotnetfiddle.net/KRkPm8">here</a>:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68a8e187954478" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>using </span><span>System</span><span>;</span></p><p><span>public</span><span> </span><span>class</span><span> </span><span>Program</span></p><p><span>{</span></p><p><span>	</span><span>public</span><span> </span><span>static</span><span> </span><span>void</span><span> </span><span>Main</span><span>(</span><span>)</span></p><p><span>	</span><span>{</span></p><p><span>		</span><span>Type</span><span> </span><span>t</span><span> </span><span>=</span><span> </span><span>typeof</span><span>(</span><span>Foo</span><span>)</span><span>;</span></p><p><span>		</span><span>Type</span><span> </span><span>u</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>Foo</span><span>(</span><span>)</span><span>.</span><span>GetType</span><span>(</span><span>)</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>}</span></p><p><span>class</span><span> </span><span>Foo</span><span>{</span></p><p><span>	</span><span>public</span><span> </span><span>Foo</span><span>(</span><span>)</span><span>{</span></p><p><span>		</span><span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>"Constructor!"</span><span>)</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->

<p>Decompile and get this:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68a90897727466" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>IL_0001</span><span>:</span><span>&nbsp;&nbsp;</span><span>ldtoken&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Foo</span></p><p><span>IL_0006</span><span>:</span><span>&nbsp;&nbsp;</span><span>call&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>class</span><span> </span><span>[</span><span>mscorlib</span><span>]</span><span>System</span><span>.</span><span>Type</span><span> </span><span>[</span><span>mscorlib</span><span>]</span><span>System</span><span>.</span><span>Type</span><span>::</span><span>GetTypeFromHandle</span><span>(</span><span>valuetype</span><span> </span><span>[</span><span>mscorlib</span><span>]</span><span>System</span><span>.</span><span>RuntimeTypeHandle</span><span>)</span></p><p><span>IL_000b</span><span>:</span><span>&nbsp;&nbsp;</span><span>stloc</span><span>.</span><span>0</span></p><p><span>.</span><span>line</span><span> </span><span>8</span><span>,</span><span>8</span><span> </span><span>:</span><span> </span><span>3</span><span>,</span><span>32</span><span> </span><span>''</span></p><p><span>IL_000c</span><span>:</span><span>&nbsp;&nbsp;</span><span>newobj&nbsp;&nbsp;&nbsp;&nbsp; </span><span>instance </span><span>void</span><span> </span><span>Foo</span><span>::</span><span>.</span><span>ctor</span><span>(</span><span>)</span></p><p><span>IL_0011</span><span>:</span><span>&nbsp;&nbsp;</span><span>call&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>instance </span><span>class</span><span> </span><span>[</span><span>mscorlib</span><span>]</span><span>System</span><span>.</span><span>Type</span><span> </span><span>[</span><span>mscorlib</span><span>]</span><span>System</span><span>.</span><span>Object</span><span>::</span><span>GetType</span><span>(</span><span>)</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->

<h6>32. What is behind <code>using</code> and <code>lock</code>? Was it always compiled in this way?</h6>
<p>A typical try+finally pattern, like <a href="https://dotnetfiddle.net/YwMvyx">here</a>:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68a92003057841" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p></div>
				</td>
						<td><div><p><span>using </span><span>System</span><span>;</span></p><p><span>public</span><span> </span><span>class</span><span> </span><span>Program</span></p><p><span>{</span></p><p><span>	</span><span>public</span><span> </span><span>static</span><span> </span><span>void</span><span> </span><span>Main</span><span>(</span><span>)</span></p><p><span>	</span><span>{</span></p><p><span>		</span><span>lock</span><span>(</span><span>new</span><span> </span><span>object</span><span>(</span><span>)</span><span>)</span><span>{</span></p><p><span>		</span><span>}</span></p><p><span>		</span><span>using</span><span>(</span><span>new</span><span> </span><span>Foo</span><span>(</span><span>)</span><span>)</span><span>{</span></p><p><span>		</span><span>}</span></p><p><span>	</span><span>}</span></p><p><span>}</span></p><p><span>class</span><span> </span><span>Foo</span><span> </span><span>:</span><span> </span><span>IDisposable</span><span> </span><span>{</span></p><p><span>	</span><span>public</span><span> </span><span>void</span><span> </span><span>Dispose</span><span>(</span><span>)</span><span>{</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->

<p>For <code>using</code> we get:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68a95388663201" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p></div>
				</td>
						<td><div><p><span>IL_0021</span><span>:</span><span>&nbsp;&nbsp;</span><span>newobj&nbsp;&nbsp;&nbsp;&nbsp; </span><span>instance </span><span>void</span><span> </span><span>Foo</span><span>::</span><span>.</span><span>ctor</span><span>(</span><span>)</span></p><p><span>IL_0026</span><span>:</span><span>&nbsp;&nbsp;</span><span>stloc</span><span>.</span><span>2</span></p><p><span>.</span><span>line</span><span> </span><span>10</span><span>,</span><span>10</span><span> </span><span>:</span><span> </span><span>19</span><span>,</span><span>20</span><span> </span><span>''</span></p><p><span>.</span><span>try</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;</span><span>IL_0027</span><span>:</span><span>&nbsp;&nbsp;</span><span>nop</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>line</span><span> </span><span>11</span><span>,</span><span>11</span><span> </span><span>:</span><span> </span><span>3</span><span>,</span><span>4</span><span> </span><span>''</span></p><p><span>&nbsp;&nbsp;</span><span>IL_0028</span><span>:</span><span>&nbsp;&nbsp;</span><span>nop</span></p><p><span>&nbsp;&nbsp;</span><span>IL_0029</span><span>:</span><span>&nbsp;&nbsp;</span><span>leave</span><span>.</span><span>s</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL</span><span>_</span>0036</p><p><span>&nbsp;&nbsp;</span><span>.</span><span>line</span><span> </span><span>16707566</span><span>,</span><span>16707566</span><span> </span><span>:</span><span> </span><span>0</span><span>,</span><span>0</span><span> </span><span>''</span></p><p><span>}</span><span>&nbsp;&nbsp;</span><span>// end .try</span></p><p><span>finally</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;</span><span>IL_002b</span><span>:</span><span>&nbsp;&nbsp;</span><span>ldloc</span><span>.</span><span>2</span></p><p><span>&nbsp;&nbsp;</span><span>IL_002c</span><span>:</span><span>&nbsp;&nbsp;</span><span>brfalse</span><span>.</span><span>s</span><span>&nbsp;&nbsp;</span><span>IL_0035</span></p><p><span>&nbsp;&nbsp;</span><span>IL_002e</span><span>:</span><span>&nbsp;&nbsp;</span><span>ldloc</span><span>.</span><span>2</span></p><p><span>&nbsp;&nbsp;</span><span>IL_002f</span><span>:</span><span>&nbsp;&nbsp;</span><span>callvirt&nbsp;&nbsp; </span><span>instance </span><span>void</span><span> </span><span>[</span><span>mscorlib</span><span>]</span><span>System</span><span>.</span><span>IDisposable</span><span>::</span><span>Dispose</span><span>(</span><span>)</span></p><p><span>&nbsp;&nbsp;</span><span>IL_0034</span><span>:</span><span>&nbsp;&nbsp;</span><span>nop</span></p><p><span>&nbsp;&nbsp;</span><span>IL_0035</span><span>:</span><span>&nbsp;&nbsp;</span><span>endfinally</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>line</span><span> </span><span>12</span><span>,</span><span>12</span><span> </span><span>:</span><span> </span><span>2</span><span>,</span><span>3</span><span> </span><span>''</span></p><p><span>}</span><span>&nbsp;&nbsp;</span><span>// end handler</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->

<p>So in finally we check if the object is not null and then we call <code>Dispose</code>. It is important to notice that the object is created before the <code>try</code> block!</p>
<p>For locking w get this:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68a97544185926" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p></div>
				</td>
						<td><div><p><span>IL_0001</span><span>:</span><span>&nbsp;&nbsp;</span><span>newobj&nbsp;&nbsp;&nbsp;&nbsp; </span><span>instance </span><span>void</span><span> </span><span>[</span><span>mscorlib</span><span>]</span><span>System</span><span>.</span><span>Object</span><span>::</span><span>.</span><span>ctor</span><span>(</span><span>)</span></p><p><span>IL_0006</span><span>:</span><span>&nbsp;&nbsp;</span><span>stloc</span><span>.</span><span>0</span></p><p><span>IL_0007</span><span>:</span><span>&nbsp;&nbsp;</span><span>ldc</span><span>.</span><span>i4</span><span>.</span><span>0</span></p><p><span>IL_0008</span><span>:</span><span>&nbsp;&nbsp;</span><span>stloc</span><span>.</span><span>1</span></p><p><span>.</span><span>try</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;</span><span>IL_0009</span><span>:</span><span>&nbsp;&nbsp;</span><span>ldloc</span><span>.</span><span>0</span></p><p><span>&nbsp;&nbsp;</span><span>IL_000a</span><span>:</span><span>&nbsp;&nbsp;</span><span>ldloca</span><span>.</span><span>s</span><span>&nbsp;&nbsp; </span><span>V_1</span></p><p><span>&nbsp;&nbsp;</span><span>IL_000c</span><span>:</span><span>&nbsp;&nbsp;</span><span>call&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>void</span><span> </span><span>[</span><span>mscorlib</span><span>]</span><span>System</span><span>.</span><span>Threading</span><span>.</span><span>Monitor</span><span>::</span><span>Enter</span><span>(</span><span>object</span><span>,</span><span> </span><span>bool</span><span>&amp;</span><span>)</span></p><p><span>&nbsp;&nbsp;</span><span>IL_0011</span><span>:</span><span>&nbsp;&nbsp;</span><span>nop</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>line</span><span> </span><span>7</span><span>,</span><span>7</span><span> </span><span>:</span><span> </span><span>21</span><span>,</span><span>22</span><span> </span><span>''</span></p><p><span>&nbsp;&nbsp;</span><span>IL_0012</span><span>:</span><span>&nbsp;&nbsp;</span><span>nop</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>line</span><span> </span><span>8</span><span>,</span><span>8</span><span> </span><span>:</span><span> </span><span>3</span><span>,</span><span>4</span><span> </span><span>''</span></p><p><span>&nbsp;&nbsp;</span><span>IL_0013</span><span>:</span><span>&nbsp;&nbsp;</span><span>nop</span></p><p><span>&nbsp;&nbsp;</span><span>IL_0014</span><span>:</span><span>&nbsp;&nbsp;</span><span>leave</span><span>.</span><span>s</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL</span><span>_</span>0021</p><p><span>&nbsp;&nbsp;</span><span>.</span><span>line</span><span> </span><span>16707566</span><span>,</span><span>16707566</span><span> </span><span>:</span><span> </span><span>0</span><span>,</span><span>0</span><span> </span><span>''</span></p><p><span>}</span><span>&nbsp;&nbsp;</span><span>// end .try</span></p><p><span>finally</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;</span><span>IL_0016</span><span>:</span><span>&nbsp;&nbsp;</span><span>ldloc</span><span>.</span><span>1</span></p><p><span>&nbsp;&nbsp;</span><span>IL_0017</span><span>:</span><span>&nbsp;&nbsp;</span><span>brfalse</span><span>.</span><span>s</span><span>&nbsp;&nbsp;</span><span>IL_0020</span></p><p><span>&nbsp;&nbsp;</span><span>IL_0019</span><span>:</span><span>&nbsp;&nbsp;</span><span>ldloc</span><span>.</span><span>0</span></p><p><span>&nbsp;&nbsp;</span><span>IL_001a</span><span>:</span><span>&nbsp;&nbsp;</span><span>call&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>void</span><span> </span><span>[</span><span>mscorlib</span><span>]</span><span>System</span><span>.</span><span>Threading</span><span>.</span><span>Monitor</span><span>::</span><span>Exit</span><span>(</span><span>object</span><span>)</span></p><p><span>&nbsp;&nbsp;</span><span>IL_001f</span><span>:</span><span>&nbsp;&nbsp;</span><span>nop</span></p><p><span>&nbsp;&nbsp;</span><span>IL_0020</span><span>:</span><span>&nbsp;&nbsp;</span><span>endfinally</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>line</span><span> </span><span>10</span><span>,</span><span>10</span><span> </span><span>:</span><span> </span><span>3</span><span>,</span><span>19</span><span> </span><span>''</span></p><p><span>}</span><span>&nbsp;&nbsp;</span><span>// end handler</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->

<p>Again, object created before the <code>try</code> block.</p>
<p>Before C# 4 lock was using <code>Monitor.Enter(object)</code> method and was called before the <code>try</code> block which could result in a nasty, never released lock. Read more <a href="https://blogs.msdn.microsoft.com/ericlippert/2007/08/17/subtleties-of-c-il-codegen/">here</a>.</p>
<h6>33. What is the .NET calling convention?</h6>
<p>For x86 it is clrcall convention which is like <a href="https://en.wikipedia.org/wiki/X86_calling_conventions#Microsoft_fastcall">Fastcall</a> but passes arguments from left to right.</p>
<p>Take this code:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68a9a995422976" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p></div>
				</td>
						<td><div><p><span>using </span><span>System</span><span>;</span></p><p><span>public</span><span> </span><span>class</span><span> </span><span>Program</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>public</span><span> </span><span>static</span><span> </span><span>void</span><span> </span><span>Main</span><span>(</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Static</span><span>(</span><span>1</span><span>,</span><span> </span><span>2</span><span>,</span><span> </span><span>3</span><span>,</span><span> </span><span>4</span><span>,</span><span> </span><span>5</span><span>,</span><span> </span><span>6</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>new</span><span> </span><span>Program</span><span>(</span><span>)</span><span>.</span><span>Instance</span><span>(</span><span>1</span><span>,</span><span> </span><span>2</span><span>,</span><span> </span><span>3</span><span>,</span><span> </span><span>4</span><span>,</span><span> </span><span>5</span><span>,</span><span> </span><span>6</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>public</span><span> </span><span>static</span><span> </span><span>void</span><span> </span><span>Static</span><span>(</span><span>int</span><span> </span><span>a</span><span>,</span><span> </span><span>int</span><span> </span><span>b</span><span>,</span><span> </span><span>int</span><span> </span><span>c</span><span>,</span><span> </span><span>int</span><span> </span><span>d</span><span>,</span><span> </span><span>int</span><span> </span><span>e</span><span>,</span><span> </span><span>int</span><span> </span><span>f</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>public</span><span> </span><span>void</span><span> </span><span>Instance</span><span>(</span><span>int</span><span> </span><span>a</span><span>,</span><span> </span><span>int</span><span> </span><span>b</span><span>,</span><span> </span><span>int</span><span> </span><span>c</span><span>,</span><span> </span><span>int</span><span> </span><span>d</span><span>,</span><span> </span><span>int</span><span> </span><span>e</span><span>,</span><span> </span><span>int</span><span> </span><span>f</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->

<p>It gives these calls:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68a9c357630085" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>02b20465</span><span> </span><span>6a03</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>push</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>3</span></p><p><span>02b20467</span><span> </span><span>6a04</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>push</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>4</span></p><p><span>02b20469</span><span> </span><span>6a05</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>push</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>5</span></p><p><span>02b2046b</span><span> </span><span>6a06</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>push</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>6</span></p><p><span>02b2046d</span><span> </span><span>b901000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>mov&nbsp;&nbsp;&nbsp;&nbsp; </span><span>ecx</span><span>,</span><span>1</span></p><p><span>02b20472</span><span> </span><span>ba02000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>mov&nbsp;&nbsp;&nbsp;&nbsp; </span><span>edx</span><span>,</span><span>2</span></p><p><span>02b20477</span><span> </span><span>ff15484def00&nbsp;&nbsp;&nbsp;&nbsp;</span><span>call&nbsp;&nbsp;&nbsp;&nbsp;</span><span>dword </span><span>ptr </span><span>ds</span><span>:</span><span>[</span><span>0EF4D48h</span><span>]</span><span> </span><span>(</span><span>Program</span><span>.</span><span>Static</span><span>(</span><span>Int32</span><span>,</span><span> </span><span>Int32</span><span>,</span><span> </span><span>Int32</span><span>,</span><span> </span><span>Int32</span><span>,</span><span> </span><span>Int32</span><span>,</span><span> </span><span>Int32</span><span>)</span><span>,</span><span> </span><span>mdToken</span><span>:</span><span> </span><span>06000002</span><span>)</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->

<p>and</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68a9e948823445" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>02b20494</span><span> </span><span>6a02</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>push</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>2</span></p><p><span>02b20496</span><span> </span><span>6a03</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>push</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>3</span></p><p><span>02b20498</span><span> </span><span>6a04</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>push</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>4</span></p><p><span>02b2049a</span><span> </span><span>6a05</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>push</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>5</span></p><p><span>02b2049c</span><span> </span><span>6a06</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>push</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>6</span></p><p><span>02b2049e</span><span> </span><span>8b4dfc</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>mov&nbsp;&nbsp;&nbsp;&nbsp; </span><span>ecx</span><span>,</span><span>dword </span><span>ptr</span><span> </span><span>[</span><span>ebp</span><span>-</span><span>4</span><span>]</span></p><p><span>02b204a1</span><span> </span><span>ba01000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>mov&nbsp;&nbsp;&nbsp;&nbsp; </span><span>edx</span><span>,</span><span>1</span></p><p><span>02b204a6</span><span> </span><span>ff15544def00&nbsp;&nbsp;&nbsp;&nbsp;</span><span>call&nbsp;&nbsp;&nbsp;&nbsp;</span><span>dword </span><span>ptr </span><span>ds</span><span>:</span><span>[</span><span>0EF4D54h</span><span>]</span><span> </span><span>(</span><span>Program</span><span>.</span><span>Instance</span><span>(</span><span>Int32</span><span>,</span><span> </span><span>Int32</span><span>,</span><span> </span><span>Int32</span><span>,</span><span> </span><span>Int32</span><span>,</span><span> </span><span>Int32</span><span>,</span><span> </span><span>Int32</span><span>)</span><span>,</span><span> </span><span>mdToken</span><span>:</span><span> </span><span>06000003</span><span>)</span></p><p><span>02b204ac</span><span> </span><span>90</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>nop</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->

<p>For x64 it is <a href="https://en.wikipedia.org/wiki/X86_calling_conventions#Microsoft_x64_calling_convention">Microsoft x64</a>.</p>
<p>Code above gives:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68aa0207978474" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>00007ffa</span><span>`</span><span>820704a3</span><span> </span><span>c744242005000000 </span><span>mov&nbsp;&nbsp;&nbsp;&nbsp; </span><span>dword </span><span>ptr</span><span> </span><span>[</span><span>rsp</span><span>+</span><span>20h</span><span>]</span><span>,</span><span>5</span></p><p><span>00007ffa</span><span>`</span><span>820704ab</span><span> </span><span>c744242806000000 </span><span>mov&nbsp;&nbsp;&nbsp;&nbsp; </span><span>dword </span><span>ptr</span><span> </span><span>[</span><span>rsp</span><span>+</span><span>28h</span><span>]</span><span>,</span><span>6</span></p><p><span>00007ffa</span><span>`</span><span>820704b3</span><span> </span><span>b901000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>mov&nbsp;&nbsp;&nbsp;&nbsp; </span><span>ecx</span><span>,</span><span>1</span></p><p><span>00007ffa</span><span>`</span><span>820704b8</span><span> </span><span>ba02000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>mov&nbsp;&nbsp;&nbsp;&nbsp; </span><span>edx</span><span>,</span><span>2</span></p><p><span>00007ffa</span><span>`</span><span>820704bd</span><span> </span><span>41b803000000</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>mov&nbsp;&nbsp;&nbsp;&nbsp; </span><span>r8d</span><span>,</span><span>3</span></p><p><span>00007ffa</span><span>`</span><span>820704c3</span><span> </span><span>41b904000000</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>mov&nbsp;&nbsp;&nbsp;&nbsp; </span><span>r9d</span><span>,</span><span>4</span></p><p><span>00007ffa</span><span>`</span><span>820704c9</span><span> </span><span>e8b2fbffff&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>call</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>00007ffa</span><span>`</span><span>82070080</span><span> </span><span>(</span><span>Program</span><span>.</span><span>Static</span><span>(</span><span>Int32</span><span>,</span><span> </span><span>Int32</span><span>,</span><span> </span><span>Int32</span><span>,</span><span> </span><span>Int32</span><span>,</span><span> </span><span>Int32</span><span>,</span><span> </span><span>Int32</span><span>)</span><span>,</span><span> </span><span>mdToken</span><span>:</span><span> </span><span>0000000006000002</span><span>)</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->

<p>and</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68aa3860966427" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>00007ffa</span><span>`</span><span>820704eb</span><span> </span><span>c744242004000000 </span><span>mov&nbsp;&nbsp;&nbsp;&nbsp; </span><span>dword </span><span>ptr</span><span> </span><span>[</span><span>rsp</span><span>+</span><span>20h</span><span>]</span><span>,</span><span>4</span></p><p><span>00007ffa</span><span>`</span><span>820704f3</span><span> </span><span>c744242805000000 </span><span>mov&nbsp;&nbsp;&nbsp;&nbsp; </span><span>dword </span><span>ptr</span><span> </span><span>[</span><span>rsp</span><span>+</span><span>28h</span><span>]</span><span>,</span><span>5</span></p><p><span>00007ffa</span><span>`</span><span>820704fb</span><span> </span><span>c744243006000000 </span><span>mov&nbsp;&nbsp;&nbsp;&nbsp; </span><span>dword </span><span>ptr</span><span> </span><span>[</span><span>rsp</span><span>+</span><span>30h</span><span>]</span><span>,</span><span>6</span></p><p><span>00007ffa</span><span>`</span><span>82070503</span><span> </span><span>488b4df8</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>mov&nbsp;&nbsp;&nbsp;&nbsp; </span><span>rcx</span><span>,</span><span>qword </span><span>ptr</span><span> </span><span>[</span><span>rbp</span><span>-</span><span>8</span><span>]</span></p><p><span>00007ffa</span><span>`</span><span>82070507</span><span> </span><span>ba01000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>mov&nbsp;&nbsp;&nbsp;&nbsp; </span><span>edx</span><span>,</span><span>1</span></p><p><span>00007ffa</span><span>`</span><span>8207050c</span><span> </span><span>41b802000000</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>mov&nbsp;&nbsp;&nbsp;&nbsp; </span><span>r8d</span><span>,</span><span>2</span></p><p><span>00007ffa</span><span>`</span><span>82070512</span><span> </span><span>41b903000000</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>mov&nbsp;&nbsp;&nbsp;&nbsp; </span><span>r9d</span><span>,</span><span>3</span></p><p><span>00007ffa</span><span>`</span><span>82070518</span><span> </span><span>e86bfbffff&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>call</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>00007ffa</span><span>`</span><span>82070088</span><span> </span><span>(</span><span>Program</span><span>.</span><span>Instance</span><span>(</span><span>Int32</span><span>,</span><span> </span><span>Int32</span><span>,</span><span> </span><span>Int32</span><span>,</span><span> </span><span>Int32</span><span>,</span><span> </span><span>Int32</span><span>,</span><span> </span><span>Int32</span><span>)</span><span>,</span><span> </span><span>mdToken</span><span>:</span><span> </span><span>0000000006000003</span><span>)</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->

<h6>34. Can you have <code>const decimal</code>? <code>const string</code>? <code>const Foo</code>?</h6>
<p>Yes, see <a href="https://dotnetfiddle.net/1CiQmL">here</a>:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68aa5836548202" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>using </span><span>System</span><span>;</span></p><p><span>public</span><span> </span><span>class</span><span> </span><span>Program</span></p><p><span>{</span></p><p><span>	</span><span>const</span><span> </span><span>decimal</span><span> </span><span>a</span><span> </span><span>=</span><span> </span><span>5</span><span>;</span></p><p><span>	</span><span>const</span><span> </span><span>string</span><span> </span><span>b</span><span> </span><span>=</span><span> </span><span>"abc"</span><span>;</span></p><p><span>	</span><span>const</span><span> </span><span>Foo</span><span> </span><span>c</span><span> </span><span>=</span><span> </span><span>null</span><span>;</span></p><p><span>	</span><span>public</span><span> </span><span>static</span><span> </span><span>void</span><span> </span><span>Main</span><span>(</span><span>)</span></p><p><span>	</span><span>{</span></p><p><span>	</span><span>}</span></p><p><span>}</span></p><p><span>class</span><span> </span><span>Foo</span></p><p><span>{</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->

<p>However, there is a trick here. If you decompile the code, you get this:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68aa7952658852" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p><p>34</p><p>35</p><p>36</p><p>37</p><p>38</p><p>39</p><p>40</p><p>41</p><p>42</p><p>43</p><p>44</p><p>45</p><p>46</p><p>47</p><p>48</p><p>49</p><p>50</p><p>51</p><p>52</p><p>53</p><p>54</p><p>55</p><p>56</p><p>57</p><p>58</p><p>59</p><p>60</p><p>61</p><p>62</p><p>63</p><p>64</p><p>65</p><p>66</p><p>67</p><p>68</p><p>69</p><p>70</p><p>71</p><p>72</p><p>73</p><p>74</p><p>75</p><p>76</p><p>77</p><p>78</p><p>79</p><p>80</p><p>81</p><p>82</p><p>83</p><p>84</p><p>85</p><p>86</p><p>87</p><p>88</p><p>89</p><p>90</p><p>91</p><p>92</p><p>93</p></div>
				</td>
						<td><div><p><span>//&nbsp;&nbsp;Microsoft (R) .NET Framework IL Disassembler.&nbsp;&nbsp;Version 4.0.30319.33440</span></p><p><span>//&nbsp;&nbsp;Copyright (c) Microsoft Corporation.&nbsp;&nbsp;All rights reserved.</span></p><p><span>// </span></p><p><span>// Metadata version: v4.0.30319</span></p><p><span>.</span><span>assembly </span><span>extern</span><span> </span><span>mscorlib</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>publickeytoken</span><span> </span><span>=</span><span> </span><span>(</span><span>B7</span><span> </span><span>7A</span><span> </span><span>5C</span><span> </span><span>56</span><span> </span><span>19</span><span> </span><span>34</span><span> </span><span>E0</span><span> </span><span>89</span><span> </span><span>)</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>// .z\V.4..</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>ver</span><span> </span><span>4</span><span>:</span><span>0</span><span>:</span><span>0</span><span>:</span><span>0</span></p><p><span>}</span></p><p><span>.</span><span>assembly</span><span> </span><span>'bb0c0028-1e9e-407c-9c2f-43a28949efba'</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>hash </span><span>algorithm</span><span> </span><span>0x00008004</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>ver</span><span> </span><span>0</span><span>:</span><span>0</span><span>:</span><span>0</span><span>:</span><span>0</span></p><p><span>}</span></p><p><span>.</span><span>module</span><span> </span><span>'bb0c0028-1e9e-407c-9c2f-43a28949efba.dll'</span></p><p><span>// MVID: {0AA5E085-683A-440A-A7C9-AFE31B57D6E0}</span></p><p><span>.</span><span>imagebase</span><span> </span><span>0x10000000</span></p><p><span>.</span><span>file </span><span>alignment</span><span> </span><span>0x00000200</span></p><p><span>.</span><span>stackreserve</span><span> </span><span>0x00100000</span></p><p><span>.</span><span>subsystem</span><span> </span><span>0x0003</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>// WINDOWS_CUI</span></p><p><span>.</span><span>corflags</span><span> </span><span>0x00000001</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;&nbsp;ILONLY</span></p><p><span>// Image base: 0x014C0000</span></p><p><span>// =============== CLASS MEMBERS DECLARATION ===================</span></p><p><span>.</span><span>class</span><span> </span><span>public</span><span> </span><span>auto </span><span>ansi </span><span>beforefieldinit </span><span>Program</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>extends</span><span> </span><span>[</span><span>mscorlib</span><span>]</span><span>System</span><span>.</span><span>Object</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>field </span><span>private</span><span> </span><span>static</span><span> </span><span>initonly </span><span>valuetype</span><span> </span><span>[</span><span>mscorlib</span><span>]</span><span>System</span><span>.</span><span>Decimal</span><span> </span><span>a</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>field </span><span>private</span><span> </span><span>static</span><span> </span><span>literal </span><span>string</span><span> </span><span>b</span><span> </span><span>=</span><span> </span><span>"abc"</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>field </span><span>private</span><span> </span><span>static</span><span> </span><span>literal </span><span>class</span><span> </span><span>Foo</span><span> </span><span>c</span><span> </span><span>=</span><span> </span><span>nullref</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>method </span><span>public</span><span> </span><span>hidebysig </span><span>static</span><span> </span><span>void</span><span>&nbsp;&nbsp;</span><span>Main</span><span>(</span><span>)</span><span> </span><span>cil</span><span> </span><span>managed</span></p><p><span>&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// </span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>maxstack</span><span>&nbsp;&nbsp;</span><span>8</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>language</span><span> </span><span>'{3F5162F8-07C6-11D3-9053-00C04FA302A1}'</span><span>,</span><span> </span><span>'{994B45C4-E6E9-11D2-903F-00C04FA302A1}'</span><span>,</span><span> </span><span>'{5A869D0B-6611-11D3-BD2A-0000F80849BD}'</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>line</span><span> </span><span>9</span><span>,</span><span>9</span><span> </span><span>:</span><span> </span><span>2</span><span>,</span><span>3</span><span> </span><span>''</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0000</span><span>:</span><span>&nbsp;&nbsp;</span><span>nop</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>line</span><span> </span><span>10</span><span>,</span><span>10</span><span> </span><span>:</span><span> </span><span>2</span><span>,</span><span>3</span><span> </span><span>''</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0001</span><span>:</span><span>&nbsp;&nbsp;</span><span>ret</span></p><p><span>&nbsp;&nbsp;</span><span>}</span><span> </span><span>// end of method Program::Main</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>method </span><span>public</span><span> </span><span>hidebysig </span><span>specialname </span><span>rtspecialname </span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>instance </span><span>void</span><span>&nbsp;&nbsp;</span><span>.</span><span>ctor</span><span>(</span><span>)</span><span> </span><span>cil</span><span> </span><span>managed</span></p><p><span>&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// </span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>maxstack</span><span>&nbsp;&nbsp;</span><span>8</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0000</span><span>:</span><span>&nbsp;&nbsp;</span><span>ldarg</span><span>.</span><span>0</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0001</span><span>:</span><span>&nbsp;&nbsp;</span><span>call&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>instance </span><span>void</span><span> </span><span>[</span><span>mscorlib</span><span>]</span><span>System</span><span>.</span><span>Object</span><span>::</span><span>.</span><span>ctor</span><span>(</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0006</span><span>:</span><span>&nbsp;&nbsp;</span><span>nop</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0007</span><span>:</span><span>&nbsp;&nbsp;</span><span>ret</span></p><p><span>&nbsp;&nbsp;</span><span>}</span><span> </span><span>// end of method Program::.ctor</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>method </span><span>private</span><span> </span><span>hidebysig </span><span>specialname </span><span>rtspecialname </span><span>static</span><span> </span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>void</span><span>&nbsp;&nbsp;</span><span>.</span><span>cctor</span><span>(</span><span>)</span><span> </span><span>cil</span><span> </span><span>managed</span></p><p><span>&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// </span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>maxstack</span><span>&nbsp;&nbsp;</span><span>8</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>line</span><span> </span><span>5</span><span>,</span><span>5</span><span> </span><span>:</span><span> </span><span>2</span><span>,</span><span>22</span><span> </span><span>''</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0000</span><span>:</span><span>&nbsp;&nbsp;</span><span>ldc</span><span>.</span><span>i4</span><span>.</span><span>5</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0001</span><span>:</span><span>&nbsp;&nbsp;</span><span>newobj&nbsp;&nbsp;&nbsp;&nbsp; </span><span>instance </span><span>void</span><span> </span><span>[</span><span>mscorlib</span><span>]</span><span>System</span><span>.</span><span>Decimal</span><span>::</span><span>.</span><span>ctor</span><span>(</span><span>int32</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0006</span><span>:</span><span>&nbsp;&nbsp;</span><span>stsfld&nbsp;&nbsp;&nbsp;&nbsp; </span><span>valuetype</span><span> </span><span>[</span><span>mscorlib</span><span>]</span><span>System</span><span>.</span><span>Decimal </span><span>Program</span><span>::</span><span>a</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_000b</span><span>:</span><span>&nbsp;&nbsp;</span><span>ret</span></p><p><span>&nbsp;&nbsp;</span><span>}</span><span> </span><span>// end of method Program::.cctor</span></p><p><span>}</span><span> </span><span>// end of class Program</span></p><p><span>.</span><span>class</span><span> </span><span>private</span><span> </span><span>auto </span><span>ansi </span><span>beforefieldinit </span><span>Foo</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>extends</span><span> </span><span>[</span><span>mscorlib</span><span>]</span><span>System</span><span>.</span><span>Object</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;</span><span>.</span><span>method </span><span>public</span><span> </span><span>hidebysig </span><span>specialname </span><span>rtspecialname </span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>instance </span><span>void</span><span>&nbsp;&nbsp;</span><span>.</span><span>ctor</span><span>(</span><span>)</span><span> </span><span>cil</span><span> </span><span>managed</span></p><p><span>&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// </span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>maxstack</span><span>&nbsp;&nbsp;</span><span>8</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0000</span><span>:</span><span>&nbsp;&nbsp;</span><span>ldarg</span><span>.</span><span>0</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0001</span><span>:</span><span>&nbsp;&nbsp;</span><span>call&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>instance </span><span>void</span><span> </span><span>[</span><span>mscorlib</span><span>]</span><span>System</span><span>.</span><span>Object</span><span>::</span><span>.</span><span>ctor</span><span>(</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0006</span><span>:</span><span>&nbsp;&nbsp;</span><span>nop</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0007</span><span>:</span><span>&nbsp;&nbsp;</span><span>ret</span></p><p><span>&nbsp;&nbsp;</span><span>}</span><span> </span><span>// end of method Foo::.ctor</span></p><p><span>}</span><span> </span><span>// end of class Foo</span></p><p><span>// =============================================================</span></p><p><span>// </span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0026 seconds] -->

<p>Interesting parts are:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68aab803684319" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>.</span><span>field </span><span>private</span><span> </span><span>static</span><span> </span><span>initonly </span><span>valuetype</span><span> </span><span>[</span><span>mscorlib</span><span>]</span><span>System</span><span>.</span><span>Decimal</span><span> </span><span>a</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->

<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68aae718564108" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>.</span><span>method </span><span>private</span><span> </span><span>hidebysig </span><span>specialname </span><span>rtspecialname </span><span>static</span><span> </span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>void</span><span>&nbsp;&nbsp;</span><span>.</span><span>cctor</span><span>(</span><span>)</span><span> </span><span>cil</span><span> </span><span>managed</span></p><p><span>&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// </span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>maxstack</span><span>&nbsp;&nbsp;</span><span>8</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>line</span><span> </span><span>5</span><span>,</span><span>5</span><span> </span><span>:</span><span> </span><span>2</span><span>,</span><span>22</span><span> </span><span>''</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0000</span><span>:</span><span>&nbsp;&nbsp;</span><span>ldc</span><span>.</span><span>i4</span><span>.</span><span>5</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0001</span><span>:</span><span>&nbsp;&nbsp;</span><span>newobj&nbsp;&nbsp;&nbsp;&nbsp; </span><span>instance </span><span>void</span><span> </span><span>[</span><span>mscorlib</span><span>]</span><span>System</span><span>.</span><span>Decimal</span><span>::</span><span>.</span><span>ctor</span><span>(</span><span>int32</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_0006</span><span>:</span><span>&nbsp;&nbsp;</span><span>stsfld&nbsp;&nbsp;&nbsp;&nbsp; </span><span>valuetype</span><span> </span><span>[</span><span>mscorlib</span><span>]</span><span>System</span><span>.</span><span>Decimal </span><span>Program</span><span>::</span><span>a</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>IL_000b</span><span>:</span><span>&nbsp;&nbsp;</span><span>ret</span></p><p><span>&nbsp;&nbsp;</span><span>}</span><span> </span><span>// end of method Program::.cctor</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->

<p>So you can see that the <code>decimal</code> is not a constant but <code>readonly</code>, it is initialized in the type constructor.</p>
<h6>35. Can you pass a <code>volatile</code> variable by reference?</h6>
<p>Yes and no. <a href="https://dotnetfiddle.net/uPFy1K">This</a> code compiles:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e49c6bc68ab1391631927" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>using </span><span>System</span><span>;</span></p><p><span>public</span><span> </span><span>class</span><span> </span><span>Program</span></p><p><span>{</span></p><p><span>	</span><span>static</span><span> </span><span>volatile </span><span>int</span><span> </span><span>a</span><span> </span><span>=</span><span> </span><span>5</span><span>;</span></p><p><span>	</span><span>public</span><span> </span><span>static</span><span> </span><span>void</span><span> </span><span>Main</span><span>(</span><span>)</span></p><p><span>	</span><span>{</span></p><p><span>		</span><span>Foo</span><span>(</span><span>ref</span><span> </span><span>a</span><span>)</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>	</span><span>static</span><span> </span><span>void</span><span> </span><span>Foo</span><span>(</span><span>ref </span><span>int</span><span> </span><span>x</span><span>)</span><span>{</span></p><p><span>	</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->

<p>But it shows warning that <code>'Program.a': a reference to a volatile field will not be treated as volatile</code>.</p>
                                             </div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>

</body>
</html>
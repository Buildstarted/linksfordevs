<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Model facts, not your problem domain - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Model facts, not your problem domain - linksfor.dev(s)"/>
    <meta property="article:author" content="Ruud van Asseldonk"/>
    <meta property="og:description" content="When requirements change, an append-only data model of immutable facts is more useful than a mutable data model that models the problem domain."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://ruudvanasseldonk.com/2020/06/07/model-facts-not-your-problem-domain"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
	<div class="devring" style="background: #222">
		<div class="grid">
			<div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
				<span class="devring-title">devring.club</span>
				<a href="https://devring.club/site/1/previous" class="devring-previous">Previous</a>
				<a href="https://devring.club/random" class="devring-random">Random</a>
				<a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
			</div>
		</div>
	</div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Model facts, not your problem domain</title>
<div class="readable">
        <h1>Model facts, not your problem domain</h1>
            <div>by Ruud van Asseldonk</div>
            <div>Reading time: 2-3 minutes</div>
        <div>Posted here: 11 Jun 2020</div>
        <p><a href="https://ruudvanasseldonk.com/2020/06/07/model-facts-not-your-problem-domain">https://ruudvanasseldonk.com/2020/06/07/model-facts-not-your-problem-domain</a></p>
        <hr/>
<div id="readability-page-1" class="page"><article id="content" itemscope=""><header><p>written by <br>published <time datetime="2020-06-07" itemprop="datePublished">7 June, 2020</time></p></header><p><span>When requirements change</span>, an append-only data model of immutable facts is more useful than a mutable data model that models the problem domain.</p><p>When I started building <a href="https://github.com/ruuda/sempervivum">a plant watering tracker</a> about six weeks ago, I almost made the mistake of giving its database a mutable ‘last watered’ column. Fortunately I realised in time to use an append-only table with watering events. At the time I had no use for historical data, the only things required for a watering reminder are the watering interval and last watered date. When mutability is the default, storing all watering events seems ridiculous. But when immutable is your default, keeping historical data is the natural thing to do: mutating rows in place is a storage space optimisation, and in my case it would be entirely premature.</p><p>Now, a few weeks later, I want to make the watering schedule adaptive. If the watering reminder is consistently two days early, probably the default interval is too short for that plant. For this feature I do need historical data. Fortunately, I already have that data, so the new feature is useful right away. But more importantly, no schema changes are required to support the new feature.</p><p>My point is not “collect all the things, it might be useful some day.” My point is that a database that stores facts (watering events) is in a much better position to deal with changing requirements, than a database that was modelled after the initial requirements (producing a reminder a fixed number of days after watering). When requirements change, the facts of the situation do not, so a database of facts remains useful.</p><h2 id="further-reading"><a href="#further-reading"></a>Further reading</h2><p>My preference for immutable data is heavily informed by the work of Rich Hickey, who explains this much better than I ever could in a short blog post. The following talks are worth watching:</p><ul><li><a href="https://www.infoq.com/presentations/Value-Values/">The Value of Values</a></li><li><a href="https://www.infoq.com/presentations/Simple-Made-Easy/">Simple Made Easy</a></li><li><a href="https://www.infoq.com/presentations/Deconstructing-Database/">Deconstructing the Database</a></li></ul></article></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
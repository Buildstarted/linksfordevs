<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Please stop recommending Git Flow! &#x2013; George Stocker - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Please stop recommending Git Flow! &#x2013; George Stocker - linksfor.dev(s)"/>
    <meta property="og:description" content="Git-flow is a branching and merging methodology popularized by this blog post, entitled &#x201C;A Successful Git branching model&#x201D;."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://georgestocker.com/2020/03/04/please-stop-recommending-git-flow/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
	<div class="devring" style="background: #222">
		<div class="grid">
			<div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
				<span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
				<a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
				<a href="https://devring.club/random" class="devring-random">Random</a>
				<a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
			</div>
		</div>
	</div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Please stop recommending Git Flow! &#x2013; George Stocker</title>
<div class="readable">
        <h1>Please stop recommending Git Flow! &#x2013; George Stocker</h1>
            <div>Reading time: 7-8 minutes</div>
        <div>Posted here: 05 Mar 2020</div>
        <p><a href="https://georgestocker.com/2020/03/04/please-stop-recommending-git-flow/">https://georgestocker.com/2020/03/04/please-stop-recommending-git-flow/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><article id="post-2956">
	<!-- .entry-header -->

	
	
	<div>
		
<p>Git-flow is a branching and merging methodology popularized by <a href="https://nvie.com/posts/a-successful-git-branching-model/">this blog post</a>, entitled “A Successful Git branching model”. </p>



<p>In the last ten years, countless teams have been snookered by the headline and dare I say <em>lied to</em>.</p>



<p>If you read the blog post, the author claims they successfully introduced it in their projects, but purposefully <em>doesn’t talk about the project details that made it successful</em>.</p>



<p>And for the rest of us, this is mistake #1 of trusting the blog post.  I’ll claim it as a truism that not all strategies work in all situations, with all people, in all contexts, and I apply that same logic to this branching model.</p>



<p>The end, right? Well, not quite. I can tell a few of you are unconvinced by this line of reasoning, so let’s dig deeper into why the gitflow branching model should <em>die in a fire</em>.</p>



<h2>GitFlow Is Complicated On its Face</h2>



<p>Even before you think about Microservices, or continuous delivery, gitflow is complicated.  Take a look at this image and tell me it’s immediately intuitive:</p>



<figure><img src="https://georgestocker.com/wp-content/uploads/2020/03/git-model@2x-773x1024.png" alt="" srcset="https://georgestocker.com/wp-content/uploads/2020/03/git-model@2x-773x1024.png 773w, https://georgestocker.com/wp-content/uploads/2020/03/git-model@2x-226x300.png 226w, https://georgestocker.com/wp-content/uploads/2020/03/git-model@2x-768x1018.png 768w, https://georgestocker.com/wp-content/uploads/2020/03/git-model@2x.png 1150w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 984px) 61vw, (max-width: 1362px) 45vw, 600px"><figcaption>(source: <a href="https://nvie.com/posts/a-successful-git-branching-model/">https://nvie.com/posts/a-successful-git-branching-model/</a> )</figcaption></figure>



<p>So here you have feature branches, release branches, master, develop, a hotfix branch, and git tags.  These are all things that have to be tracked, understood, and accounted for in your build and release process.</p>



<p>More so than that, you also need to keep track of what branch is what, <em>all the time</em>.  The mental model you need to retain for this to be useful carries a high cognitive load.  I’ve been using git for 10 years now, and I’m not even sure I’m at the point where I could mentally keep up with what’s going on here.  </p>



<h2>Gitflow violates the “Short-lived” branches rule</h2>



<p>In git, the number of merge conflicts with people committing to a branch will increase with the number of people working on that branch. With git-flow, that number increases even more, because there are three other  branches (of varying lifetimes) that merge into develop: Feature branches,  release branches, and hot-fixes.  So now the potential for merge-conflicts is not linear, it’s going to potentially triple the opportunities for merge conflicts.</p>



<p>No thank you.</p>



<p>While I hesitate to say “Worrying about merge conflicts” is a valid reason not to pursue a branching strategy like gitflow; the amount of potential complexity that is introduced when all these branches come together is too much to overlook.  This would be fine if you have an organization with a low commit-velocity rate; but for any appreciable fast moving organization or startup, this won’t be the case.</p>



<h2>Gitflow abandons rebasing</h2>



<p>I recognize rebasing is a complex topic; but it’s important to this conversation. If you pursue gitflow, you’re gonna have to give up rebasing.  Remember, rebasing does away with the merge commit — the point where you can see two branches coming together.  And with the visual complexity of gitflow, you’re going to need to visually track branches, and that means no rebasing if you want to unwind a problem.</p>



<h2>Gitflow makes Continuous Delivery Improbable</h2>



<p>Continuous delivery is a practice where the team release directly into production with each “check-in” (in reality, a merge to master), in an automated fashion.  Look at the mess that is gitflow and explain to me how you’re going to be able to continuously deliver *that*?</p>



<p>The entire branching model is predicated off a predictable, long term release cycle; not off releasing new code every few minutes or hours.  There’s too much overhead for that; not to mention one of the central practices of CD is to roll-forward with fixes; and Gitflow treats hotfixes as a separate entity to be carefully preserved and controlled and separated from other work.</p>



<h2>Gitflow is impossible to work with in multiple repositories</h2>



<p>With the advent of Microservices; there’s been more of a push towards the idea of micro-repos as well (cue commenter shouting “they’re orthogonal to each other”), where individual teams have control over their repositories and workflows, and where they can control who checks in to their repositories and how their workflows work.</p>



<p>Have you ever *tried* a complex branching model like gitflow with multiple teams, and hoped for everyone to be on the same page?  Can’t happen.  Soon, the system becomes a manifest of the different revisions of the different repositories, and the only people who know where everything is at are the people pounding out the YAML to update the manifests. “What’s in production” becomes an existential question, if you’re not careful.</p>



<h2>Gitflow is impossible to work with in a monorepo as well</h2>



<p>So if micro-repos are out due to the difficulty in coordinating releases, why not just one big branching workflow that all the microservices teams have to abide by for releases?</p>



<p>This works for about 3.2 seconds, or the time it takes for a team to say “This has to go out now”, when the other teams aren’t ready for their stuff to be released.  If teams are independent and microservices should be independently deployable, you can’t very well tie your workflow to the centralized branching model you created in your mono-repo.</p>



<h2>Who should (and shouldn’t) use Gitflow?</h2>



<p>If your organization is on a monthly or quarterly release cycle and it’s a team that works on multiple releases in parallel, Gitflow <em>may</em> be a good choice for you.  If your team is a startup, or an internet-facing website or web application, where you may have multiple releases in a day; gitflow isn’t good for you.  If your team is small (under 10 people), gitflow puts too much ceremony and overhead into your work.  </p>



<p>If your teams, on the other hand, are 20+ people working on parallel releases, gitflow introduces just enough ceremony to ensure you don’t mess things up.</p>



<h2>Ok, so my team shouldn’t use gitflow. What should we use?</h2>



<p>I can’t answer that. Not all branching models work for all teams, in all contexts, and all cultures.  If you practice CD, you want something that streamlines your process as much as possible.  Some people swear by trunkless development and feature flags.  However, those scare the hell out of me from a testing perspective. </p>



<p>The crucial point I’m making <em>is to is ask questions</em> of your team: What problems will this branching model help us solve? What problems will it create? What sorts of development will this model encourage? Do we want to encourage that behavior?  Any branching model you choose is ultimately meant to make humans work together more easily to produce software, and so the branching model needs to take into account the needs of the particular humans using it, not something someone wrote on the internet and claimed was ‘successful’.</p>



<p><em>Author’s end note: I thought about using the ‘considered harmful’ moniker that is so common in posts like this; but then did a google search and realized someone else already wrote <a href="https://www.endoflineblog.com/gitflow-considered-harmful">Gitflow considered harmful</a>. That article is also worth your time.</em></p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
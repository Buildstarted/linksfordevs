<!DOCTYPE html>
<html lang="en">
<head>
    <title>
.NET Internals Cookbook Part 11 &#x2014; Various C# riddles &#x2013; Random IT Utensils -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>.NET Internals Cookbook Part 11 — Various C# riddles – Random IT Utensils</h1><div><div class="post-content"><blockquote><p>This is the eleventh part of the .NET Internals Cookbook series. For your convenience you can find other parts in the table of contents in <a href="https://blog.adamfurmanek.pl/2019/02/16/net-internals-cookbook-part-0/">Part 0 – Table of contents</a></p></blockquote><h6>75. What is the <code>TimeSpan</code> resolution?</h6><p>It’s 100 nanoseconds, as specified by the <a href="https://docs.microsoft.com/en-us/dotnet/api/system.timespan?view=netframework-4.7.2">documentation</a>:</p><div id="crayon-5e420280b1af1870379467" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="readonly">The value of a TimeSpan object is the number of ticks that equal the represented time interval. A tick is equal to 100 nanoseconds, or one ten-millionth of a second. </textarea></p><div class="crayon-main"><table class="crayon-table"><tbody><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><p class="crayon-num" data-line="crayon-5e420280b1af1870379467-1">1</p></td><td class="crayon-code"><p class="crayon-line" id="crayon-5e420280b1af1870379467-1"><span class="crayon-e">The </span><span class="crayon-e">value </span><span class="crayon-i">of</span><span class="crayon-h"></span><span class="crayon-i">a</span><span class="crayon-h"></span><span class="crayon-e">TimeSpan </span><span class="crayon-t">object</span><span class="crayon-h"></span><span class="crayon-st">is</span><span class="crayon-h"></span><span class="crayon-e">the </span><span class="crayon-e">number </span><span class="crayon-e">of </span><span class="crayon-e">ticks </span><span class="crayon-e">that </span><span class="crayon-e">equal </span><span class="crayon-e">the </span><span class="crayon-e">represented </span><span class="crayon-e">time </span><span class="crayon-v">interval</span><span class="crayon-sy">.</span><span class="crayon-h"></span><span class="crayon-i">A</span><span class="crayon-h"></span><span class="crayon-e">tick </span><span class="crayon-st">is</span><span class="crayon-h"></span><span class="crayon-e">equal </span><span class="crayon-st">to</span><span class="crayon-h"></span><span class="crayon-cn">100</span><span class="crayon-h"></span><span class="crayon-v">nanoseconds</span><span class="crayon-sy">,</span><span class="crayon-h"></span><span class="crayon-st">or</span><span class="crayon-h"></span><span class="crayon-e">one </span><span class="crayon-v">ten</span><span class="crayon-o">-</span><span class="crayon-e">millionth </span><span class="crayon-i">of</span><span class="crayon-h"></span><span class="crayon-i">a</span><span class="crayon-h"></span><span class="crayon-v">second</span><span class="crayon-sy">.</span><span class="crayon-h"></span></p></td></tr></tbody></table></div></div><h6>76. What is shared between app domains?</h6><p>Quite a few things:</p><ul><li>Domain neutral <code>Type</code> objects</li><li>Reflection types like <code>PropertyInfo</code></li><li>Strings</li><li>Threads</li></ul><p>If you share one physical object between multiple app domains, it is called <code>marshal-by-bleed</code>. This is important because if you try locking such an object, you may effectively get a lock across different app domains. So if you do <code>lock(typeof(Foo))</code> you may lock multiple app domains, which can be very nasty in ASP.NET applications (if you have multiple apps running on the same pool as they are separated by app domains).</p><p>On the other hand, if you want to share something in this way, see <a href="https://stackoverflow.com/a/11665093/1543037">this code</a>:</p><div id="crayon-5e420280b1afa526544846" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="readonly">[LoaderOptimization(LoaderOptimization.MultiDomain)]
static public void Main(string[] args)
{

    // To load our assembly appdomain neutral we need to use MultiDomain on our hosting and child domain
    // If not we would get different Method tables for the same types which would result in InvalidCastExceptions
    // for the same type.
    var other = AppDomain.CreateDomain("Test"+i.ToString(), AppDomain.CurrentDomain.Evidence, new AppDomainSetup
        {
            LoaderOptimization = LoaderOptimization.MultiDomain,
        });

    // Create gate object in other appdomain
    DomainGate gate = (DomainGate)other.CreateInstanceAndUnwrap(Assembly.GetExecutingAssembly().FullName, typeof(DomainGate).FullName);

    // now lets create some data
    CrossDomainData data = new CrossDomainData();
    data.Input = Enumerable.Range(0, 10).ToList();

    // process it in other AppDomain
    DomainGate.Send(gate, data);

    // Display result calculated in other AppDomain
    Console.WriteLine("Calculation in other AppDomain got: {0}", data.Aggregate);
    }
}</textarea></p><div class="crayon-main"><table class="crayon-table"><tbody><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content"><p class="crayon-num" data-line="crayon-5e420280b1afa526544846-1">1</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1afa526544846-2">2</p><p class="crayon-num" data-line="crayon-5e420280b1afa526544846-3">3</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1afa526544846-4">4</p><p class="crayon-num" data-line="crayon-5e420280b1afa526544846-5">5</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1afa526544846-6">6</p><p class="crayon-num" data-line="crayon-5e420280b1afa526544846-7">7</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1afa526544846-8">8</p><p class="crayon-num" data-line="crayon-5e420280b1afa526544846-9">9</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1afa526544846-10">10</p><p class="crayon-num" data-line="crayon-5e420280b1afa526544846-11">11</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1afa526544846-12">12</p><p class="crayon-num" data-line="crayon-5e420280b1afa526544846-13">13</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1afa526544846-14">14</p><p class="crayon-num" data-line="crayon-5e420280b1afa526544846-15">15</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1afa526544846-16">16</p><p class="crayon-num" data-line="crayon-5e420280b1afa526544846-17">17</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1afa526544846-18">18</p><p class="crayon-num" data-line="crayon-5e420280b1afa526544846-19">19</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1afa526544846-20">20</p><p class="crayon-num" data-line="crayon-5e420280b1afa526544846-21">21</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1afa526544846-22">22</p><p class="crayon-num" data-line="crayon-5e420280b1afa526544846-23">23</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1afa526544846-24">24</p><p class="crayon-num" data-line="crayon-5e420280b1afa526544846-25">25</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1afa526544846-26">26</p></div></td><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-5e420280b1afa526544846-1"><span class="crayon-sy">[</span><span class="crayon-e">LoaderOptimization</span><span class="crayon-sy">(</span><span class="crayon-v">LoaderOptimization</span><span class="crayon-sy">.</span><span class="crayon-v">MultiDomain</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1afa526544846-2"><span class="crayon-m">static</span><span class="crayon-h"></span><span class="crayon-m">public</span><span class="crayon-h"></span><span class="crayon-t">void</span><span class="crayon-h"></span><span class="crayon-e">Main</span><span class="crayon-sy">(</span><span class="crayon-t">string</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"></span><span class="crayon-v">args</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-5e420280b1afa526544846-3"><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-5e420280b1afa526544846-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// To load our assembly appdomain neutral we need to use MultiDomain on our hosting and child domain</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1afa526544846-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// If not we would get different Method tables for the same types which would result in InvalidCastExceptions</span></p><p class="crayon-line" id="crayon-5e420280b1afa526544846-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// for the same type.</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1afa526544846-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"></span><span class="crayon-v">other</span><span class="crayon-h"></span><span class="crayon-o">=</span><span class="crayon-h"></span><span class="crayon-v">AppDomain</span><span class="crayon-sy">.</span><span class="crayon-e">CreateDomain</span><span class="crayon-sy">(</span><span class="crayon-s">"Test"</span><span class="crayon-o">+</span><span class="crayon-v">i</span><span class="crayon-sy">.</span><span class="crayon-e">ToString</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"></span><span class="crayon-v">AppDomain</span><span class="crayon-sy">.</span><span class="crayon-v">CurrentDomain</span><span class="crayon-sy">.</span><span class="crayon-v">Evidence</span><span class="crayon-sy">,</span><span class="crayon-h"></span><span class="crayon-r">new</span><span class="crayon-h"></span><span class="crayon-e">AppDomainSetup</span></p><p class="crayon-line" id="crayon-5e420280b1afa526544846-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1afa526544846-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">LoaderOptimization</span><span class="crayon-h"></span><span class="crayon-o">=</span><span class="crayon-h"></span><span class="crayon-v">LoaderOptimization</span><span class="crayon-sy">.</span><span class="crayon-v">MultiDomain</span><span class="crayon-sy">,</span></p><p class="crayon-line" id="crayon-5e420280b1afa526544846-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-5e420280b1afa526544846-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Create gate object in other appdomain</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1afa526544846-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">DomainGate </span><span class="crayon-v">gate</span><span class="crayon-h"></span><span class="crayon-o">=</span><span class="crayon-h"></span><span class="crayon-sy">(</span><span class="crayon-v">DomainGate</span><span class="crayon-sy">)</span><span class="crayon-v">other</span><span class="crayon-sy">.</span><span class="crayon-e">CreateInstanceAndUnwrap</span><span class="crayon-sy">(</span><span class="crayon-v">Assembly</span><span class="crayon-sy">.</span><span class="crayon-e">GetExecutingAssembly</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">FullName</span><span class="crayon-sy">,</span><span class="crayon-h"></span><span class="crayon-e">typeof</span><span class="crayon-sy">(</span><span class="crayon-v">DomainGate</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">FullName</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1afa526544846-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// now lets create some data</span></p><p class="crayon-line" id="crayon-5e420280b1afa526544846-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">CrossDomainData </span><span class="crayon-v">data</span><span class="crayon-h"></span><span class="crayon-o">=</span><span class="crayon-h"></span><span class="crayon-r">new</span><span class="crayon-h"></span><span class="crayon-e">CrossDomainData</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1afa526544846-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">data</span><span class="crayon-sy">.</span><span class="crayon-v">Input</span><span class="crayon-h"></span><span class="crayon-o">=</span><span class="crayon-h"></span><span class="crayon-v">Enumerable</span><span class="crayon-sy">.</span><span class="crayon-e">Range</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"></span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">ToList</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1afa526544846-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// process it in other AppDomain</span></p><p class="crayon-line" id="crayon-5e420280b1afa526544846-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">DomainGate</span><span class="crayon-sy">.</span><span class="crayon-e">Send</span><span class="crayon-sy">(</span><span class="crayon-v">gate</span><span class="crayon-sy">,</span><span class="crayon-h"></span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-5e420280b1afa526544846-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Display result calculated in other AppDomain</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1afa526544846-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Console</span><span class="crayon-sy">.</span><span class="crayon-e">WriteLine</span><span class="crayon-sy">(</span><span class="crayon-s">"Calculation in other AppDomain got: {0}"</span><span class="crayon-sy">,</span><span class="crayon-h"></span><span class="crayon-v">data</span><span class="crayon-sy">.</span><span class="crayon-v">Aggregate</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-5e420280b1afa526544846-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1afa526544846-26"><span class="crayon-sy">}</span></p></div></td></tr></tbody></table></div></div><p>As a side note: .NET Core doesn’t expose app domains anymore. It uses them internally (at least one of them) but there is no API for it anymore.</p><h6>77. Is <code>Timer</code> removed when there is no reference to it but it has callbacks?</h6><p>Yes, it is. See <a href="https://dotnetfiddle.net/M0MqGA">this</a>:</p><div id="crayon-5e420280b1aff588280047" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="readonly">using System;
using System.Threading;

namespace Program
{
	public class Program
	{	
		public static void Main(string[] args)
		{
			var stateTimer = new Timer(t =&gt; Console.WriteLine("Timer!"), null, 50, 50);
			
			Thread.Sleep(70);
			stateTimer = null;
			GC.Collect();
			GC.WaitForPendingFinalizers();
			
			Thread.Sleep(1500);
		}
	}
}</textarea></p><div class="crayon-main"><table class="crayon-table"><tbody><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content"><p class="crayon-num" data-line="crayon-5e420280b1aff588280047-1">1</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1aff588280047-2">2</p><p class="crayon-num" data-line="crayon-5e420280b1aff588280047-3">3</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1aff588280047-4">4</p><p class="crayon-num" data-line="crayon-5e420280b1aff588280047-5">5</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1aff588280047-6">6</p><p class="crayon-num" data-line="crayon-5e420280b1aff588280047-7">7</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1aff588280047-8">8</p><p class="crayon-num" data-line="crayon-5e420280b1aff588280047-9">9</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1aff588280047-10">10</p><p class="crayon-num" data-line="crayon-5e420280b1aff588280047-11">11</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1aff588280047-12">12</p><p class="crayon-num" data-line="crayon-5e420280b1aff588280047-13">13</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1aff588280047-14">14</p><p class="crayon-num" data-line="crayon-5e420280b1aff588280047-15">15</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1aff588280047-16">16</p><p class="crayon-num" data-line="crayon-5e420280b1aff588280047-17">17</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1aff588280047-18">18</p><p class="crayon-num" data-line="crayon-5e420280b1aff588280047-19">19</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1aff588280047-20">20</p></div></td><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-5e420280b1aff588280047-1"><span class="crayon-e">using </span><span class="crayon-v">System</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1aff588280047-2"><span class="crayon-e">using </span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">Threading</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1aff588280047-4"><span class="crayon-t">namespace</span><span class="crayon-h"></span><span class="crayon-e">Program</span></p><p class="crayon-line" id="crayon-5e420280b1aff588280047-5"><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1aff588280047-6"><span class="crayon-h"></span><span class="crayon-m">public</span><span class="crayon-h"></span><span class="crayon-t">class</span><span class="crayon-h"></span><span class="crayon-e">Program</span></p><p class="crayon-line" id="crayon-5e420280b1aff588280047-7"><span class="crayon-h"></span><span class="crayon-sy">{</span><span class="crayon-h"></span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1aff588280047-8"><span class="crayon-h"></span><span class="crayon-m">public</span><span class="crayon-h"></span><span class="crayon-m">static</span><span class="crayon-h"></span><span class="crayon-t">void</span><span class="crayon-h"></span><span class="crayon-e">Main</span><span class="crayon-sy">(</span><span class="crayon-t">string</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"></span><span class="crayon-v">args</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-5e420280b1aff588280047-9"><span class="crayon-h"></span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1aff588280047-10"><span class="crayon-h"></span><span class="crayon-t">var</span><span class="crayon-h"></span><span class="crayon-v">stateTimer</span><span class="crayon-h"></span><span class="crayon-o">=</span><span class="crayon-h"></span><span class="crayon-r">new</span><span class="crayon-h"></span><span class="crayon-e">Timer</span><span class="crayon-sy">(</span><span class="crayon-v">t</span><span class="crayon-h"></span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-h"></span><span class="crayon-v">Console</span><span class="crayon-sy">.</span><span class="crayon-e">WriteLine</span><span class="crayon-sy">(</span><span class="crayon-s">"Timer!"</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"></span><span class="crayon-t">null</span><span class="crayon-sy">,</span><span class="crayon-h"></span><span class="crayon-cn">50</span><span class="crayon-sy">,</span><span class="crayon-h"></span><span class="crayon-cn">50</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1aff588280047-12"><span class="crayon-h"></span><span class="crayon-v">Thread</span><span class="crayon-sy">.</span><span class="crayon-e">Sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">70</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-5e420280b1aff588280047-13"><span class="crayon-h"></span><span class="crayon-v">stateTimer</span><span class="crayon-h"></span><span class="crayon-o">=</span><span class="crayon-h"></span><span class="crayon-t">null</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1aff588280047-14"><span class="crayon-h"></span><span class="crayon-v">GC</span><span class="crayon-sy">.</span><span class="crayon-e">Collect</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-5e420280b1aff588280047-15"><span class="crayon-h"></span><span class="crayon-v">GC</span><span class="crayon-sy">.</span><span class="crayon-e">WaitForPendingFinalizers</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-5e420280b1aff588280047-17"><span class="crayon-h"></span><span class="crayon-v">Thread</span><span class="crayon-sy">.</span><span class="crayon-e">Sleep</span><span class="crayon-sy">(</span><span class="crayon-cn">1500</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1aff588280047-18"><span class="crayon-h"></span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-5e420280b1aff588280047-19"><span class="crayon-h"></span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1aff588280047-20"><span class="crayon-sy">}</span></p></div></td></tr></tbody></table></div></div><p>Output (with callback executed just once):</p><p><a href="https://docs.microsoft.com/en-us/dotnet/api/system.threading.timer?view=netframework-4.7.2">Documentation</a> also mentions that:</p><div id="crayon-5e420280b1b05863339229" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="readonly">As long as you are using a Timer, you must keep a reference to it. As with any managed object, a Timer is subject to garbage collection when there are no references to it. The fact that a Timer is still active does not prevent it from being collected.</textarea></p><div class="crayon-main"><table class="crayon-table"><tbody><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><p class="crayon-num" data-line="crayon-5e420280b1b05863339229-1">1</p></td><td class="crayon-code"><p class="crayon-line" id="crayon-5e420280b1b05863339229-1"><span class="crayon-st">As</span><span class="crayon-h"></span><span class="crayon-t">long</span><span class="crayon-h"></span><span class="crayon-st">as</span><span class="crayon-h"></span><span class="crayon-e">you </span><span class="crayon-e">are </span><span class="crayon-i">using</span><span class="crayon-h"></span><span class="crayon-i">a</span><span class="crayon-h"></span><span class="crayon-v">Timer</span><span class="crayon-sy">,</span><span class="crayon-h"></span><span class="crayon-e">you </span><span class="crayon-e">must </span><span class="crayon-i">keep</span><span class="crayon-h"></span><span class="crayon-i">a</span><span class="crayon-h"></span><span class="crayon-e">reference </span><span class="crayon-st">to</span><span class="crayon-h"></span><span class="crayon-v">it</span><span class="crayon-sy">.</span><span class="crayon-h"></span><span class="crayon-st">As</span><span class="crayon-h"></span><span class="crayon-e">with </span><span class="crayon-e">any </span><span class="crayon-e">managed </span><span class="crayon-t">object</span><span class="crayon-sy">,</span><span class="crayon-h"></span><span class="crayon-i">a</span><span class="crayon-h"></span><span class="crayon-e">Timer </span><span class="crayon-st">is</span><span class="crayon-h"></span><span class="crayon-e">subject </span><span class="crayon-st">to</span><span class="crayon-h"></span><span class="crayon-e">garbage </span><span class="crayon-e">collection </span><span class="crayon-e">when </span><span class="crayon-e">there </span><span class="crayon-e">are </span><span class="crayon-e">no </span><span class="crayon-e">references </span><span class="crayon-st">to</span><span class="crayon-h"></span><span class="crayon-v">it</span><span class="crayon-sy">.</span><span class="crayon-h"></span><span class="crayon-e">The </span><span class="crayon-e">fact </span><span class="crayon-i">that</span><span class="crayon-h"></span><span class="crayon-i">a</span><span class="crayon-h"></span><span class="crayon-e">Timer </span><span class="crayon-st">is</span><span class="crayon-h"></span><span class="crayon-e">still </span><span class="crayon-e">active </span><span class="crayon-e">does </span><span class="crayon-st">not</span><span class="crayon-h"></span><span class="crayon-e">prevent </span><span class="crayon-e">it </span><span class="crayon-e">from </span><span class="crayon-e">being </span><span class="crayon-v">collected</span><span class="crayon-sy">.</span></p></td></tr></tbody></table></div></div><h6>78. What is the difference between <code>delegate { ... }</code> and <code>delegate() { ... }</code>?</h6><p>The former accepts any parameters, the latter has no parameters at all. See <a href="https://dotnetfiddle.net/rs03gy">this</a>:</p><div id="crayon-5e420280b1b08602971744" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="readonly">using System;

namespace Program
{	
	public delegate void Foo();
	public delegate void Bar(int x);
	
	public class Program
	{	
		public static void Main(string[] args)
		{
			Foo a = delegate {};
			Bar b = delegate {};
			
			Foo c = delegate() {};
			Bar d = delegate() {};
		}
	}
}</textarea></p><div class="crayon-main"><table class="crayon-table"><tbody><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content"><p class="crayon-num" data-line="crayon-5e420280b1b08602971744-1">1</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b08602971744-2">2</p><p class="crayon-num" data-line="crayon-5e420280b1b08602971744-3">3</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b08602971744-4">4</p><p class="crayon-num" data-line="crayon-5e420280b1b08602971744-5">5</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b08602971744-6">6</p><p class="crayon-num" data-line="crayon-5e420280b1b08602971744-7">7</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b08602971744-8">8</p><p class="crayon-num" data-line="crayon-5e420280b1b08602971744-9">9</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b08602971744-10">10</p><p class="crayon-num" data-line="crayon-5e420280b1b08602971744-11">11</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b08602971744-12">12</p><p class="crayon-num" data-line="crayon-5e420280b1b08602971744-13">13</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b08602971744-14">14</p><p class="crayon-num" data-line="crayon-5e420280b1b08602971744-15">15</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b08602971744-16">16</p><p class="crayon-num" data-line="crayon-5e420280b1b08602971744-17">17</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b08602971744-18">18</p><p class="crayon-num" data-line="crayon-5e420280b1b08602971744-19">19</p></div></td><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-5e420280b1b08602971744-1"><span class="crayon-e">using </span><span class="crayon-v">System</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-5e420280b1b08602971744-3"><span class="crayon-t">namespace</span><span class="crayon-h"></span><span class="crayon-e">Program</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b08602971744-4"><span class="crayon-sy">{</span><span class="crayon-h"></span></p><p class="crayon-line" id="crayon-5e420280b1b08602971744-5"><span class="crayon-h"></span><span class="crayon-m">public</span><span class="crayon-h"></span><span class="crayon-e">delegate </span><span class="crayon-t">void</span><span class="crayon-h"></span><span class="crayon-e">Foo</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b08602971744-6"><span class="crayon-h"></span><span class="crayon-m">public</span><span class="crayon-h"></span><span class="crayon-e">delegate </span><span class="crayon-t">void</span><span class="crayon-h"></span><span class="crayon-e">Bar</span><span class="crayon-sy">(</span><span class="crayon-t">int</span><span class="crayon-h"></span><span class="crayon-v">x</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b08602971744-8"><span class="crayon-h"></span><span class="crayon-m">public</span><span class="crayon-h"></span><span class="crayon-t">class</span><span class="crayon-h"></span><span class="crayon-e">Program</span></p><p class="crayon-line" id="crayon-5e420280b1b08602971744-9"><span class="crayon-h"></span><span class="crayon-sy">{</span><span class="crayon-h"></span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b08602971744-10"><span class="crayon-h"></span><span class="crayon-m">public</span><span class="crayon-h"></span><span class="crayon-m">static</span><span class="crayon-h"></span><span class="crayon-t">void</span><span class="crayon-h"></span><span class="crayon-e">Main</span><span class="crayon-sy">(</span><span class="crayon-t">string</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"></span><span class="crayon-v">args</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-5e420280b1b08602971744-11"><span class="crayon-h"></span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b08602971744-12"><span class="crayon-h"></span><span class="crayon-i">Foo</span><span class="crayon-h"></span><span class="crayon-v">a</span><span class="crayon-h"></span><span class="crayon-o">=</span><span class="crayon-h"></span><span class="crayon-e">delegate</span><span class="crayon-h"></span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-5e420280b1b08602971744-13"><span class="crayon-h"></span><span class="crayon-i">Bar</span><span class="crayon-h"></span><span class="crayon-v">b</span><span class="crayon-h"></span><span class="crayon-o">=</span><span class="crayon-h"></span><span class="crayon-e">delegate</span><span class="crayon-h"></span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-5e420280b1b08602971744-15"><span class="crayon-h"></span><span class="crayon-i">Foo</span><span class="crayon-h"></span><span class="crayon-v">c</span><span class="crayon-h"></span><span class="crayon-o">=</span><span class="crayon-h"></span><span class="crayon-e">delegate</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"></span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b08602971744-16"><span class="crayon-h"></span><span class="crayon-i">Bar</span><span class="crayon-h"></span><span class="crayon-v">d</span><span class="crayon-h"></span><span class="crayon-o">=</span><span class="crayon-h"></span><span class="crayon-e">delegate</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"></span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-5e420280b1b08602971744-17"><span class="crayon-h"></span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b08602971744-18"><span class="crayon-h"></span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-5e420280b1b08602971744-19"><span class="crayon-sy">}</span></p></div></td></tr></tbody></table></div></div><p>The last line doesn’t compile as you need to accept one parameter.</p><h6>79. Can you have <code>DllMain</code> in C#?</h6><p>You can’t in C#, but you can in IL. This is called Module Initializer. You just need to define a type initializer (static constructor) outside of any type (as we already know that you can have global methods and fields in IL):</p><div id="crayon-5e420280b1b0b184599813" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="readonly">.assembly extern mscorlib
{
  .publickeytoken = (B7 7A 5C 56 19 34 E0 89 )                         // .z\V.4..
  .ver 4:0:0:0
}
.assembly 'f66978ab-21bd-416d-b1fd-2cc8d4467cef'
{
  .hash algorithm 0x00008004
  .ver 0:0:0:0
}
.module 'f66978ab-21bd-416d-b1fd-2cc8d4467cef.dll'
// MVID: {15C95762-8B92-4BE6-9ABD-A280C050496E}
.imagebase 0x10000000
.file alignment 0x00000200
.stackreserve 0x00100000
.subsystem 0x0003       // WINDOWS_CUI
.corflags 0x00000001    //  ILONLY
// Image base: 0x015B0000

.method public hidebysig specialname rtspecialname void .cctor() cil managed
{
    .maxstack  8
    IL_0000:  nop
    IL_0001:  ldstr      "Module initializer!"
    IL_0006:  call       void [mscorlib]System.Console::WriteLine(string)
    IL_000b:  nop
    IL_000c:  ret
}


// =============== CLASS MEMBERS DECLARATION ===================

.class public auto ansi beforefieldinit Program.Program
       extends [mscorlib]System.Object
{
  .method public hidebysig static void  Main(string[] args) cil managed
  {
    // 
	.entrypoint
    .maxstack  8
    IL_0000:  nop
    IL_000c:  ret
  } // end of method Program::Main

  .method public hidebysig specialname rtspecialname 
          instance void  .ctor() cil managed
  {
    // 
    .maxstack  8
    IL_0000:  ldarg.0
    IL_0001:  call       instance void [mscorlib]System.Object::.ctor()
    IL_0006:  nop
    IL_0007:  ret
  } // end of method Program::.ctor

} // end of class Program.Program


// =============================================================

// </textarea></p><div class="crayon-main"><table class="crayon-table"><tbody><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content"><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-1">1</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-2">2</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-3">3</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-4">4</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-5">5</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-6">6</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-7">7</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-8">8</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-9">9</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-10">10</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-11">11</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-12">12</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-13">13</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-14">14</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-15">15</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-16">16</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-17">17</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-18">18</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-19">19</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-20">20</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-21">21</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-22">22</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-23">23</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-24">24</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-25">25</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-26">26</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-27">27</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-28">28</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-29">29</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-30">30</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-31">31</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-32">32</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-33">33</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-34">34</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-35">35</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-36">36</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-37">37</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-38">38</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-39">39</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-40">40</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-41">41</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-42">42</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-43">43</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-44">44</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-45">45</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-46">46</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-47">47</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-48">48</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-49">49</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-50">50</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-51">51</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-52">52</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-53">53</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-54">54</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-55">55</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-56">56</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-57">57</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-58">58</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-59">59</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b0b184599813-60">60</p><p class="crayon-num" data-line="crayon-5e420280b1b0b184599813-61">61</p></div></td><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-5e420280b1b0b184599813-1"><span class="crayon-sy">.</span><span class="crayon-e">assembly </span><span class="crayon-e">extern</span><span class="crayon-h"></span><span class="crayon-e">mscorlib</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-2"><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-v">publickeytoken</span><span class="crayon-h"></span><span class="crayon-o">=</span><span class="crayon-h"></span><span class="crayon-sy">(</span><span class="crayon-i">B7</span><span class="crayon-h"></span><span class="crayon-cn">7A</span><span class="crayon-h"></span><span class="crayon-cn">5C</span><span class="crayon-h"></span><span class="crayon-cn">56</span><span class="crayon-h"></span><span class="crayon-cn">19</span><span class="crayon-h"></span><span class="crayon-cn">34</span><span class="crayon-h"></span><span class="crayon-i">E0</span><span class="crayon-h"></span><span class="crayon-cn">89</span><span class="crayon-h"></span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// .z\V.4..</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-i">ver</span><span class="crayon-h"></span><span class="crayon-cn">4</span><span class="crayon-o">:</span><span class="crayon-cn">0</span><span class="crayon-o">:</span><span class="crayon-cn">0</span><span class="crayon-o">:</span><span class="crayon-cn">0</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-5"><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-6"><span class="crayon-sy">.</span><span class="crayon-i">assembly</span><span class="crayon-h"></span><span class="crayon-s">'f66978ab-21bd-416d-b1fd-2cc8d4467cef'</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-7"><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-8"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">hash </span><span class="crayon-i">algorithm</span><span class="crayon-h"></span><span class="crayon-cn">0x00008004</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-9"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-i">ver</span><span class="crayon-h"></span><span class="crayon-cn">0</span><span class="crayon-o">:</span><span class="crayon-cn">0</span><span class="crayon-o">:</span><span class="crayon-cn">0</span><span class="crayon-o">:</span><span class="crayon-cn">0</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-10"><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-11"><span class="crayon-sy">.</span><span class="crayon-i">module</span><span class="crayon-h"></span><span class="crayon-s">'f66978ab-21bd-416d-b1fd-2cc8d4467cef.dll'</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-12"><span class="crayon-c">// MVID: {15C95762-8B92-4BE6-9ABD-A280C050496E}</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-13"><span class="crayon-sy">.</span><span class="crayon-i">imagebase</span><span class="crayon-h"></span><span class="crayon-cn">0x10000000</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-14"><span class="crayon-sy">.</span><span class="crayon-e">file </span><span class="crayon-i">alignment</span><span class="crayon-h"></span><span class="crayon-cn">0x00000200</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-15"><span class="crayon-sy">.</span><span class="crayon-i">stackreserve</span><span class="crayon-h"></span><span class="crayon-cn">0x00100000</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-16"><span class="crayon-sy">.</span><span class="crayon-i">subsystem</span><span class="crayon-h"></span><span class="crayon-cn">0x0003</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// WINDOWS_CUI</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-17"><span class="crayon-sy">.</span><span class="crayon-i">corflags</span><span class="crayon-h"></span><span class="crayon-cn">0x00000001</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//&nbsp;&nbsp;ILONLY</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-18"><span class="crayon-c">// Image base: 0x015B0000</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-20"><span class="crayon-sy">.</span><span class="crayon-e">method </span><span class="crayon-m">public</span><span class="crayon-h"></span><span class="crayon-e">hidebysig </span><span class="crayon-e">specialname </span><span class="crayon-e">rtspecialname </span><span class="crayon-t">void</span><span class="crayon-h"></span><span class="crayon-sy">.</span><span class="crayon-e">cctor</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"></span><span class="crayon-e">cil</span><span class="crayon-h"></span><span class="crayon-e">managed</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-21"><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-i">maxstack</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">8</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">IL_0000</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">nop</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-24"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">IL_0001</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">ldstr</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"Module initializer!"</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">IL_0006</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">call&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-t">void</span><span class="crayon-h"></span><span class="crayon-sy">[</span><span class="crayon-v">mscorlib</span><span class="crayon-sy">]</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">Console</span><span class="crayon-o">::</span><span class="crayon-e">WriteLine</span><span class="crayon-sy">(</span><span class="crayon-t">string</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">IL_000b</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">nop</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-27"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">IL_000c</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">ret</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-28"><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-31"><span class="crayon-c">// =============== CLASS MEMBERS DECLARATION ===================</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-33"><span class="crayon-sy">.</span><span class="crayon-t">class</span><span class="crayon-h"></span><span class="crayon-m">public</span><span class="crayon-h"></span><span class="crayon-e">auto </span><span class="crayon-e">ansi </span><span class="crayon-e">beforefieldinit </span><span class="crayon-v">Program</span><span class="crayon-sy">.</span><span class="crayon-e">Program</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-34"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-r">extends</span><span class="crayon-h"></span><span class="crayon-sy">[</span><span class="crayon-v">mscorlib</span><span class="crayon-sy">]</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-t">Object</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-35"><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-36"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">method </span><span class="crayon-m">public</span><span class="crayon-h"></span><span class="crayon-e">hidebysig </span><span class="crayon-m">static</span><span class="crayon-h"></span><span class="crayon-t">void</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">Main</span><span class="crayon-sy">(</span><span class="crayon-t">string</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"></span><span class="crayon-v">args</span><span class="crayon-sy">)</span><span class="crayon-h"></span><span class="crayon-e">cil</span><span class="crayon-h"></span><span class="crayon-e">managed</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-37"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// </span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-39"><span class="crayon-h"></span><span class="crayon-sy">.</span><span class="crayon-i">entrypoint</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-i">maxstack</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">8</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">IL_0000</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">nop</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-42"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">IL_000c</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">ret</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-43"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"></span><span class="crayon-c">// end of method Program::Main</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-45"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">method </span><span class="crayon-m">public</span><span class="crayon-h"></span><span class="crayon-e">hidebysig </span><span class="crayon-e">specialname </span><span class="crayon-e">rtspecialname </span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-46"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">instance </span><span class="crayon-t">void</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">ctor</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"></span><span class="crayon-e">cil</span><span class="crayon-h"></span><span class="crayon-e">managed</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-47"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// </span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-i">maxstack</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">8</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">IL_0000</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">ldarg</span><span class="crayon-sy">.</span><span class="crayon-cn">0</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">IL_0001</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">call&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">instance </span><span class="crayon-t">void</span><span class="crayon-h"></span><span class="crayon-sy">[</span><span class="crayon-v">mscorlib</span><span class="crayon-sy">]</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-t">Object</span><span class="crayon-o">::</span><span class="crayon-sy">.</span><span class="crayon-e">ctor</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">IL_0006</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">nop</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-53"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">IL_0007</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">ret</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-54"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"></span><span class="crayon-c">// end of method Program::.ctor</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b0b184599813-56"><span class="crayon-sy">}</span><span class="crayon-h"></span><span class="crayon-c">// end of class Program.Program</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-59"><span class="crayon-c">// =============================================================</span></p><p class="crayon-line" id="crayon-5e420280b1b0b184599813-61"><span class="crayon-c">// </span></p></div></td></tr></tbody></table></div></div><p>This must be a type constructor. If you put an instance constructor you will get the following exception:</p><div id="crayon-5e420280b1b0e632643163" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="readonly">Unhandled Exception: System.TypeLoadException: Global Instance Constructor.</textarea></p><div class="crayon-main"><table class="crayon-table"><tbody><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><p class="crayon-num" data-line="crayon-5e420280b1b0e632643163-1">1</p></td><td class="crayon-code"><p class="crayon-line" id="crayon-5e420280b1b0e632643163-1"><span class="crayon-e">Unhandled </span><span class="crayon-v">Exception</span><span class="crayon-o">:</span><span class="crayon-h"></span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">TypeLoadException</span><span class="crayon-o">:</span><span class="crayon-h"></span><span class="crayon-m">Global</span><span class="crayon-h"></span><span class="crayon-e">Instance </span><span class="crayon-v">Constructor</span><span class="crayon-sy">.</span></p></td></tr></tbody></table></div></div><h6>80. Can you implement your own <code>Nullable&lt; T&gt;</code>?</h6><p>No. You can implement structure which would be similar in nature, with the same properties, but <code>Nullable</code> has special runtime support.</p><p>First, you cannot have <code>Nullable</code> of <code>Nullable</code>, even though the signature doesn’t prevent it:</p><div id="crayon-5e420280b1b11113046958" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="readonly">[System.Serializable]
public struct Nullable&lt;T&gt; where T : struct</textarea></p><div class="crayon-main"><table class="crayon-table"><tbody><tr class="crayon-row"><td class="crayon-nums " data-settings="show"></td><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-5e420280b1b11113046958-1"><span class="crayon-sy">[</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">Serializable</span><span class="crayon-sy">]</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b11113046958-2"><span class="crayon-m">public</span><span class="crayon-h"></span><span class="crayon-t">struct</span><span class="crayon-h"></span><span class="crayon-v">Nullable</span><span class="crayon-o">&lt;</span><span class="crayon-v">T</span><span class="crayon-o">&gt;</span><span class="crayon-h"></span><span class="crayon-i">where</span><span class="crayon-h"></span><span class="crayon-v">T</span><span class="crayon-h"></span><span class="crayon-o">:</span><span class="crayon-h"></span><span class="crayon-t">struct</span></p></div></td></tr></tbody></table></div></div><p>Second, you cannot override <code>GetType</code> so you will have <a href="https://dotnetfiddle.net/Iyj7rl">different results</a>:</p><div id="crayon-5e420280b1b14603670568" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="readonly">using System;

namespace Program
{
	public class Program
	{
		public static void Main(string[] args)
		{
			Nullable&lt;int&gt; i = 5;
			Console.WriteLine(i.GetType());
			OwnNullable&lt;int&gt; j = 6;
			Console.WriteLine(j.GetType());
		}
	}
}

struct OwnNullable&lt;T&gt;
	where T : struct
{
	private T field;
	public OwnNullable(T value)
	{
		field = value;
	}

	public static implicit operator OwnNullable&lt;T&gt;(T value)
	{
		return new OwnNullable&lt;T&gt;(value);
	}
}</textarea></p><div class="crayon-main"><table class="crayon-table"><tbody><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content"><p class="crayon-num" data-line="crayon-5e420280b1b14603670568-1">1</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b14603670568-2">2</p><p class="crayon-num" data-line="crayon-5e420280b1b14603670568-3">3</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b14603670568-4">4</p><p class="crayon-num" data-line="crayon-5e420280b1b14603670568-5">5</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b14603670568-6">6</p><p class="crayon-num" data-line="crayon-5e420280b1b14603670568-7">7</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b14603670568-8">8</p><p class="crayon-num" data-line="crayon-5e420280b1b14603670568-9">9</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b14603670568-10">10</p><p class="crayon-num" data-line="crayon-5e420280b1b14603670568-11">11</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b14603670568-12">12</p><p class="crayon-num" data-line="crayon-5e420280b1b14603670568-13">13</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b14603670568-14">14</p><p class="crayon-num" data-line="crayon-5e420280b1b14603670568-15">15</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b14603670568-16">16</p><p class="crayon-num" data-line="crayon-5e420280b1b14603670568-17">17</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b14603670568-18">18</p><p class="crayon-num" data-line="crayon-5e420280b1b14603670568-19">19</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b14603670568-20">20</p><p class="crayon-num" data-line="crayon-5e420280b1b14603670568-21">21</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b14603670568-22">22</p><p class="crayon-num" data-line="crayon-5e420280b1b14603670568-23">23</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b14603670568-24">24</p><p class="crayon-num" data-line="crayon-5e420280b1b14603670568-25">25</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b14603670568-26">26</p><p class="crayon-num" data-line="crayon-5e420280b1b14603670568-27">27</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b14603670568-28">28</p><p class="crayon-num" data-line="crayon-5e420280b1b14603670568-29">29</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b14603670568-30">30</p></div></td><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-5e420280b1b14603670568-1"><span class="crayon-e">using </span><span class="crayon-v">System</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-5e420280b1b14603670568-3"><span class="crayon-t">namespace</span><span class="crayon-h"></span><span class="crayon-e">Program</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b14603670568-4"><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-5e420280b1b14603670568-5"><span class="crayon-h"></span><span class="crayon-m">public</span><span class="crayon-h"></span><span class="crayon-t">class</span><span class="crayon-h"></span><span class="crayon-e">Program</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b14603670568-6"><span class="crayon-h"></span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-5e420280b1b14603670568-7"><span class="crayon-h"></span><span class="crayon-m">public</span><span class="crayon-h"></span><span class="crayon-m">static</span><span class="crayon-h"></span><span class="crayon-t">void</span><span class="crayon-h"></span><span class="crayon-e">Main</span><span class="crayon-sy">(</span><span class="crayon-t">string</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"></span><span class="crayon-v">args</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b14603670568-8"><span class="crayon-h"></span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-5e420280b1b14603670568-9"><span class="crayon-h"></span><span class="crayon-v">Nullable</span><span class="crayon-o">&lt;</span><span class="crayon-t">int</span><span class="crayon-o">&gt;</span><span class="crayon-h"></span><span class="crayon-v">i</span><span class="crayon-h"></span><span class="crayon-o">=</span><span class="crayon-h"></span><span class="crayon-cn">5</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b14603670568-10"><span class="crayon-h"></span><span class="crayon-v">Console</span><span class="crayon-sy">.</span><span class="crayon-e">WriteLine</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">.</span><span class="crayon-e">GetType</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-5e420280b1b14603670568-11"><span class="crayon-h"></span><span class="crayon-v">OwnNullable</span><span class="crayon-o">&lt;</span><span class="crayon-t">int</span><span class="crayon-o">&gt;</span><span class="crayon-h"></span><span class="crayon-v">j</span><span class="crayon-h"></span><span class="crayon-o">=</span><span class="crayon-h"></span><span class="crayon-cn">6</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b14603670568-12"><span class="crayon-h"></span><span class="crayon-v">Console</span><span class="crayon-sy">.</span><span class="crayon-e">WriteLine</span><span class="crayon-sy">(</span><span class="crayon-v">j</span><span class="crayon-sy">.</span><span class="crayon-e">GetType</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-5e420280b1b14603670568-13"><span class="crayon-h"></span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b14603670568-14"><span class="crayon-h"></span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-5e420280b1b14603670568-15"><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-5e420280b1b14603670568-17"><span class="crayon-t">struct</span><span class="crayon-h"></span><span class="crayon-v">OwnNullable</span><span class="crayon-o">&lt;</span><span class="crayon-v">T</span><span class="crayon-o">&gt;</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b14603670568-18"><span class="crayon-h"></span><span class="crayon-i">where</span><span class="crayon-h"></span><span class="crayon-v">T</span><span class="crayon-h"></span><span class="crayon-o">:</span><span class="crayon-h"></span><span class="crayon-t">struct</span></p><p class="crayon-line" id="crayon-5e420280b1b14603670568-19"><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b14603670568-20"><span class="crayon-h"></span><span class="crayon-m">private</span><span class="crayon-h"></span><span class="crayon-i">T</span><span class="crayon-h"></span><span class="crayon-v">field</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-5e420280b1b14603670568-21"><span class="crayon-h"></span><span class="crayon-m">public</span><span class="crayon-h"></span><span class="crayon-e">OwnNullable</span><span class="crayon-sy">(</span><span class="crayon-i">T</span><span class="crayon-h"></span><span class="crayon-v">value</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b14603670568-22"><span class="crayon-h"></span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-5e420280b1b14603670568-23"><span class="crayon-h"></span><span class="crayon-v">field</span><span class="crayon-h"></span><span class="crayon-o">=</span><span class="crayon-h"></span><span class="crayon-v">value</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b14603670568-24"><span class="crayon-h"></span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b14603670568-26"><span class="crayon-h"></span><span class="crayon-m">public</span><span class="crayon-h"></span><span class="crayon-m">static</span><span class="crayon-h"></span><span class="crayon-e">implicit </span><span class="crayon-e">operator </span><span class="crayon-v">OwnNullable</span><span class="crayon-o">&lt;</span><span class="crayon-v">T</span><span class="crayon-o">&gt;</span><span class="crayon-sy">(</span><span class="crayon-i">T</span><span class="crayon-h"></span><span class="crayon-v">value</span><span class="crayon-sy">)</span></p><p class="crayon-line" id="crayon-5e420280b1b14603670568-27"><span class="crayon-h"></span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b14603670568-28"><span class="crayon-h"></span><span class="crayon-st">return</span><span class="crayon-h"></span><span class="crayon-r">new</span><span class="crayon-h"></span><span class="crayon-v">OwnNullable</span><span class="crayon-o">&lt;</span><span class="crayon-v">T</span><span class="crayon-o">&gt;</span><span class="crayon-sy">(</span><span class="crayon-v">value</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-5e420280b1b14603670568-29"><span class="crayon-h"></span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b14603670568-30"><span class="crayon-sy">}</span></p></div></td></tr></tbody></table></div></div><p>Output:</p><div id="crayon-5e420280b1b17041034887" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="readonly">System.Int32
OwnNullable`1[System.Int32]</textarea></p><div class="crayon-main"><table class="crayon-table"><tbody><tr class="crayon-row"><td class="crayon-nums " data-settings="show"></td><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-5e420280b1b17041034887-1"><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-e">Int32</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b17041034887-2"><span class="crayon-v">OwnNullable</span><span class="crayon-sy">`</span><span class="crayon-cn">1</span><span class="crayon-sy">[</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">Int32</span><span class="crayon-sy">]</span></p></div></td></tr></tbody></table></div></div><p>Third, you cannot assign <code>null</code> to instance of your type.</p><p>There are other differences around operators and method calls, so generally you can’t do that on your own.</p><h6>81. Can you have more visible type inherit from less visible one?</h6><p>You can do that with interfaces, see <a href="https://dotnetfiddle.net/NaPyOL">this</a>:</p><div id="crayon-5e420280b1b1a560614062" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover"><p class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="readonly">using System;

namespace Program
{
	public class Program
	{
		public static void Main(string[] args)
		{
			var foo = new Foo();
		}
	}
}

public class Foo
{
	private interface IBar
	{
	}

	public class Bar : IBar
	{
	}
}</textarea></p><div class="crayon-main"><table class="crayon-table"><tbody><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content"><p class="crayon-num" data-line="crayon-5e420280b1b1a560614062-1">1</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b1a560614062-2">2</p><p class="crayon-num" data-line="crayon-5e420280b1b1a560614062-3">3</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b1a560614062-4">4</p><p class="crayon-num" data-line="crayon-5e420280b1b1a560614062-5">5</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b1a560614062-6">6</p><p class="crayon-num" data-line="crayon-5e420280b1b1a560614062-7">7</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b1a560614062-8">8</p><p class="crayon-num" data-line="crayon-5e420280b1b1a560614062-9">9</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b1a560614062-10">10</p><p class="crayon-num" data-line="crayon-5e420280b1b1a560614062-11">11</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b1a560614062-12">12</p><p class="crayon-num" data-line="crayon-5e420280b1b1a560614062-13">13</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b1a560614062-14">14</p><p class="crayon-num" data-line="crayon-5e420280b1b1a560614062-15">15</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b1a560614062-16">16</p><p class="crayon-num" data-line="crayon-5e420280b1b1a560614062-17">17</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b1a560614062-18">18</p><p class="crayon-num" data-line="crayon-5e420280b1b1a560614062-19">19</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b1a560614062-20">20</p><p class="crayon-num" data-line="crayon-5e420280b1b1a560614062-21">21</p><p class="crayon-num crayon-striped-num" data-line="crayon-5e420280b1b1a560614062-22">22</p><p class="crayon-num" data-line="crayon-5e420280b1b1a560614062-23">23</p></div></td><td class="crayon-code"><div class="crayon-pre"><p class="crayon-line" id="crayon-5e420280b1b1a560614062-1"><span class="crayon-e">using </span><span class="crayon-v">System</span><span class="crayon-sy">;</span></p><p class="crayon-line" id="crayon-5e420280b1b1a560614062-3"><span class="crayon-t">namespace</span><span class="crayon-h"></span><span class="crayon-e">Program</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b1a560614062-4"><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-5e420280b1b1a560614062-5"><span class="crayon-h"></span><span class="crayon-m">public</span><span class="crayon-h"></span><span class="crayon-t">class</span><span class="crayon-h"></span><span class="crayon-e">Program</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b1a560614062-6"><span class="crayon-h"></span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-5e420280b1b1a560614062-7"><span class="crayon-h"></span><span class="crayon-m">public</span><span class="crayon-h"></span><span class="crayon-m">static</span><span class="crayon-h"></span><span class="crayon-t">void</span><span class="crayon-h"></span><span class="crayon-e">Main</span><span class="crayon-sy">(</span><span class="crayon-t">string</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"></span><span class="crayon-v">args</span><span class="crayon-sy">)</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b1a560614062-8"><span class="crayon-h"></span><span class="crayon-sy">{</span></p><p class="crayon-line" id="crayon-5e420280b1b1a560614062-9"><span class="crayon-h"></span><span class="crayon-t">var</span><span class="crayon-h"></span><span class="crayon-v">foo</span><span class="crayon-h"></span><span class="crayon-o">=</span><span class="crayon-h"></span><span class="crayon-r">new</span><span class="crayon-h"></span><span class="crayon-e">Foo</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b1a560614062-10"><span class="crayon-h"></span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-5e420280b1b1a560614062-11"><span class="crayon-h"></span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b1a560614062-12"><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b1a560614062-14"><span class="crayon-m">public</span><span class="crayon-h"></span><span class="crayon-t">class</span><span class="crayon-h"></span><span class="crayon-e">Foo</span></p><p class="crayon-line" id="crayon-5e420280b1b1a560614062-15"><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b1a560614062-16"><span class="crayon-h"></span><span class="crayon-m">private</span><span class="crayon-h"></span><span class="crayon-t">interface</span><span class="crayon-h"></span><span class="crayon-e">IBar</span></p><p class="crayon-line" id="crayon-5e420280b1b1a560614062-17"><span class="crayon-h"></span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b1a560614062-18"><span class="crayon-h"></span><span class="crayon-sy">}</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b1a560614062-20"><span class="crayon-h"></span><span class="crayon-m">public</span><span class="crayon-h"></span><span class="crayon-t">class</span><span class="crayon-h"></span><span class="crayon-v">Bar</span><span class="crayon-h"></span><span class="crayon-o">:</span><span class="crayon-h"></span><span class="crayon-e">IBar</span></p><p class="crayon-line" id="crayon-5e420280b1b1a560614062-21"><span class="crayon-h"></span><span class="crayon-sy">{</span></p><p class="crayon-line crayon-striped-line" id="crayon-5e420280b1b1a560614062-22"><span class="crayon-h"></span><span class="crayon-sy">}</span></p><p class="crayon-line" id="crayon-5e420280b1b1a560614062-23"><span class="crayon-sy">}</span></p></div></td></tr></tbody></table></div></div><p>It compiles and runs correctly.</p></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
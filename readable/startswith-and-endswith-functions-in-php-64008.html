<!DOCTYPE html>
<html lang="en">
<head>
    <title>
startsWith() and endsWith() functions in PHP - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="startsWith() and endsWith() functions in PHP - linksfor.dev(s)"/>
    <meta property="article:author" content="MrHusMrHus&#xA;        &#xA;            28.3k66 gold badges2727 silver badges3131 bronze badges"/>
    <meta property="og:description" content="How can I write two functions that would take a string and return if it starts with the specified character/string or ends with it?&#xA;&#xA;For example:&#xA;&#xA;$str = &#x27;|apples}&#x27;;&#xA;&#xA;echo startsWith($str, &#x27;|&#x27;); //"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://stackoverflow.com/questions/834303/startswith-and-endswith-functions-in-php"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - startsWith() and endsWith() functions in PHP</title>
<div class="readable">
        <h1>startsWith() and endsWith() functions in PHP</h1>
            <div>by MrHusMrHus&#xA;        &#xA;            28.3k66 gold badges2727 silver badges3131 bronze badges</div>
            <div>Reading time: 29-37 minutes</div>
        <div>Posted here: 08 Jul 2020</div>
        <p><a href="https://stackoverflow.com/questions/834303/startswith-and-endswith-functions-in-php">https://stackoverflow.com/questions/834303/startswith-and-endswith-functions-in-php</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="mainbar" role="main" aria-label="question and answers">

                
<div data-questionid="834303" id="question">
    


    <div>
        

        

<div>
    
    <div itemprop="text">
                    
<p>How can I write two functions that would take a string and return if it starts with the specified character/string or ends with it?</p>

<p>For example:</p>

<pre><code><span>$str </span><span>=</span><span> </span><span>'|apples}'</span><span>;</span><span>

echo startsWith</span><span>(</span><span>$str</span><span>,</span><span> </span><span>'|'</span><span>);</span><span> </span><span>//Returns true</span><span>
echo endsWith</span><span>(</span><span>$str</span><span>,</span><span> </span><span>'}'</span><span>);</span><span> </span><span>//Returns true</span></code></pre>
    </div>

        

    <div>
        <div>
            

                <div>
<div>
    
    <div>
        <a href="https://stackoverflow.com/users/479156/ivar"><p><img src="https://i.stack.imgur.com/x9N3C.jpg?s=32&amp;g=1" alt="" width="32" height="32"></p></a>
    </div>
    <div>
        <p><a href="https://stackoverflow.com/users/479156/ivar">Ivar</a></p><p><span title="reputation score " dir="ltr">3,831</span><span>11 gold badges</span><span>38 silver badges</span><span>46 bronze badges</span>
        </p>
    </div>
</div>                </div>
            <div>
                <div>
    <p>
        asked <span title="2009-05-07 12:14:27Z">May 7 '09 at 12:14</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/49153/click-upvote"><p><img src="https://www.gravatar.com/avatar/833df8cee775eea743cb1172dfcd3809?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/49153/click-upvote">Click Upvote</a><span itemprop="name">Click Upvote</span></p><p><span title="reputation score 220,166" dir="ltr">220k</span><span>245 gold badges</span><span>546 silver badges</span><span>717 bronze badges</span>
        </p>
    </div>
</div>

            </div>
        </div>
    </div>
    
</div>


                
    </div>
</div>




                <div id="answers">

                    



                                          
<div id="answer-834355" data-answerid="834355" itemprop="acceptedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<pre><code><span>function</span><span> startsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span>
</span><span>{</span><span>
     $length </span><span>=</span><span> strlen</span><span>(</span><span>$needle</span><span>);</span><span>
     </span><span>return</span><span> </span><span>(</span><span>substr</span><span>(</span><span>$haystack</span><span>,</span><span> </span><span>0</span><span>,</span><span> $length</span><span>)</span><span> </span><span>===</span><span> $needle</span><span>);</span><span>
</span><span>}</span><span>

</span><span>function</span><span> endsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span>
</span><span>{</span><span>
    $length </span><span>=</span><span> strlen</span><span>(</span><span>$needle</span><span>);</span><span>
    </span><span>if</span><span> </span><span>(</span><span>$length </span><span>==</span><span> </span><span>0</span><span>)</span><span> </span><span>{</span><span>
        </span><span>return</span><span> </span><span>true</span><span>;</span><span>
    </span><span>}</span><span>

    </span><span>return</span><span> </span><span>(</span><span>substr</span><span>(</span><span>$haystack</span><span>,</span><span> </span><span>-</span><span>$length</span><span>)</span><span> </span><span>===</span><span> $needle</span><span>);</span><span>
</span><span>}</span></code></pre>

<p>Use this if you don't want to use a regex.</p>
    </div>
    <div>
        
    


    <div>
        <div>
    <p>
        answered <span title="2009-05-07 12:24:25Z">May 7 '09 at 12:24</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/63557/mrhus"><p><img src="https://www.gravatar.com/avatar/4fa262299223e58030e9062d97224547?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></p></a>
    </div>
    
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>


                                          
<div id="answer-10473026" data-answerid="10473026" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>You can use <a href="https://www.php.net/manual/en/function.substr-compare.php" rel="noreferrer"><code>substr_compare</code></a> function to check start-with and ends-with:</p>

<pre><code><span>function</span><span> startsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>{</span><span>
    </span><span>return</span><span> substr_compare</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> </span><span>0</span><span>,</span><span> strlen</span><span>(</span><span>$needle</span><span>))</span><span> </span><span>===</span><span> </span><span>0</span><span>;</span><span>
</span><span>}</span><span>
</span><span>function</span><span> endsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>{</span><span>
    </span><span>return</span><span> substr_compare</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> </span><span>-</span><span>strlen</span><span>(</span><span>$needle</span><span>))</span><span> </span><span>===</span><span> </span><span>0</span><span>;</span><span>
</span><span>}</span></code></pre>

<hr>

<p><sup>This should be one of the fastest solutions on PHP 7 (<a href="https://gist.github.com/salmanarshad2000/99ce15b5be1bd12d7523939397eec20c" rel="noreferrer">benchmark script</a>). Tested against 8KB haystacks, various length needles and full, partial and no match cases. <code>strncmp</code> is a touch faster for starts-with but it cannot check ends-with.</sup></p>
    </div>
    <div>
        
    


    <div>
        <div>
    <p>
        answered <span title="2012-05-06 18:22:36Z">May 6 '12 at 18:22</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/87015/salman-a"><p><img src="https://www.gravatar.com/avatar/2f9b099fb455d3ddedb0bfa7430e51a9?s=32&amp;d=identicon&amp;r=PG&amp;f=1" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/87015/salman-a">Salman A</a><span itemprop="name">Salman A</span></p><p><span title="reputation score 217,397" dir="ltr">217k</span><span>75 gold badges</span><span>378 silver badges</span><span>475 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-7168986" data-answerid="7168986" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>Updated 23-Aug-2016</p>



<pre><code><span>function</span><span> substr_startswith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>{</span><span>
    </span><span>return</span><span> substr</span><span>(</span><span>$haystack</span><span>,</span><span> </span><span>0</span><span>,</span><span> strlen</span><span>(</span><span>$needle</span><span>))</span><span> </span><span>===</span><span> $needle</span><span>;</span><span>
</span><span>}</span><span>

</span><span>function</span><span> preg_match_startswith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>{</span><span>
    </span><span>return</span><span> preg_match</span><span>(</span><span>'~'</span><span> </span><span>.</span><span> preg_quote</span><span>(</span><span>$needle</span><span>,</span><span> </span><span>'~'</span><span>)</span><span> </span><span>.</span><span> </span><span>'~A'</span><span>,</span><span> $haystack</span><span>)</span><span> </span><span>&gt;</span><span> </span><span>0</span><span>;</span><span>
</span><span>}</span><span>

</span><span>function</span><span> substr_compare_startswith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>{</span><span>
    </span><span>return</span><span> substr_compare</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> </span><span>0</span><span>,</span><span> strlen</span><span>(</span><span>$needle</span><span>))</span><span> </span><span>===</span><span> </span><span>0</span><span>;</span><span>
</span><span>}</span><span>

</span><span>function</span><span> strpos_startswith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>{</span><span>
    </span><span>return</span><span> strpos</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>===</span><span> </span><span>0</span><span>;</span><span>
</span><span>}</span><span>

</span><span>function</span><span> strncmp_startswith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>{</span><span>
    </span><span>return</span><span> strncmp</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> strlen</span><span>(</span><span>$needle</span><span>))</span><span> </span><span>===</span><span> </span><span>0</span><span>;</span><span>
</span><span>}</span><span>

</span><span>function</span><span> strncmp_startswith2</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>{</span><span>
    </span><span>return</span><span> $haystack</span><span>[</span><span>0</span><span>]</span><span> </span><span>===</span><span> $needle</span><span>[</span><span>0</span><span>]</span><span>
        </span><span>?</span><span> strncmp</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> strlen</span><span>(</span><span>$needle</span><span>))</span><span> </span><span>===</span><span> </span><span>0</span><span>
        </span><span>:</span><span> </span><span>false</span><span>;</span><span>
</span><span>}</span></code></pre>



<pre><code><span>echo </span><span>'generating tests'</span><span>;</span><span>
</span><span>for</span><span>(</span><span>$i </span><span>=</span><span> </span><span>0</span><span>;</span><span> $i </span><span>&lt;</span><span> </span><span>100000</span><span>;</span><span> </span><span>++</span><span>$i</span><span>)</span><span> </span><span>{</span><span>
    </span><span>if</span><span>(</span><span>$i </span><span>%</span><span> </span><span>2500</span><span> </span><span>===</span><span> </span><span>0</span><span>)</span><span> echo </span><span>'.'</span><span>;</span><span>
    $test_cases</span><span>[]</span><span> </span><span>=</span><span> </span><span>[</span><span>
        random_bytes</span><span>(</span><span>random_int</span><span>(</span><span>1</span><span>,</span><span> </span><span>7000</span><span>)),</span><span>
        random_bytes</span><span>(</span><span>random_int</span><span>(</span><span>1</span><span>,</span><span> </span><span>3000</span><span>)),</span><span>
    </span><span>];</span><span>
</span><span>}</span><span>
echo </span><span>"done!\n"</span><span>;</span><span>


$functions </span><span>=</span><span> </span><span>[</span><span>'substr_startswith'</span><span>,</span><span> </span><span>'preg_match_startswith'</span><span>,</span><span> </span><span>'substr_compare_startswith'</span><span>,</span><span> </span><span>'strpos_startswith'</span><span>,</span><span> </span><span>'strncmp_startswith'</span><span>,</span><span> </span><span>'strncmp_startswith2'</span><span>];</span><span>
$results </span><span>=</span><span> </span><span>[];</span><span>

</span><span>foreach</span><span>(</span><span>$functions </span><span>as</span><span> $func</span><span>)</span><span> </span><span>{</span><span>
    $start </span><span>=</span><span> microtime</span><span>(</span><span>true</span><span>);</span><span>
    </span><span>foreach</span><span>(</span><span>$test_cases </span><span>as</span><span> $tc</span><span>)</span><span> </span><span>{</span><span>
        $func</span><span>(...</span><span>$tc</span><span>);</span><span>
    </span><span>}</span><span>
    $results</span><span>[</span><span>$func</span><span>]</span><span> </span><span>=</span><span> </span><span>(</span><span>microtime</span><span>(</span><span>true</span><span>)</span><span> </span><span>-</span><span> $start</span><span>)</span><span> </span><span>*</span><span> </span><span>1000</span><span>;</span><span>
</span><span>}</span><span>

asort</span><span>(</span><span>$results</span><span>);</span><span>

</span><span>foreach</span><span>(</span><span>$results </span><span>as</span><span> $func </span><span>=&gt;</span><span> $time</span><span>)</span><span> </span><span>{</span><span>
    echo </span><span>"$func: "</span><span> </span><span>.</span><span> number_format</span><span>(</span><span>$time</span><span>,</span><span> </span><span>1</span><span>)</span><span> </span><span>.</span><span> </span><span>" ms\n"</span><span>;</span><span>
</span><span>}</span></code></pre>



<p>(Sorted fastest to slowest)</p>

<pre><code><span>strncmp_startswith2</span><span>:</span><span> </span><span>40.2</span><span> ms
strncmp_startswith</span><span>:</span><span> </span><span>42.9</span><span> ms
substr_compare_startswith</span><span>:</span><span> </span><span>44.5</span><span> ms
substr_startswith</span><span>:</span><span> </span><span>48.4</span><span> ms
strpos_startswith</span><span>:</span><span> </span><span>138.7</span><span> ms
preg_match_startswith</span><span>:</span><span> </span><span>13</span><span>,</span><span>152.4</span><span> ms</span></code></pre>



<p>(Sorted fastest to slowest)</p>

<pre><code><span>strncmp_startswith2</span><span>:</span><span> </span><span>477.9</span><span> ms
strpos_startswith</span><span>:</span><span> </span><span>522.1</span><span> ms
strncmp_startswith</span><span>:</span><span> </span><span>617.1</span><span> ms
substr_compare_startswith</span><span>:</span><span> </span><span>706.7</span><span> ms
substr_startswith</span><span>:</span><span> </span><span>756.8</span><span> ms
preg_match_startswith</span><span>:</span><span> </span><span>10</span><span>,</span><span>200.0</span><span> ms</span></code></pre>

<p><a href="https://gist.github.com/mnpenner/9a941ab830a457ed0358#file-startswith_benchmark-php" rel="noreferrer">startswith_benchmark.php</a></p>
    </div>
    <div>
        
    <div>
<div>
    
    <div>
        <a href="https://stackoverflow.com/users/1596294/%d0%90%d1%80%d1%82%d1%83%d1%80-%d0%9a%d1%83%d1%80%d0%b8%d1%86%d1%8b%d0%bd"><p><img src="https://www.gravatar.com/avatar/b4123857639ff4787182b1a14d5a94d3?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></p></a>
    </div>
    
</div>    </div>


    <div>
        <div>
    <p>
        answered <span title="2011-08-24 00:07:50Z">Aug 24 '11 at 0:07</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/65387/mpen"><p><img src="https://www.gravatar.com/avatar/c0377fc1b08293d3362611978913a32b?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/65387/mpen">mpen</a><span itemprop="name">mpen</span></p><p><span title="reputation score 218,150" dir="ltr">218k</span><span>206 gold badges</span><span>715 silver badges</span><span>1050 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>


                                          
<div id="answer-860509" data-answerid="860509" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>All answers so far seem to do loads of unnecessary work, <code>strlen calculations</code>, <code>string allocations (substr)</code>, etc. The <code>'strpos'</code> and <code>'stripos'</code> functions return the index of the first occurrence of <code>$needle</code> in <code>$haystack</code>:</p>

<pre><code><span>function</span><span> startsWith</span><span>(</span><span>$haystack</span><span>,</span><span>$needle</span><span>,</span><span>$case</span><span>=</span><span>true</span><span>)</span><span>
</span><span>{</span><span>
    </span><span>if</span><span> </span><span>(</span><span>$case</span><span>)</span><span>
        </span><span>return</span><span> strpos</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> </span><span>0</span><span>)</span><span> </span><span>===</span><span> </span><span>0</span><span>;</span><span>

    </span><span>return</span><span> stripos</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> </span><span>0</span><span>)</span><span> </span><span>===</span><span> </span><span>0</span><span>;</span><span>
</span><span>}</span><span>

</span><span>function</span><span> endsWith</span><span>(</span><span>$haystack</span><span>,</span><span>$needle</span><span>,</span><span>$case</span><span>=</span><span>true</span><span>)</span><span>
</span><span>{</span><span>
    $expectedPosition </span><span>=</span><span> strlen</span><span>(</span><span>$haystack</span><span>)</span><span> </span><span>-</span><span> strlen</span><span>(</span><span>$needle</span><span>);</span><span>

    </span><span>if</span><span> </span><span>(</span><span>$case</span><span>)</span><span>
        </span><span>return</span><span> strrpos</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> </span><span>0</span><span>)</span><span> </span><span>===</span><span> $expectedPosition</span><span>;</span><span>

    </span><span>return</span><span> strripos</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> </span><span>0</span><span>)</span><span> </span><span>===</span><span> $expectedPosition</span><span>;</span><span>
</span><span>}</span></code></pre>
    </div>
    <div>
        
    <div>
<div>
    
    <div>
        <a href="https://stackoverflow.com/users/2754166/ram-sharma"><p><img src="https://i.stack.imgur.com/8Dj5s.png?s=32&amp;g=1" alt="" width="32" height="32"></p></a>
    </div>
    <div>
        <p><a href="https://stackoverflow.com/users/2754166/ram-sharma">Ram Sharma</a></p><p><span title="reputation score " dir="ltr">8,108</span><span>6 gold badges</span><span>32 silver badges</span><span>51 bronze badges</span>
        </p>
    </div>
</div>    </div>


    <div>
        <div>
    <p>
        answered <span title="2009-05-13 21:23:43Z">May 13 '09 at 21:23</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/5555/sander-rijken"><p><img src="https://www.gravatar.com/avatar/087d08a1d3d8a1259f281035700b9a58?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/5555/sander-rijken">Sander Rijken</a><span itemprop="name">Sander Rijken</span></p><p><span title="reputation score 20,628" dir="ltr">20.6k</span><span>3 gold badges</span><span>57 silver badges</span><span>85 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-834307" data-answerid="834307" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<pre><code><span>function</span><span> startsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> $case </span><span>=</span><span> </span><span>true</span><span>)</span><span> </span><span>{</span><span>
    </span><span>if</span><span> </span><span>(</span><span>$case</span><span>)</span><span> </span><span>{</span><span>
        </span><span>return</span><span> </span><span>(</span><span>strcmp</span><span>(</span><span>substr</span><span>(</span><span>$haystack</span><span>,</span><span> </span><span>0</span><span>,</span><span> strlen</span><span>(</span><span>$needle</span><span>)),</span><span> $needle</span><span>)</span><span> </span><span>===</span><span> </span><span>0</span><span>);</span><span>
    </span><span>}</span><span>
    </span><span>return</span><span> </span><span>(</span><span>strcasecmp</span><span>(</span><span>substr</span><span>(</span><span>$haystack</span><span>,</span><span> </span><span>0</span><span>,</span><span> strlen</span><span>(</span><span>$needle</span><span>)),</span><span> $needle</span><span>)</span><span> </span><span>===</span><span> </span><span>0</span><span>);</span><span>
</span><span>}</span><span>

</span><span>function</span><span> endsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> $case </span><span>=</span><span> </span><span>true</span><span>)</span><span> </span><span>{</span><span>
    </span><span>if</span><span> </span><span>(</span><span>$case</span><span>)</span><span> </span><span>{</span><span>
        </span><span>return</span><span> </span><span>(</span><span>strcmp</span><span>(</span><span>substr</span><span>(</span><span>$haystack</span><span>,</span><span> strlen</span><span>(</span><span>$haystack</span><span>)</span><span> </span><span>-</span><span> strlen</span><span>(</span><span>$needle</span><span>)),</span><span> $needle</span><span>)</span><span> </span><span>===</span><span> </span><span>0</span><span>);</span><span>
    </span><span>}</span><span>
    </span><span>return</span><span> </span><span>(</span><span>strcasecmp</span><span>(</span><span>substr</span><span>(</span><span>$haystack</span><span>,</span><span> strlen</span><span>(</span><span>$haystack</span><span>)</span><span> </span><span>-</span><span> strlen</span><span>(</span><span>$needle</span><span>)),</span><span> $needle</span><span>)</span><span> </span><span>===</span><span> </span><span>0</span><span>);</span><span>
</span><span>}</span></code></pre>

<p><strong>Credit To</strong>:</p>

<p><a href="http://snipplr.com/view/13213/check-if-a-string-ends-with-another-string/" rel="noreferrer">Check if a string ends with another string</a></p>

<p><a href="http://snipplr.com/view/13214/check-if-a-string-begins-with-another-string/" rel="noreferrer">Check if a string begins with another string</a></p>
    </div>
    <div>
        
    <div>
<div>
    
    <div>
        <a href="https://stackoverflow.com/users/439427/rubens-mariuzzo"><p><img src="https://www.gravatar.com/avatar/c1201849caa3693e9b41824351c9dc3d?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></p></a>
    </div>
    
</div>    </div>


    <div>
        <div>
    <p>
        answered <span title="2009-05-07 12:15:48Z">May 7 '09 at 12:15</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/80907/kdgdev"><p><img src="https://www.gravatar.com/avatar/593b69799dc47d824e2f9da259ae1a12?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/80907/kdgdev">KdgDev</a><span itemprop="name">KdgDev</span></p><p><span title="reputation score 12,835" dir="ltr">12.8k</span><span>45 gold badges</span><span>107 silver badges</span><span>145 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-1018803" data-answerid="1018803" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>The regex functions above, but with the other tweaks also suggested above:</p>

<pre><code><span> </span><span>function</span><span> startsWith</span><span>(</span><span>$needle</span><span>,</span><span> $haystack</span><span>)</span><span> </span><span>{</span><span>
     </span><span>return</span><span> preg_match</span><span>(</span><span>'/^'</span><span> </span><span>.</span><span> preg_quote</span><span>(</span><span>$needle</span><span>,</span><span> </span><span>'/'</span><span>)</span><span> </span><span>.</span><span> </span><span>'/'</span><span>,</span><span> $haystack</span><span>);</span><span>
 </span><span>}</span><span>

 </span><span>function</span><span> endsWith</span><span>(</span><span>$needle</span><span>,</span><span> $haystack</span><span>)</span><span> </span><span>{</span><span>
     </span><span>return</span><span> preg_match</span><span>(</span><span>'/'</span><span> </span><span>.</span><span> preg_quote</span><span>(</span><span>$needle</span><span>,</span><span> </span><span>'/'</span><span>)</span><span> </span><span>.</span><span> </span><span>'$/'</span><span>,</span><span> $haystack</span><span>);</span><span>
 </span><span>}</span></code></pre>
    </div>
    <div>
        
    <div>
<div>
    
    <div>
        <a href="https://stackoverflow.com/users/319266/timo-tijhof"><p><img src="https://www.gravatar.com/avatar/49061e8503ca321a8045c9065963a8c6?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></p></a>
    </div>
    <div>
        <p><a href="https://stackoverflow.com/users/319266/timo-tijhof">Timo Tijhof</a></p><p><span title="reputation score " dir="ltr">9,184</span><span>6 gold badges</span><span>30 silver badges</span><span>44 bronze badges</span>
        </p>
    </div>
</div>    </div>


    <div>
        <div>
    <p>
        answered <span title="2009-06-19 16:11:51Z">Jun 19 '09 at 16:11</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/125828/tridian"><p><img src="https://www.gravatar.com/avatar/07c9dc841912902d23d408e16fd964c8?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/125828/tridian">tridian</a><span itemprop="name">tridian</span></p><p><span title="reputation score " dir="ltr">501</span><span>4 silver badges</span><span>9 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-34629093" data-answerid="34629093" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>This question already has many answers, but in some cases you can settle for something simpler than all of them.
If the string you're looking for is known (hardcoded), you can use regular expressions without any quoting etc.</p>

<p>Check if a string starts with 'ABC':</p>

<pre><code><span>preg_match</span><span>(</span><span>'/^ABC/'</span><span>,</span><span> $myString</span><span>);</span><span> </span><span>// "^" here means beginning of string</span></code></pre>

<p>ends with 'ABC':</p>

<pre><code><span>preg_match</span><span>(</span><span>'/ABC$/'</span><span>,</span><span> $myString</span><span>);</span><span> </span><span>// "$" here means end of string</span></code></pre>

<p>In my simple case, I wanted to check if a string ends with slash:</p>

<pre><code><span>preg_match</span><span>(</span><span>'#/$#'</span><span>,</span><span> $myPath</span><span>);</span><span>   </span><span>// Use "#" as delimiter instead of escaping slash</span></code></pre>

<p>The advantage: since it's very short and simple, you don't have to define a function (such as <code>endsWith()</code>) as shown above.</p>

<p>But again -- this is not a solution for every case, just this very specific one.</p>
    </div>
    <div>
        
    


    <div>
        <div>
    <p>
        answered <span title="2016-01-06 08:59:32Z">Jan 6 '16 at 8:59</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/38557/noamtm"><p><img src="https://www.gravatar.com/avatar/76071d244f6cb779def2c3311c02d874?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/38557/noamtm">noamtm</a><span itemprop="name">noamtm</span></p><p><span title="reputation score " dir="ltr">9,572</span><span>13 gold badges</span><span>57 silver badges</span><span>87 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-1906065" data-answerid="1906065" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>If speed is important for you, try this.(I believe it is the fastest method)</p>

<p>Works only for strings and if $haystack is only 1 character </p>

<pre><code><span>function</span><span> startsWithChar</span><span>(</span><span>$needle</span><span>,</span><span> $haystack</span><span>)</span><span>
</span><span>{</span><span>
   </span><span>return</span><span> </span><span>(</span><span>$needle</span><span>[</span><span>0</span><span>]</span><span> </span><span>===</span><span> $haystack</span><span>);</span><span>
</span><span>}</span><span>

</span><span>function</span><span> endsWithChar</span><span>(</span><span>$needle</span><span>,</span><span> $haystack</span><span>)</span><span>
</span><span>{</span><span>
   </span><span>return</span><span> </span><span>(</span><span>$needle</span><span>[</span><span>strlen</span><span>(</span><span>$needle</span><span>)</span><span> </span><span>-</span><span> </span><span>1</span><span>]</span><span> </span><span>===</span><span> $haystack</span><span>);</span><span>
</span><span>}</span><span>

$str</span><span>=</span><span>'|apples}'</span><span>;</span><span>
echo startsWithChar</span><span>(</span><span>$str</span><span>,</span><span>'|'</span><span>);</span><span> </span><span>//Returns true</span><span>
echo endsWithChar</span><span>(</span><span>$str</span><span>,</span><span>'}'</span><span>);</span><span> </span><span>//Returns true</span><span>
echo startsWithChar</span><span>(</span><span>$str</span><span>,</span><span>'='</span><span>);</span><span> </span><span>//Returns false</span><span>
echo endsWithChar</span><span>(</span><span>$str</span><span>,</span><span>'#'</span><span>);</span><span> </span><span>//Returns false</span></code></pre>
    </div>
    <div>
        


    <div>
        <div>
    <p>
        answered <span title="2009-12-15 08:53:34Z">Dec 15 '09 at 8:53</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/196507/lepe"><p><img src="https://i.stack.imgur.com/ctXYp.png?s=32&amp;g=1" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/196507/lepe">lepe</a><span itemprop="name">lepe</span></p><p><span title="reputation score 21,439" dir="ltr">21.4k</span><span>6 gold badges</span><span>77 silver badges</span><span>96 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-18011383" data-answerid="18011383" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>Here are two functions that don't introduce a temporary string, which could be useful when needles are substantially big:</p>

<pre><code><span>function</span><span> startsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span>
</span><span>{</span><span>
    </span><span>return</span><span> strncmp</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> strlen</span><span>(</span><span>$needle</span><span>))</span><span> </span><span>===</span><span> </span><span>0</span><span>;</span><span>
</span><span>}</span><span>

</span><span>function</span><span> endsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span>
</span><span>{</span><span>
    </span><span>return</span><span> $needle </span><span>===</span><span> </span><span>''</span><span> </span><span>||</span><span> substr_compare</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> </span><span>-</span><span>strlen</span><span>(</span><span>$needle</span><span>))</span><span> </span><span>===</span><span> </span><span>0</span><span>;</span><span>
</span><span>}</span></code></pre>
    </div>
    <div>
        
    


    <div>
        <div>
    <p>
        answered <span title="2013-08-02 07:40:01Z">Aug 2 '13 at 7:40</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/1338292/ja%cd%a2ck"><p><img src="https://www.gravatar.com/avatar/11fcfcebf1ab436d5b59148ec13e9046?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/1338292/ja%cd%a2ck">Ja͢ck</a><span itemprop="name">Ja͢ck</span></p><p><span title="reputation score 155,570" dir="ltr">156k</span><span>32 gold badges</span><span>230 silver badges</span><span>286 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-51491517" data-answerid="51491517" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">


<pre><code><span># Checks if a string ends in a string</span><span>
</span><span>function</span><span> endsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>{</span><span>
    </span><span>return</span><span> substr</span><span>(</span><span>$haystack</span><span>,-</span><span>strlen</span><span>(</span><span>$needle</span><span>))===</span><span>$needle</span><span>;</span><span>
</span><span>}</span></code></pre>



<pre><code><span># This answer</span><span>
</span><span>function</span><span> endsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>{</span><span>
    </span><span>return</span><span> substr</span><span>(</span><span>$haystack</span><span>,-</span><span>strlen</span><span>(</span><span>$needle</span><span>))===</span><span>$needle</span><span>;</span><span>
</span><span>}</span><span>

</span><span># Accepted answer</span><span>
</span><span>function</span><span> endsWith2</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>{</span><span>
    $length </span><span>=</span><span> strlen</span><span>(</span><span>$needle</span><span>);</span><span>

    </span><span>return</span><span> $length </span><span>===</span><span> </span><span>0</span><span> </span><span>||</span><span>
    </span><span>(</span><span>substr</span><span>(</span><span>$haystack</span><span>,</span><span> </span><span>-</span><span>$length</span><span>)</span><span> </span><span>===</span><span> $needle</span><span>);</span><span>
</span><span>}</span><span>

</span><span># Second most-voted answer</span><span>
</span><span>function</span><span> endsWith3</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>{</span><span>
    </span><span>// search forward starting from end minus needle length characters</span><span>
    </span><span>if</span><span> </span><span>(</span><span>$needle </span><span>===</span><span> </span><span>''</span><span>)</span><span> </span><span>{</span><span>
        </span><span>return</span><span> </span><span>true</span><span>;</span><span>
    </span><span>}</span><span>
    $diff </span><span>=</span><span> \strlen</span><span>(</span><span>$haystack</span><span>)</span><span> </span><span>-</span><span> \strlen</span><span>(</span><span>$needle</span><span>);</span><span>
    </span><span>return</span><span> $diff </span><span>&gt;=</span><span> </span><span>0</span><span> </span><span>&amp;&amp;</span><span> strpos</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> $diff</span><span>)</span><span> </span><span>!==</span><span> </span><span>false</span><span>;</span><span>
</span><span>}</span><span>

</span><span># Regex answer</span><span>
</span><span>function</span><span> endsWith4</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>{</span><span>
    </span><span>return</span><span> preg_match</span><span>(</span><span>'/'</span><span> </span><span>.</span><span> preg_quote</span><span>(</span><span>$needle</span><span>,</span><span> </span><span>'/'</span><span>)</span><span> </span><span>.</span><span> </span><span>'$/'</span><span>,</span><span> $haystack</span><span>);</span><span>
</span><span>}</span><span>

</span><span>function</span><span> timedebug</span><span>()</span><span> </span><span>{</span><span>
    $test </span><span>=</span><span> </span><span>10000000</span><span>;</span><span>

    $time1 </span><span>=</span><span> microtime</span><span>(</span><span>true</span><span>);</span><span>
    </span><span>for</span><span> </span><span>(</span><span>$i</span><span>=</span><span>0</span><span>;</span><span> $i </span><span>&lt;</span><span> $test</span><span>;</span><span> $i</span><span>++)</span><span> </span><span>{</span><span>
        $tmp </span><span>=</span><span> endsWith</span><span>(</span><span>'TestShortcode'</span><span>,</span><span> </span><span>'Shortcode'</span><span>);</span><span>
    </span><span>}</span><span>
    $time2 </span><span>=</span><span> microtime</span><span>(</span><span>true</span><span>);</span><span>
    $result1 </span><span>=</span><span> $time2 </span><span>-</span><span> $time1</span><span>;</span><span>

    </span><span>for</span><span> </span><span>(</span><span>$i</span><span>=</span><span>0</span><span>;</span><span> $i </span><span>&lt;</span><span> $test</span><span>;</span><span> $i</span><span>++)</span><span> </span><span>{</span><span>
        $tmp </span><span>=</span><span> endsWith2</span><span>(</span><span>'TestShortcode'</span><span>,</span><span> </span><span>'Shortcode'</span><span>);</span><span>
    </span><span>}</span><span>
    $time3 </span><span>=</span><span> microtime</span><span>(</span><span>true</span><span>);</span><span>
    $result2 </span><span>=</span><span> $time3 </span><span>-</span><span> $time2</span><span>;</span><span>

    </span><span>for</span><span> </span><span>(</span><span>$i</span><span>=</span><span>0</span><span>;</span><span> $i </span><span>&lt;</span><span> $test</span><span>;</span><span> $i</span><span>++)</span><span> </span><span>{</span><span>
        $tmp </span><span>=</span><span> endsWith3</span><span>(</span><span>'TestShortcode'</span><span>,</span><span> </span><span>'Shortcode'</span><span>);</span><span>
    </span><span>}</span><span>
    $time4 </span><span>=</span><span> microtime</span><span>(</span><span>true</span><span>);</span><span>
    $result3 </span><span>=</span><span> $time4 </span><span>-</span><span> $time3</span><span>;</span><span>

    </span><span>for</span><span> </span><span>(</span><span>$i</span><span>=</span><span>0</span><span>;</span><span> $i </span><span>&lt;</span><span> $test</span><span>;</span><span> $i</span><span>++)</span><span> </span><span>{</span><span>
        $tmp </span><span>=</span><span> endsWith4</span><span>(</span><span>'TestShortcode'</span><span>,</span><span> </span><span>'Shortcode'</span><span>);</span><span>
    </span><span>}</span><span>
    $time5 </span><span>=</span><span> microtime</span><span>(</span><span>true</span><span>);</span><span>
    $result4 </span><span>=</span><span> $time5 </span><span>-</span><span> $time4</span><span>;</span><span>

    echo $test</span><span>.</span><span>'x endsWith: '</span><span>.</span><span>$result1</span><span>.</span><span>' seconds # This answer&lt;br&gt;'</span><span>;</span><span>
    echo $test</span><span>.</span><span>'x endsWith2: '</span><span>.</span><span>$result4</span><span>.</span><span>' seconds # Accepted answer&lt;br&gt;'</span><span>;</span><span>
    echo $test</span><span>.</span><span>'x endsWith3: '</span><span>.</span><span>$result2</span><span>.</span><span>' seconds # Second most voted answer&lt;br&gt;'</span><span>;</span><span>
    echo $test</span><span>.</span><span>'x endsWith4: '</span><span>.</span><span>$result3</span><span>.</span><span>' seconds # Regex answer&lt;br&gt;'</span><span>;</span><span>
    </span><span>exit</span><span>;</span><span>
</span><span>}</span><span>
timedebug</span><span>();</span></code></pre>



<pre><code><span>10000000x</span><span> endsWith</span><span>:</span><span> </span><span>1.5760900974274</span><span> seconds </span><span># This answer</span><span>
</span><span>10000000x</span><span> endsWith2</span><span>:</span><span> </span><span>3.7102129459381</span><span> seconds </span><span># Accepted answer</span><span>
</span><span>10000000x</span><span> endsWith3</span><span>:</span><span> </span><span>1.8731069564819</span><span> seconds </span><span># Second most voted answer</span><span>
</span><span>10000000x</span><span> endsWith4</span><span>:</span><span> </span><span>2.1521229743958</span><span> seconds </span><span># Regex answer</span></code></pre>
    </div>
    <div>
        
    


    <div>
        <div>
    <p>
        answered <span title="2018-07-24 06:05:43Z">Jul 24 '18 at 6:05</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/2056484/lucas-bustamante"><p><img src="https://i.stack.imgur.com/Jielp.jpg?s=32&amp;g=1" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/2056484/lucas-bustamante">Lucas Bustamante</a><span itemprop="name">Lucas Bustamante</span></p><p><span title="reputation score " dir="ltr">8,572</span><span>3 gold badges</span><span>57 silver badges</span><span>65 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-1436502" data-answerid="1436502" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>I realize this has been finished, but you may want to look at <a href="http://us.php.net/manual/en/function.strncmp.php" rel="noreferrer">strncmp</a> as it allows you to put the length of the string to compare against, so:</p>

<pre><code><span>function</span><span> startsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> $case</span><span>=</span><span>true</span><span>)</span><span> </span><span>{</span><span>
    </span><span>if</span><span> </span><span>(</span><span>$case</span><span>)</span><span>
        </span><span>return</span><span> strncasecmp</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> strlen</span><span>(</span><span>$needle</span><span>))</span><span> </span><span>==</span><span> </span><span>0</span><span>;</span><span>
    </span><span>else</span><span>
        </span><span>return</span><span> strncmp</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> strlen</span><span>(</span><span>$needle</span><span>))</span><span> </span><span>==</span><span> </span><span>0</span><span>;</span><span>
</span><span>}</span><span>    </span></code></pre>
    </div>
    <div>
        


    <div>
        <div>
    <p>
        answered <span title="2009-09-17 02:50:51Z">Sep 17 '09 at 2:50</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/67566/james-black"><p><img src="https://i.stack.imgur.com/9d0Vk.jpg?s=32&amp;g=1" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/67566/james-black">James Black</a><span itemprop="name">James Black</span></p><p><span title="reputation score 39,876" dir="ltr">39.9k</span><span>7 gold badges</span><span>76 silver badges</span><span>147 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-30191081" data-answerid="30191081" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>You can use <a href="http://php.net/manual/en/function.strpos.php" rel="noreferrer"><strong><code>strpos</code></strong></a> and <a href="http://php.net/manual/en/function.strrpos.php" rel="noreferrer"><strong><code>strrpos</code></strong></a>  </p>

<pre><code><span>$bStartsWith </span><span>=</span><span> strpos</span><span>(</span><span>$sHaystack</span><span>,</span><span> $sNeedle</span><span>)</span><span> </span><span>==</span><span> </span><span>0</span><span>;</span><span>
$bEndsWith </span><span>=</span><span> strrpos</span><span>(</span><span>$sHaystack</span><span>,</span><span> $sNeedle</span><span>)</span><span> </span><span>==</span><span> strlen</span><span>(</span><span>$sHaystack</span><span>)-</span><span>strlen</span><span>(</span><span>$sNeedle</span><span>);</span></code></pre>
    </div>
    <div>
        
    <div>
<div>
    
    <div>
        <a href="https://stackoverflow.com/users/1912147/bhavik-shah"><p><img src="https://i.stack.imgur.com/1CuD4.png?s=32&amp;g=1" alt="" width="32" height="32"></p></a>
    </div>
    <div>
        <p><a href="https://stackoverflow.com/users/1912147/bhavik-shah">Bhavik Shah</a></p><p><span title="reputation score " dir="ltr">2,234</span><span>1 gold badge</span><span>14 silver badges</span><span>32 bronze badges</span>
        </p>
    </div>
</div>    </div>


    <div>
        <div>
    <p>
        answered <span title="2015-05-12 12:36:21Z">May 12 '15 at 12:36</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/2487835/lex"><p><img src="https://www.gravatar.com/avatar/d8d35de376073687171d4f0e4ecbdfb1?s=32&amp;d=identicon&amp;r=PG&amp;f=1" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/2487835/lex">Lex</a><span itemprop="name">Lex</span></p><p><span title="reputation score " dir="ltr">2,312</span><span>18 silver badges</span><span>32 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-47224439" data-answerid="47224439" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>Here's a multi-byte safe version of the accepted answer, it works fine for UTF-8 strings:</p>

<pre><code><span>function</span><span> startsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span>
</span><span>{</span><span>
    $length </span><span>=</span><span> mb_strlen</span><span>(</span><span>$needle</span><span>,</span><span> </span><span>'UTF-8'</span><span>);</span><span>
    </span><span>return</span><span> </span><span>(</span><span>mb_substr</span><span>(</span><span>$haystack</span><span>,</span><span> </span><span>0</span><span>,</span><span> $length</span><span>,</span><span> </span><span>'UTF-8'</span><span>)</span><span> </span><span>===</span><span> $needle</span><span>);</span><span>
</span><span>}</span><span>

</span><span>function</span><span> endsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span>
</span><span>{</span><span>
    $length </span><span>=</span><span> mb_strlen</span><span>(</span><span>$needle</span><span>,</span><span> </span><span>'UTF-8'</span><span>);</span><span>
    </span><span>return</span><span> $length </span><span>===</span><span> </span><span>0</span><span> </span><span>||</span><span>
        </span><span>(</span><span>mb_substr</span><span>(</span><span>$haystack</span><span>,</span><span> </span><span>-</span><span>$length</span><span>,</span><span> $length</span><span>,</span><span> </span><span>'UTF-8'</span><span>)</span><span> </span><span>===</span><span> $needle</span><span>);</span><span>
</span><span>}</span></code></pre>
    </div>
    <div>
        
    


    <div>
        <div>
    <p>
        answered <span title="2017-11-10 13:59:15Z">Nov 10 '17 at 13:59</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/5173926/vahid-amiri"><p><img src="https://i.stack.imgur.com/mQkMv.jpg?s=32&amp;g=1" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/5173926/vahid-amiri">Vahid Amiri</a><span itemprop="name">Vahid Amiri</span></p><p><span title="reputation score " dir="ltr">9,452</span><span>11 gold badges</span><span>53 silver badges</span><span>92 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-6513929" data-answerid="6513929" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>Short and easy-to-understand one-liners without regular expressions.</p>

<p>startsWith() is straight forward.</p>

<pre><code><span>function</span><span> startsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>{</span><span>
   </span><span>return</span><span> </span><span>(</span><span>strpos</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>===</span><span> </span><span>0</span><span>);</span><span>
</span><span>}</span></code></pre>

<p>endsWith() uses the slightly fancy and slow strrev():</p>

<pre><code><span>function</span><span> endsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>{</span><span>
   </span><span>return</span><span> </span><span>(</span><span>strpos</span><span>(</span><span>strrev</span><span>(</span><span>$haystack</span><span>),</span><span> strrev</span><span>(</span><span>$needle</span><span>))</span><span> </span><span>===</span><span> </span><span>0</span><span>);</span><span>
</span><span>}</span></code></pre>
    </div>
    <div>
        


    <div>
        <div>
    <p>
        answered <span title="2011-06-28 22:40:33Z">Jun 28 '11 at 22:40</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/820096/dan"><p><img src="https://www.gravatar.com/avatar/442663a0751b1ab4dfa6ff80c153894e?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/820096/dan">Dan</a><span itemprop="name">Dan</span></p><p><span title="reputation score " dir="ltr">105</span><span>1 silver badge</span><span>1 bronze badge</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-17908972" data-answerid="17908972" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>Focusing on startswith, if you are sure strings are not empty, adding a test on the first char, before the comparison, the strlen, etc., speeds things up a bit:</p>

<pre><code><span>function</span><span> startswith5b</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>{</span><span>
    </span><span>return</span><span> </span><span>(</span><span>$haystack</span><span>{</span><span>0</span><span>}==</span><span>$needle</span><span>{</span><span>0</span><span>})?</span><span>strncmp</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> strlen</span><span>(</span><span>$needle</span><span>))</span><span> </span><span>===</span><span> </span><span>0</span><span>:</span><span>FALSE</span><span>;</span><span>
</span><span>}</span></code></pre>

<p>It is somehow (20%-30%) faster. Adding another char test, like $haystack{1}===$needle{1} does not seem to speedup things much, may even slow down.</p>

<p><code>===</code> seems faster than <code>==</code>
Conditional operator <code>(a)?b:c</code> seems faster than <code>if(a) b; else c;</code></p>

<hr>

<p><strong>For those asking "why not use strpos?" calling other solutions "unnecessary work"</strong></p>

<hr>

<p>strpos is fast, but it is not the right tool for this job.</p>

<p>To understand, here is a little simulation as an example:</p>

<pre><code><span>Search</span><span> a12345678c inside bcdefga12345678xbbbbb</span><span>.....</span><span>bbbbba12345678c</span></code></pre>

<p><strong>What the computer does "inside"?</strong></p>

<pre><code><span>    </span><span>With</span><span> strccmp</span><span>,</span><span> etc</span><span>...</span><span>

    </span><span>is</span><span> a</span><span>===</span><span>b</span><span>?</span><span> NO
    </span><span>return</span><span> </span><span>false</span><span>



    </span><span>With</span><span> strpos

    </span><span>is</span><span> a</span><span>===</span><span>b</span><span>?</span><span> NO </span><span>--</span><span> iterating </span><span>in</span><span> haysack
    </span><span>is</span><span> a</span><span>===</span><span>c</span><span>?</span><span> NO
    </span><span>is</span><span> a</span><span>===</span><span>d</span><span>?</span><span> NO
    </span><span>....</span><span>
    </span><span>is</span><span> a</span><span>===</span><span>g</span><span>?</span><span> NO
    </span><span>is</span><span> a</span><span>===</span><span>g</span><span>?</span><span> NO
    </span><span>is</span><span> a</span><span>===</span><span>a</span><span>?</span><span> YES
    </span><span>is</span><span> </span><span>1</span><span>===</span><span>1</span><span>?</span><span> YES </span><span>--</span><span> iterating </span><span>in</span><span> needle
    </span><span>is</span><span> </span><span>2</span><span>===</span><span>3</span><span>?</span><span> YES
    </span><span>is</span><span> </span><span>4</span><span>===</span><span>4</span><span>?</span><span> YES
    </span><span>....</span><span>
    </span><span>is</span><span> </span><span>8</span><span>===</span><span>8</span><span>?</span><span> YES
    </span><span>is</span><span> c</span><span>===</span><span>x</span><span>?</span><span> NO</span><span>:</span><span> oh </span><span>God</span><span>,</span><span>
    </span><span>is</span><span> a</span><span>===</span><span>1</span><span>?</span><span> NO </span><span>--</span><span> iterating </span><span>in</span><span> haysack again
    </span><span>is</span><span> a</span><span>===</span><span>2</span><span>?</span><span> NO
    </span><span>is</span><span> a</span><span>===</span><span>3</span><span>?</span><span> NO
    </span><span>is</span><span> a</span><span>===</span><span>4</span><span>?</span><span> NO
    </span><span>....</span><span>
    </span><span>is</span><span> a</span><span>===</span><span>x</span><span>?</span><span> NO
    </span><span>is</span><span> a</span><span>===</span><span>b</span><span>?</span><span> NO
    </span><span>is</span><span> a</span><span>===</span><span>b</span><span>?</span><span> NO
    </span><span>is</span><span> a</span><span>===</span><span>b</span><span>?</span><span> NO
    </span><span>is</span><span> a</span><span>===</span><span>b</span><span>?</span><span> NO
    </span><span>is</span><span> a</span><span>===</span><span>b</span><span>?</span><span> NO
    </span><span>is</span><span> a</span><span>===</span><span>b</span><span>?</span><span> NO
    </span><span>is</span><span> a</span><span>===</span><span>b</span><span>?</span><span> NO
    </span><span>...</span><span>
    </span><span>...</span><span> may many times</span><span>...</span><span>
    </span><span>...</span><span>
    </span><span>is</span><span> a</span><span>===</span><span>b</span><span>?</span><span> NO
    </span><span>is</span><span> a</span><span>===</span><span>a</span><span>?</span><span> YES </span><span>--</span><span> iterating </span><span>in</span><span> needle again
    </span><span>is</span><span> </span><span>1</span><span>===</span><span>1</span><span>?</span><span> YES
    </span><span>is</span><span> </span><span>2</span><span>===</span><span>3</span><span>?</span><span> YES
    </span><span>is</span><span> </span><span>4</span><span>===</span><span>4</span><span>?</span><span> YES
    </span><span>is</span><span> </span><span>8</span><span>===</span><span>8</span><span>?</span><span> YES
    </span><span>is</span><span> c</span><span>===</span><span>c</span><span>?</span><span> YES YES YES I have found the same </span><span>string</span><span>!</span><span> yay</span><span>!</span><span>
    was it at position </span><span>0</span><span>?</span><span> NOPE
    </span><span>What</span><span> you mean NO</span><span>?</span><span> </span><span>So</span><span> the </span><span>string</span><span> I found </span><span>is</span><span> useless</span><span>?</span><span> </span><span>YEs</span><span>.</span><span>
    </span><span>Damn</span><span>.</span><span>
    </span><span>return</span><span> </span><span>false</span></code></pre>

<p>Assuming strlen does not iterate the whole string (but even in that case) this is not convenient at all.</p>
    </div>
    <div>
        
    


    <div>
        <div>
    <p>
        answered <span title="2013-07-28 14:00:16Z">Jul 28 '13 at 14:00</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/1856861/francescomm"><p><img src="https://i.stack.imgur.com/djrF3.jpg?s=32&amp;g=1" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/1856861/francescomm">FrancescoMM</a><span itemprop="name">FrancescoMM</span></p><p><span title="reputation score " dir="ltr">2,515</span><span>1 gold badge</span><span>12 silver badges</span><span>24 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-19450335" data-answerid="19450335" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>I hope that the below answer may be efficient and also simple:</p>

<pre><code><span>$content </span><span>=</span><span> </span><span>"The main string to search"</span><span>;</span><span>
$search </span><span>=</span><span> </span><span>"T"</span><span>;</span><span>
</span><span>//For compare the begining string with case insensitive. </span><span>
</span><span>if</span><span>(</span><span>stripos</span><span>(</span><span>$content</span><span>,</span><span> $search</span><span>)</span><span> </span><span>===</span><span> </span><span>0</span><span>)</span><span> echo </span><span>'Yes'</span><span>;</span><span>
</span><span>else</span><span> echo </span><span>'No'</span><span>;</span><span>

</span><span>//For compare the begining string with case sensitive. </span><span>
</span><span>if</span><span>(</span><span>strpos</span><span>(</span><span>$content</span><span>,</span><span> $search</span><span>)</span><span> </span><span>===</span><span> </span><span>0</span><span>)</span><span> echo </span><span>'Yes'</span><span>;</span><span>
</span><span>else</span><span> echo </span><span>'No'</span><span>;</span><span>

</span><span>//For compare the ending string with case insensitive. </span><span>
</span><span>if</span><span>(</span><span>stripos</span><span>(</span><span>strrev</span><span>(</span><span>$content</span><span>),</span><span> strrev</span><span>(</span><span>$search</span><span>))</span><span> </span><span>===</span><span> </span><span>0</span><span>)</span><span> echo </span><span>'Yes'</span><span>;</span><span>
</span><span>else</span><span> echo </span><span>'No'</span><span>;</span><span>

</span><span>//For compare the ending string with case sensitive. </span><span>
</span><span>if</span><span>(</span><span>strpos</span><span>(</span><span>strrev</span><span>(</span><span>$content</span><span>),</span><span> strrev</span><span>(</span><span>$search</span><span>))</span><span> </span><span>===</span><span> </span><span>0</span><span>)</span><span> echo </span><span>'Yes'</span><span>;</span><span>
</span><span>else</span><span> echo </span><span>'No'</span><span>;</span></code></pre>
    </div>
    <div>
        


    <div>
        <div>
    <p>
        answered <span title="2013-10-18 13:01:23Z">Oct 18 '13 at 13:01</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/1630199/srinivasan-s"><p><img src="https://i.stack.imgur.com/2WkRQ.jpg?s=32&amp;g=1" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/1630199/srinivasan-s">Srinivasan.S</a><span itemprop="name">Srinivasan.S</span></p><p><span title="reputation score " dir="ltr">2,645</span><span>1 gold badge</span><span>19 silver badges</span><span>14 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-28102753" data-answerid="28102753" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>I usually end up going with a library like <a href="http://anahkiasen.github.io/underscore-php/#String-endsWith">underscore-php</a> these days. </p>

<pre><code><span>require_once</span><span>(</span><span>"vendor/autoload.php"</span><span>);</span><span> </span><span>//use if needed</span><span>
</span><span>use</span><span> </span><span>Underscore</span><span>\Types\String</span><span>;</span><span> 

$str </span><span>=</span><span> </span><span>"there is a string"</span><span>;</span><span>
echo</span><span>(</span><span> </span><span>String</span><span>::</span><span>startsWith</span><span>(</span><span>$str</span><span>,</span><span> </span><span>'the'</span><span>)</span><span> </span><span>);</span><span> </span><span>// 1</span><span>
echo</span><span>(</span><span> </span><span>String</span><span>::</span><span>endsWith</span><span>(</span><span>$str</span><span>,</span><span> </span><span>'ring'</span><span>));</span><span> </span><span>// 1   </span></code></pre>

<p>The library is full of other handy functions.</p>
    </div>
    <div>
        


    <div>
        <div>
    <p>
        answered <span title="2015-01-23 03:53:12Z">Jan 23 '15 at 3:53</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/462002/yuvilio"><p><img src="https://www.gravatar.com/avatar/ba130d4a0c63bec03dd43a7306a644ca?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/462002/yuvilio">yuvilio</a><span itemprop="name">yuvilio</span></p><p><span title="reputation score " dir="ltr">2,719</span><span>27 silver badges</span><span>32 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-39619484" data-answerid="39619484" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>The <a href="https://stackoverflow.com/a/7168986/3404298">answer</a> by <a href="https://stackoverflow.com/users/65387/mpen">mpen</a> is incredibly thorough, but, unfortunately, the provided benchmark has a very important and detrimental oversight.</p>

<p>Because every byte in needles and haystacks is completely random, the probability that a needle-haystack pair will differ on the very first byte is 99.609375%, which means that, on average, about 99609 of the 100000 pairs will differ on the very first byte. In other words, the benchmark is heavily biased towards <code>startswith</code> implementations which check the first byte explicitly, as <code>strncmp_startswith2</code> does.</p>

<p>If the test-generating loop is instead implemented as follows:</p>

<pre><code><span>echo </span><span>'generating tests'</span><span>;</span><span>
</span><span>for</span><span>(</span><span>$i </span><span>=</span><span> </span><span>0</span><span>;</span><span> $i </span><span>&lt;</span><span> </span><span>100000</span><span>;</span><span> </span><span>++</span><span>$i</span><span>)</span><span> </span><span>{</span><span>
    </span><span>if</span><span>(</span><span>$i </span><span>%</span><span> </span><span>2500</span><span> </span><span>===</span><span> </span><span>0</span><span>)</span><span> echo </span><span>'.'</span><span>;</span><span>

    $haystack_length </span><span>=</span><span> random_int</span><span>(</span><span>1</span><span>,</span><span> </span><span>7000</span><span>);</span><span>
    $haystack </span><span>=</span><span> random_bytes</span><span>(</span><span>$haystack_length</span><span>);</span><span>

    $needle_length </span><span>=</span><span> random_int</span><span>(</span><span>1</span><span>,</span><span> </span><span>3000</span><span>);</span><span>
    $overlap_length </span><span>=</span><span> min</span><span>(</span><span>random_int</span><span>(</span><span>0</span><span>,</span><span> $needle_length</span><span>),</span><span> $haystack_length</span><span>);</span><span>
    $needle </span><span>=</span><span> </span><span>(</span><span>$needle_length </span><span>&gt;</span><span> $overlap_length</span><span>)</span><span> </span><span>?</span><span>
        substr</span><span>(</span><span>$haystack</span><span>,</span><span> </span><span>0</span><span>,</span><span> $overlap_length</span><span>)</span><span> </span><span>.</span><span> random_bytes</span><span>(</span><span>$needle_length </span><span>-</span><span> $overlap_length</span><span>)</span><span> </span><span>:</span><span>
        substr</span><span>(</span><span>$haystack</span><span>,</span><span> </span><span>0</span><span>,</span><span> $needle_length</span><span>);</span><span>

    $test_cases</span><span>[]</span><span> </span><span>=</span><span> </span><span>[</span><span>$haystack</span><span>,</span><span> $needle</span><span>];</span><span>
</span><span>}</span><span>
echo </span><span>" done!&lt;br /&gt;"</span><span>;</span></code></pre>

<p>the benchmark results tell a slightly different story:</p>

<pre><code><span>strncmp_startswith</span><span>:</span><span> </span><span>223.0</span><span> ms
substr_startswith</span><span>:</span><span> </span><span>228.0</span><span> ms
substr_compare_startswith</span><span>:</span><span> </span><span>238.0</span><span> ms
strncmp_startswith2</span><span>:</span><span> </span><span>253.0</span><span> ms
strpos_startswith</span><span>:</span><span> </span><span>349.0</span><span> ms
preg_match_startswith</span><span>:</span><span> </span><span>20</span><span>,</span><span>828.7</span><span> ms</span></code></pre>

<p>Of course, this benchmark may still not be perfectly unbiased, but it tests the efficiency of the algorithms when given partially matching needles as well.</p>
    </div>
    <div>
        


    <div>
        <div>
    <p>
        answered <span title="2016-09-21 14:31:07Z">Sep 21 '16 at 14:31</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/3404298/veeno"><p><img src="https://www.gravatar.com/avatar/42c39601025b8eb1590e7dbf4e2a88c3?s=32&amp;d=identicon&amp;r=PG&amp;f=1" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/3404298/veeno">Veeno</a><span itemprop="name">Veeno</span></p><p><span title="reputation score " dir="ltr">93</span><span>1 silver badge</span><span>7 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-10236544" data-answerid="10236544" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>in short:</p>

<pre><code><span>function</span><span> startsWith</span><span>(</span><span>$str</span><span>,</span><span> $needle</span><span>){</span><span>
   </span><span>return</span><span> substr</span><span>(</span><span>$str</span><span>,</span><span> </span><span>0</span><span>,</span><span> strlen</span><span>(</span><span>$needle</span><span>))</span><span> </span><span>===</span><span> $needle</span><span>;</span><span>
</span><span>}</span><span>

</span><span>function</span><span> endsWith</span><span>(</span><span>$str</span><span>,</span><span> $needle</span><span>){</span><span>
   $length </span><span>=</span><span> strlen</span><span>(</span><span>$needle</span><span>);</span><span>
   </span><span>return</span><span> </span><span>!</span><span>$length </span><span>||</span><span> substr</span><span>(</span><span>$str</span><span>,</span><span> </span><span>-</span><span> $length</span><span>)</span><span> </span><span>===</span><span> $needle</span><span>;</span><span>
</span><span>}</span></code></pre>
    </div>
    <div>
        
    


    <div>
        <div>
    <p>
        answered <span title="2012-04-19 20:50:42Z">Apr 19 '12 at 20:50</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/811120/vincent-pazeller"><p><img src="https://www.gravatar.com/avatar/97fda08d975e525ddbbbb64e916af638?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></p></a>
    </div>
    
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-38598915" data-answerid="38598915" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>Just a recommendation:</p>

<pre><code><span>function</span><span> startsWith</span><span>(</span><span>$haystack</span><span>,</span><span>$needle</span><span>)</span><span> </span><span>{</span><span>
    </span><span>if</span><span>(</span><span>$needle</span><span>===</span><span>""</span><span>)</span><span> </span><span>return</span><span> </span><span>true</span><span>;</span><span>
    </span><span>if</span><span>(</span><span>$haystack</span><span>[</span><span>0</span><span>]&lt;&gt;</span><span>$needle</span><span>[</span><span>0</span><span>])</span><span> </span><span>return</span><span> </span><span>false</span><span>;</span><span> </span><span>// ------------------------- speed boost!</span><span>
    </span><span>return</span><span> </span><span>(</span><span>0</span><span>===</span><span>substr_compare</span><span>(</span><span>$haystack</span><span>,</span><span>$needle</span><span>,</span><span>0</span><span>,</span><span>strlen</span><span>(</span><span>$needle</span><span>)));</span><span>
</span><span>}</span></code></pre>

<p>That extra line, comparing the first character of the strings, can make the
false case return <em>immediately</em>, therefore making many of your comparisons
a lot faster (7x faster when I measured).  In the true case you pay virtually no price in performance for that single line so I think it's worth including.  (Also, in practice, when you test many strings for a specific starting chunk, most comparisons will fail since in a typical case you're looking for something.)</p>
    </div>
    <div>
        
    


    <div>
        <div>
    <p>
        answered <span title="2016-07-26 20:02:45Z">Jul 26 '16 at 20:02</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/1892607/dkellner"><p><img src="https://i.stack.imgur.com/o6Kig.jpg?s=32&amp;g=1" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/1892607/dkellner">dkellner</a><span itemprop="name">dkellner</span></p><p><span title="reputation score " dir="ltr">3,907</span><span>1 gold badge</span><span>25 silver badges</span><span>26 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-9377124" data-answerid="9377124" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>The <code>substr</code> function can return <code>false</code> in many special cases, so here is my version, which deals with these issues:</p>

<pre><code><span>function</span><span> startsWith</span><span>(</span><span> $haystack</span><span>,</span><span> $needle </span><span>){</span><span>
  </span><span>return</span><span> $needle </span><span>===</span><span> </span><span>''</span><span>.</span><span>substr</span><span>(</span><span> $haystack</span><span>,</span><span> </span><span>0</span><span>,</span><span> strlen</span><span>(</span><span> $needle </span><span>));</span><span> </span><span>// substr's false =&gt; empty string</span><span>
</span><span>}</span><span>

</span><span>function</span><span> endsWith</span><span>(</span><span> $haystack</span><span>,</span><span> $needle </span><span>){</span><span>
  $len </span><span>=</span><span> strlen</span><span>(</span><span> $needle </span><span>);</span><span>
  </span><span>return</span><span> $needle </span><span>===</span><span> </span><span>''</span><span>.</span><span>substr</span><span>(</span><span> $haystack</span><span>,</span><span> </span><span>-</span><span>$len</span><span>,</span><span> $len </span><span>);</span><span> </span><span>// ! len=0</span><span>
</span><span>}</span></code></pre>

<p>Tests (<code>true</code> means good):</p>

<pre><code><span>var_dump</span><span>(</span><span> startsWith</span><span>(</span><span>''</span><span>,</span><span>''</span><span>));</span><span>
var_dump</span><span>(</span><span> startsWith</span><span>(</span><span>'1'</span><span>,</span><span>''</span><span>));</span><span>
var_dump</span><span>(!</span><span>startsWith</span><span>(</span><span>''</span><span>,</span><span>'1'</span><span>));</span><span>
var_dump</span><span>(</span><span> startsWith</span><span>(</span><span>'1'</span><span>,</span><span>'1'</span><span>));</span><span>
var_dump</span><span>(</span><span> startsWith</span><span>(</span><span>'1234'</span><span>,</span><span>'12'</span><span>));</span><span>
var_dump</span><span>(!</span><span>startsWith</span><span>(</span><span>'1234'</span><span>,</span><span>'34'</span><span>));</span><span>
var_dump</span><span>(!</span><span>startsWith</span><span>(</span><span>'12'</span><span>,</span><span>'1234'</span><span>));</span><span>
var_dump</span><span>(!</span><span>startsWith</span><span>(</span><span>'34'</span><span>,</span><span>'1234'</span><span>));</span><span>
var_dump</span><span>(</span><span>'---'</span><span>);</span><span>
var_dump</span><span>(</span><span> endsWith</span><span>(</span><span>''</span><span>,</span><span>''</span><span>));</span><span>
var_dump</span><span>(</span><span> endsWith</span><span>(</span><span>'1'</span><span>,</span><span>''</span><span>));</span><span>
var_dump</span><span>(!</span><span>endsWith</span><span>(</span><span>''</span><span>,</span><span>'1'</span><span>));</span><span>
var_dump</span><span>(</span><span> endsWith</span><span>(</span><span>'1'</span><span>,</span><span>'1'</span><span>));</span><span>
var_dump</span><span>(!</span><span>endsWith</span><span>(</span><span>'1234'</span><span>,</span><span>'12'</span><span>));</span><span>
var_dump</span><span>(</span><span> endsWith</span><span>(</span><span>'1234'</span><span>,</span><span>'34'</span><span>));</span><span>
var_dump</span><span>(!</span><span>endsWith</span><span>(</span><span>'12'</span><span>,</span><span>'1234'</span><span>));</span><span>
var_dump</span><span>(!</span><span>endsWith</span><span>(</span><span>'34'</span><span>,</span><span>'1234'</span><span>));</span></code></pre>

<p>Also, the <code>substr_compare</code> function also worth looking.
<a href="http://www.php.net/manual/en/function.substr-compare.php" rel="nofollow noreferrer">http://www.php.net/manual/en/function.substr-compare.php</a></p>
    </div>
    <div>
        


    <div>
        <div>
    <p>
        answered <span title="2012-02-21 11:52:55Z">Feb 21 '12 at 11:52</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/260007/biziclop"><p><img src="https://www.gravatar.com/avatar/b7e5fd5f16fc6e3e723038d961558995?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/260007/biziclop">biziclop</a><span itemprop="name">biziclop</span></p><p><span title="reputation score 13,268" dir="ltr">13.3k</span><span>3 gold badges</span><span>41 silver badges</span><span>60 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-16913506" data-answerid="16913506" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>This may work</p>

<pre><code><span>function</span><span> startsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>{</span><span>
     </span><span>return</span><span> substr</span><span>(</span><span>$haystack</span><span>,</span><span> </span><span>0</span><span>,</span><span> strlen</span><span>(</span><span>$needle</span><span>))</span><span> </span><span>==</span><span> $needle</span><span>;</span><span>
</span><span>}</span></code></pre>

<p>Source: <a href="https://stackoverflow.com/a/4419658">https://stackoverflow.com/a/4419658</a></p>
    </div>
    <div>
        
    <div>
<div>
    
    <div>
        <a href="https://stackoverflow.com/users/-1/community"><p><img src="https://www.gravatar.com/avatar/a007be5a61f6aa8f3e85ae2fc18dd66e?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></p></a>
    </div>
    
</div>    </div>


    <div>
        <div>
    <p>
        answered <span title="2013-06-04 08:51:39Z">Jun 4 '13 at 8:51</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/507410/user507410"><p><img src="https://www.gravatar.com/avatar/2603ea6b017ce506ded659fa8567206f?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/507410/user507410">user507410</a><span itemprop="name">user507410</span></p><p><span title="reputation score " dir="ltr">482</span><span>3 silver badges</span><span>11 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-26237172" data-answerid="26237172" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>I would do it like this </p>

<pre><code><span>     </span><span>function</span><span> startWith</span><span>(</span><span>$haystack</span><span>,</span><span>$needle</span><span>){</span><span>
              </span><span>if</span><span>(</span><span>substr</span><span>(</span><span>$haystack</span><span>,</span><span>0</span><span>,</span><span> strlen</span><span>(</span><span>$needle</span><span>))===</span><span>$needle</span><span>)</span><span>
              </span><span>return</span><span> </span><span>true</span><span>;</span><span>
        </span><span>}</span><span>

  </span><span>function</span><span> endWith</span><span>(</span><span>$haystack</span><span>,</span><span>$needle</span><span>){</span><span>
              </span><span>if</span><span>(</span><span>substr</span><span>(</span><span>$haystack</span><span>,</span><span> </span><span>-</span><span>strlen</span><span>(</span><span>$needle</span><span>))===</span><span>$needle</span><span>)</span><span>
              </span><span>return</span><span> </span><span>true</span><span>;</span><span>
        </span><span>}</span></code></pre>
    </div>
    <div>
        


    <div>
        <div>
    <p>
        answered <span title="2014-10-07 13:27:04Z">Oct 7 '14 at 13:27</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/4106168/jelle-keizer"><p><img src="https://i.stack.imgur.com/Zfl96.jpg?s=32&amp;g=1" alt="" width="32" height="32"></p></a>
    </div>
    
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-62169159" data-answerid="62169159" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">


<p>PHP 8 includes new <code>str_starts_with</code> and <code>str_ends_with</code> functions that finally provide a performant and convenient solution to this problem:</p>

<pre><code><span>$str </span><span>=</span><span> </span><span>"beginningMiddleEnd"</span><span>;</span><span>
</span><span>if</span><span> </span><span>(</span><span>str_starts_with</span><span>(</span><span>$str</span><span>,</span><span> </span><span>"beg"</span><span>))</span><span> echo </span><span>"printed\n"</span><span>;</span><span>
</span><span>if</span><span> </span><span>(</span><span>str_starts_with</span><span>(</span><span>$str</span><span>,</span><span> </span><span>"Beg"</span><span>))</span><span> echo </span><span>"not printed\n"</span><span>;</span><span>
</span><span>if</span><span> </span><span>(</span><span>str_ends_with</span><span>(</span><span>$str</span><span>,</span><span> </span><span>"End"</span><span>))</span><span> echo </span><span>"printed\n"</span><span>;</span><span>
</span><span>if</span><span> </span><span>(</span><span>str_ends_with</span><span>(</span><span>$str</span><span>,</span><span> </span><span>"end"</span><span>))</span><span> echo </span><span>"not printed\n"</span><span>;</span></code></pre>

<p>The <a href="https://wiki.php.net/rfc/add_str_starts_with_and_ends_with_functions" rel="nofollow noreferrer">RFC for this feature</a> provides more information, and also a discussion of the merits and problems of obvious (and not-so-obvious) userland implementations.</p>
    </div>
    <div>
        


    <div>
        <div>
    <p>
        answered <span title="2020-06-03 09:13:18Z">Jun 3 at 9:13</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/50079/jon"><p><img src="https://i.stack.imgur.com/ud1xq.png?s=32&amp;g=1" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/50079/jon">Jon</a><span itemprop="name">Jon</span></p><p><span title="reputation score 377,987" dir="ltr">378k</span><span>67 gold badges</span><span>669 silver badges</span><span>751 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-1647324" data-answerid="1647324" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>Based on James Black's answer, here is its endsWith version:</p>

<pre><code><span>function</span><span> startsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> $case</span><span>=</span><span>true</span><span>)</span><span> </span><span>{</span><span>
    </span><span>if</span><span> </span><span>(</span><span>$case</span><span>)</span><span>
        </span><span>return</span><span> strncmp</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> strlen</span><span>(</span><span>$needle</span><span>))</span><span> </span><span>==</span><span> </span><span>0</span><span>;</span><span>
    </span><span>else</span><span>
        </span><span>return</span><span> strncasecmp</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> strlen</span><span>(</span><span>$needle</span><span>))</span><span> </span><span>==</span><span> </span><span>0</span><span>;</span><span>
</span><span>}</span><span>

</span><span>function</span><span> endsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> $case</span><span>=</span><span>true</span><span>)</span><span> </span><span>{</span><span>
     </span><span>return</span><span> startsWith</span><span>(</span><span>strrev</span><span>(</span><span>$haystack</span><span>),</span><span>strrev</span><span>(</span><span>$needle</span><span>),</span><span>$case</span><span>);</span><span>

</span><span>}</span></code></pre>

<p>Note: I have swapped the if-else part for James Black's startsWith function, because strncasecmp is actually the case-insensitive version of strncmp.</p>
    </div>
    <div>
        


    <div>
        <div>
    <p>
        answered <span title="2009-10-30 00:17:34Z">Oct 30 '09 at 0:17</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/182349/bobo"><p><img src="https://www.gravatar.com/avatar/d1e473d9281f07f349fddd77fe8ff49f?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/182349/bobo">bobo</a><span itemprop="name">bobo</span></p><p><span title="reputation score " dir="ltr">7,241</span><span>9 gold badges</span><span>51 silver badges</span><span>80 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-11271248" data-answerid="11271248" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>Why not the following?</p>

<pre><code><span>//How to check if a string begins with another string</span><span>
$haystack </span><span>=</span><span> </span><span>"valuehaystack"</span><span>;</span><span>
$needle </span><span>=</span><span> </span><span>"value"</span><span>;</span><span>
</span><span>if</span><span> </span><span>(</span><span>strpos</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>===</span><span> </span><span>0</span><span>){</span><span>
    echo </span><span>"Found "</span><span> </span><span>.</span><span> $needle </span><span>.</span><span> </span><span>" at the beginning of "</span><span> </span><span>.</span><span> $haystack </span><span>.</span><span> </span><span>"!"</span><span>;</span><span>
</span><span>}</span></code></pre>

<p>Output:</p>

<blockquote>
  <p>Found value at the beginning of valuehaystack!</p>
</blockquote>

<p>Keep in mind, <code>strpos</code> will return false if the needle was not found in the haystack, and will return 0 if, and only if, needle was found at index 0 (AKA the beginning).</p>

<p>And here's endsWith:</p>

<pre><code><span>$haystack </span><span>=</span><span> </span><span>"valuehaystack"</span><span>;</span><span>
$needle </span><span>=</span><span> </span><span>"haystack"</span><span>;</span><span>

</span><span>//If index of the needle plus the length of the needle is the same length as the entire haystack.</span><span>
</span><span>if</span><span> </span><span>(</span><span>strpos</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>+</span><span> strlen</span><span>(</span><span>$needle</span><span>)</span><span> </span><span>===</span><span> strlen</span><span>(</span><span>$haystack</span><span>)){</span><span>
    echo </span><span>"Found "</span><span> </span><span>.</span><span> $needle </span><span>.</span><span> </span><span>" at the end of "</span><span> </span><span>.</span><span> $haystack </span><span>.</span><span> </span><span>"!"</span><span>;</span><span>
</span><span>}</span></code></pre>

<p>In this scenario there is no need for a function startsWith() as</p>

<pre><code><span>(</span><span>strpos</span><span>(</span><span>$stringToSearch</span><span>,</span><span> $doesItStartWithThis</span><span>)</span><span> </span><span>===</span><span> </span><span>0</span><span>)</span></code></pre>

<p>will return true or false accurately.</p>

<p>It seems odd it's this simple with all the wild functions running rampant here.</p>
    </div>
    <div>
        
    <div>
<div>
    
    <div>
        <a href="https://stackoverflow.com/users/63550/peter-mortensen"><p><img src="https://i.stack.imgur.com/RIZKi.png?s=32&amp;g=1" alt="" width="32" height="32"></p></a>
    </div>
    
</div>    </div>


    <div>
        <div>
    <p>
        answered <span title="2012-06-30 03:49:27Z">Jun 30 '12 at 3:49</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/1151237/kade-hafen"><p><img src="https://i.stack.imgur.com/ubYi8.jpg?s=32&amp;g=1" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/1151237/kade-hafen">Kade Hafen</a><span itemprop="name">Kade Hafen</span></p><p><span title="reputation score " dir="ltr">386</span><span>1 gold badge</span><span>3 silver badges</span><span>13 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-20432301" data-answerid="20432301" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>Many of the previous answers will work just as well. However, this is possibly as short as you can make it and have it do what you desire. You just state that you'd like it to 'return true'. So I've included solutions that returns boolean true/false and the textual true/false.</p>

<pre><code><span>// boolean true/false</span><span>
</span><span>function</span><span> startsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span>
</span><span>{</span><span>
    </span><span>return</span><span> strpos</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>===</span><span> </span><span>0</span><span> </span><span>?</span><span> </span><span>1</span><span> </span><span>:</span><span> </span><span>0</span><span>;</span><span>
</span><span>}</span><span>

</span><span>function</span><span> endsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span>
</span><span>{</span><span>
    </span><span>return</span><span> stripos</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>===</span><span> </span><span>0</span><span> </span><span>?</span><span> </span><span>1</span><span> </span><span>:</span><span> </span><span>0</span><span>;</span><span>
</span><span>}</span><span>


</span><span>// textual true/false</span><span>
</span><span>function</span><span> startsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span>
</span><span>{</span><span>
    </span><span>return</span><span> strpos</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>===</span><span> </span><span>0</span><span> </span><span>?</span><span> </span><span>'true'</span><span> </span><span>:</span><span> </span><span>'false'</span><span>;</span><span>
</span><span>}</span><span>

</span><span>function</span><span> endsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span>
</span><span>{</span><span>
    </span><span>return</span><span> stripos</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>)</span><span> </span><span>===</span><span> </span><span>0</span><span> </span><span>?</span><span> </span><span>'true'</span><span> </span><span>:</span><span> </span><span>'false'</span><span>;</span><span>
</span><span>}</span></code></pre>
    </div>
    <div>
        
    


    <div>
        <div>
    <p>
        answered <span title="2013-12-06 19:45:39Z">Dec 6 '13 at 19:45</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/3005071/wynshaft"><p><img src="https://i.stack.imgur.com/HytKc.png?s=32&amp;g=1" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/3005071/wynshaft">wynshaft</a><span itemprop="name">wynshaft</span></p><p><span title="reputation score " dir="ltr">569</span><span>5 silver badges</span><span>17 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-4510282" data-answerid="4510282" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>You also can use regular expressions:</p>

<pre><code><span>function</span><span> endsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $needle</span><span>,</span><span> $case</span><span>=</span><span>true</span><span>)</span><span> </span><span>{</span><span>
  </span><span>return</span><span> preg_match</span><span>(</span><span>"/.*{$needle}$/"</span><span> </span><span>.</span><span> </span><span>((</span><span>$case</span><span>)</span><span> </span><span>?</span><span> </span><span>""</span><span> </span><span>:</span><span> </span><span>"i"</span><span>),</span><span> $haystack</span><span>);</span><span>
</span><span>}</span></code></pre>
    </div>
    <div>
        


    <div>
        <div>
    <p>
        answered <span title="2010-12-22 14:40:13Z">Dec 22 '10 at 14:40</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/160829/freeman"><p><img src="https://www.gravatar.com/avatar/5f44f0b856acad00f9e89bd2a62fbf3a?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/160829/freeman">Freeman</a><span itemprop="name">Freeman</span></p><p><span title="reputation score " dir="ltr">4,889</span><span>2 gold badges</span><span>36 silver badges</span><span>45 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-57693605" data-answerid="57693605" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>No-copy and no-intern-loop:</p>

<pre><code><span>function</span><span> startsWith</span><span>(</span><span>string</span><span> $string</span><span>,</span><span> </span><span>string</span><span> $start</span><span>):</span><span> </span><span>bool</span><span>
</span><span>{</span><span>
    </span><span>return</span><span> strrpos</span><span>(</span><span>$string</span><span>,</span><span> $start</span><span>,</span><span> </span><span>-</span><span> strlen</span><span>(</span><span>$string</span><span>))</span><span> </span><span>!==</span><span> </span><span>false</span><span>;</span><span>
</span><span>}</span><span>

</span><span>function</span><span> endsWith</span><span>(</span><span>string</span><span> $string</span><span>,</span><span> </span><span>string</span><span> $end</span><span>):</span><span> </span><span>bool</span><span>
</span><span>{</span><span>
    </span><span>return</span><span> </span><span>(</span><span>$offset </span><span>=</span><span> strlen</span><span>(</span><span>$string</span><span>)</span><span> </span><span>-</span><span> strlen</span><span>(</span><span>$end</span><span>))</span><span> </span><span>&gt;=</span><span> </span><span>0</span><span> 
    </span><span>&amp;&amp;</span><span> strpos</span><span>(</span><span>$string</span><span>,</span><span> $end</span><span>,</span><span> $offset</span><span>)</span><span> </span><span>!==</span><span> </span><span>false</span><span>;</span><span>
</span><span>}</span></code></pre>
    </div>
    <div>
        
    <div>
<div>
    
    <div>
        <a href="https://stackoverflow.com/users/1067003/hanshenrik"><p><img src="https://www.gravatar.com/avatar/e3af2bd4b5604b0b661b5e6646544eba?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></p></a>
    </div>
    <div>
        <p><a href="https://stackoverflow.com/users/1067003/hanshenrik">hanshenrik</a></p><p><span title="reputation score 13,552" dir="ltr">13.6k</span><span>3 gold badges</span><span>24 silver badges</span><span>54 bronze badges</span>
        </p>
    </div>
</div>    </div>


    <div>
        <div>
    <p>
        answered <span title="2019-08-28 13:28:09Z">Aug 28 '19 at 13:28</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/628696/mazatwork"><p><img src="https://www.gravatar.com/avatar/32dd0a3d466fd00f9fedbfcf0d4832dc?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></p></a>
    </div>
    <div itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <p><a href="https://stackoverflow.com/users/628696/mazatwork">mazatwork</a><span itemprop="name">mazatwork</span></p><p><span title="reputation score " dir="ltr">1,135</span><span>12 silver badges</span><span>18 bronze badges</span>
        </p>
    </div>
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>

                                          
<div id="answer-5711839" data-answerid="5711839" itemprop="suggestedAnswer" itemscope="" itemtype="http://schema.org/Answer">
    <div>
        

        

<div>
    
    <div itemprop="text">
<p>Here’s an efficient solution for PHP 4. You could get faster results if on PHP 5 by using <code>substr_compare</code> instead of <code>strcasecmp(substr(...))</code>.</p>

<pre><code><span>function</span><span> stringBeginsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $beginning</span><span>,</span><span> $caseInsensitivity </span><span>=</span><span> </span><span>false</span><span>)</span><span>
</span><span>{</span><span>
    </span><span>if</span><span> </span><span>(</span><span>$caseInsensitivity</span><span>)</span><span>
        </span><span>return</span><span> strncasecmp</span><span>(</span><span>$haystack</span><span>,</span><span> $beginning</span><span>,</span><span> strlen</span><span>(</span><span>$beginning</span><span>))</span><span> </span><span>===</span><span> </span><span>0</span><span>;</span><span>
    </span><span>else</span><span>
        </span><span>return</span><span> strncmp</span><span>(</span><span>$haystack</span><span>,</span><span> $beginning</span><span>,</span><span> strlen</span><span>(</span><span>$beginning</span><span>))</span><span> </span><span>===</span><span> </span><span>0</span><span>;</span><span>
</span><span>}</span><span>

</span><span>function</span><span> stringEndsWith</span><span>(</span><span>$haystack</span><span>,</span><span> $ending</span><span>,</span><span> $caseInsensitivity </span><span>=</span><span> </span><span>false</span><span>)</span><span>
</span><span>{</span><span>
    </span><span>if</span><span> </span><span>(</span><span>$caseInsensitivity</span><span>)</span><span>
        </span><span>return</span><span> strcasecmp</span><span>(</span><span>substr</span><span>(</span><span>$haystack</span><span>,</span><span> strlen</span><span>(</span><span>$haystack</span><span>)</span><span> </span><span>-</span><span> strlen</span><span>(</span><span>$ending</span><span>)),</span><span> $haystack</span><span>)</span><span> </span><span>===</span><span> </span><span>0</span><span>;</span><span>
    </span><span>else</span><span>
        </span><span>return</span><span> strpos</span><span>(</span><span>$haystack</span><span>,</span><span> $ending</span><span>,</span><span> strlen</span><span>(</span><span>$haystack</span><span>)</span><span> </span><span>-</span><span> strlen</span><span>(</span><span>$ending</span><span>))</span><span> </span><span>!==</span><span> </span><span>false</span><span>;</span><span>
</span><span>}</span></code></pre>
    </div>
    <div>
        
    


    <div>
        <div>
    <p>
        answered <span title="2011-04-19 05:05:02Z">Apr 19 '11 at 5:05</span>
    </p>
    <div>
        <a href="https://stackoverflow.com/users/652615/patrick-smith"><p><img src="https://i.stack.imgur.com/VlTwc.jpg?s=32&amp;g=1" alt="" width="32" height="32"></p></a>
    </div>
    
</div>

    </div>
    </div>
    
</div>


                
    </div>
</div>



                                




                            <h2 data-loc="1">
Not the answer you're looking for? Browse other questions tagged <a href="https://stackoverflow.com/questions/tagged/php" title="show questions tagged 'php'" rel="tag">php</a> <a href="https://stackoverflow.com/questions/tagged/string" title="show questions tagged 'string'" rel="tag">string</a>  or <a href="https://stackoverflow.com/questions/ask">ask your own question</a>.                            </h2>
                </div>
            </div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
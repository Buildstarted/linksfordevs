<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Running GitHub on Rails 6.0 -
linksfor.dev(s)
    </title>
	<link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <h1>Running GitHub on Rails 6.0</h1>
    <div class="post__content markdown-body col-12 col-md-10 mb-2 mb-md-4"> <p>On August 26, 2019, the GitHub application was deployed to production with 100 percent of traffic on the newest Rails version: 6.0. This change came just 1.5 weeks after <a href="https://weblog.rubyonrails.org/2019/8/15/Rails-6-0-final-release/">the final release of Rails 6.0</a>. Rails upgrades aren&#x2019;t always something companies announce, but looking back at GitHub&#x2019;s history of being on a custom fork of Rails 3.2, this upgrade is a big deal. It represents how far we&#x2019;ve come in the last few years, and the hard work and dedication from our upgrade team made it smoother, easier, and faster than any of our previous upgrades.</p>
<p>At GitHub, we have a lot to celebrate with the release of Rails 6.0 and the subsequent production deploy. First, we were more involved in this release than we have been in any previous release of Rails. GitHub engineers sent over 100 pull requests to Rails 6.0 to improve documentation, fix bugs, add features, and speed up performance. For many GitHub contributors, this was the first time sending changes to the Rails framework, demonstrating that upgrading Rails not only helps GitHub internally, but also improves our developer community as well.</p>
<p>Second, we deployed Rails 6.0 to production without any negative impact to customers&#x2014;we had only one Rails 6.0 exception occur during testing, and it was hit by a bot! We were able to achieve this level of stability for the upgrade because we were heavily involved with its development. As soon as we finished the Rails 5.2 upgrade last year, we started upgrading our application to Rails 6.0.</p>
<p>Instead of waiting for the final release, we&#x2019;d upgrade every week by pulling in the latest changes from Rails master and run all of our tests against that new version. This allowed us to find regressions quickly and early&#x2014;often finding regressions in Rails master just hours after they were introduced. Upgrading weekly made it easy to find where these regressions were introduced since we were bisecting Rails with only a week&#x2019;s worth of commits instead of more than a year of commits. Once our build for Rails 6.0 was green, we&#x2019;d merge the pull request to master, and all new code that went into GitHub would need to pass in Rails 5.2 and the newest master build of Rails. Upgrading every week worked so well that we&#x2019;ll continue using this process for upgrading from 6.0 to 6.1.</p>
<p>In addition to ensuring that Rails 6.0 was stable, we also contributed to the new features of the framework like parallel testing and multiple databases. The code for these tools is used in our production application every day&#x2014;it&#x2019;s well-tested, GitHub-approved code in a public, open source framework. By upstreaming this tooling, we&#x2019;re able to reduce complexity in our code base and set a standard where so many companies once had to implement this functionality on their own.</p>
<p>There are so many wins to staying upgraded that go beyond more security, faster performance, and new features. By staying current with Rails master, we&#x2019;re influencing the future of the framework to meet our needs and giving back to the open source community in big ways. This process means that the GitHub code base evolves alongside Rails instead of in response to Rails. Investing in our application by staying up to date with the Rails framework has had a tremendous positive effect on our code base and engineering teams. Staying current allows us to invest in our community, invest in our tools for the long term, and improve the experience of working with the GitHub code base for our engineers.</p>
<p>Keep a look out for all the great stuff we&#x2019;ll be contributing to Rails 6.1 and beyond&#x2014;this is just the beginning.</p> </div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2019 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
    </footer>
    
    <script>
        (function() {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function() {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) {}
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Understanding STIR/SHAKEN - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.min.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Understanding STIR/SHAKEN - linksfor.dev(s)"/>
    <meta property="og:description" content="Criminals and unscrupulous robocallers often alter or spoof the calling number of their outbound telephone calls in order to deceive the called party. This deception can be as simple as changing the calling number so it appears that a neighbor is calling."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://transnexus.com/whitepapers/understanding-stir-shaken/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1 style="margin: unset">
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Understanding STIR/SHAKEN</title>
<div class="readable">
        <h1>Understanding STIR/SHAKEN</h1>
            <div>Reading time: 11-14 minutes</div>
        <div>Posted here: 21 Mar 2019</div>
        <p><a href="https://transnexus.com/whitepapers/understanding-stir-shaken/">https://transnexus.com/whitepapers/understanding-stir-shaken/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div><div><div><div><p>Criminals and unscrupulous robocallers often alter or <em>spoof</em> the calling number of their outbound telephone calls in order to deceive the called party. This deception can be as simple as changing the calling number so it appears that a neighbor is calling.</p><p>This deception increases the chance that the called party will answer a robocall. In other cases, the deception may be more malicious, such as a fraudster impersonating an IRS agent in order to steal a tax refund. This practice of altering the calling number of a telephone call is known as spoofing.</p><p>The Federal Communications Commission (FCC) has been encouraging the telecommunications industry to develop a solution to stop robocalls and spoofed calling numbers since 2014. The industry’s response has been to develop a new technology standard called STIR <sup>[<a href="#footnote1">1</a>]</sup> (Secure Telephony Identity Revisited) and SHAKEN <sup>[<a href="#footnote2">2</a>]</sup> (Secure Handling of Asserted information using toKENs) which defines how telephone service providers should implement the STIR technology to ensure calling numbers are not spoofed.</p><h2>How STIR/SHAKEN works</h2><p>STIR/SHAKEN uses digital certificates, based on common public key cryptography techniques, to ensure the calling number of a telephone call is secure. In simple terms, each telephone service provider obtains their digital certificate from a certificate authority who is trusted by other telephone service providers. The certificate technology enables the called party to verify that the calling number is accurate and has not been spoofed. The details of how SHAKEN uses public key infrastructure is explained in our whitepaper on <a href="https://transnexus.com/whitepapers/stir-shaken-cms-solutions/">Certificate Management for STIR/SHAKEN</a>.</p><p>The following call flow diagram illustrates how STIR/SHAKEN works:</p><p>How STIR/SHAKEN works in a network</p><p><img src="https://transnexus.com/assets/img/understanding-stir-shaken-01-d96ac7065c.png" alt="How STIR and SHAKEN work in a network"></p><ol><li>A SIP INVITE is received by the originating telephone service provider.</li><li>The originating telephone service provider checks the call source and calling number to determine how to attest for the validity of the calling number.</li><ul><li><b>Full Attestation (A)</b> — The service provider has authenticated the calling party and they are authorized to use the calling number. An example of this case is a subscriber registered with the originating telephone service provider’s softswitch.</li><li><b>Partial Attestation (B)</b> — The service provider has authenticated the call origination, but cannot verify the call source is authorized to use the calling number. An example of this use case is a telephone number behind an enterprise PBX.</li><li><b>Gateway Attestation (C)</b> — The service provider has authenticated from where it received the call, but cannot authenticate the call source. An example of this case would be a call received from an international gateway.</li></ul><li>The originating telephone service provider uses the authentication service to create a SIP Identity header. The authentication service could be a third-party service hosted in the cloud a software application integrated with the telephone service provider’s softswitch or Session Border Controller (SBC). The SIP Identity header contains the following data:</li><ul><li>Calling number</li><li>Called number(s)</li><li>Current timestamp</li><li>Attestation level</li><li>Origination identifier</li></ul><li>The SIP INVITE with the SIP Identity header is sent to the terminating telephone service provider. In addition, the Identity token may be sent across the internet, <a href="https://transnexus.com/whitepapers/out-of-band-stir/">out-of-band, to the terminating provider’s Call Placement Service</a></li><li>The SIP INVITE with Identity header is passed to the verification service.</li><li>The verification service obtains the digital certificate of the originating telephone service provider from the public certificate repository and begins a multi-step verification process. If all verification steps are successful, then the calling number has not been spoofed.</li><ul><li>The SIP Identity header is base64 URL decoded and the details are compared to the SIP INVITE message.</li><li>The public key of the certificate is used to verify the SIP Identity header signature.</li><li>The certificate chain of trust is verified.</li></ul><li>The verification service returns the results to the terminating service provider’s softswitch or SBC.</li><li>The call is completed to the called party.</li></ol></div><div><div><p>TransNexus has production-ready STIR/SHAKEN software solutions that include certificate management, authentication and verification services with comprehensive policy management.</p><p>We are a SHAKEN Certificate Authority and can provide certificate services too.</p><p><a href="https://transnexus.com/shaken/">Learn more</a></p></div></div><div><h2>SIP Identity header example</h2><p>The following is an example SIP INVITE message with an <span>Identity header</span>:</p><p>SIP invite example</p><p>INVITE sip:18001234567@example.com:5060 SIP/2.0<br>Via: SIP/2.0/UDP example.com:5060<br>From: "Alice" &lt;sip:14045266060@5.6.7.8:5060&gt;;tag=123456789<br>To: "Bob" &lt;sip:18001234567@1.2.3.4:5060&gt;<br>Call-ID: 1-12345@5.6.7.8<br>CSeq: 1 INVITE<br>Max-Forwards: 70<br>Identity: <span>eyJhbGciOiAiRVMyNTYiLCJwcHQiOiAic2hha2VuIiwidHlwIjogInBhc3Nwb3J0IiwieDV1IjogImh0dHBzOi8vY2VydGlmaWNhdGVzLmNsZWFyaXAuY29tL2IxNWQ3Y2M5LTBmMjYtNDZjMi04M2VhLWEzZTYzYTgyZWMzYS83Y2M0ZGI2OTVkMTNlZGFkYTRkMWY5ODYxYjliODBmZS5jcnQifQ.eyJhdHRlc3QiOiAiQSIsImRlc3QiOiB7InRuIjogWyIxNDA0NTI2NjA2MCJdfSwiaWF0IjogMTU0ODg1OTk4Miwib3JpZyI6IHsidG4iOiAiMTgwMDEyMzQ1NjcifSwib3JpZ2lkIjogIjNhNDdjYTIzLWQ3YWItNDQ2Yi04MjFkLTMzZDVkZWVkYmVkNCJ9.S_vqkgCk88ee9rtk89P6a6ru0ncDfSrdb1GyK_mJj-10hsLW-dMF7eCjDYARLR7EZSZwiu0fd4H_QD_9Z5U2bg;info=&lt;https://certificates.clearip.com/b15d7cc9-0f26-46c2-83ea-a3e63a82ec3a/7cc4db695d13edada4d1f9861b9b80fe.crt&gt;alg=ES256;ppt=shaken</span></p><p>The SIP Identity header contains a JSON web token (JWT) and three parameters. The JWT has three sections: header + payload + signature. The header and payload are base64 URL encoded JSON. The contents of each section are described below.</p><p>The SIP Identity header is comprised of a web token and parameters, as follows:</p><ul><li>JSON web token</li><ul><li>Header</li><li>Payload</li><li>Signature</li></ul><li>Parameters</li><ul><li>Info</li><li>Alg</li><li>PPT</li></ul></ul><p>Encoded Header</p><p>Identity: <span>eyJhbGciOiAiRVMyNTYiLCJwcHQiOiAic2hha2VuIiwidHlwIjogInBhc3Nwb3J0IiwieDV1IjogImh0dHBzOi8vY2VydGlmaWNhdGVzLmNsZWFyaXAuY29tL2IxNWQ3Y2M5LTBmMjYtNDZjMi04M2VhLWEzZTYzYTgyZWMzYS83Y2M0ZGI2OTVkMTNlZGFkYTRkMWY5ODYxYjliODBmZS5jcnQifQ</span>.eyJhdHRlc3QiOiAiQSIsImRlc3QiOiB7InRuIjogWyIxNDA0NTI2NjA2MCJdfSwiaWF0IjogMTU0ODg1OTk4Miwib3JpZyI6IHsidG4iOiAiMTgwMDEyMzQ1NjcifSwib3JpZ2lkIjogIjNhNDdjYTIzLWQ3YWItNDQ2Yi04MjFkLTMzZDVkZWVkYmVkNCJ9.S_vqkgCk88ee9rtk89P6a6ru0ncDfSrdb1GyK_mJj-10hsLW-dMF7eCjDYARLR7EZSZwiu0fd4H_QD_9Z5U2bg;info=&lt;https://certificates.clearip.com/b15d7cc9-0f26-46c2-83ea-a3e63a82ec3a/7cc4db695d13edada4d1f9861b9b80fe.crt&gt;alg=ES256;ppt=shaken</p><p>Decoded Header</p><p>{<br>  "alg": "ES256",<br>  "ppt": "shaken",<br>  "typ": "passport",<br>  "x5u": "https://certificates.clearip.com/b15d7cc9-0f26-46c2-83ea-a3e63a82ec3a/7cc4db695d13edada4d1f9861b9b80fe.crt"<br>}</p><ul><li><b>alg</b> — This value indicates the <em>encryption algorithm</em>. Must be <strong>ES256</strong>.</li><li><b>ppt</b> — This value indicates the <em>extension</em> used. Must be <strong>shaken</strong>.</li><li><b>typ</b> — This value indicates the <em>token type</em>. Must be <strong>passport</strong>.</li><li><b>x5u</b> — This value indicates the <em>location of the certificate</em> used to sign the token.</li></ul><p>Encoded Payload</p><p>Identity: eyJhbGciOiAiRVMyNTYiLCJwcHQiOiAic2hha2VuIiwidHlwIjogInBhc3Nwb3J0IiwieDV1IjogImh0dHBzOi8vY2VydGlmaWNhdGVzLmNsZWFyaXAuY29tL2IxNWQ3Y2M5LTBmMjYtNDZjMi04M2VhLWEzZTYzYTgyZWMzYS83Y2M0ZGI2OTVkMTNlZGFkYTRkMWY5ODYxYjliODBmZS5jcnQifQ.<span>eyJhdHRlc3QiOiAiQSIsImRlc3QiOiB7InRuIjogWyIxNDA0NTI2NjA2MCJdfSwiaWF0IjogMTU0ODg1OTk4Miwib3JpZyI6IHsidG4iOiAiMTgwMDEyMzQ1NjcifSwib3JpZ2lkIjogIjNhNDdjYTIzLWQ3YWItNDQ2Yi04MjFkLTMzZDVkZWVkYmVkNCJ9</span>.S_vqkgCk88ee9rtk89P6a6ru0ncDfSrdb1GyK_mJj-10hsLW-dMF7eCjDYARLR7EZSZwiu0fd4H_QD_9Z5U2bg;info=&lt;https://certificates.clearip.com/b15d7cc9-0f26-46c2-83ea-a3e63a82ec3a/7cc4db695d13edada4d1f9861b9b80fe.crt&gt;alg=ES256;ppt=shaken</p><p>Decoded Payload</p><p>{<br>  "attest": "A",<br>  "dest": {<br>    "tn": [<br>      "14045266060"<br>    ]<br>  },<br>  "iat": 1548859982,<br>  "orig": {<br>    "tn": "18001234567"<br>  },<br>  "origid": "3a47ca23-d7ab-446b-821d-33d5deedbed4"<br>}</p><ul><li><b>attest</b> — This value indicates the attestation level. Must be either <b>A</b>, <b>B</b>, or <b>C</b>.</li><li><b>dest</b> — This value indicates the called number(s) or called Uniform Resource Identifier(s).</li><li><b>iat</b> — This value indicates the timestamp when the token was created. The timestamp is the number of seconds that have passed since the beginning of 00:00:00 UTC 1 January 1970.</li><li><b>orig</b> — This value indicates the calling number or calling Uniform Resource Identifier.</li><li><b>origid</b> — This value indicates the origination identifier.</li></ul><p>Signature</p><p>S_vqkgCk88ee9rtk89P6a6ru0ncDfSrdb1GyK_mJj-10hsLW-dMF7eCjDYARLR7EZSZwiu0fd4H_QD_9Z5U2bg</p></div><div><div><p><strong>TransNexus is an approved SHAKEN Certificate Authority!</strong><br>We can provide the certificates approved service providers need for STIR/SHAKEN.</p><p><a href="https://transnexus.com/sti-ca/">Learn more</a></p></div></div><div><p>info</p><p>info=&lt;https://certificates.clearip.com/b15d7cc9-0f26-46c2-83ea-a3e63a82ec3a/7cc4db695d13edada4d1f9861b9b80fe.crt&gt;;</p><p>This value indicates the location of the certificate used to sign the token. It must be the same as the x5u value in the JWT.</p><p>alg</p><p>alg=ES256;</p><p>This value indicates the encryption algorithm. Must be <b>ES256</b>.</p><p>ppt</p><p>ppt=shaken</p><p>This value indicates the extension used. Must be <b>shaken</b>.</p><h2>TransNexus STIR/SHAKEN solutions</h2><p>We offer production-ready <a href="https://transnexus.com/shaken/">STIR/SHAKEN solutions</a> in our <a href="https://transnexus.com/clearip/">ClearIP</a> and <a href="https://transnexus.com/nexoss/">NexOSS</a> software products. These solutions are unique in their capabilities to combine complete STIR/SHAKEN services with flexible policy controls and a comprehensive portfolio of other services, including fraud prevention, least cost routing and much more.</p><p>Contact us today to explore how we can help you implement SHAKEN quickly and easily.</p><hr><h2>Notes</h2><ol><li id="footnote1">STIR, or Secure Telephony Identity Revisited, is a Working Group of the Internet Engineering Task Force (www.ietf.org). The IETF’s stated mission is to make the Internet work better by producing high quality, relevant technical documents that influence the way people design, use, and manage the Internet. The charter for the STIR Working Group (WG) is to define mechanisms that allow verification of the calling party's authorization to use a particular telephone number. The IETF standards developed by the STIR WG are:</li><ul><li>draft-ietf-stir-rfc4474bis. Defines how SIP Identity tokens are used to authenticate and verify the calling number in SIP signaling.</li><li>draft-ietf-stir-passport. Defines a method for creating and validating a token that cryptographically verifies a calling number.</li><li>draft-ietf-stir-certificates. Describes the use of certificates in establishing authority over telephone numbers.</li></ul><li id="footnote2">SHAKEN provides telephone services providers with a framework and guidance on how to use techniques defined by the STIR WG for validation of legitimate calls and the mitigation of illegitimate spoofing of telephone identities on the VoIP Telephone Network. SHAKEN is formally known as the ATIS Standard on Signature-based Handling of Asserted Information Using Tokens. ATIS (www.atis.org), or the Alliance for Telecommunications Industry Solutions, is accredited by the American National Standards Institute (ANSI).</li></ol><hr><h2>More on TransNexus.com</h2><p>January 32, 2020</p><p><a href="https://transnexus.com/blog/2020/comments-on-robocall-blocking/">Industry comments for robocall blocking report</a></p><p>January 20, 2020</p><p><a href="https://transnexus.com/blog/2020/ntca-describes-barriers-shaken/">NTCA discusses barriers to SHAKEN faced by rural carriers</a></p><p>December 10, 2019</p><p><a href="https://transnexus.com/blog/2020/stir-shaken-mandate-enacted/">STIR/SHAKEN mandate signed into U. S. law</a></p><p>December 10, 2019</p><p><a href="https://transnexus.com/blog/2019/pai-scott-shaken-call/">Pai and Scott make first official cross-border call using STIR/SHAKEN</a></p><p>December 9, 2019</p><p><a href="https://transnexus.com/blog/2019/crtc-shaken-announcements/">Canadian regulator announcements on STIR/SHAKEN</a></p><p>December 2, 2019</p><p><a href="https://transnexus.com/blog/2019/pallone-thune-traced-act/">Pallone-Thune TRACED Act text released</a></p><p>November 18, 2019</p><p><a href="https://transnexus.com/blog/2019/robocall-legislation-agreement/">Agreement reached on robocall prevention legislation</a></p><p>October 1, 2019</p><p><a href="https://transnexus.com/blog/2019/california-mandates-stir-shaken/">California enacts law to mandate STIR/SHAKEN</a></p><p>October 1, 2019</p><p><a href="https://transnexus.com/blog/2019/fcc-filings-support-oob-stir/">FCC filings calling for Out-of-Band STIR</a></p><p>August 22, 2019</p><p><a href="https://transnexus.com/blog/2019/coalition-to-fight-robocalls/">Coalition of 12 telephone companies agree to fight robocalls</a></p><p>August 16, 2019</p><p><a href="https://transnexus.com/blog/2019/pai-comments-shaken/">FCC Chairman Pai statement on SHAKEN/STIR progress and expectations</a></p><p>August 15, 2019</p><p><a href="https://transnexus.com/news/2019/clearip-rich-call-data/">ClearIP now supports Rich Call Data in STIR/SHAKEN</a></p><p>June 20, 2019</p><p><a href="https://transnexus.com/blog/2019/effective-shaken-robocall-solutions-webinar/">Webinar recording available – Effective STIR/SHAKEN and Robocall Solutions that Work Today</a></p><p>April 29, 2019</p><p><a href="https://transnexus.com/news/2019/clearip-oob-stir/">ClearIP now supports out-of-band STIR</a></p></div></div></div></div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
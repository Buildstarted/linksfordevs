<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Version 8 of Angular &#x2014; Smaller bundles, CLI APIs, and alignment with the ecosystem -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>Version 8 of Angular — Smaller bundles, CLI APIs, and alignment with the ecosystem</h1><div><div class="ae af ag ah ai dz ak al"><p id="46b2" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">The 8.0.0 release of Angular is here! This is a major release spanning the entire platform, including the framework, Angular Material, and the CLI with synchronized major versions. This release improves application startup time on modern browsers, provides new APIs for tapping into the CLI, and aligns Angular to the ecosystem and more web standards.</p><figure class="hg hh hi hj hk hl dl dm paragraph-image"><figcaption class="ck fg ic id ie dn dl dm if ig bb ff">Photo by Angular TPM, Manu Murthy</figcaption></figure><h1 id="472c" class="ih ii ec bc bb ij ee ik eg il im in io ip iq ir is">How to update to version 8</h1><p id="862d" class="gr gs ec bc gt b gu it gw iu gy iv ha iw hc ix he du">Visit <a href="https://update.angular.io/" class="fm ch iy iz ja jb" target="_blank" rel="noopener">update.angular.io</a> for detailed information and guidance. For most developers, one command should take care of this update:</p><p id="247f" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du"><code class="hw jc jd je jf b">ng update @angular/cli @angular/core</code></p><h1 id="14b3" class="ih ii ec bc bb ij ee ik eg il im in io ip iq ir is"><strong class="bo">Differential Loading by Default</strong></h1><p id="0ef8" class="gr gs ec bc gt b gu it gw iu gy iv ha iw hc ix he du"><a href="https://web.dev/codelab-serve-modern-code" class="fm ch iy iz ja jb" target="_blank" rel="noopener">Differential loading</a> is a process by which the browser chooses between modern or legacy JavaScript based on its own capabilities. We now take advantage of this by default by performing a modern build (es2015) and a legacy build (es5) of your application. When users load your application, they’ll automatically get the bundle they need.</p><p id="977a" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">If you use <code class="hw jc jd je jf b">ng update,</code> we update your <code class="hw jc jd je jf b">tsconfig.json</code>for you to take advantage of this. Our CLI looks at the <code class="hw jc jd je jf b">target</code> JS level in your <code class="hw jc jd je jf b">tsconfig.json</code> to determine whether or not to take advantage of Differential Loading.</p><figure class="hg hh hi hj hk hl"><p id="8968" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">When <code class="hw jc jd je jf b">target</code> is set to <code class="hw jc jd je jf b">es2015</code>, we generate and label two bundles.</p><p id="bf12" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">At runtime, the browser uses attributes on the script tag to load the right bundle.</p><p id="f0e7" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du"><code class="hw jc jd je jf b">&lt;script type="module" src="…"&gt;</code> // Modern JS</p><p id="16fa" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du"><code class="hw jc jd je jf b">&lt;script nomodule src="…"&gt;</code> // Legacy JS</p><p id="13a3" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">On <a href="https://angular.io" class="fm ch iy iz ja jb" target="_blank" rel="noopener">angular.io</a> we saved over 40kB of initial bundle size for modern browsers. From the community we’ve heard that applications generally save 7–20% of their bundle size, depending on the amount of modern JavaScript features they take advantage of.</p><figure class="hg hh hi hj hk hl dl dm paragraph-image"><figcaption class="ck fg ic id ie dn dl dm if ig bb ff">The bundle size on angular.io shrunk by about 41Kb</figcaption></figure><p id="1a17" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">Learn more about <a href="https://v8.angular.io/guide/deployment#differential-loading" class="fm ch iy iz ja jb" target="_blank" rel="noopener">differential loading</a>.</p><h1 id="b722" class="ih ii ec bc bb ij ee ik eg il im in io ip iq ir is"><strong class="bo">Route Configurations use Dynamic Imports</strong></h1><p id="e133" class="gr gs ec bc gt b gu it gw iu gy iv ha iw hc ix he du">We highly recommend you lazily load parts of your application using the router. This is accomplished by using the <code class="hw jc jd je jf b">loadChildren</code> key in your route configuration.</p><p id="2abc" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">Previously this looked like:</p><p id="e60c" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du"><code class="hw jc jd je jf b">{path: '/admin', loadChildren: './admin/admin.module#AdminModule'}</code></p><p id="a747" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">This syntax was custom to Angular and built into our toolchain. With version 8 we’re migrating to the industry standard <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import" class="fm ch iy iz ja jb" target="_blank" rel="noopener">dynamic imports</a>.</p><p id="ec6f" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">Now this will look like:</p><p id="6d43" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du"><code class="hw jc jd je jf b">{path: `/admin`, loadChildren: () =&gt; import(`./admin/admin.module`).then(m =&gt; m.AdminModule)}</code></p><p id="c99e" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">This will improve the support from editors like <a href="https://code.visualstudio.com/" class="fm ch iy iz ja jb" target="_blank" rel="noopener">VSCode</a> and <a href="https://www.jetbrains.com/webstorm/" class="fm ch iy iz ja jb" target="_blank" rel="noopener">WebStorm</a> who will now be able to understand and validate these imports for you.</p><p id="838d" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">If you use <code class="hw jc jd je jf b">ng update</code>, we’ll update your code automatically to use the new best practice.</p><h1 id="70a1" class="ih ii ec bc bb ij ee ik eg il im in io ip iq ir is"><strong class="bo">Builder APIs in the CLI</strong></h1><p id="4d9b" class="gr gs ec bc gt b gu it gw iu gy iv ha iw hc ix he du">In the same way that Schematics allow you to tap into <code class="hw jc jd je jf b">ng new</code><code class="hw jc jd je jf b">ng generate</code><code class="hw jc jd je jf b">ng add</code> and <code class="hw jc jd je jf b">ng update</code>, we’ve released new Builder APIs that allow you to tap into <code class="hw jc jd je jf b">ng build</code><code class="hw jc jd je jf b">ng test</code> and <code class="hw jc jd je jf b">ng run</code> to perform processes like build and deployment.</p><p id="ef34" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">Check out <a class="fm ch iy iz ja jb" target="_blank" rel="noopener" href="/introducing-cli-builders-d012d4489f1b">our blog post on these new APIs</a>.</p><p id="aaf7" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">Or read <a href="https://v8.angular.io/guide/cli-builder" class="fm ch iy iz ja jb" target="_blank" rel="noopener">the API documentation</a>.</p><p id="1c90" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">We’ve also been working with cloud providers to begin taking advantage of these APIs. Today you can try the latest version of <a href="https://github.com/angular/angularfire2" class="fm ch iy iz ja jb" target="_blank" rel="noopener">AngularFire</a>, which adds a <code class="hw jc jd je jf b">deploy</code> command, making build &amp; deploy to Firebase easier than ever:</p><pre class="hg hh hi hj hk jj jk db"><span id="2315" class="jl ii ec bc jf b fg jm jn r jo">ng add @angular/fire<br>ng run my-app:deploy</span></pre><p id="b2b3" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">Once installed, this deployment command will both build and deploy your application in the way recommended by AngularFire.</p><h1 id="bad5" class="ih ii ec bc bb ij ee ik eg il im in io ip iq ir is"><strong class="bo">Workspace APIs in the CLI</strong></h1><p id="8d7a" class="gr gs ec bc gt b gu it gw iu gy iv ha iw hc ix he du">Previously developers using <a href="https://angular.io/guide/schematics" class="fm ch iy iz ja jb" target="_blank" rel="noopener">Schematics</a> had to manually open and modify their <code class="hw jc jd je jf b">angular.json</code> to make changes to the workspace configuration. With 8.0, we’re introducing a new API to make it easier to read and modify this file.</p><p id="6dde" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">Read more about the available <a href="https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/core/README.md#workspaces" class="fm ch iy iz ja jb" target="_blank" rel="noopener">Workspace APIs</a>.</p><h1 id="ac54" class="ih ii ec bc bb ij ee ik eg il im in io ip iq ir is">Web Worker Support</h1><p id="4378" class="gr gs ec bc gt b gu it gw iu gy iv ha iw hc ix he du"><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers" class="fm ch iy iz ja jb" target="_blank" rel="noopener">Web workers</a> are a great way to speed up your application if you do any sort of cpu-intensive processing. Web workers allow you to offload work to a background thread, such as image or video manipulation. We use web workers on <a href="https://angular.io" class="fm ch iy iz ja jb" target="_blank" rel="noopener">angular.io</a> for in-app search indexing.</p><p id="cb3a" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">You can now generate new web workers from the CLI. To add a worker to your project, you can run:</p><p id="9a2f" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du"><code class="hw jc jd je jf b">ng generate webWorker my-worker</code></p><p id="65f5" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">Once you have a web worker, you can use it normally in your application, and the CLI will be able to bundle and code split it correctly:</p><p id="4e01" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du"><code class="hw jc jd je jf b">const worker = new Worker(`./my-worker.worker`, { type: `module` });</code></p><p id="fd01" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">Read more about <a href="https://v8.angular.io/guide/web-worker" class="fm ch iy iz ja jb" target="_blank" rel="noopener">web workers in the Angular CLI</a>.</p><h1 id="802d" class="ih ii ec bc bb ij ee ik eg il im in io ip iq ir is"><strong class="bo">AngularJS Migration Improvements</strong></h1><p id="6403" class="gr gs ec bc gt b gu it gw iu gy iv ha iw hc ix he du">If you use the <a href="https://docs.angularjs.org/api/ng/service/$location" class="fm ch iy iz ja jb" target="_blank" rel="noopener">$location service</a> in an AngularJS application, Angular now provides a <code class="hw jc jd je jf b">LocationUpgradeModule</code> that enables a unified location service that shifts responsibilities from the AngularJS <code class="hw jc jd je jf b">$location</code> service to the Angular <code class="hw jc jd je jf b">Location</code> Service. This should improve the lives of applications using <code class="hw jc jd je jf b">ngUpgrade</code> who need routing in both the AngularJS and Angular part of their application.</p><p id="6d31" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">Read more about the <a href="https://v8.angular.io/guide/upgrade#using-the-unified-angular-location-service" class="fm ch iy iz ja jb" target="_blank" rel="noopener">Unified Angular Location Service</a>.</p><p id="eeac" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">We’ve also documented best practices around lazy loading parts of your AngularJS application from Angular, making it easier to migrate the most commonly used features first, and only loading AngularJS for a subset of your application.</p><p id="6f44" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">Read more about <a href="https://v8.angular.io/guide/upgrade#create-a-service-to-lazy-load-angularjs" class="fm ch iy iz ja jb" target="_blank" rel="noopener">Lazy Loading AngularJS</a>.</p><h1 id="aa0d" class="ih ii ec bc bb ij ee ik eg il im in io ip iq ir is"><strong class="bo">New Deprecation Guide</strong></h1><p id="fd47" class="gr gs ec bc gt b gu it gw iu gy iv ha iw hc ix he du">We are committed to maintaining Semantic Versioning and a high degree of stability even across major versions. For our public API, we are committed to supporting features for N+2 releases. This means that a feature that is deprecated in 8.1 will keep working in the following two major releases (9 and 10). For example, we are deprecating platform-webworker in version 8.</p><p id="64ca" class="gr gs ec bc gt b gu gv gw gx gy gz ha hb hc hd he du">We are making it easier to find deprecations and removals in Angular. For a comprehensive list of all deprecations, see the new <a href="https://v8.angular.io/guide/deprecations" class="fm ch iy iz ja jb" target="_blank" rel="noopener">Deprecation Guide</a>.</p><h1 id="a14f" class="ih ii ec bc bb ij ee ik eg il im in io ip iq ir is"><strong class="bo">Ivy &amp; Bazel</strong></h1><p id="b3e2" class="gr gs ec bc gt b gu it gw iu gy iv ha iw hc ix he du">We know there’s lots of excitement for our forthcoming opt-in previews. We’ll be providing individual updates on these next week on this blog, so stay tuned!</p><h1 id="87d6" class="ih ii ec bc bb ij ee ik eg il im in io ip iq ir is">Contributors and Collaborators</h1><p id="1784" class="gr gs ec bc gt b gu it gw iu gy iv ha iw hc ix he du">A special thanks to <a href="https://twitter.com/ManfredSteyer" class="fm ch iy iz ja jb" target="_blank" rel="noopener">Manfred Steyer</a> for contributing to Differential Loading, <a href="https://twitter.com/phenomnominal" class="fm ch iy iz ja jb" target="_blank" rel="noopener">Craig Spence</a> to Dynamic Import support, <a href="https://twitter.com/_developit" class="fm ch iy iz ja jb" target="_blank" rel="noopener">Jason Miller</a> to Web Worker bundling support. This release was brought to you by 286 contributors:</p><figure class="hg hh hi hj hk hl"></figure></figure></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
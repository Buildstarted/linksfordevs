<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Add easy way to create a certificate from a multi-PEM or cert-PEM &#x2B; key-PEM &#xB7; Issue #31944 &#xB7; dotnet/runtime - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Add easy way to create a certificate from a multi-PEM or cert-PEM &#x2B; key-PEM &#xB7; Issue #31944 &#xB7; dotnet/runtime - linksfor.dev(s)"/>
    <meta property="article:author" content="Dotnet-GitSync-Bot"/>
    <meta property="og:description" content="Something like partial class X509Certificate2 { public static X509Certificate2 CreateFromPemFile(string certPemFile, string keyPemFile=default); } If no keyPemFile is specified, certPemFile is sear..."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://github.com/dotnet/runtime/issues/31944"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="grid">
        <h1>
                <span style="cursor: default" title="linksfor.dev(s) has been running for 1 year! :partypopper:">üéâ</span>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Add easy way to create a certificate from a multi-PEM or cert-PEM &#x2B; key-PEM &#xB7; Issue #31944 &#xB7; dotnet/runtime</title>
<div class="readable">
        <h1>Add easy way to create a certificate from a multi-PEM or cert-PEM &#x2B; key-PEM &#xB7; Issue #31944 &#xB7; dotnet/runtime</h1>
        <p>
by Dotnet-GitSync-Bot <br/>Reading time: 4-5 minutes        </p>
        <p><a href="https://github.com/dotnet/runtime/issues/31944">https://github.com/dotnet/runtime/issues/31944</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div data-channel="marked-as-read:issue:561889039">

              
<div data-gid="MDU6SXNzdWU1NjE4ODkwMzk=" data-url="/_render_node/MDU6SXNzdWU1NjE4ODkwMzk=/issues/body" data-channel="issue:561889039">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/bartonjs/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bartonjs"><img height="40" width="40" alt="@bartonjs" src="https://avatars1.githubusercontent.com/u/10642668?s=88&amp;v=4"></a>

</p>


  
<div id="issue-561889039">
  <div data-body-version="96a00132905f31cb020431a4c05fa18f" data-unfurl-hide-url="/content_reference_attachments/hide">
    


    <div>

      
<task-lists disabled="" sortable="">
<div>
          <p>Something like</p>
<div><pre><span>partial</span> <span>class</span> <span>X509Certificate2</span>
{
    <span>public</span> <span>static</span> <span>X509Certificate2</span> <span>CreateFromPemFile</span>(<span>string</span> <span>certPemFile</span>, <span>string</span> <span>keyPemFile</span><span>=</span><span>default</span>);
}</pre></div>
<p>If no <code>keyPemFile</code> is specified, <code>certPemFile</code> is searched for both the cert and the key.</p>
<p><code>certPemFile</code> probably should be "loads the first CERTIFICATE" entry from it; but if there are popular Unix-ish utilities that read multi-PEMs backwards, or "whichever one matched a private key", then we can consider a different behavior.</p>
<p>The keyPemFile is only allowed to specify one of the possible private key formats.  And we might also need an overload for loading <code>ENCRYPTED PRIVATE KEY</code>.</p>
      </div>
</task-lists>


        



    </div>

  </div>
</div>

</div>


              

  


  
  


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDU4MzY0MTcyNQ==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDU4MzY0MTcyNQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU4MzY0MTcyNQ==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/los93sol/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/los93sol"><img height="40" width="40" alt="@los93sol" src="https://avatars2.githubusercontent.com/u/6626120?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-583641725">
    <div>
      

  

<details data-body-version="f8d821134c6224368c29ca3ef7ab8f00">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  <div data-body-version="f8d821134c6224368c29ca3ef7ab8f00" data-unfurl-hide-url="/content_reference_attachments/hide">
    


    <div>

      
<task-lists disabled="" sortable="">
<div>
          <p>If this supported openssl encrypted key files from pem that would be great as well.  Hopefully people don't have unprotected pem files laying around with keys in them :)</p>
<p>Exporting to a pem object would be nice as well, from X509Certificate2 it seems like it would be pretty trivial to give back and object with the cert pem and the key pem, but when you have an X509CertificateCollection with intermediate/root certs in it things are quite a bit more difficult, maybe a collection with the chain certs as pem, then the leaf and key as properties....just tossing some ideas around since I have a TON of code to deal with certs in various formats</p>
      </div>
</task-lists>


        



    </div>

  </div>
</div>


</div>


</div>


  
  


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDU4MzcwMDE2OQ==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDU4MzcwMDE2OQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU4MzcwMDE2OQ==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/rynowak/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rynowak"><img height="40" width="40" alt="@rynowak" src="https://avatars1.githubusercontent.com/u/1430011?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-583700169">
    <div>
      

  

<details data-body-version="09d38537e1365892edce612c44935624">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  <div data-body-version="09d38537e1365892edce612c44935624" data-unfurl-hide-url="/content_reference_attachments/hide">
    


    <div>

      
<task-lists disabled="" sortable="">
<div>
          <blockquote>
<p>just tossing some ideas around since I have a TON of code to deal with certs in various formats</p>
</blockquote>
<p>Can you share some more about what kinds of things you commonly need to do? Code samples are great <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png">üëç</g-emoji></p>
      </div>
</task-lists>


        



    </div>

  </div>
</div>


</div>


</div>


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDU4MzcwMDMyOA==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDU4MzcwMDMyOA==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU4MzcwMDMyOA==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/rynowak/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rynowak"><img height="40" width="40" alt="@rynowak" src="https://avatars1.githubusercontent.com/u/1430011?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-583700328">
    <div>
      

  

<details data-body-version="ce84f4b73bfd362800b7232a752cc8b1">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  
</div>


</div>


</div>


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDU4MzcwNzA5Nw==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDU4MzcwNzA5Nw==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU4MzcwNzA5Nw==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/damienbod/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/damienbod"><img height="40" width="40" alt="@damienbod" src="https://avatars2.githubusercontent.com/u/3442158?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-583707097">
    <div>
      

  

<details data-body-version="be147a50920819f2c33d8ed910b9e41a">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  
</div>


</div>


</div>


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDU4Mzc3NzIzMw==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDU4Mzc3NzIzMw==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU4Mzc3NzIzMw==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/vcsjones/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vcsjones"><img height="40" width="40" alt="@vcsjones" src="https://avatars1.githubusercontent.com/u/361677?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-583777233">
    <div>
      

  

<details data-body-version="c329917779253d1f94f5f4c93011b067">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  <div data-body-version="c329917779253d1f94f5f4c93011b067" data-unfurl-hide-url="/content_reference_attachments/hide">
    


    <div>

      
<task-lists disabled="" sortable="">
<div>
          <p>A lot of PEM bundles I run in to are basically</p>
<p>leaf<br>
intermediate1<br>
IntermediateN<br>
private-key-for-leaf</p>
<p>Where the private key can appear at either the end of the bundle or immediately after the leaf, if it is present at all.</p>
<p>Is there any big value in getting the intermediates out as well in a single go? Perhaps return an array of <code>X509Certificate2</code> in the order of the aggregate and match the private key up to the right certificate? Or some tuple of <code>X509Certificate2</code> (Leaf) and <code>X509Certificate2Collection</code> (Additional certs)?</p>
      </div>
</task-lists>


        



    </div>

  </div>
</div>


</div>


</div>


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDU4Mzc4MTc4Mw==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDU4Mzc4MTc4Mw==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU4Mzc4MTc4Mw==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/bartonjs/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bartonjs"><img height="40" width="40" alt="@bartonjs" src="https://avatars1.githubusercontent.com/u/10642668?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-583781783">
    <div>
      

  

<details data-body-version="d3f0e3eb177e8ead65087fa75ce7f8ca">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  <div data-body-version="d3f0e3eb177e8ead65087fa75ce7f8ca" data-unfurl-hide-url="/content_reference_attachments/hide">
    


    <div>

      
<task-lists disabled="" sortable="">
<div>
          <p>I think the accelerator on X509Certificate2 would be just like the X509Certificate2 ctors, it produces just one cert.  X509Certificate2Collection could add a new instance ImportFromPem method and/or static CreateFromPem; and could do a semi-complex instance method to match additional keyfiles against existing certs... if that seems useful.</p>
      </div>
</task-lists>


        



    </div>

  </div>
</div>


</div>


</div>


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDU4NDQ1NTE1Mg==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDU4NDQ1NTE1Mg==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDU4NDQ1NTE1Mg==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/bgrainger/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bgrainger"><img height="40" width="40" alt="@bgrainger" src="https://avatars2.githubusercontent.com/u/188129?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-584455152">
    <div>
      

  

<details data-body-version="b6a9af7cf0a77ccb84d905ca60a82a7f">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  
</div>


</div>


</div>


  
  







<!-- Rendered timeline since 2020-02-12 02:16:20 -->



            </div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Implement server-side of NegotiateStream on Unix by Tratcher &#xB7; Pull Request #36827 &#xB7; dotnet/corefx - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Implement server-side of NegotiateStream on Unix by Tratcher &#xB7; Pull Request #36827 &#xB7; dotnet/corefx - linksfor.dev(s)"/>
    <meta property="article:author" content="Tratcher"/>
    <meta property="og:description" content="#8221 @davidsh I&amp;#39;m starting this draft PR to show you the scope of the changes needed for this feature. I&amp;#39;ll follow up with you offline.&#xA;The current code works end-to-end using a Windows cl..."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://github.com/dotnet/corefx/pull/36827"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
	<div class="devring" style="background: #222">
		<div class="grid">
			<div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
				<span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
				<a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
				<a href="https://devring.club/random" class="devring-random">Random</a>
				<a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
			</div>
		</div>
	</div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Implement server-side of NegotiateStream on Unix by Tratcher &#xB7; Pull Request #36827 &#xB7; dotnet/corefx</title>
<div class="readable">
        <h1>Implement server-side of NegotiateStream on Unix by Tratcher &#xB7; Pull Request #36827 &#xB7; dotnet/corefx</h1>
            <div>by Tratcher</div>
            <div>Reading time: 9-11 minutes</div>
        <div>Posted here: 30 Apr 2019</div>
        <p><a href="https://github.com/dotnet/corefx/pull/36827">https://github.com/dotnet/corefx/pull/36827</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div data-commit-hovercards-enabled="">
        <div itemscope="" itemtype="http://schema.org/SoftwareSourceCode">
    <main id="js-repo-pjax-container" data-pjax-container="">
      
<!-- base sha1: &quot;6322a406f88e854c5b827ab838f988f8992048f8&quot; -->
<!-- head sha1: &quot;0b0ea1fa8b6bb6cc64e59bcfca40b65c123306ce&quot; -->

  




  









  


<div>
  <div>

    
    
  <div data-pjax="">
    
      <div data-prompt="signup">
    <div>
      <div>
        <h3>Join GitHub today</h3>
        <p>GitHub is home to over 40 million developers working together to host and review code, manage projects, and build software together.</p>
        <p><a data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;files signup prompt&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/dotnet/corefx/pull/36827&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="f5b82f6b96dd8330f4c0aeea4f5f74060634474046ba2eb736e7a9292aff56e1" data-ga-click="(Logged out) Sign up prompt, clicked Sign up, text:sign-up" href="https://github.com/join?source=prompt-pr-show&amp;source_repo=dotnet%2Fcorefx">Sign up</a>
      </p></div>
    </div>
  </div>



  


  <div>
    
  


      <include-fragment src="/dotnet/corefx/pull/36827/show_partial?partial=pull_requests%2Ftabs">
    


  </include-fragment>


    <h2>Conversation</h2>
    <div id="discussion_bucket" data-channel="pull_request:270100078:timeline">
      
<div>

  <div>
        <div data-quote-markdown=".js-comment-body" data-issue-and-pr-hovercards-enabled="" data-team-hovercards-enabled="">
      <div data-channel="marked-as-read:pull-request:270100078">

        



        

  


  
  


  
  


  
  



  
  
<div data-gid="MDE3OlB1bGxSZXF1ZXN0Q29tbWl0MjcwMTAwMDc4OjdlOWIxNDA3Nzk0OGVhNGJjMGUxZWM5YjY4MGQzNDE5MmIzNjc2Mzg=">
  
      <div>
  <div>
      <div>
        
        <div>
          

<div data-channel="repo:26295345:commit:7e9b14077948ea4bc0e1ec9b680d34192b367638" data-url="/dotnet/corefx/pull/36827/commits/7e9b14077948ea4bc0e1ec9b680d34192b367638/_render_node/commit/pull_condensed">
  <div>
      
<div>
  <p><a data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/users/Tratcher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Tratcher">
          <img height="20" width="20" alt="@Tratcher" src="https://avatars2.githubusercontent.com/u/1821173?s=60&amp;v=4">
</a>  </p>
</div>


    

    

    

    
  </div>
</div>


        </div>
      </div>
  </div>
</div>


</div>

  
  



  
  



  
  



  
  
<div data-gid="MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI3NDY1Njg0">
  
      

<div>
  
<div id="pullrequestreview-227465684" data-gid="MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI3NDY1Njg0" data-channel="pull_request_review:227465684" data-url="/_render_node/MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI3NDY1Njg0/pull_request_reviews/body">

  <div>
    
<p><a data-hovercard-type="user" data-hovercard-url="/users/Tratcher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Tratcher"><img height="40" width="40" alt="@Tratcher" src="https://avatars3.githubusercontent.com/u/1821173?s=88&amp;v=4"></a>

</p>


    


    


  </div>
</div>

  
        



</div>

</div>

  
  


  
  


  
  
<div data-gid="MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI3OTkxNTk4">
  
      

<div>
  
<div id="pullrequestreview-227991598" data-gid="MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI3OTkxNTk4" data-channel="pull_request_review:227991598" data-url="/_render_node/MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI3OTkxNTk4/pull_request_reviews/body">

  <div>
    
<p><a data-hovercard-type="user" data-hovercard-url="/users/davidsh/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/davidsh"><img height="40" width="40" alt="@davidsh" src="https://avatars2.githubusercontent.com/u/7684835?s=88&amp;v=4"></a>

</p>


    


    


  </div>
</div>

  
        



</div>

</div>

  
  
<div data-gid="MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI3OTk0MTU5">
  
      

<div>
  
<div id="pullrequestreview-227994159" data-gid="MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI3OTk0MTU5" data-channel="pull_request_review:227994159" data-url="/_render_node/MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI3OTk0MTU5/pull_request_reviews/body">

  <div>
    
<p><a data-hovercard-type="user" data-hovercard-url="/users/davidsh/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/davidsh"><img height="40" width="40" alt="@davidsh" src="https://avatars2.githubusercontent.com/u/7684835?s=88&amp;v=4"></a>

</p>


    


    


  </div>
</div>

  
        



</div>

</div>

  
  
<div data-gid="MDE3OlB1bGxSZXF1ZXN0Q29tbWl0MjcwMTAwMDc4OmQ1NDI4MzlhYTg3ZTRhY2JjZjg3NDNjZDA1OTAyMTRhNTIyYTMwZjc=">
  
      <div>
  <div>
      <div>
        
        <div>
          

<div data-channel="repo:26295345:commit:d542839aa87e4acbcf8743cd0590214a522a30f7" data-url="/dotnet/corefx/pull/36827/commits/d542839aa87e4acbcf8743cd0590214a522a30f7/_render_node/commit/pull_condensed">
  <div>
      
<div>
  <p><a data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/users/Tratcher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Tratcher">
          <img height="20" width="20" alt="@Tratcher" src="https://avatars2.githubusercontent.com/u/1821173?s=60&amp;v=4">
</a>  </p>
</div>


    

    

    

    
  </div>
</div>


        </div>
      </div>
  </div>
</div>


</div>

  
  
<div data-gid="MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4MDM2MDk1">
  
      

<div>
  
<div id="pullrequestreview-228036095" data-gid="MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4MDM2MDk1" data-channel="pull_request_review:228036095" data-url="/_render_node/MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4MDM2MDk1/pull_request_reviews/body">

  <div>
    
<p><a data-hovercard-type="user" data-hovercard-url="/users/mconnew/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/mconnew"><img height="40" width="40" alt="@mconnew" src="https://avatars0.githubusercontent.com/u/8648390?s=88&amp;v=4"></a>

</p>


    


    


  </div>
</div>

  
        



</div>

</div>

  
  
<div data-gid="MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4MDg4MjY3">
  
      

<div>
  
<div id="pullrequestreview-228088267" data-gid="MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4MDg4MjY3" data-channel="pull_request_review:228088267" data-url="/_render_node/MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4MDg4MjY3/pull_request_reviews/body">

  <div>
    
<p><a data-hovercard-type="user" data-hovercard-url="/users/stephentoub/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/stephentoub"><img height="40" width="40" alt="@stephentoub" src="https://avatars2.githubusercontent.com/u/2642209?s=88&amp;v=4"></a>

</p>


    


    


  </div>
</div>

  
        



</div>

</div>

  
  
<div data-gid="MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4MDg4NDc3">
  
      

<div>
  
<div id="pullrequestreview-228088477" data-gid="MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4MDg4NDc3" data-channel="pull_request_review:228088477" data-url="/_render_node/MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4MDg4NDc3/pull_request_reviews/body">

  <div>
    
<p><a data-hovercard-type="user" data-hovercard-url="/users/stephentoub/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/stephentoub"><img height="40" width="40" alt="@stephentoub" src="https://avatars2.githubusercontent.com/u/2642209?s=88&amp;v=4"></a>

</p>


    


    


  </div>
</div>

  
        



</div>

</div>

  
  
<div data-gid="MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4MDg4NTc5">
  
      

<div>
  
<div id="pullrequestreview-228088579" data-gid="MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4MDg4NTc5" data-channel="pull_request_review:228088579" data-url="/_render_node/MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4MDg4NTc5/pull_request_reviews/body">

  <div>
    
<p><a data-hovercard-type="user" data-hovercard-url="/users/stephentoub/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/stephentoub"><img height="40" width="40" alt="@stephentoub" src="https://avatars2.githubusercontent.com/u/2642209?s=88&amp;v=4"></a>

</p>


    


    


  </div>
</div>

  
        



</div>

</div>

  
  
<div data-gid="MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4MDg4OTM1">
  
      

<div>
  
<div id="pullrequestreview-228088935" data-gid="MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4MDg4OTM1" data-channel="pull_request_review:228088935" data-url="/_render_node/MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4MDg4OTM1/pull_request_reviews/body">

  <div>
    
<p><a data-hovercard-type="user" data-hovercard-url="/users/stephentoub/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/stephentoub"><img height="40" width="40" alt="@stephentoub" src="https://avatars2.githubusercontent.com/u/2642209?s=88&amp;v=4"></a>

</p>


    


    


  </div>
</div>

  
        



</div>

</div>

  
  
<div data-gid="MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4MDg5MTU3">
  
      

<div>
  
<div id="pullrequestreview-228089157" data-gid="MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4MDg5MTU3" data-channel="pull_request_review:228089157" data-url="/_render_node/MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4MDg5MTU3/pull_request_reviews/body">

  <div>
    
<p><a data-hovercard-type="user" data-hovercard-url="/users/stephentoub/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/stephentoub"><img height="40" width="40" alt="@stephentoub" src="https://avatars2.githubusercontent.com/u/2642209?s=88&amp;v=4"></a>

</p>


    


    


  </div>
</div>

  
        



</div>

</div>



    
  
<div data-gid="MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4MDg5NTEx">
  
      

<div>
  
<div id="pullrequestreview-228089511" data-gid="MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4MDg5NTEx" data-channel="pull_request_review:228089511" data-url="/_render_node/MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4MDg5NTEx/pull_request_reviews/body">

  <div>
    
<p><a data-hovercard-type="user" data-hovercard-url="/users/stephentoub/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/stephentoub"><img height="40" width="40" alt="@stephentoub" src="https://avatars2.githubusercontent.com/u/2642209?s=88&amp;v=4"></a>

</p>


    


    


  </div>
</div>

  
        



</div>

</div>

    
  


    
  


    
  



    
  



    
  
<div data-gid="MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4NTg1Nzg0">
  
      

<div>
  
<div id="pullrequestreview-228585784" data-gid="MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4NTg1Nzg0" data-channel="pull_request_review:228585784" data-url="/_render_node/MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MjI4NTg1Nzg0/pull_request_reviews/body">

  <div>
    
<p><a data-hovercard-type="user" data-hovercard-url="/users/davidsh/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/davidsh"><img height="40" width="40" alt="@davidsh" src="https://avatars2.githubusercontent.com/u/7684835?s=88&amp;v=4"></a>

</p>


    


    


  </div>
</div>

  
        


</div>

</div>

    
  



    
  



    
  
<div data-gid="MDE1OlJlZmVyZW5jZWRFdmVudDIyODc0Njc4NjI=">
  
        
  <div id="event-2287467863">
  
  <div>

      <p>

      <a data-hovercard-type="user" data-hovercard-url="/users/Tratcher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Tratcher"><img height="20" width="20" alt="@Tratcher" src="https://avatars2.githubusercontent.com/u/1821173?s=60&amp;v=4"></a>
  <a data-hovercard-type="user" data-hovercard-url="/users/Tratcher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Tratcher">Tratcher</a>
  


      merged commit <a href="https://github.com/dotnet/corefx/commit/0a9a366e290aded3e9bf5d082d6beee5ff560177"><code>0a9a366</code></a>
    into
    <span>
      <span title="dotnet/corefx:master">
        <span>master</span>
      </span>
    </span></p><a href="https://github.com/dotnet/corefx/pull/36827#event-2287467863"><relative-time datetime="2019-04-19T05:27:39Z" title="Apr 18, 2019, 10:27 PM PDT">on Apr 18, 2019</relative-time></a>

      <p>
        15 checks passed
      </p>

      <div>
        
        <div>
            
            <div>
              
              <p><strong>
                  corefx-ci
                </strong>
                Build #20190418.27 succeeded
              </p>

                <p><a href="https://github.com/dotnet/corefx/runs/105442810">Details</a>
            </p></div>
            <div>
              
              <p><strong>
                  corefx-ci (Linux arm64_Release)
                </strong>
                Linux arm64_Release succeeded
              </p>

                <p><a href="https://github.com/dotnet/corefx/runs/105283198">Details</a>
            </p></div>
            <div>
              
              <p><strong>
                  corefx-ci (Linux arm_Release)
                </strong>
                Linux arm_Release succeeded
              </p>

                <p><a href="https://github.com/dotnet/corefx/runs/105283197">Details</a>
            </p></div>
            <div>
              
              <p><strong>
                  corefx-ci (Linux musl_arm64_Release)
                </strong>
                Linux musl_arm64_Release succeeded
              </p>

                <p><a href="https://github.com/dotnet/corefx/runs/105283208">Details</a>
            </p></div>
            <div>
              
              <p><strong>
                  corefx-ci (Linux musl_x64_Release)
                </strong>
                Linux musl_x64_Release succeeded
              </p>

                <p><a href="https://github.com/dotnet/corefx/runs/105283212">Details</a>
            </p></div>
            <div>
              
              <p><strong>
                  corefx-ci (Linux x64_Release)
                </strong>
                Linux x64_Release succeeded
              </p>

                <p><a href="https://github.com/dotnet/corefx/runs/105283179">Details</a>
            </p></div>
            <div>
              
              <p><strong>
                  corefx-ci (Packaging All Configurations x64_Debug)
                </strong>
                Packaging All Configurations x64_Debug succeeded
              </p>

                <p><a href="https://github.com/dotnet/corefx/runs/105441772">Details</a>
            </p></div>
            <div>
              
              <p><strong>
                  corefx-ci (Windows NETFX_x86_Release)
                </strong>
                Windows NETFX_x86_Release succeeded
              </p>

                <p><a href="https://github.com/dotnet/corefx/runs/105283142">Details</a>
            </p></div>
            <div>
              
              <p><strong>
                  corefx-ci (Windows UWP_CoreCLR_x64_Debug)
                </strong>
                Windows UWP_CoreCLR_x64_Debug succeeded
              </p>

                <p><a href="https://github.com/dotnet/corefx/runs/105283163">Details</a>
            </p></div>
            <div>
              
              <p><strong>
                  corefx-ci (Windows UWP_NETNative_x86_Release)
                </strong>
                Windows UWP_NETNative_x86_Release succeeded
              </p>

                <p><a href="https://github.com/dotnet/corefx/runs/105283132">Details</a>
            </p></div>
            <div>
              
              <p><strong>
                  corefx-ci (Windows x64_Debug)
                </strong>
                Windows x64_Debug succeeded
              </p>

                <p><a href="https://github.com/dotnet/corefx/runs/105441774">Details</a>
            </p></div>
            <div>
              
              <p><strong>
                  corefx-ci (Windows x86_Release)
                </strong>
                Windows x86_Release succeeded
              </p>

                <p><a href="https://github.com/dotnet/corefx/runs/105283123">Details</a>
            </p></div>
            <div>
              
              <p><strong>
                  corefx-ci (macOS x64_Debug)
                </strong>
                macOS x64_Debug succeeded
              </p>

                <p><a href="https://github.com/dotnet/corefx/runs/105283222">Details</a>
            </p></div>
            <div>
              
              <p><strong>
                  license/cla
                </strong>
                All CLA requirements met.
              </p>

                <p><a href="https://cla.dotnetfoundation.org/dotnet/corefx?pullRequest=36827">Details</a>
            </p></div>
        </div>
      </div>
  </div>
</div>



  




</div>

    
  



    
  
<div data-gid="MDIwOkNyb3NzUmVmZXJlbmNlZEV2ZW50OTMxNjU4Mjcy">
  
        <div>
  

  <div>
      <div><p>
  This was referenced </p><relative-time datetime="2019-05-08T20:58:26Z" title="May 8, 2019, 1:58 PM PDT">on May 8, 2019</relative-time>
</div>





      





  </div>
</div>

  


  


  <div>
  <div id="ref-commit-f3df284">
    
  <p><a data-hovercard-type="user" data-hovercard-url="/users/davidsh/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/davidsh">davidsh</a> 

      pushed a commit
        to davidsh/corefx
      that referenced
      this pull request

    </p><a href="#ref-commit-f3df284">
      <relative-time datetime="2019-11-10T16:07:57Z" title="Nov 10, 2019, 8:07 AM PST">on Nov 10, 2019</relative-time>
    </a>
    <div>
      

<div data-channel="repo:170939755:commit:f3df284fd1d460d7347251f411263dfd664f1d31" data-url="/davidsh/corefx/commit/f3df284fd1d460d7347251f411263dfd664f1d31/_render_node/commit/condensed">
  <div>
      
<div>
  <p><img src="https://camo.githubusercontent.com/d985a560b7cf0fffa6242d384d06e9e53627ae5e/68747470733a2f2f302e67726176617461722e636f6d2f6176617461722f35353764663639626136653231306537613565613334376338626335623961363f643d68747470732533412532462532466769746875622e6769746875626173736574732e636f6d253246696d6167657325324667726176617461727325324667726176617461722d757365722d3432302e706e6726723d6726733d3430" width="20" height="20" alt="David Shulman">
  </p>
</div>


    

    

    

    
  </div>
    <div>
      <pre>This PR is a follow up to PR <a data-error-text="Failed to load issue title" data-id="432678039" data-permission-text="Issue title is private" data-url="https://github.com/dotnet/corefx/issues/36827" data-hovercard-type="pull_request" data-hovercard-url="/dotnet/corefx/pull/36827/hovercard" href="https://github.com/dotnet/corefx/pull/36827">dotnet#36827</a> which added support for Linux server-side
GSS-API (AcceptSecContext). This enabled NegotitateStream AuthenticateAsServer*
support. It also provided support for ASP.NET Core to allow Kestrel server to have
Negotiate authentication on Linux.

This PR fixes some problems with Negotiate (SPNEGO) fallback from Kerberos to NTLM.
Notably it passes in a correct GSS Acceptor credential so that fallback will work
correctly. As part of fixing that, I noticed some other problems with returning the
user-identity when NTLM is used.

This was tested in a separate enterprise testing environment that I have created.
It builds on technologies that we have started using like docker containers and Azure
pipelines (e.g. HttpStress). The environment is currently here:
<a href="https://dev.azure.com/systemnetncl/Enterprise%20Testing" rel="nofollow">https://dev.azure.com/systemnetncl/Enterprise%20Testing</a>. The extra Kerberos tests
and container support is here: <a href="https://github.com/davidsh/networkingtests">https://github.com/davidsh/networkingtests</a>

When the repo merge is completed, I will work with the infra team to see what things
can be merged back into the main repo/CI pipeline and migrate the test sources to an
appropriate place in the new repo.

Contributes to #10041
Contributes to #24707
Contributes to #30150</pre>
    </div>
</div>


    </div>
  </div>
</div>

  

  <div>
  <div id="ref-commit-01e6750">
    
  <p><a data-hovercard-type="user" data-hovercard-url="/users/davidsh/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/davidsh">davidsh</a> 

      pushed a commit
        to davidsh/corefx
      that referenced
      this pull request

    </p><a href="#ref-commit-01e6750">
      <relative-time datetime="2019-11-10T16:15:07Z" title="Nov 10, 2019, 8:15 AM PST">on Nov 10, 2019</relative-time>
    </a>
    <div>
      

<div data-channel="repo:170939755:commit:01e67503404ccf0a8dc8deb69f285d8ea0f42ce6" data-url="/davidsh/corefx/commit/01e67503404ccf0a8dc8deb69f285d8ea0f42ce6/_render_node/commit/condensed">
  <div>
      
<div>
  <p><img src="https://camo.githubusercontent.com/d985a560b7cf0fffa6242d384d06e9e53627ae5e/68747470733a2f2f302e67726176617461722e636f6d2f6176617461722f35353764663639626136653231306537613565613334376338626335623961363f643d68747470732533412532462532466769746875622e6769746875626173736574732e636f6d253246696d6167657325324667726176617461727325324667726176617461722d757365722d3432302e706e6726723d6726733d3430" width="20" height="20" alt="David Shulman">
  </p>
</div>


    

    

    

    
  </div>
    <div>
      <pre>This PR is a follow up to PR <a data-error-text="Failed to load issue title" data-id="432678039" data-permission-text="Issue title is private" data-url="https://github.com/dotnet/corefx/issues/36827" data-hovercard-type="pull_request" data-hovercard-url="/dotnet/corefx/pull/36827/hovercard" href="https://github.com/dotnet/corefx/pull/36827">dotnet#36827</a> which added support for Linux server-side
GSS-API (AcceptSecContext). This enabled NegotitateStream AuthenticateAsServer*
support. It also provided support for ASP.NET Core to allow Kestrel server to have
Negotiate authentication on Linux.

This PR fixes some problems with Negotiate (SPNEGO) fallback from Kerberos to NTLM.
Notably it passes in a correct GSS Acceptor credential so that fallback will work
correctly. As part of fixing that, I noticed some other problems with returning the
user-identity when NTLM is used.

This was tested in a separate enterprise testing environment that I have created.
It builds on technologies that we have started using like docker containers and Azure
pipelines (e.g. HttpStress). The environment is currently here:
<a href="https://dev.azure.com/systemnetncl/Enterprise%20Testing" rel="nofollow">https://dev.azure.com/systemnetncl/Enterprise%20Testing</a>. The extra Kerberos tests
and container support is here: <a href="https://github.com/davidsh/networkingtests">https://github.com/davidsh/networkingtests</a>

When the repo merge is completed, I will work with the infra team to see what things
can be merged back into the main repo/CI pipeline and migrate the test sources to an
appropriate place in the new repo.

Contributes to #10041
Contributes to #24707
Contributes to #30150</pre>
    </div>
</div>


    </div>
  </div>
</div>

  <div>
  <div id="ref-commit-1054f1f">
    
  <p><a data-hovercard-type="user" data-hovercard-url="/users/davidsh/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/davidsh">davidsh</a> 

      added a commit
      that referenced
      this pull request

    </p><a href="#ref-commit-1054f1f">
      <relative-time datetime="2019-11-11T23:49:43Z" title="Nov 11, 2019, 3:49 PM PST">on Nov 11, 2019</relative-time>
    </a>
    <div>
      

<div data-channel="repo:26295345:commit:1054f1fba1b7222c138dcd20d8da80cd893fdd01" data-url="/dotnet/corefx/commit/1054f1fba1b7222c138dcd20d8da80cd893fdd01/_render_node/commit/condensed">
  <div>
      
<div>
  <p><a data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/users/davidsh/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/davidsh">
          <img height="20" width="20" alt="@davidsh" src="https://avatars3.githubusercontent.com/u/7684835?s=60&amp;v=4">
</a>  </p>
</div>


    

    

    

    
  </div>
    <div>
      <pre>This PR is a follow up to PR <a data-error-text="Failed to load issue title" data-id="432678039" data-permission-text="Issue title is private" data-url="https://github.com/dotnet/corefx/issues/36827" data-hovercard-type="pull_request" data-hovercard-url="/dotnet/corefx/pull/36827/hovercard" href="https://github.com/dotnet/corefx/pull/36827">#36827</a> which added support for Linux server-side
GSS-API (AcceptSecContext). This enabled NegotitateStream AuthenticateAsServer*
support. It also provided support for ASP.NET Core to allow Kestrel server to have
Negotiate authentication on Linux.

This PR fixes some problems with Negotiate (SPNEGO) fallback from Kerberos to NTLM.
Notably it passes in a correct GSS Acceptor credential so that fallback will work
correctly. As part of fixing that, I noticed some other problems with returning the
user-identity when NTLM is used.

This was tested in a separate enterprise testing environment that I have created.
It builds on technologies that we have started using like docker containers and Azure
pipelines (e.g. HttpStress). The environment is currently here:
<a href="https://dev.azure.com/systemnetncl/Enterprise%20Testing" rel="nofollow">https://dev.azure.com/systemnetncl/Enterprise%20Testing</a>. The extra Kerberos tests
and container support is here: <a href="https://github.com/davidsh/networkingtests">https://github.com/davidsh/networkingtests</a>

When the repo merge is completed, I will work with the infra team to see what things
can be merged back into the main repo/CI pipeline and migrate the test sources to an
appropriate place in the new repo.

Contributes to #10041
Contributes to #24707
Contributes to #30150</pre>
    </div>
</div>


    </div>
  </div>
</div>



</div>




<!-- Rendered timeline since 2019-11-11 15:49:43 -->



      </div>

      
    </div>

</div>

    
</div>



    </div>
  </div>
  


  </div>


  </div>
</div>

    </main>
  </div>
  

  </div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
My First Xamarin app -
linksfor.dev(s)
    </title>
	<link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <h1>My First Xamarin app</h1>
    <div class="post-content e-content"> <p>A few days ago, my daughter was in a real funk. It breaks my heart to see her struggle. Fortunately, I knew exactly what to do, &#x201C;build a mobile app!&#x201D;</p> <p>Before the humorless among you think I&#x2019;m a callous parent, that&#x2019;s not exactly what I did of course. I gave her money.</p> <p>I kid. What I <em>really</em> did was listen to her struggles and offered unconditional love, support, and comfort. <em>Then</em> I went and wrote a mobile app.</p> <h2 id="the-app">The App</h2> <p>The idea for the app is simple. The main screen has a list of moods. She clicks on the mood corresponding to how she feels at the moment, and the app displays an encouraging message with a corresponding funny or cute image.</p> <p>This might sound familiar to some of you. The idea was inspired by the <a href="https://haacked.com/archive/2014/06/20/encourage-vs/">Encourage for Visual Studio</a> and <a href="https://haacked.com/archive/2016/05/11/encourage-atom/">Encourage for Atom</a> plug-ins I wrote in the past.</p> <p>Let&#x2019;s take a look at it! This is the main screen with a list of moods.</p> <p><img src="https://user-images.githubusercontent.com/19977/72462978-2fc87380-3787-11ea-9994-3c15a3da8889.png" alt="Image of iPhone screen with a list of mood buttons: Sad, Bored, Angry, Frustrated, Happy"></p> <p>Suppose she clicks &#x201C;Bored&#x201D;, she&#x2019;ll get a random encouragement which consists of a funny photo and a message.</p> <p><img src="https://user-images.githubusercontent.com/19977/72463290-bf6e2200-3787-11ea-9c83-26e5cf22a7b4.png" alt="Image of iPhone screen with a photo of a dog with glasses looking at a book. Underneath is the caption: When I&apos;m bored, I go read a book."></p> <p>For now, the image is stored as a URL and is loaded off the internet, so a connection is required to see the image. Also, all of this is configurable through a janky UI.</p> <p><img src="https://user-images.githubusercontent.com/19977/72463503-3a373d00-3788-11ea-97ac-ffdfeb82e27d.png" alt="Image of iPhone screen with a janky looking user interface for editing a mood and its list of encouragements"></p> <p>So if you wanted to add a mood such as &#x201C;Missing my Ex&#x201D; and add encouragements such as &#x201C;Put down that phone!&#x201D;, you could totally do that!</p> <h2 id="choice-of-stack">Choice of Stack</h2> <p>For most of my career, I&#x2019;ve been a web slinger knee deep in HTML, CSS, JavaScript, and all the <a href="https://twitter.com/haacked/status/1217512365622644736">agglutinations of Active Server Pages</a>. There was one brief interlude where <a href="https://haacked.com/archive/2012/05/21/introducing-github-for-windows.aspx/">I impersonated a WPF developer</a>, but most of my career has been web tech.</p> <p>Since I want to build a cross-platform app, React Native might seem a logical choice. But in the end, I wanted to build it fast and my command of XAML and C# is better than my command of React. Also, this is just an exploration for me. I am not building this with expectations of becoming an App Store millionaire. I just wanted to get it working quick and on my daughter&#x2019;s phone.</p> <h2 id="the-experience">The Experience</h2> <p>The good news is the time it took from code to something usable on the phone was very short. The longest part of it was getting all the tools installed. Since I&#x2019;m on a mac, used Visual Studio for Mac as many of the tutorials assume it. For asp.net core, I&#x2019;ve been using Jetbrains Rider.</p> <p>You might wonder why I don&#x2019;t use Visual Studio Code. Don&#x2019;t get me wrong, I love VS Code. But for me, it&#x2019;s like the hostel of editors. It&#x2019;s vibrant and fun and perfect for me when I was younger, but as I&#x2019;ve gotten older, I&#x2019;ve grown accustomed to all the amenities of a proper hotel (IDE). I still use VS Code for a lot though.</p> <p>Here are a few of the tutorials I followed.</p> <p>Most of what I implemented is pretty boilerplate. However, one feature was a bit tricky. In order to edit a mood, I wanted the user to press and hold the button. The long press gesture doesn&#x2019;t come included with Xamarin Forms. Fortunatley I found <a href="https://alexdunn.org/2017/12/27/xamarin-tip-xamarin-forms-long-press-effect/">a blog post by Alex Dunn where he implements a long press effect with a custom <code class="language-plaintext highlighter-rouge">RoutingEffect</code></a>.</p> <h2 id="some-observations">Some observations</h2> <ul> <li>I&#x2019;ve written a ton of XAML and it&#x2019;s still confusing at times. It&#x2019;s got quite a learning curve. Some things that should be simple <a href="https://twitter.com/haacked/status/1217183616142176256">are way more complicated than you&#x2019;d expect</a>. Microsoft recently announced some <a href="https://docs.microsoft.com/en-us/mobile-blazor-bindings/">experimental Blazor bindings for Xamarin Forms</a>. I might try and port my app to it for a side-by-side comparison.</li> <li>Visual Studio on Mac is beautiful, but pretty rough around the edges. Every now and then it just shits itself and decides it&#x2019;s had enough of Intellisense. A restart usually brings it back. This happens with Rider too.</li> <li>Also, I don&#x2019;t like that to do multi-cursor selection, I have to use the mouse or trackpad. There doesn&#x2019;t seem to be block selection fully with keyboard like there is in Visual Studio on Windows.</li> <li>Every now and then it can&#x2019;t match up xaml files with their code behind. It just gets in a mood I tell ya.</li> <li>It&#x2019;s not clear to me how to build idiomatic data entry pages (such as setting pages) with Xamarin. I wish there was more guidance about building idiomatic apps and common scenarios.</li> <li>Despite these complaints, the overall experience of writing the app with C# 8 was a real pleasure. I started off as simple and minimal as I could. For example, I didn&#x2019;t add any view models until I really started to need them. And even then, I am not using any view model frameworks. As the code gets more complicated, I may introduce something.</li> <li>Hot reload with Xamarin is so hot!</li>
</ul> <h2 id="try-it-out-provide-feedback-or-get-involved">Try it out, provide feedback, or get involved</h2> <p>The code is up on GitHub at <a href="https://github.com/haacked/encourage-mobile">https://github.com/haacked/encourage-mobile</a>.</p> <p>As this is my first mobile app with Xamarin, I would love feedback and help. Especially around these areas:</p> <ol> <li>Is my approach idiomatic? Are there things I should be doing better?</li> <li>Can you help me make it look less like ass and more like awesome?</li> <li>What polish should I add?</li> <li>I need an icon.</li>
</ol> <h2 id="conclusion">Conclusion</h2> <p>I should mention before I end this post, my daughter loved the bespoke app lovingly crafted just for her. She got a good laugh out of it, then went right back to her Youtube videos never to launch it again.</p> </div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
    </footer>
    
    <script>
        (function() {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function() {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) {}
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
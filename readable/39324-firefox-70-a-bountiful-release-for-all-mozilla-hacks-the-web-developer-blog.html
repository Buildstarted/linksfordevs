<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Firefox 70 &#x2014; a bountiful release for all &#x2013; Mozilla Hacks - the Web developer blog -
linksfor.dev(s)
    </title>
	<link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <h1>Firefox 70 &#x2014; a bountiful release for all &#x2013; Mozilla Hacks - the Web developer blog</h1>
    <article class="post"> <p>Firefox 70 is released today, and includes great new features such as secure password generation with Lockwise and the new Firefox Privacy Protection Report; you can read the full details in the <a href="https://www.mozilla.org/en-US/firefox/70.0/releasenotes/">Firefox 70 Release Notes</a>.</p>
<p>Amazing <a href="https://blog.mozilla.org/blog/2019/10/22/latest-firefox-brings-privacy-protections-front-and-center-letting-you-track-the-trackers/">user features and protections</a> aside, we&#x2019;ve also got plenty of cool additions for developers in this release. These include DOM mutation breakpoints and inactive CSS rule indicators in the DevTools, several new CSS text properties, two-value <code>display</code> syntax, and JS numeric separators. In this article, we&#x2019;ll take a closer look at some of the highlights!</p>
<p>For all the details, check out the following:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Firefox/Releases/70">Firefox 70 for developers</a></li>
<li><a href="https://www.fxsitecompat.com/en-CA/versions/70/">Site compatibility for Firefox 70</a></li>
</ul>
<p>Note that the new <a href="http://youtube.com/mozilladeveloper">Mozilla Developer YouTube channel</a> will have videos covering many of the features mentioned below. Why not subscribe, so you can get them when they come out?</p>
<h2>HTML forms and secure passwords</h2>
<p>To enable the generation of secure passwords (as mentioned above) we&#x2019;ve updated HTML <code>&lt;input&gt;</code> elements; any <code>&lt;input&gt;</code> element of type password will have an option to generate a secure password available in the context menu, which can then be stored in Lockwise.</p>
<p>For example, take the following:</p>
<pre><code>&lt;input type=&#x201D;password&#x201D;&gt;</code></pre>
<p>In the Firefox UI, you&#x2019;ll then be able to generate a secure password like so:<a href="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2019/10/secure-password-generation-reduced.png"><img class="alignnone wp-image-33910 size-full" src="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2019/10/secure-password-generation-reduced.png" alt="Context menu showing password generation option" width="1000" srcset="https://hacks.mozilla.org/files/2019/10/secure-password-generation-reduced.png 1000w, https://hacks.mozilla.org/files/2019/10/secure-password-generation-reduced-250x87.png 250w, https://hacks.mozilla.org/files/2019/10/secure-password-generation-reduced-768x266.png 768w, https://hacks.mozilla.org/files/2019/10/secure-password-generation-reduced-500x174.png 500w" sizes="(max-width: 1000px) 100vw, 1000px"></a></p>
<p>In addition, any <code>type=&quot;password&quot;</code> field with <code>autocomplete=&#x201D;new-password&#x201D;</code> set on it will have an autocomplete UI to generate a new password in-context.</p>
<p>Note: It is advisable to use <code>autocomplete=&#x201D;new-password&#x201D;</code> on password change and registration forms as a strong signal to password managers that a field expects a new password, not an existing one.</p>
<h2>CSS</h2>
<p>Let&#x2019;s turn our attention to the new CSS features in Firefox 70.</p>
<h3>New options for styling underlines!</h3>
<p>Firefox 70 introduces three new properties related to text decoration/underline:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/text-decoration-thickness"><code>text-decoration-thickness</code></a>: sets the thickness of lines added via text-decoration.</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/text-underline-offset"><code>text-underline-offset</code></a>: sets the distance between a text decoration and the text it is set on. Bear in mind that this only works on underlines.</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/text-decoration-skip-ink"><code>text-decoration-skip-ink</code></a>: sets whether underlines and overlines are drawn if they cross descenders and ascenders. The default value, auto, causes them to only be drawn where they do not cross over a glyph. To allow underlines to cross glyphs, set the value to none.</li>
</ul>
<p>So, for example, the following code:</p>
<pre><code>h1 {
  text-decoration: underline red;
  text-decoration-thickness: 3px;
  text-underline-offset: 6px;
}</code></pre>
<p>will give you this kind of effect:</p>
<p><img class="alignnone wp-image-33911 size-full" src="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2019/10/text-decoration.png" alt="a heading with a thick, red, offset underline that isn&apos;t drawn over the heading&apos;s descenders" width="1295" srcset="https://hacks.mozilla.org/files/2019/10/text-decoration.png 1295w, https://hacks.mozilla.org/files/2019/10/text-decoration-250x36.png 250w, https://hacks.mozilla.org/files/2019/10/text-decoration-768x112.png 768w, https://hacks.mozilla.org/files/2019/10/text-decoration-500x73.png 500w" sizes="(max-width: 1295px) 100vw, 1295px"></p>
<h3>Two-keyword display values</h3>
<p>For years, the humble <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/display"><code>display</code></a> property has taken a single value, whether we are talking about simple display choices like <code>block</code>, <code>inline</code>, or <code>none</code>, or newer display modes like <code>flex</code> or <code>grid</code>.</p>
<p>However, as <a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/The_box_model#Aside_Inner_and_outer_display_types">Rachel explains</a>, the boxes on your page have an outer display type, which determines how the box is laid out in relation to other boxes on the page, and an inner display type, which determines how the box&#x2019;s children will behave. Browsers have done this for a while, but it has only been specified recently. The new set of two-keyword values allow you to explicitly specify the outer and inner display values.</p>
<p>In supporting browsers (just Firefox at the time of writing), the single keyword values we know and love will map to new two-keyword values, for example:</p>
<ul>
<li><code>display: flex;</code> is equivalent to <code>display: block flex;</code></li>
<li><code>display: inline-flex;</code> is equivalent to <code>display: inline flex;</code></li>
</ul>
<p>Rachel will explain this in more detail in an upcoming blog post. For now, watch this space!</p>
<h2>JavaScript</h2>
<p>Now let&#x2019;s move on to the JavaScript.</p>
<h3>Numeric separators</h3>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Lexical_grammar#Numeric_separators">Numeric separators</a> are now supported in JavaScript &#x2014; underscores can now be used as separators in large numbers, so that they are more readable. For example:</p>
<pre><code>let myNumber = 1_000_000_000_000;
console.log(myNumber); // Logs 1000000000000

let myHex = 0xA0_B0_C0
console.log(myHex); // Logs 10531008</code></pre>
<p>Numeric separators are usable with any kind of numeric literal, including <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt">BigInts</a>.</p>
<h3>Intl improvements</h3>
<p>We&#x2019;ve improved JavaScript i18n (internationalization), starting with the implementation of the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RelativeTimeFormat/formatToParts"><code>Intl.RelativeTimeFormat.formatToParts()</code></a> method. This is a special version of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RelativeTimeFormat/format"><code>Intl.RelativeTimeFormat.format()</code></a> that returns an array of objects, each one representing a part of the value, rather than returning a string of the localized time value.</p>
<pre><code>const rtf = new Intl.RelativeTimeFormat(&quot;en&quot;, { numeric: &quot;auto&quot; });

rtf.format(-2, &quot;day&quot;); // Returns &quot;2 days ago&quot;

rtf.formatToParts(-2, &quot;day&quot;);
/*
Returns

[
&#x200B;&#xA0; { type: &quot;integer&quot;, value: &quot;2&quot;, unit: &quot;day&quot; },
&#x200B;&#xA0; { type: &quot;literal&quot;, value: &quot; days ago&quot; }
&#x200B;]
*/</code></pre>
<p>This is useful because it allows you to easily isolate the numeric value out of the string, for example.</p>
<p>In addition, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat/format"><code>Intl.NumberFormat.format()</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat/formatToParts"><code>Intl.NumberFormat.formatToParts()</code></a> now accept <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt">BigInt</a> values.</p>
<h3>Performance improvements</h3>
<p>JavaScript has got generally faster thanks to our new baseline interpreter! You can learn more by reading <a href="https://hacks.mozilla.org/2019/08/the-baseline-interpreter-a-faster-js-interpreter-in-firefox-70/">The Baseline Interpreter: a faster JS interpreter in Firefox 70</a>.</p>
<h2><a href="https://hacks.mozilla.org/2019/10/firefox-70-a-bountiful-release-for-all/#developertools">Developer tools</a></h2>
<p>There is a whole host of awesome new things going on with Firefox 70 developer tools. Let&#x2019;s find out what they are!</p>
<h3>Inactive CSS rules indicator in rules panel</h3>
<p>Inactive CSS properties in the <a href="https://wiki.developer.mozilla.org/en-US/docs/Tools/Page_Inspector/UI_Tour#Rules_view">Rules view</a> of the <a href="https://wiki.developer.mozilla.org/en-US/docs/Tools/Page_Inspector">Page Inspector</a> are now colored gray and have an information icon displayed next to them. The properties are technically valid, but won&#x2019;t have any effect on the element. When you hover over the info icon, you&#x2019;ll see a useful message about why the CSS is not being applied, including a hint about how to fix the problem and a &#x201C;Learn more&#x201D; link for more information.</p>
<p>For example, in this case our <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-auto-columns"><code>grid-auto-columns</code></a> property is inactive because we are trying to apply it to an element that is not a grid container:</p>
<p><a href="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2019/10/inactive-grid-auto-columns.png"><img class="alignnone wp-image-33907 size-full" src="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2019/10/inactive-grid-auto-columns.png" alt="a warning message saying that grid-auto-columns isn&apos;t being applied because the element doesn&apos;t have display: grid applied" width="963" srcset="https://hacks.mozilla.org/files/2019/10/inactive-grid-auto-columns.png 963w, https://hacks.mozilla.org/files/2019/10/inactive-grid-auto-columns-250x112.png 250w, https://hacks.mozilla.org/files/2019/10/inactive-grid-auto-columns-768x344.png 768w, https://hacks.mozilla.org/files/2019/10/inactive-grid-auto-columns-500x224.png 500w" sizes="(max-width: 963px) 100vw, 963px"></a></p>
<p>And in this case, our <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/flex"><code>flex</code></a> property is inactive because we are trying to apply it to an element that is not a flex item. (Its parent is not a flex container.):</p>
<p><a href="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2019/10/inactive-flex.png"><img class="alignnone wp-image-33906 size-full" src="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2019/10/inactive-flex.png" alt="A warning message saying that the flex property is inactive because the element&apos;s parent is not a flex container" width="962" srcset="https://hacks.mozilla.org/files/2019/10/inactive-flex.png 962w, https://hacks.mozilla.org/files/2019/10/inactive-flex-250x87.png 250w, https://hacks.mozilla.org/files/2019/10/inactive-flex-768x267.png 768w, https://hacks.mozilla.org/files/2019/10/inactive-flex-500x174.png 500w" sizes="(max-width: 962px) 100vw, 962px"></a></p>
<p>To fix this second issue, we can go into the inspector, find the element&#x2019;s parent (a <code>&lt;div&gt;</code> in this case), and apply <code>display: flex;</code> to it:</p>
<p><a href="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2019/10/flex-fix.png"><img class="alignnone wp-image-33905 size-full" src="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2019/10/flex-fix.png" alt="using the rules inspector in firefox to fix the problem with display: flex" width="1945" srcset="https://hacks.mozilla.org/files/2019/10/flex-fix.png 1945w, https://hacks.mozilla.org/files/2019/10/flex-fix-250x52.png 250w, https://hacks.mozilla.org/files/2019/10/flex-fix-768x160.png 768w, https://hacks.mozilla.org/files/2019/10/flex-fix-500x104.png 500w" sizes="(max-width: 1945px) 100vw, 1945px"></a></p>
<p>Our fix is shown in the <a href="https://developer.mozilla.org/en-US/docs/Tools/Page_Inspector/How_to/Examine_and_edit_CSS#Track_changes">Changes panel</a>, and from there can be copied and put into our code base. Sorted!</p>
<p><a href="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2019/10/flex-changes.png"><img class="alignnone wp-image-33904 size-full" src="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2019/10/flex-changes.png" alt="the changes panel, which can be used to copy the code changes you made, and then paste them back into your codebase" width="759" srcset="https://hacks.mozilla.org/files/2019/10/flex-changes.png 759w, https://hacks.mozilla.org/files/2019/10/flex-changes-250x98.png 250w, https://hacks.mozilla.org/files/2019/10/flex-changes-500x196.png 500w" sizes="(max-width: 759px) 100vw, 759px"></a></p>
<h3>Pause on DOM Mutation in Debugger</h3>
<p>In complex dynamic web apps it is sometimes hard to tell which script changed the page and caused the issue when you run into a problem. DOM Mutation Breakpoints (aka DOM Change Breakpoints) let you pause scripts that add, remove, or change specific elements.</p>
<p>Try inspecting any element on your page. When you /ctrl + click it in the HTML inspector, you&#x2019;ll see a new context menu item &#x201C;Break on&#x2026;&#x201D;, with the following sub-items:</p>
<ul>
<li>Subtree modification</li>
<li>Attribute modification</li>
<li>Node removal</li>
</ul>
<p>Once a DOM mutation breakpoint is set, you&#x2019;ll see it listed under &#x201C;DOM Mutation Breakpoints&#x201D; in the right-hand pane of the Debugger; this is also where you&#x2019;ll see breaks reported.</p>
<p><a href="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2019/10/DOM_mutation_paused.png"><img class="alignnone wp-image-33903 size-full" src="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2019/10/DOM_mutation_paused.png" alt="the degugger interface showing paused dom mutation code after a DOM mutation breakpoint was hit" width="899" srcset="https://hacks.mozilla.org/files/2019/10/DOM_mutation_paused.png 899w, https://hacks.mozilla.org/files/2019/10/DOM_mutation_paused-250x93.png 250w, https://hacks.mozilla.org/files/2019/10/DOM_mutation_paused-768x284.png 768w, https://hacks.mozilla.org/files/2019/10/DOM_mutation_paused-500x185.png 500w" sizes="(max-width: 899px) 100vw, 899px"></a></p>
<p>For more details, see <a href="https://wiki.developer.mozilla.org/en-US/docs/Tools/Debugger/Break_on_DOM_mutation">Break on DOM mutation</a>. If you find them useful for your work, you might find <a href="https://developer.mozilla.org/en-US/docs/Tools/Debugger/Set_event_listener_breakpoints">Event Listener Breakpoints</a> and <a href="https://developer.mozilla.org/en-US/docs/Tools/Debugger/Set_an_XHR_breakpoint">XHR Breakpoints</a> useful too!</p>
<h3>Color contrast information in the color picker!</h3>
<p>In the <a href="https://wiki.developer.mozilla.org/en-US/docs/Tools/Page_Inspector/UI_Tour#Rules_view">CSS Rules view</a>, you can click foreground colors with the <a href="https://wiki.developer.mozilla.org/en-US/docs/Tools/Page_Inspector/How_to/Inspect_and_select_colors">color picker</a> to determine if their contrast with the background color meets accessibility guidelines.</p>
<p><a href="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2019/10/color-picker-good-contrast.png"><img class="alignnone wp-image-33902 size-medium" src="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2019/10/color-picker-good-contrast-250x234.png" alt="a color picker showing color contrast information between the foreground and background colors" width="250" srcset="https://hacks.mozilla.org/files/2019/10/color-picker-good-contrast-250x234.png 250w, https://hacks.mozilla.org/files/2019/10/color-picker-good-contrast-500x468.png 500w, https://hacks.mozilla.org/files/2019/10/color-picker-good-contrast.png 506w" sizes="(max-width: 250px) 100vw, 250px"></a></p>
<h3>Accessibility inspector: keyboard checks</h3>
<p>The <a href="https://wiki.developer.mozilla.org/en-US/docs/Tools/Accessibility_inspector">Accessibility inspector</a>&#x2018;s <a href="https://wiki.developer.mozilla.org/en-US/docs/Tools/Accessibility_inspector#Check_for_accessibility_issues">Check for issues</a> dropdown now includes keyboard accessibility checks:</p>
<p><a href="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2019/10/keyboard-checks-menu.png"><img class="alignnone wp-image-33909 size-full" src="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2019/10/keyboard-checks-menu.png" alt="The firefox accessibility inspector, showing acessibility check options; contrast, keyboard, or text labels" width="1000" srcset="https://hacks.mozilla.org/files/2019/10/keyboard-checks-menu.png 1000w, https://hacks.mozilla.org/files/2019/10/keyboard-checks-menu-250x92.png 250w, https://hacks.mozilla.org/files/2019/10/keyboard-checks-menu-768x281.png 768w, https://hacks.mozilla.org/files/2019/10/keyboard-checks-menu-500x183.png 500w" sizes="(max-width: 1000px) 100vw, 1000px"></a></p>
<p>Selecting this option causes Firefox to go through each node in the accessibility tree and highlight all that have a keyboard accessibility issue:</p>
<p><a href="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2019/10/keyboard-checks-detail.png"><img class="alignnone wp-image-33908 size-full" src="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2019/10/keyboard-checks-detail.png" alt="the accessibility inspector showing the results of keyboard checks - several messages highlighting where and what the problems are" width="1000" srcset="https://hacks.mozilla.org/files/2019/10/keyboard-checks-detail.png 1000w, https://hacks.mozilla.org/files/2019/10/keyboard-checks-detail-250x92.png 250w, https://hacks.mozilla.org/files/2019/10/keyboard-checks-detail-768x281.png 768w, https://hacks.mozilla.org/files/2019/10/keyboard-checks-detail-500x183.png 500w" sizes="(max-width: 1000px) 100vw, 1000px"></a></p>
<p>Hovering over or clicking each one will reveal information about what the issue is, along with a &#x201C;Learn more&#x201D; link for more details on how to fix it.</p>
<p>Try it now, on a web page near you!</p>
<h3>Web socket inspector</h3>
<p>In Firefox DevEdition, the <a href="https://developer.mozilla.org/en-US/docs/Tools/Network_Monitor">Network monitor</a> now has a new &#x201C;Messages&#x201D; panel, which appears when you are monitoring a web socket connection (i.e. a 101 response). This can be used to inspect web socket frames sent and received through the connection.</p>
<p>Read <a href="https://hacks.mozilla.org/2019/10/firefoxs-new-websocket-inspector/">Firefox&#x2019;s New WebSocket Inspector</a> to find out more. Note that this functionality was originally supposed to be in Firefox 70 general release, but we had a few more bugs to iron out, so expect it in Firefox 71! For now, you can use it in <a href="https://www.mozilla.org/en-US/firefox/developer/">DevEdition</a> &#x2014; <a href="https://discourse.mozilla.org/c/devtools">please share your constructive feedback</a>!</p> <section class="about"> </section> </article>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2019 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
    </footer>
    
    <script>
        (function() {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function() {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) {}
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
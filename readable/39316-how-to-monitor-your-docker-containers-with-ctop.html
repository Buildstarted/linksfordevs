<!DOCTYPE html>
<html lang="en">
<head>
    <title>
How to monitor your Docker containers with ctop -
linksfor.dev(s)
    </title>
	<link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <h1>How to monitor your Docker containers with ctop</h1>
    <div><p class="takeaway"> Jack Wallen shows you how to install, and use ctop for quick and easy container monitoring on a Linux Docker server. </p><div class="content"> <figure class="image pull-none image-large"><span class="img aspect-set "><img src="https://tr4.cbsistatic.com/hub/i/r/2017/08/30/c1320ab2-76f0-44af-8681-268b7fc96aa7/resize/770x/44bd978a97e52b22ef6a632ce1d36a3f/dockerhero.jpg" class alt="dockerhero.jpg" width="770"></span><figcaption></figcaption></figure><p>If Docker is your container service of choice, you know how easy it is to create and deploy containers. Chances are you&apos;ve already done so and have numerous containers running on your network. However, do you know how well those containers are performing? If you&apos;re familiar with Linux, you might wish there were an top/htop app geared specifically for containers.</p><p>There is.</p><p>That&apos;s right, one of the best means of monitoring your containers is an open source tool, found on <a href="https://github.com/bcicen/ctop">Github</a>, called ctop. With this app, you can get a quick overview of your containers, their names, IDs, and how much CPU, Memory, and Network Rx/Tx data. Ctop even allows you to filter what you&apos;re viewing, and gives you an expanded view of a selected container. Although it may not offer a massive amount of features, it does the job and does it well. The tool is easy to install, and even easier to use. I&apos;ll demonstrate on a Ubuntu 16.04 platform, but ctop can be installed on nearly any Linux distribution.</p><h2>Installation</h2><p>There are two ways to install ctop: As an app or a container. I&apos;ll show you both. First, we&apos;ll install ctop as a container. To do this, log into your container server and issue the following command to deploy the container:</p><pre class="code">docker run -ti -v /var/run/docker.sock:/var/run/docker.sock quay.io/vektorlab/ctop:latest</pre> <p>The above command will pull down the necessary image, deploy the container, and drop you into the app. To exit ctop, hit [Ctl]+[x]. The problem with using ctop in this manner is that you must issue the above command every time you wish to run ctop. That&apos;s too much typing. Let&apos;s make it easier. </p> <p>We can install ctop as a local application. To do so, we&apos;ll pull down the executable from Github, move it into <em>/usr/local/bin</em>, and give it the necessary permissions with the following commands:</p><pre class="code">wget https://github.com/bcicen/ctop/releases/download/v0.4.1/ctop-0.4.1-linux-amd64 -O ctop
sudo mv ctop /usr/local/bin/
sudo chmod +x /usr/local/bin/ctop</pre><p>At this point, you can start up ctop anytime with the command <em>ctop</em>.</p><h2>Usage</h2><p>Using ctop is simple. Once you have the tool open (<strong>Figure A</strong>), you&apos;ll see all of your currently active containers listed.</p><p><strong>Figure A</strong></p><figure class="image pull-none image-original"><span class="img aspect-set "><img src="https://tr2.cbsistatic.com/hub/i/2017/11/21/236a3268-ba07-460a-aca9-d052c7414e9d/ctopa.jpg" class="lazy" alt="Figure A"></span><figcaption><div class="caption"><p>Three containers are running and displaying their usage.</p></div></figcaption></figure><p>As you can see, one of my containers (wonderful_stallman) is using 1.37GB of memory. That particular container is an instance of Only Office, so it makes sense it would be using a larger amount of resources. However, it&apos;s nearly hogging up all of the system resources on my virtual machine, so I might want to consider migrating that container to a beefier virtual machine. </p><p>With ctop, you can easily filter your containers. Say you have a large number of containers on your server and want to check on the resource usage of a particular deployment. With ctop open, hit the f key on your keyboard to open the filter (<strong>Figure B</strong>).</p><p><strong>Figure B</strong></p><figure class="image pull-none image-original"><span class="img aspect-set "><img src="https://tr3.cbsistatic.com/hub/i/2017/11/21/3c32eb8b-59df-4725-9795-a38bd4269481/ctopb.jpg" class="lazy" alt="Figure B"></span><figcaption><div class="caption"><p>The filter is ready for you.</p></div></figcaption></figure><p>Type the name of a container and ctop will display only the results that match the filter. This is incredibly helpful when your Docker server hosts numerous containers. To clear a filter, type f again, and then hit Enter on the keyboard.</p><p>If you select a container from the listing and hit Enter, you will see a bit more information laid out in easy to read graphs (<strong>Figure C</strong>).</p><p><strong>Figure C</strong></p><figure class="image pull-none image-original"><span class="img aspect-set "><img src="https://tr2.cbsistatic.com/hub/i/2017/11/21/a725af08-e9ca-4db4-abc3-e2e0804dd852/ctopc.jpg" class="lazy" alt="Figure C"></span><figcaption><div class="caption"><p>Expanded information about my OnlyOffice container.</p></div></figcaption></figure><p>To exit out of the expanded view, type q. To exit out of ctop, type q, and you&apos;ll be returned to your bash prompt.</p><h2>Just enough info</h2><p>And that&apos;s pretty much the gist of using ctop on Linux for viewing details of your containers. This tool doesn&apos;t offer extensive information, but it will give you just enough information to keep you aware of how your containers are performing. Ctop could easily be a first line of defense in troubleshooting Docker containers.</p><div> <div class="newsletter-shortcode"> <div class="thumbnail"> <img src="https://tr4.cbsistatic.com/fly/bundles/techrepubliccss/images/article-NLSthumb.jpg" alt width="70"></div> <div class="item-content"> <p> DevOps, virtualization, the hybrid cloud, storage, and operational efficiency are just some of the data center topics we&apos;ll highlight. Delivered Mondays and Wednesdays </p> <a id="nlse102"> <svg class=" envelope-alt"><use xlink:href="#envelope-alt"/></svg> Sign up today </a> <a id="nlse102"> <svg class=" envelope-alt"><use xlink:href="#envelope-alt"/></svg> Sign up today </a> </div> </div> </div><h2>Also see</h2></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2019 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
    </footer>
    
    <script>
        (function() {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function() {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) {}
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
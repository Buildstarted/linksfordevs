<!DOCTYPE html>
<html lang="en">
<head>
    <title>
So you want your app/website to work in China&#x2026; - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="So you want your app/website to work in China&#x2026; - linksfor.dev(s)"/>
    <meta property="og:description" content="Wait, what do you mean make my app/site work in China? I don&#x2019;t have to do anything to make my app work in the US or Singapore or Kenya or anywhere else, and I didn&#x2019;t make the Chinese government angry, so it should just work in China, right? Sadly, it&#x2019;s not so simple. If your app/website servers aren&#x2019;t hosted from within China, then, for all intents and purposes, it&#x2019;s blocked. I mean, it will probably technically load, but will be excruciatingly, unusably slow. And sometimes it will just not load at all for hours at a time. This is true for all services hosted outside of the firewall, even in Hong Kong."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://chanind.github.io/china/2019/01/19/launching-an-app-or-website-in-china.html"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - So you want your app/website to work in China&#x2026;</title>
<div class="readable">
        <h1>So you want your app/website to work in China&#x2026;</h1>
            <div>Reading time: 5-7 minutes</div>
        <div>Posted here: 22 Mar 2019</div>
        <p><a href="https://chanind.github.io/china/2019/01/19/launching-an-app-or-website-in-china.html">https://chanind.github.io/china/2019/01/19/launching-an-app-or-website-in-china.html</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>Wait, what do you mean make my app/site <em>work</em> in China? I don’t have to do anything to make my app work in the US or Singapore or Kenya or anywhere else, and I didn’t make the Chinese government angry, so it should just work in China, right? Sadly, it’s not so simple. If your app/website servers aren’t hosted from within China, then, for all intents and purposes, it’s blocked. I mean, it will probably technically load, but will be excruciatingly, unusably slow. And sometimes it will just not load at all for hours at a time. This is true for all services hosted outside of the firewall, even in Hong Kong.</p>

<h3 id="the-firewall">The Firewall</h3>

<p>Any time a request needs to go from within China to the outside world, or from the outside world into China, the request crosses the Chinese Great Firewall. When this happens, there’s a lot of latency that gets added, and there’s a high chance the request will randomly fail. Requests through the firewall may appear to work most of the time, but then suddenly get fully blocked for several hours. The firewall doesn’t seem like it’s implemented uniformly across China either, so it’s possible that if you test in Shanghai your request may go through but a user in Changsha will have their requests blocked.</p>

<p>Basically, if requests need to pass through the firewall to reach your servers outside of China you’re in for a bad time.</p>

<h3 id="icp-license">ICP License</h3>

<p>If you want to have any infrastructure working in China, you need to apply for an <a href="https://en.wikipedia.org/wiki/ICP_license">ICP license</a> from the Chinese government. All the techniques below require that you have this license. It’s quite a pain to apply for, and takes several months, but there’s no way around it. You can find more info about registering for an ICP license <a href="https://webdesign.tutsplus.com/articles/chinese-icp-licensing-what-why-and-how-to-get-hosted-in-china--cms-23193">here</a>. Alicloud also has a lot of info on registering for an ICP <a href="https://www.alibabacloud.com/icp">here</a>.</p>

<h3 id="option-1-cloudflare-china-acceleration">Option 1: Cloudflare China Acceleration</h3>

<p>The easiest option to get your services working in China is to go use <a href="https://www.cloudflare.com/network/china/">Cloudflare’s China acceleration</a>. Cloudflare partnered with Baidu to extend their acceleration network with points inside of China itself. Going through this method allows requests into and out of China to bypass the firewall, so your service will be fast. Cloudflare China acceleration requires an enterprise account though, so it’s going to be pricey.</p>

<p>Using Cloudflare does effectively allow you to host your infrastructure outside of China, but depending on your business it might not be entirely legal. That’s because China has strict <a href="https://www.chinalawblog.com/2018/05/china-data-protection-regulations-cdpr.html">data protection laws</a>, and in many cases you must store Chinese users’ data inside of China. If you’re not a huge company or don’t have much sensitive data on Chinese users this may not be an issue, but it’s something to be aware of.</p>

<p>If most of your customers are outside of China and you just want to make sure your app/website loads quickly in China, then this is likely the best option for you.</p>

<h3 id="option-2-make-a-separate-chinese-version-of-your-appwebsite">Option 2: Make a Separate Chinese Version of your App/Website</h3>

<p>The most direct way to make your app/website work in China is, of course, to host your servers themselves in China. You can do that using a Chinese cloud provider like <a href="https://alibabacloud.com/">Alicloud</a> or <a href="https://cloud.tencent.com/">Tencent cloud</a>, or using the <a href="https://www.amazonaws.cn/en/">AWS China region</a>. If you use AWS, you should be aware that the China region requires setting up a different account, and isn’t even run by Amazon!</p>

<p>The most technically correct way to be in compliance with the Chinese government’s <a href="https://www.chinalawblog.com/2018/05/china-data-protection-regulations-cdpr.html">data protection laws</a> is to have a separate Chinese version of your app/website and run a separate version of your infrastructure in China. This allows all data for your Chinese users to stay in China and not be transferred abroad. No requests ever have to cross the firewall, so everything remains fast. Of course, it’s practically quite annoying to run 2 separate but identical versions of your infrastructure and apps.</p>

<h3 id="option-3-proxy-requests-on-a-chinese-cloud-provider">Option 3: Proxy Requests on a Chinese Cloud Provider</h3>

<p>Chinese cloud providers like <a href="https://alibabacloud.com/">Alicloud</a> and <a href="https://cloud.tencent.com/">Tencent cloud</a> have fast connections between their datacenters through the firewall that you can make use of. You can create a VPC inside of China and a VPC outside of China and then connect them using a form of VPC peering. This gives you a high-speed connection through the firewall which you can use to proxy requests. If you host your main infrastructure in a Chinese region then you’ll be in compliance with China’s <a href="https://www.chinalawblog.com/2018/05/china-data-protection-regulations-cdpr.html">data protection laws</a>, while still being able to serve requests outside of China via the proxied connection.</p>

<h3 id="option-4-use-a-chinese-cloud-provider-acceleration-service">Option 4: Use a Chinese Cloud Provider Acceleration Service</h3>

<p>If you’re hosting your infrastructure on <a href="https://alibabacloud.com/">Alicloud</a> or <a href="https://cloud.tencent.com/">Tencent cloud</a> in China, you can accelerate requests to your infrastructure globally using their acceleration services. These work similarly to the Cloudflare option above, but in reverse. Alicloud calls their service <a href="https://www.alibabacloud.com/help/product/55629.htm">Global Acceleration</a>, and Tencent cloud calls their <a href="https://intl.cloud.tencent.com/product/gaap">GAAP</a>. This allows users globally to make requests to your servers in China and still have them be fast.</p>

<h3 id="3rd-party-services">3rd Party Services</h3>

<p>No matter which option you go with, you still need to test that your service is working in China. Even if you’re running on Chinese infrastructure or using Cloudflare China acceleration you may still be relying on APIs that aren’t supported in China, like Facebook Login or Google Recaptcha. If your server in China needs to make API calls to services that aren’t optimized in China you may find that a lot of those requests fail as well.</p>

<h3 id="good-luck">Good luck!</h3>

  </div>
  
  
</article>

      </div>
    </div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
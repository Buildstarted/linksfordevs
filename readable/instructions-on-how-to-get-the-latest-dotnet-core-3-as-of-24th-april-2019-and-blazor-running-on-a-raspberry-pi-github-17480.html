<!DOCTYPE html>
<html lang="en">
<head>
    <title>linksfor.dev(s)</title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        <h1>
                <span style="cursor: default" title="linksfor.dev(s) has been running for 1 year! :partypopper:">ðŸŽ‰</span>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <div class="readable">
        <h1>Instructions on how to get the latest dotnet core 3 (as of 24th April 2019) and Blazor running on a Raspberry PI</h1>
        <p>
Reading time: 6-8 minutes        </p>
        <p><a href="https://gist.github.com/shawty/a55f6d09edc2d381c8bd5bf2f639b2de">https://gist.github.com/shawty/a55f6d09edc2d381c8bd5bf2f639b2de</a></p>
        <hr/>
<div id="readability-page-1" class="page"><p>
    Instructions on how to get the latest dotnet core 3 (as of 24th April 2019) and Blazor running on a Raspberry PI
  </p><div>
  <div id="file-instructions-txt">
      
    

  <div itemprop="text">
      
<table data-tab-size="8">
      <tbody><tr>
        <td id="file-instructions-txt-L1" data-line-number="1"></td>
        <td id="file-instructions-txt-LC1">First things first, make sure your Raspberry PI has the latest updates for Raspbian on by running</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L2" data-line-number="2"></td>
        <td id="file-instructions-txt-LC2">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L3" data-line-number="3"></td>
        <td id="file-instructions-txt-LC3">sudo apt-get -y update</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L4" data-line-number="4"></td>
        <td id="file-instructions-txt-LC4">sudo apt-get -y upgrade</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L5" data-line-number="5"></td>
        <td id="file-instructions-txt-LC5">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L6" data-line-number="6"></td>
        <td id="file-instructions-txt-LC6">Also make sure that your running this on a version 2 raspberry PI or higher (I tested this on a Quad Core V3 B+, and a V2 PI Zero)</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L7" data-line-number="7"></td>
        <td id="file-instructions-txt-LC7">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L8" data-line-number="8"></td>
        <td id="file-instructions-txt-LC8">This will NOT WORK on any PI model that's older, I tried it on an original V1 and to say it wasn't happy, was an understatement :-)</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L9" data-line-number="9"></td>
        <td id="file-instructions-txt-LC9">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L10" data-line-number="10"></td>
        <td id="file-instructions-txt-LC10">Right, prerequisates:</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L11" data-line-number="11"></td>
        <td id="file-instructions-txt-LC11">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L12" data-line-number="12"></td>
        <td id="file-instructions-txt-LC12">From the command line run</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L13" data-line-number="13"></td>
        <td id="file-instructions-txt-LC13">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L14" data-line-number="14"></td>
        <td id="file-instructions-txt-LC14">sudo apt-get -y install libunwind8 gettext</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L15" data-line-number="15"></td>
        <td id="file-instructions-txt-LC15">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L16" data-line-number="16"></td>
        <td id="file-instructions-txt-LC16">Then in your home directory ("/home/pi" if your using the default) run the following to download the binaries</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L17" data-line-number="17"></td>
        <td id="file-instructions-txt-LC17">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L18" data-line-number="18"></td>
        <td id="file-instructions-txt-LC18">wget https://download.visualstudio.microsoft.com/download/pr/549f71f9-ba29-476d-8e15-b450f7ba2504/59825a1fcc5aa35344e4f44b2e9f94db/dotnet-sdk-3.0.100-preview4-011223-linux-arm.tar.gz</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L19" data-line-number="19"></td>
        <td id="file-instructions-txt-LC19">wget https://download.visualstudio.microsoft.com/download/pr/0c4d44a8-3ccd-45f4-994f-ea93008226eb/c4088c9872670837bb2fa55162fd5c77/aspnetcore-runtime-3.0.0-preview4-19216-03-linux-arm.tar.gz</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L20" data-line-number="20"></td>
        <td id="file-instructions-txt-LC20">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L21" data-line-number="21"></td>
        <td id="file-instructions-txt-LC21">Once the tar.gz files finish downloading, run the following commands at your command line while still in your home directory</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L22" data-line-number="22"></td>
        <td id="file-instructions-txt-LC22">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L23" data-line-number="23"></td>
        <td id="file-instructions-txt-LC23">sudo mkdir /opt/dotnet</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L24" data-line-number="24"></td>
        <td id="file-instructions-txt-LC24">sudo tar -xvf dotnet-sdk-3.0.100-preview4-011223-linux-arm.tar.gz -C /opt/dotnet/</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L25" data-line-number="25"></td>
        <td id="file-instructions-txt-LC25">sudo tar -xvf aspnetcore-runtime-3.0.0-preview4-19216-03-linux-arm.tar.gz -C /opt/dotnet/</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L26" data-line-number="26"></td>
        <td id="file-instructions-txt-LC26">sudo ln -s /opt/dotnet/dotnet /usr/local/bin</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L27" data-line-number="27"></td>
        <td id="file-instructions-txt-LC27">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L28" data-line-number="28"></td>
        <td id="file-instructions-txt-LC28">If all goes ok, you should be able to run</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L29" data-line-number="29"></td>
        <td id="file-instructions-txt-LC29">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L30" data-line-number="30"></td>
        <td id="file-instructions-txt-LC30">dotnet --info</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L31" data-line-number="31"></td>
        <td id="file-instructions-txt-LC31">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L32" data-line-number="32"></td>
        <td id="file-instructions-txt-LC32">And see your dotnet command list it's details</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L33" data-line-number="33"></td>
        <td id="file-instructions-txt-LC33">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L34" data-line-number="34"></td>
        <td id="file-instructions-txt-LC34">Next you need to install the blazor templates</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L35" data-line-number="35"></td>
        <td id="file-instructions-txt-LC35">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L36" data-line-number="36"></td>
        <td id="file-instructions-txt-LC36">dotnet new -i Microsoft.AspNetCore.Blazor.Templates::3.0.0-preview4-19216-03</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L37" data-line-number="37"></td>
        <td id="file-instructions-txt-LC37">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L38" data-line-number="38"></td>
        <td id="file-instructions-txt-LC38">(Thanks to Magoo for pointing that one out ;-)  )</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L39" data-line-number="39"></td>
        <td id="file-instructions-txt-LC39">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L40" data-line-number="40"></td>
        <td id="file-instructions-txt-LC40">If everything works ok so far, then you have one more step, and this is very important, type</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L41" data-line-number="41"></td>
        <td id="file-instructions-txt-LC41">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L42" data-line-number="42"></td>
        <td id="file-instructions-txt-LC42">export DOTNET_ROOT=/opt/dotnet</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L43" data-line-number="43"></td>
        <td id="file-instructions-txt-LC43">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L44" data-line-number="44"></td>
        <td id="file-instructions-txt-LC44">at the command line to tell the OS where the libs for dotnet etc are.</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L45" data-line-number="45"></td>
        <td id="file-instructions-txt-LC45">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L46" data-line-number="46"></td>
        <td id="file-instructions-txt-LC46">You WILL NEED to run this everytime you sign in to your PI, so find the file named ".bashrc" in your home directory and</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L47" data-line-number="47"></td>
        <td id="file-instructions-txt-LC47">add that export command as the very last line in the file, that will cause it to be set everytime you login.</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L48" data-line-number="48"></td>
        <td id="file-instructions-txt-LC48">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L49" data-line-number="49"></td>
        <td id="file-instructions-txt-LC49">NOTE: The .bashrc file will need to be edited for every user you expect to sign in and use dotnet on the device</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L50" data-line-number="50"></td>
        <td id="file-instructions-txt-LC50">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L51" data-line-number="51"></td>
        <td id="file-instructions-txt-LC51">Once that's done, create a folder EG:</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L52" data-line-number="52"></td>
        <td id="file-instructions-txt-LC52">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L53" data-line-number="53"></td>
        <td id="file-instructions-txt-LC53">mkdir rpiblazor</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L54" data-line-number="54"></td>
        <td id="file-instructions-txt-LC54">cd rpiblazor</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L55" data-line-number="55"></td>
        <td id="file-instructions-txt-LC55">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L56" data-line-number="56"></td>
        <td id="file-instructions-txt-LC56">then run</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L57" data-line-number="57"></td>
        <td id="file-instructions-txt-LC57">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L58" data-line-number="58"></td>
        <td id="file-instructions-txt-LC58">dotnet new blazorhosted</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L59" data-line-number="59"></td>
        <td id="file-instructions-txt-LC59">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L60" data-line-number="60"></td>
        <td id="file-instructions-txt-LC60">You will also likley need to add a line to Program.cs in the server project to make it listen on all IP addresses</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L61" data-line-number="61"></td>
        <td id="file-instructions-txt-LC61">assuming your accessing from a browser on a different machine.</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L62" data-line-number="62"></td>
        <td id="file-instructions-txt-LC62">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L63" data-line-number="63"></td>
        <td id="file-instructions-txt-LC63">A suitable program.cs will look something like this:</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L64" data-line-number="64"></td>
        <td id="file-instructions-txt-LC64">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L65" data-line-number="65"></td>
        <td id="file-instructions-txt-LC65">namespace rpiblazor.Server</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L66" data-line-number="66"></td>
        <td id="file-instructions-txt-LC66">{</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L67" data-line-number="67"></td>
        <td id="file-instructions-txt-LC67">    public class Program</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L68" data-line-number="68"></td>
        <td id="file-instructions-txt-LC68">    {</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L69" data-line-number="69"></td>
        <td id="file-instructions-txt-LC69">        public static void Main(string[] args)</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L70" data-line-number="70"></td>
        <td id="file-instructions-txt-LC70">        {</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L71" data-line-number="71"></td>
        <td id="file-instructions-txt-LC71">            BuildWebHost(args).Run();</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L72" data-line-number="72"></td>
        <td id="file-instructions-txt-LC72">        }</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L73" data-line-number="73"></td>
        <td id="file-instructions-txt-LC73">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L74" data-line-number="74"></td>
        <td id="file-instructions-txt-LC74">        public static IWebHost BuildWebHost(string[] args) =&gt;</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L75" data-line-number="75"></td>
        <td id="file-instructions-txt-LC75">            WebHost.CreateDefaultBuilder(args)</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L76" data-line-number="76"></td>
        <td id="file-instructions-txt-LC76">                .UseConfiguration(new ConfigurationBuilder()</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L77" data-line-number="77"></td>
        <td id="file-instructions-txt-LC77">                    .AddCommandLine(args)</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L78" data-line-number="78"></td>
        <td id="file-instructions-txt-LC78">                    .Build())</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L79" data-line-number="79"></td>
        <td id="file-instructions-txt-LC79">                .UseUrls("http://*:5000")</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L80" data-line-number="80"></td>
        <td id="file-instructions-txt-LC80">                .UseStartup&lt;Startup&gt;()</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L81" data-line-number="81"></td>
        <td id="file-instructions-txt-LC81">                .Build();</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L82" data-line-number="82"></td>
        <td id="file-instructions-txt-LC82">    }</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L83" data-line-number="83"></td>
        <td id="file-instructions-txt-LC83">}</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L84" data-line-number="84"></td>
        <td id="file-instructions-txt-LC84">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L85" data-line-number="85"></td>
        <td id="file-instructions-txt-LC85">NOTE the "UseUrls" line and how it uses a * rather than an IP or 'localhost'</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L86" data-line-number="86"></td>
        <td id="file-instructions-txt-LC86">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L87" data-line-number="87"></td>
        <td id="file-instructions-txt-LC87">Then it's just the usual dotnet build/run etc</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L88" data-line-number="88"></td>
        <td id="file-instructions-txt-LC88">
</td>
      </tr>
      <tr>
        <td id="file-instructions-txt-L89" data-line-number="89"></td>
        <td id="file-instructions-txt-LC89">It's not a speed demon to build by the way, I've seen it take 2 mins plus, but once running it's pretty good.</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
minvws/nl-covid19-notification-app-backend - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.min.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="minvws/nl-covid19-notification-app-backend - linksfor.dev(s)"/>
    <meta property="article:author" content="minvws"/>
    <meta property="og:description" content="Contribute to minvws/nl-covid19-notification-app-backend development by creating an account on GitHub."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://github.com/minvws/nl-covid19-notification-app-backend"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1 style="margin: unset">
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - minvws/nl-covid19-notification-app-backend</title>
<div class="readable">
        <h1>minvws/nl-covid19-notification-app-backend</h1>
            <div>by minvws</div>
            <div>Reading time: 5-6 minutes</div>
        <div>Posted here: 19 Aug 2020</div>
        <p><a href="https://github.com/minvws/nl-covid19-notification-app-backend">https://github.com/minvws/nl-covid19-notification-app-backend</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="readme">
    
        

      <div>
        <article itemprop="text">
<h2>Introduction</h2>
<p>This repository contains the backend code for the Dutch exposure notification app.</p>
<ul>
<li>The backend is located in the repository you are currently viewing.</li>
<li>The iOS app can be found here: <a href="https://github.com/minvws/nl-covid19-notification-app-ios">https://github.com/minvws/nl-covid19-notification-app-ios</a></li>
<li>The Android app can be found here: <a href="https://github.com/minvws/nl-covid19-notification-app-android">https://github.com/minvws/nl-covid19-notification-app-android</a></li>
<li>The designs that are used as a basis to develop the apps can be found here: <a href="https://github.com/minvws/nl-covid19-notification-app-design">https://github.com/minvws/nl-covid19-notification-app-design</a></li>
<li>The architecture that underpins the development can be found here: <a href="https://github.com/minvws/nl-covid19-notification-app-coordination">https://github.com/minvws/nl-covid19-notification-app-coordination</a></li>
</ul>
<h2>Development &amp; Contribution process</h2>
<p>The core team works on the repository in a private fork (for reasons of compliance with existing processes) and will share its work as often as possible.</p>
<p>If you plan to make non-trivial changes, we recommend to open an issue beforehand where we can discuss your planned changes.
This increases the chance that we might be able to use your contribution (or it avoids doing work if there are reasons why we wouldn't be able to use it).</p>
<h2>Running a standalone server</h2>
<p>Local development support is provided for all platforms - Windows, macOS, Linux - by ServerStandAlone - a .NET Core MVC Web App, and the command line apps in the Data Utilities folder.</p>
<h2>Development Tools</h2>
<ul>
<li>Visual Studio 2019 (or Rider)</li>
<li>Your choice of SQL Server instances</li>
<li>Or quickstart: only Docker</li>
</ul>
<h3>Docker – to quickstart local app development</h3>
<p>To quickly start a local Standalone development environment for app testing purposes you can use of the docker-compose file:</p>
<div><pre><span><span>#</span> Solution root</span>
<span>cd</span> docker
docker-compose up --build</pre></div>
<p><strong>Please be aware of the 'quickstart development'-only semi-secrets in <code>docker/**/*</code>, the Docker configuration has no intentions to be used in publicly available testing, acceptation or production environments.</strong></p>
<h2>Supporting local mobile app development</h2>
<p>First make sure that you have the following installed:</p>
<ol>
<li>Dotnet Core 3.1 SDK: <a href="https://dotnet.microsoft.com/download/dotnet-core/3.1" rel="nofollow">https://dotnet.microsoft.com/download/dotnet-core/3.1</a></li>
<li>Node JS 12.18.1+ with NPM: <a href="https://nodejs.org/en/" rel="nofollow">https://nodejs.org/en/</a></li>
<li>Yarn: <a href="https://yarnpkg.com/" rel="nofollow">https://yarnpkg.com/</a></li>
<li>Angular CLI: <a href="https://angular.io/guide/setup-local" rel="nofollow">https://angular.io/guide/setup-local</a></li>
<li>Optionally either Visual Studio or Rider.</li>
<li>A terminal is recommended, if you're running an older windows then <a href="https://cmder.net/" rel="nofollow">https://cmder.net/</a> is useful. You need gitbash.</li>
</ol>
<p>Then clone this repo.</p>
<h3>Standalone</h3>
<ol>
<li>Setup a database instance. Windows users can use a local SQL Server.</li>
<li>Add an <code>appsettings.Development.json</code> file. This overrides the settings in appsettings.json. And add a value for the MSS connection string.</li>
<li>Go to the ServerStandAlone folder and run it with 'dotnet run'.</li>
</ol>
<h3>ICC Portal</h3>
<p>The ICC Portal consists of a .Net Core backend found under <code>ICCBackend</code> and an Angular / ASP.Net MVC Core frontend found under <code>ICCPortal</code></p>
<h4>ICC Portal backend</h4>
<ol>
<li>Setup a database instance. Windows users can use a local SQL Server.</li>
<li>Add an <code>appsettings.Development.json</code> file to the folder <code>ICCBackend</code>. This overrides the settings in appsettings.json. And add a value for the MSS connection string.</li>
<li>Go to the <code>\ICCBackend</code> folder and run it with <code>dotnet run</code>, this will start the backend in Kestrel.</li>
<li>Access the APIs here: <code>http://localhost:5000/swagger/index.html</code>.</li>
<li>To provision the database you must execute <code>​/devops​/nukeandpavedb</code> in Swagger.</li>
<li>Done :)</li>
</ol>
<h4>ICC Portal frontend</h4>
<ol>
<li>Clone this repo</li>
<li>Open a terminal and go to <code>\ICCPortal\ClientApp</code>.</li>
<li>Run <code>yarn</code> to install all of the dependencies.</li>
<li>Run the frontend with <code>ng serve</code>.</li>
<li>The server API url can be configured in <code>ICCPortal\ClientApp\src\environments\environment.ts</code></li>
<li>Done :)</li>
</ol>
<h2>Building and packaging</h2>
<p>The build and package pipeline for this project is implemented as a set of batch scripts. These scripts can be executed on a development machine without arguments or via a build server (Jenkins, Azure Devops) without the need to lock-in the build process to one specific vendor. This should also make it easier to build older versions of the server because all of the logic required to build is committed to version control.</p>
<p>To run the scripts you must have following installed and accessible in your path:</p>
<ul>
<li>7zip</li>
</ul>
<p>Here is an overview of our scripts:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>build.bat</td>
<td>Builds all of the project in release mode</td>
</tr>
<tr>
<td></td>
<td>and publishes packages into the folder</td>
</tr>
<tr>
<td></td>
<td><code>publish</code> in the root of the solution.</td>
</tr>
<tr>
<td>package.bat</td>
<td>Packages the published files as zip</td>
</tr>
<tr>
<td></td>
<td>archives and puts them in <code>publish</code>.</td>
</tr>
</tbody>
</table>
<h2>Attribution</h2>
<p>Some parts of this application are inspired by the work on <a href="https://gitlab.com/PrivateTracer/server.azure" rel="nofollow">Private Tracer</a>. You can find their license <a href="https://github.com/minvws/nl-covid19-notification-app-backend/blob/master/LICENSE/LICENSE.PrivateTracer.org.txt">here</a>.</p>
</article>
      </div>
  </div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
ASP.NET Blog | ASP.NET Core and Blazor updates in .NET Core 3.0 Preview 8 - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="ASP.NET Blog | ASP.NET Core and Blazor updates in .NET Core 3.0 Preview 8 - linksfor.dev(s)"/>
    <meta property="article:author" content="Sourabh ShirhattiFollow Sourabh"/>
    <meta property="og:description" content=".NET Core 3.0 Preview 8 is now available and it includes a bunch of new updates to ASP.NET Core and Blazor. Check out the great new features and improvements in this release!"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://devblogs.microsoft.com/aspnet/asp-net-core-and-blazor-updates-in-net-core-3-0-preview-8/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - ASP.NET Blog | ASP.NET Core and Blazor updates in .NET Core 3.0 Preview 8</title>
<div class="readable">
        <h1>ASP.NET Blog | ASP.NET Core and Blazor updates in .NET Core 3.0 Preview 8</h1>
            <div>by Sourabh ShirhattiFollow Sourabh</div>
            <div>Reading time: 15-19 minutes</div>
        <div>Posted here: 13 Aug 2019</div>
        <p><a href="https://devblogs.microsoft.com/aspnet/asp-net-core-and-blazor-updates-in-net-core-3-0-preview-8/">https://devblogs.microsoft.com/aspnet/asp-net-core-and-blazor-updates-in-net-core-3-0-preview-8/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="featured">

	<div>
                
         <div><div><div><p><img src="https://secure.gravatar.com/avatar/07efe6bbd54a0f6649a09f43acb183d8?s=58&amp;d=mm&amp;r=g" width="58" height="58" alt="Avatar"></p><p>Sourabh</p></div></div></div>     
        <p>August 13th, 2019</p><!-- .entry-meta -->

		<p><a href="https://devblogs.microsoft.com/dotnet/announcing-net-core-3-0-preview-8/">.NET Core 3.0 Preview 8 is now available</a> and it includes a bunch of new updates to ASP.NET Core and Blazor.</p>
<p>Here’s the list of what’s new in this preview:</p>
<ul>
<li>Project template updates
<ul>
<li>Cleaned up top-level templates in Visual Studio</li>
<li>Angular template updated to Angular 8</li>
<li>Blazor templates renamed and simplified</li>
<li>Razor Class Library template replaces the Blazor Class Library template</li>
</ul>
</li>
<li>Case-sensitive component binding</li>
<li>Improved reconnection logic for Blazor Server apps</li>
<li><code>NavLink</code> component updated to handle additional attributes</li>
<li>Culture aware data binding</li>
<li>Razor Pages support for <code>@attribute</code></li>
<li>New networking primitives for non-HTTP Servers</li>
<li>Unix domain socket support for the Kestrel Sockets transport</li>
<li>gRPC support for CallCredentials</li>
<li>ServiceReference tooling in Visual Studio</li>
<li>Diagnostics improvements for gRPC</li>
</ul>
<p>Please see the <a href="https://aka.ms/netcore3releasenotes" target="_blank">release notes</a> for additional details and known issues.</p>
<h2>Get started</h2>
<p>To get started with ASP.NET Core in .NET Core 3.0 Preview 8 <a href="https://aka.ms/netcore3download" target="_blank">install the .NET Core 3.0 Preview 8 SDK</a></p>
<p>If you’re on Windows using Visual Studio, <a href="https://visualstudio.com/preview" target="_blank">install the latest preview of Visual Studio 2019</a>.</p>
<p><em>.NET Core 3.0 Preview 8 requires Visual Studio 2019 16.3 Preview 2 or later</em></p>
<p>To install the latest Blazor WebAssembly template also run the following command:</p>
<pre><code><span>dotnet </span><span>new</span><span> </span><span>-</span><span>i </span><span>Microsoft</span><span>.</span><span>AspNetCore</span><span>.</span><span>Blazor</span><span>.</span><span>Templates</span><span>::</span><span>3.0</span><span>.</span><span>0</span><span>-</span><span>preview8</span><span>.</span><span>19405.7</span></code></pre>
<h2>Upgrade an existing project</h2>
<p>To upgrade an existing an ASP.NET Core app to .NET Core 3.0 Preview 8, follow the <a href="https://docs.microsoft.com/en-us/aspnet/core/migration/22-to-30" target="_blank">migrations steps in the ASP.NET Core docs</a>.</p>
<p>Please also see the full list of <a href="https://github.com/aspnet/announcements/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+label%3A3.0.0+label%3A%22Breaking+change%22" target="_blank">breaking changes</a> in ASP.NET Core 3.0.</p>
<p>To upgrade an existing ASP.NET Core 3.0 Preview 7 project to Preview 8:</p>
<ul>
<li>Update Microsoft.AspNetCore.* package references to 3.0.0-preview8.19405.7.</li>
<li>Update package references to Microsoft.AspNetCore.Components.Browser to instead reference Microsoft.AspNetCore.Components.Web.</li>
<li>In Razor components rename <code>OnInit</code> to <code>OnInitialized</code> and <code>OnInitAsync</code> to <code>OnInitializedAsync</code>.</li>
<li>In Blazor apps, update Razor component parameters to be public, as non-public component parameters now result in an error.</li>
<li>In Blazor WebAssembly apps that make use of the <code>HttpClient</code> JSON helpers, add a package reference to Microsoft.AspNetCore.Blazor.HttpClient.</li>
<li>On Blazor form components remove use of <code>Id</code> and <code>Class</code> parameters and instead use the HTML <code>id</code> and <code>class</code> attributes.</li>
<li>Rename <code>ElementRef</code> to <code>ElementReference</code>.</li>
<li>Remove backing field declarations when using <code>@ref</code> or specify the <code>@ref:suppressField</code> parameter to suppress automatic backing field generation.</li>
<li>Update calls to <code>ComponentBase.Invoke</code> to call <code>ComponentBase.InvokeAsync</code>.</li>
<li>Update uses of <code>ParameterCollection</code> to use <code>ParameterView</code>.</li>
<li>Update uses of <code>IComponent.Configure</code> to use <code>IComponent.Attach</code>.</li>
<li>Remove use of namespace <code>Microsoft.AspNetCore.Components.Layouts</code>.</li>
</ul>
<p>You should hopefully now be all set to use .NET Core 3.0 Preview 8.</p>
<h2>Project template updates</h2>
<h3>Cleaned up top-level templates in Visual Studio</h3>
<p>Top level ASP.NET Core project templates in the “Create a new project” dialog in Visual Studio no longer appear duplicated in the “Create a new ASP.NET Core web application” dialog. The following ASP.NET Core templates now only appear in the “Create a new project” dialog:</p>
<ul>
<li>Razor Class Library</li>
<li>Blazor App</li>
<li>Worker Service</li>
<li>gRPC Service</li>
</ul>
<h3>Angular template updated to Angular 8</h3>
<p>The Angular template for ASP.NET Core 3.0 has now been updated to use Angular 8.</p>
<h3>Blazor templates renamed and simplified</h3>
<p>We’ve updated the Blazor templates to use a consistent naming style and to simplify the number of templates:</p>
<ul>
<li>The “Blazor (server-side)” template is now called “Blazor Server App”. Use <code>blazorserver</code> to create a Blazor Server app from the command-line.</li>
<li>The “Blazor” template is now called “Blazor WebAssembly App”. Use <code>blazorwasm</code> to create a Blazor WebAssembly app from the command-line.</li>
<li>To create an ASP.NET Core hosted Blazor WebAssembly app, select the “ASP.NET Core hosted” option in Visual Studio, or pass the <code>--hosted</code> on the command-line</li>
</ul>
<p><img src="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2019/08/Create-a-new-Blazor-app.png" alt="Create a new Blazor app"></p>
<pre><code><span>dotnet </span><span>new</span><span> blazorwasm </span><span>--</span><span>hosted</span></code></pre>
<h3>Razor Class Library template replaces the Blazor Class Library template</h3>
<p>The Razor Class Library template is now setup for Razor component development by default and the Blazor Class Library template has been removed. New Razor Class Library projects target .NET Standard so they can be used from both Blazor Server and Blazor WebAssembly apps. To create a new Razor Class Library template that targets .NET Core and supports Pages and Views instead, select the “Support pages and views” option in Visual Studio, or pass the <code>--support-pages-and-views</code> option on the command-line.</p>
<p><img src="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2019/08/Razor-Class-Library-for-pages-and-views.png" alt="Razor Class Library for Pages and Views"></p>
<pre><code><span>dotnet </span><span>new</span><span> razorclasslib </span><span>--</span><span>support</span><span>-</span><span>pages</span><span>-</span><span>and</span><span>-</span><span>views</span></code></pre>
<h2>Case-sensitive component binding</h2>
<p>Components in .razor files are now case-sensitive. This enables some useful new scenarios and improves diagnostics from the Razor compiler.</p>
<p>For example, the <code>Counter</code> has a button for incrementing the count that is styled as a primary button. What if we wanted a <code>Button</code> component that is styled as a primary button by default? Creating a component named <code>Button</code> in previous Blazor releases was problematic because it clashed with the <code>button</code> HTML element, but now that component matching is case-sensitive we can create our <code>Button</code> component and use it in <code>Counter</code> without issue.</p>
<p><em>Button.razor</em></p>
<pre><code><span>&lt;button</span><span> </span><span>class</span><span>=</span><span>"btn btn-primary"</span><span> @</span><span>attributes</span><span>=</span><span>"AdditionalAttributes"</span><span> @</span><span>onclick</span><span>=</span><span>"</span><span>OnClick</span><span>"</span><span>&gt;</span><span>@ChildContent</span><span>&lt;/button&gt;</span><span>

@code {
    [Parameter]
    public EventCallback</span><span>&lt;UIMouseEventArgs&gt;</span><span> OnClick { get; set; }

    [Parameter]
    public RenderFragment ChildContent { get; set; }

    [Parameter(CaptureUnmatchedValues = true)]
    public IDictionary</span><span>&lt;string</span><span>, </span><span>object</span><span>&gt;</span><span> AdditionalAttributes { get; set; }
}</span></code></pre>
<p><em>Counter.razor</em></p>
<pre><code><span>@page</span><span> </span><span>"/counter"</span><span>

</span><span>&lt;h1&gt;</span><span>Counter</span><span>&lt;/</span><span>h1</span><span>&gt;</span><span>

</span><span>&lt;p&gt;</span><span>Current</span><span> count</span><span>:</span><span> </span><span>@currentCount</span><span>&lt;/</span><span>p</span><span>&gt;</span><span>

</span><span>&lt;</span><span>Button</span><span> </span><span>OnClick</span><span>=</span><span>"IncrementCount"</span><span>&gt;</span><span>Click</span><span> me</span><span>&lt;/</span><span>Button</span><span>&gt;</span><span>

</span><span>@code</span><span> </span><span>{</span><span>
    </span><span>int</span><span> currentCount </span><span>=</span><span> </span><span>0</span><span>;</span><span>

    </span><span>void</span><span> </span><span>IncrementCount</span><span>()</span><span>
    </span><span>{</span><span>
        currentCount</span><span>++;</span><span>
    </span><span>}</span><span>
</span><span>}</span></code></pre>
<p>Notice that the <code>Button</code> component is pascal cased, which is the typical style for .NET types. If we instead try to name our component <code>button</code> we get a warning that components cannot start with a lowercase letter due to the potential conflicts with HTML elements.</p>
<p><img src="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2019/08/Lowercase-componet-warning.png" alt="Lowercase component warning"></p>
<p>We can move the <code>Button</code> component into a Razor Class Library so that it can be reused in other projects. We can then reference the Razor Class Library from our web app. The <code>Button</code> component will now have the default namespace of the Razor Class Library. The Razor compiler will resolve components based on the in scope namespaces. If we try to use our <code>Button</code> component without adding a using statement for the requisite namespace, we now get a useful error message at build time.</p>
<p><img src="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2019/08/Unrecognized-component-error.png" alt="Unrecognized component error"></p>
<h2><code>NavLink</code> component updated to handle additional attributes</h2>
<p>The built-in <code>NavLink</code> component now supports passing through additional attributes to the rendered anchor tag. Previously <code>NavLink</code> had specific support for the <code>href</code> and <code>class</code> attributes, but now you can specify any additional attribute you’d like. For example, you can specify the anchor target like this:</p>
<pre><code><span>&lt;NavLink</span><span> </span><span>href</span><span>=</span><span>"my-page"</span><span> </span><span>target</span><span>=</span><span>"_blank"</span><span>&gt;</span><span>My page</span><span>&lt;/NavLink&gt;</span></code></pre>
<p>which would render:</p>
<pre><code><span>&lt;a</span><span> </span><span>href</span><span>=</span><span>"my-page"</span><span> </span><span>target</span><span>=</span><span>"_blank"</span><span> </span><span>rel</span><span>=</span><span>"noopener noreferrer"</span><span>&gt;</span><span>My page</span><span>&lt;/a&gt;</span></code></pre>
<h2>Improved reconnection logic for Blazor Server apps</h2>
<p>Blazor Server apps require a live connection to the server in order to function. If the connection or the server-side state associated with it is lost, then the the client will be unable to function. Blazor Server apps will attempt to reconnect to the server in the event of an intermittent connection loss and this logic has been made more robust in this release. If the reconnection attempts fail before the network connection can be reestablished, then the user can still attempt to retry the connection manually by clicking the provided “Retry” button.</p>
<p>However, if the server-side state associated with the connect was also lost (e.g. the server was restarted) then clients will still be unable to connect. A common situation where this occurs is during development in Visual Studio. Visual Studio will watch the project for file changes and then rebuild and restart the app as changes occur. When this happens the server-side state associated with any connected clients is lost, so any attempt to reconnect with that state will fail. The only option is to reload the app and establish a new connection.</p>
<p>New in this release, the app will now also suggest that the user reload the browser when the connection is lost and reconnection fails.</p>
<p><img src="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2019/08/Reload-prompt.png" alt="Reload prompt"></p>
<h2>Culture aware data binding</h2>
<p>Data-binding support (<code>@bind</code>) for <code>&lt;input&gt;</code> elements is now culture-aware. Data bound values will be formatted for display and parsed using the current culture as specified by the <code>System.Globalization.CultureInfo.CurrentCulture</code> property. This means that <code>@bind</code> will work correctly when the user’s desired culture has been set as the current culture, which is typically done using the ASP.NET Core localization middleware (see <a href="https://docs.microsoft.com/aspnet/core/blazor/components#localization" target="_blank">Localization</a>).</p>
<p>You can also manually specify the culture to use for data binding using the new <code>@bind:culture</code> parameter, where the value of the parameter is a <code>CultureInfo</code> instance. For example, to bind using the invariant culture:</p>
<pre><code><span>&lt;input</span><span> @</span><span>bind</span><span>=</span><span>"amount"</span><span> @</span><span>bind:culture</span><span>=</span><span>"CultureInfo.InvariantCulture"</span><span> </span><span>/&gt;</span></code></pre>
<p>The <code>&lt;input type="number" /&gt;</code> and <code>&lt;input type="date" /&gt;</code> field types will by default use <code>CultureInfo.InvariantCulture</code> and the formatting rules appropriate for these field types in the browser. These field types cannot contain free-form text and have a look and feel that is controller by the browser.</p>
<p>Other field types with specific formatting requirements include <code>datetime-local</code>, <code>month</code>, and <code>week</code>. These field types are not supported by Blazor at the time of writing because they are not supported by all major browsers.</p>
<p>Data binding now also includes support for binding to <code>DateTime?</code>, <code>DateTimeOffset</code>, and <code>DateTimeOffset?</code>.</p>
<h2>Razor Pages support for <code>@attribute</code></h2>
<p>Razor Pages now support the new <code>@attribute</code> directive for adding attributes to the generate page class.</p>
<p>For example, you can now specify that a page requires authorization like this:</p>
<pre><code><span>@page</span><span>
</span><span>@attribute</span><span> </span><span>[</span><span>Microsoft</span><span>.</span><span>AspNetCore</span><span>.</span><span>Authorization</span><span>.</span><span>Authorize</span><span>]</span><span>

</span><span>&lt;h1&gt;</span><span>Authorized</span><span> users only</span><span>!&lt;</span><span>h1</span><span>&gt;</span><span>

</span><span>&lt;p&gt;</span><span>Hello</span><span> </span><span>@User</span><span>.</span><span>Identity</span><span>.</span><span>Name</span><span>.</span><span> </span><span>You</span><span> are authorized</span><span>!&lt;/</span><span>p</span><span>&gt;</span></code></pre>
<h2>New networking primitives for non-HTTP Servers</h2>
<p>As part of the effort to decouple the components of Kestrel, we are introducing new networking primitives allowing you to add support for non-HTTP protocols.</p>
<p>You can bind to an endpoint (<code>System.Net.EndPoint</code>) by calling <code>Bind</code> on an <code>IConnectionListenerFactory</code>. This returns a <code>IConnectionListener</code> which can be used to accept new connections. Calling <code>AcceptAsync</code> returns a <code>ConnectionContext</code> with details on the connection. A <code>ConnectionContext</code> is similar to <code>HttpContext</code> except it represents a connection instead of an HTTP request and response.</p>
<p>The example below show a simple TCP Echo server hosted in a <a href="https://docs.microsoft.com/dotnet/architecture/microservices/multi-container-microservice-net-applications/background-tasks-with-ihostedservice#implementing-ihostedservice-with-a-custom-hosted-service-class-deriving-from-the-backgroundservice-base-class" target="_blank">BackgroundService</a> built using these new primitives.</p>
<pre><code><span>public</span><span> </span><span>class</span><span> </span><span>TcpEchoServer</span><span> </span><span>:</span><span> </span><span>BackgroundService</span><span>
</span><span>{</span><span>
    </span><span>private</span><span> </span><span>readonly</span><span> </span><span>ILogger</span><span>&lt;</span><span>TcpEchoServer</span><span>&gt;</span><span> _logger</span><span>;</span><span>
    </span><span>private</span><span> </span><span>readonly</span><span> </span><span>IConnectionListenerFactory</span><span> _factory</span><span>;</span><span>
    </span><span>private</span><span> </span><span>IConnectionListener</span><span> _listener</span><span>;</span><span>

    </span><span>public</span><span> </span><span>TcpEchoServer</span><span>(</span><span>ILogger</span><span>&lt;</span><span>TcpEchoServer</span><span>&gt;</span><span> logger</span><span>,</span><span> </span><span>IConnectionListenerFactory</span><span> factory</span><span>)</span><span>
    </span><span>{</span><span>
        _logger </span><span>=</span><span> logger</span><span>;</span><span>
        _factory </span><span>=</span><span> factory</span><span>;</span><span>
    </span><span>}</span><span>

    </span><span>protected</span><span> </span><span>override</span><span> async </span><span>Task</span><span> </span><span>ExecuteAsync</span><span>(</span><span>CancellationToken</span><span> stoppingToken</span><span>)</span><span>
    </span><span>{</span><span>
        _listener </span><span>=</span><span> await _factory</span><span>.</span><span>BindAsync</span><span>(</span><span>new</span><span> </span><span>IPEndPoint</span><span>(</span><span>IPAddress</span><span>.</span><span>Loopback</span><span>,</span><span> </span><span>6000</span><span>),</span><span> stoppingToken</span><span>);</span><span>

        </span><span>while</span><span> </span><span>(</span><span>true</span><span>)</span><span>
        </span><span>{</span><span>
            </span><span>var</span><span> connection </span><span>=</span><span> await _listener</span><span>.</span><span>AcceptAsync</span><span>(</span><span>stoppingToken</span><span>);</span><span>
            </span><span>// AcceptAsync will return null upon disposing the listener</span><span>
            </span><span>if</span><span> </span><span>(</span><span>connection </span><span>==</span><span> </span><span>null</span><span>)</span><span>
            </span><span>{</span><span>
                </span><span>break</span><span>;</span><span>
            </span><span>}</span><span>
            </span><span>// In an actual server, ensure all accepted connections are disposed prior to completing</span><span>
            _ </span><span>=</span><span> </span><span>Echo</span><span>(</span><span>connection</span><span>,</span><span> stoppingToken</span><span>);</span><span>
        </span><span>}</span><span>

    </span><span>}</span><span>

    </span><span>public</span><span> </span><span>override</span><span> async </span><span>Task</span><span> </span><span>StopAsync</span><span>(</span><span>CancellationToken</span><span> cancellationToken</span><span>)</span><span>
    </span><span>{</span><span>
        await _listener</span><span>.</span><span>DisposeAsync</span><span>();</span><span>
    </span><span>}</span><span>

    </span><span>private</span><span> async </span><span>Task</span><span> </span><span>Echo</span><span>(</span><span>ConnectionContext</span><span> connection</span><span>,</span><span> </span><span>CancellationToken</span><span> stoppingToken</span><span>)</span><span>
    </span><span>{</span><span>
        </span><span>try</span><span>
        </span><span>{</span><span>
            </span><span>var</span><span> input </span><span>=</span><span> connection</span><span>.</span><span>Transport</span><span>.</span><span>Input</span><span>;</span><span>
            </span><span>var</span><span> output </span><span>=</span><span> connection</span><span>.</span><span>Transport</span><span>.</span><span>Output</span><span>;</span><span>

            await input</span><span>.</span><span>CopyToAsync</span><span>(</span><span>output</span><span>,</span><span> stoppingToken</span><span>);</span><span>
        </span><span>}</span><span>
        </span><span>catch</span><span> </span><span>(</span><span>OperationCanceledException</span><span>)</span><span>
        </span><span>{</span><span>
            _logger</span><span>.</span><span>LogInformation</span><span>(</span><span>"Connection {ConnectionId} cancelled due to server shutdown"</span><span>,</span><span> connection</span><span>.</span><span>ConnectionId</span><span>);</span><span>
        </span><span>}</span><span>
        </span><span>catch</span><span> </span><span>(</span><span>Exception</span><span> e</span><span>)</span><span>
        </span><span>{</span><span>
            _logger</span><span>.</span><span>LogError</span><span>(</span><span>e</span><span>,</span><span> </span><span>"Connection {ConnectionId} threw an exception"</span><span>,</span><span> connection</span><span>.</span><span>ConnectionId</span><span>);</span><span>
        </span><span>}</span><span>
        </span><span>finally</span><span>
        </span><span>{</span><span>
            await connection</span><span>.</span><span>DisposeAsync</span><span>();</span><span>
            _logger</span><span>.</span><span>LogInformation</span><span>(</span><span>"Connection {ConnectionId} disconnected"</span><span>,</span><span> connection</span><span>.</span><span>ConnectionId</span><span>);</span><span>
        </span><span>}</span><span>
    </span><span>}</span><span>
</span><span>}</span></code></pre>
<h2>Unix domain socket support for the Kestrel Sockets transport</h2>
<p>We’ve updated the default sockets transport in Kestrel to add support Unix domain sockets (on Linux, macOS, and Windows 10, version 1803 and newer). To bind to a Unix socket, you can call the <code>ListenUnixSocket()</code> method on <code>KestrelServerOptions</code>.</p>
<pre><code><span>public</span><span> </span><span>static</span><span> </span><span>IHostBuilder</span><span> </span><span>CreateHostBuilder</span><span>(</span><span>string</span><span>[]</span><span> args</span><span>)</span><span> </span><span>=&gt;</span><span>
    </span><span>Host</span><span>.</span><span>CreateDefaultBuilder</span><span>(</span><span>args</span><span>)</span><span>
        </span><span>.</span><span>ConfigureWebHostDefaults</span><span>(</span><span>webBuilder </span><span>=&gt;</span><span>
        </span><span>{</span><span>
            webBuilder
                </span><span>.</span><span>ConfigureKestrel</span><span>(</span><span>o </span><span>=&gt;</span><span>
                </span><span>{</span><span>
                    o</span><span>.</span><span>ListenUnixSocket</span><span>(</span><span>"/var/listen.sock"</span><span>);</span><span>
                </span><span>})</span><span>
                </span><span>.</span><span>UseStartup</span><span>&lt;</span><span>Startup</span><span>&gt;();</span><span>
        </span><span>});</span></code></pre>
<h2>gRPC support for CallCredentials</h2>
<p>In preview8, we’ve added support for <code>CallCredentials</code> allowing for interoperability with existing libraries like <code>Grpc.Auth</code> that rely on <code>CallCredentials</code>.</p>
<h2>Diagnostics improvements for gRPC</h2>
<h2>Support for <code>Activity</code></h2>
<p>The gRPC client and server use <a href="https://docs.microsoft.com/dotnet/api/system.diagnostics.activity?view=netcore-3.0" target="_blank">Activities</a> to annotate inbound/outbound requests with <a href="https://docs.microsoft.com/dotnet/api/system.diagnostics.activity.baggage?view=netcore-3.0#System_Diagnostics_Activity_Baggage" target="_blank">baggage</a> containing information about the current RPC operation. This information can be accessed by telemetry frameworks for distributed tracing and by logging frameworks.</p>
<h3>EventCounters</h3>
<p>The newly introduced <code>Grpc.AspNetCore.Server</code> and <code>Grpc.Net.Client</code> providers now emit the following event counters:</p>
<ul>
<li><code>total-calls</code></li>
<li><code>current-calls</code></li>
<li><code>calls-failed</code></li>
<li><code>calls-deadline-exceeded</code></li>
<li><code>messages-sent</code></li>
<li><code>messages-received</code></li>
<li><code>calls-unimplemented</code></li>
</ul>
<p>You can use the <code>dotnet counters</code> global tool to view the metrics emitted.</p>
<pre><code><span>dotnet counters monitor </span><span>-</span><span>p </span><span>&lt;</span><span>PID</span><span>&gt;</span><span> </span><span>Grpc</span><span>.</span><span>AspNetCore</span><span>.</span><span>Server</span></code></pre>
<h2>ServiceReference tooling in Visual Studio</h2>
<p>We’ve added support in Visual Studio that makes it easier to manage references to other Protocol Buffers documents and Open API documents.</p>
<p><img src="https://user-images.githubusercontent.com/4734691/62910463-70821380-bd35-11e9-9045-1036074ffdb6.png" alt="ServiceReference"></p>
<p>When pointed at OpenAPI documents, the ServiceReference experience in Visual Studio can generated typed C#/TypeScript clients using <code>NSwag</code>.</p>
<p>When pointed at Protocol Buffer (<code>.proto</code>) files, the ServiceReference experience will Visual Studio can generate gRPC service stubs, gRPC clients, or message types using the <code>Grpc.Tools</code> package.</p>
<h2>SignalR User Survey</h2>
<p>We’re interested in how you use SignalR and the Azure SignalR Service, and your opinions on SignalR features. To that end, we’ve created a survey we’d like to invite any SignalR customer to complete. If you’re interested in talking to one of the engineers from the SignalR team about your ideas or feedback, we’ve provided an opportunity to enter your contact information in the survey, but that information is <strong>not</strong> required. Help us plan the next wave of SignalR features by providing your feedback <a href="https://microsoft.qualtrics.com/jfe/form/SV_d7gWg0XqnG3NZ2Z" target="_blank">in the survey</a>.</p>
<h2>Give feedback</h2>
<p>We hope you enjoy the new features in this preview release of ASP.NET Core and Blazor! Please let us know what you think by filing issues on <a href="https://github.com/aspnet/aspnetcore/issues" target="_blank">GitHub</a>.</p>
<p>Thanks for trying out ASP.NET Core and Blazor!</p>
<h3>Correction: 8/14/2019</h3>
<p>An earlier version of this blog post referenced a productivity feature in Blazor to automatically generate backing fields for elements that utilized the <code>@ref</code> attribute. Unfortunately, we missed a critical design flaw which prevents this from working end-to-end. For more information check out this <a href="https://github.com/aspnet/Announcements/issues/381" target="_blank">announcement</a>.</p>
        
        
        
        

		        
        
        
	</div><!-- .entry-content -->
    
    </div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
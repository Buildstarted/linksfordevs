<!DOCTYPE html>
<html lang="en">
<head>
    <title>
SQL-MisterMagoo/Blazor.PWA.MSBuild: An MSBuild package which adds simple PWA functionality to Blazor client-side Apps -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>SQL-MisterMagoo/Blazor.PWA.MSBuild: An MSBuild package which adds simple PWA functionality to Blazor client-side Apps</h1><div><div id="" class="markdown-body entry-content p-5"><p>The easiest way to turn your Server Side And Client Side Blazor projects into Progressive Web Apps (PWA).</p><p>This project, when added to your build process, will generate the required files to enable basic PWA abilities for your project.</p><p>It generates a manifest.json, a Service Worker with pre-caching of all required files (Blazor WebAssembly only) and an installer for the Service Worker.</p><p>It currently includes a simple banner, by default, to notify the user that your application can be installed, and a simple alert to notify users when your application has been updated (CSB Only).</p><p>This is now an official release - I am looking for feedback/issues/requests.</p><h3><a id="user-content-browser-compatibility" class="anchor" aria-hidden="true" href="#browser-compatibility"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Browser compatibility</h3><p>Note that chromium browsers will prompt you to install a PWA on a desktop computer.
Firefox does not currently provide this experience on desktop.
I don't have a Mac, but I believe Safari does not prompt on desktop either.</p><h2><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation</h2><p>Install the nuget BlazorPWA.MsBuild</p><h4><a id="user-content-package-manager" class="anchor" aria-hidden="true" href="#package-manager"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Package Manager:</h4><p><code>Install-Package BlazorPWA.MSBuild -Version 1.0.2</code></p><h4><a id="user-content-net-cli" class="anchor" aria-hidden="true" href="#net-cli"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.NET Cli:</h4><p><code>dotnet add package BlazorPWA.MSBuild --version 1.0.2</code></p><h4><a id="user-content-package-reference" class="anchor" aria-hidden="true" href="#package-reference"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Package Reference</h4><p><code>&lt;PackageReference Include="BlazorPWA.MSBuild" Version="1.0.2"/&gt;</code></p><h2><a id="user-content-configuration" class="anchor" aria-hidden="true" href="#configuration"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuration</h2><p>Required configuration: none *.</p><p>*<em>Really! try it!</em></p><p>This PWA builder is constructed using MSBuild targets, which get installed in your .nuget cache.</p><p>You are free to inspect those targets and customise any part of the build by adding Properties to your csproj, or to a <strong>.props</strong> file in the source tree.</p><p>For example, by default, the PWA builder will only generate the PWA files once, which means, should you want to, you can add it to your project, build once - you will have the required files for a PWA and will be free to modify them to suit.</p><p>Should you want to re-generate the PWA files every build, you can add this Property to your <strong>csproj</strong></p><p><strong><code>&lt;ServiceWorkerForce&gt;true&lt;/ServiceWorkerForce&gt;</code></strong></p><p>When you want to publish an update to your app, you may need to supply a new browser cache version - if you don't change anything in the Service Worker the end user will not use your new code!</p><p><em>Note: PWAs update when they detect a change in the Service Worker code - this cache version number is used in the Service Worker, so updating the cache version number will trigger an update of the PWA for the end user. It's also important as the cache is where your code is stored - if you don't update the cache version, it will not refresh with your new code</em></p><p><strong><code>&lt;ServiceWorkerCacheVersion&gt;2&lt;/ServiceWorkerCacheVersion&gt;</code></strong></p><p>The web manifest has properties for the application name, which are taken, by default, from your project and solution names, but you can override them</p><p><strong><code>&lt;ManifestShortName&gt;My Project&lt;/ManifestShortName&gt;</code></strong></p><p><strong><code>&lt;ManifestLongName&gt;My Really Great Project&lt;/ManifestLongName&gt;</code></strong></p><p>There are dozens of Properties in the <em>targets</em> files supplied by this package - you <em>could</em> customise them all, but you probably don't need to, so proceed with caution.</p><h3><a id="user-content-handing-the-installable-pwa-event-in-blazor" class="anchor" aria-hidden="true" href="#handing-the-installable-pwa-event-in-blazor"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Handing the "Installable PWA" event in Blazor</h3><p>When a Chromium based browser detects an installable PWA, it fires an event that your application
can use to display a prompt to the user.</p><p>The default for this package is to simply display a bar at the bottom of the
browser window prompting the user to install your app.</p><p>You can customize the message, or you can override that and pass the event
over to your Blazor application - by setting the property
<strong><code>ServiceWorkerRegisterInstallableType</code></strong> to <strong><code>installable-blazor</code></strong> in your <strong>.csproj</strong></p><p>For example:</p><pre><code>   &lt;PropertyGroup Label="PWA"&gt;
    &lt;ServiceWorkerRegisterInstallableType&gt;installable-blazor&lt;/ServiceWorkerRegisterInstallableType&gt;
    &lt;ServiceWorkerForce&gt;true&lt;/ServiceWorkerForce&gt;
   &lt;/PropertyGroup&gt;
</code></pre><p>This will generate code in your <strong>ServiceWorkerRegister.js</strong> to make an
interop call to Blazor when the <strong>beforeinstallprompt</strong> event fires in the browser.</p><p><strong>ServiceWorkerRegisterInstallableType</strong> tells it you are using Blazor for the install prompt.
<strong>ServiceWorkerForce</strong> just lets it update the generated files (remove it when you have it working).</p><p>In your Blazor application, you will need code to handle this call</p><ul><li>by default it will use the <strong>ProjectName</strong> and method name <strong>"InstallPWA"</strong> to
perform a <code>DotNet.InvokeAsync()</code></li><li>These values can be customised using the properties <strong><code>ServiceWorkerBlazorAssembly</code></strong>
and  <strong><code>ServiceWorkerBlazorInstallMethod</code></strong></li></ul><p>Here is an example Blazor implementation which could be added to <strong>MainLayout</strong></p><div class="highlight highlight-text-html-basic"><pre>@if (Installable)
{
    &lt;<span class="pl-ent">div</span><span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>fixed-bottom w-100 alert alert-dark d-flex align-items-center<span class="pl-pds">"</span></span><span class="pl-e">@onclick</span>=<span class="pl-s"><span class="pl-pds">"</span>InstallClicked<span class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">h3</span>&gt;Install this app?&lt;/<span class="pl-ent">h3</span>&gt;
        &lt;<span class="pl-ent">small</span><span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>ml-auto mr-1 rounded-pill<span class="pl-pds">"</span></span>&gt;&lt;<span class="pl-ent">button</span><span class="pl-e">@onclick</span>=<span class="pl-s"><span class="pl-pds">"</span>@(()=&gt;Installable=false)<span class="pl-pds">"</span></span>&gt;X&lt;/<span class="pl-ent">button</span>&gt;&lt;/<span class="pl-ent">small</span>&gt;
    &lt;/<span class="pl-ent">div</span>&gt;
}</pre></div><p>This will display a bar at the bottom of the browser, which can be dismissed or clicked.</p><p>The <code>code</code> section has the <code>JSInvokable</code> method <strong>InstallPWS</strong> that we called
earlier from the browser and some supporting code to toggle the display and
make an interop call back to the browser to trigger the app installation.</p><div class="highlight highlight-source-cs"><pre><span class="pl-smi">@code</span>
{
    [<span class="pl-smi">Inject</span>] <span class="pl-smi">IJSRuntime</span><span class="pl-smi">JSRuntime</span> { <span class="pl-smi">get</span>; <span class="pl-smi">set</span>; }
    <span class="pl-smi">static</span><span class="pl-k">bool</span><span class="pl-smi">Installable</span><span class="pl-k">=</span><span class="pl-c1">false</span>;
    <span class="pl-smi">static</span><span class="pl-en">Action</span><span class="pl-smi">ml</span>;
    <span class="pl-smi">protected</span><span class="pl-smi">override</span><span class="pl-smi">void</span><span class="pl-en">OnInitialized</span>()
    {
        <span class="pl-smi">ml</span><span class="pl-k">=</span> () <span class="pl-k">=&gt;</span><span class="pl-en">InvokeAsync</span>(<span class="pl-smi">StateHasChanged</span>);
    }

    [<span class="pl-en">JSInvokable</span>(<span class="pl-s"><span class="pl-pds">"</span>InstallPwaPrompt<span class="pl-pds">"</span></span>)]
    <span class="pl-c"><span class="pl-c">//</span>a named method so that it is easy to call from JS Interop</span><span class="pl-c"><span class="pl-c">//</span> with the following config</span><span class="pl-c"><span class="pl-c">//</span> &lt;ServiceWorkerRegisterInstallableType&gt;installable-blazor&lt;/ServiceWorkerRegisterInstallableType&gt;</span><span class="pl-c"><span class="pl-c">//</span> &lt;ServiceWorkerBlazorAssembly&gt;TestPwa.Client&lt;/ServiceWorkerBlazorAssembly&gt;</span><span class="pl-c"><span class="pl-c">//</span> &lt;ServiceWorkerBlazorInstallMethod&gt;InstallPwaPrompt&lt;/ServiceWorkerBlazorInstallMethod&gt;</span><span class="pl-smi">public</span><span class="pl-smi">static</span><span class="pl-smi">Task</span><span class="pl-en">InstallPwaPrompt</span>()
    {
        <span class="pl-smi">Installable</span><span class="pl-k">=</span><span class="pl-c1">true</span>;
        <span class="pl-smi">ml</span>.<span class="pl-en">Invoke</span>();
        <span class="pl-k">return</span><span class="pl-smi">Task</span>.<span class="pl-smi">CompletedTask</span>;
    }
    <span class="pl-smi">async</span><span class="pl-smi">void</span><span class="pl-en">InstallClicked</span>(<span class="pl-en">MouseEventArgs</span><span class="pl-smi">args</span>)
    {
        <span class="pl-smi">Installable</span><span class="pl-k">=</span><span class="pl-c1">false</span>;
        <span class="pl-k">await</span><span class="pl-smi">JSRuntime</span>.<span class="pl-en">InvokeAsync</span>&lt;<span class="pl-k">object</span>&gt;(<span class="pl-s"><span class="pl-pds">"</span>BlazorPWA.installPWA<span class="pl-pds">"</span></span>);<span class="pl-c"><span class="pl-c">//</span>this name comes from the nuget package that generates the pwa code, don't change it unless you change the generated code</span>
    }
}</pre></div><h3><a id="user-content-excluding-files-from-the-cache-webassembly-projects" class="anchor" aria-hidden="true" href="#excluding-files-from-the-cache-webassembly-projects"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Excluding files from the cache (WebAssembly projects)</h3><p>Due to the way Blazor WebAssembly projects build, some of the required properties we use to generate a PWA are not available until post-build.</p><p>So, to ensure a smooth customisation, we recommend using a custom <strong>Target</strong> in your csproj (or as a separate file which you include in the build process).</p><p>There are two <strong><code>Properties</code></strong> that you can customise to exclude files from the cache.</p><ul><li><p><strong><code>ServiceWorkerPreCacheExcludeFiles</code></strong> - by default this will exclude any files under <code>dist\_content</code> and any files in <code>WWWRoot</code> that start with a dot.
File patterns listed here will be evaluated after build and excluded from the Service Worker cache.
This property is used in both <strong>Debug</strong> and <strong>Release</strong> builds.</p></li><li><p><strong><code>ServiceWorkerPreCacheExcludeReleaseFiles</code></strong> - by default this will exclude any <code>.pdb</code> files. This property is only used if you are building in <strong>Release</strong> mode.</p></li></ul><p>You can add extra files to these <strong><code>Properties</code></strong> by adding a custom target to your project</p><pre><code>  &lt;Target Name="PWACustomise" BeforeTargets="CreatePWA"&gt;
    &lt;PropertyGroup&gt;
      &lt;ServiceWorkerPreCacheExcludeFiles&gt;
        $(OutputPath)dist\_redist\**\*.*;
      &lt;/ServiceWorkerPreCacheExcludeFiles&gt;
    &lt;/PropertyGroup&gt;
    &lt;Message Importance="high" Text="Removing: $(ServiceWorkerPreCacheExcludeFiles)"/&gt;
  &lt;/Target&gt;
</code></pre><p>The <code>Name</code> can be anything you like, but is required by <code>MSBuild</code>.</p><p><code>$(OutputPath)dist</code> is the path to the distribution folder for a <strong>Blazor WebAssembly</strong> build.</p><p>So, this example is excluding all files under the <code>_redist</code> folder from the Service Worker Cache.</p><h3><a id="user-content-prevent-pwa-installation--caching-on-localhost-or-any-host" class="anchor" aria-hidden="true" href="#prevent-pwa-installation--caching-on-localhost-or-any-host"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Prevent PWA installation / caching on localhost (or any host)</h3><p>If you want to exclude <em>localhost</em> (or any host) so that the developer inner loop is not affected, you can now use the <strong><code>ServiceWorkerIgnoreHosts</code></strong> property.</p><p>Add it to you <code>csproj</code> file under <code>PropertyGroup</code> and list the hosts you want to exclude.</p><div class="highlight highlight-text-xml"><pre>  &lt;<span class="pl-ent">PropertyGroup</span>&gt;
    &lt;<span class="pl-ent">ServiceWorkerIgnoreHosts</span>&gt;'localhost','127.0.0.1','::1','KarensPC'&lt;/<span class="pl-ent">ServiceWorkerIgnoreHosts</span>&gt;
  &lt;/<span class="pl-ent">PropertyGroup</span>&gt;</pre></div><p>The service worker will not register itself when the <code>hostname</code> matches anything in the list.</p><p><em>Note: the single quotes around each hostname are required for now</em></p><h3><a id="user-content-handle-different-base-urls-for-different-configurations" class="anchor" aria-hidden="true" href="#handle-different-base-urls-for-different-configurations"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Handle different base Urls for different configurations</h3><p>Sample csproj file for two different base Urls</p><div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">Project</span><span class="pl-e">Sdk</span>=<span class="pl-s"><span class="pl-pds">"</span>Microsoft.NET.Sdk.Web<span class="pl-pds">"</span></span>&gt;

  &lt;<span class="pl-ent">PropertyGroup</span>&gt;
    &lt;<span class="pl-ent">TargetFramework</span>&gt;netcoreapp3.1&lt;/<span class="pl-ent">TargetFramework</span>&gt;
    &lt;<span class="pl-ent">ManifestForce</span>&gt;true&lt;/<span class="pl-ent">ManifestForce</span>&gt;
    &lt;<span class="pl-ent">ServiceWorkerForce</span>&gt;true&lt;/<span class="pl-ent">ServiceWorkerForce</span>&gt;
  &lt;/<span class="pl-ent">PropertyGroup</span>&gt;
  
  &lt;<span class="pl-ent">PropertyGroup</span><span class="pl-e">Condition</span>=<span class="pl-s"><span class="pl-pds">"</span>'$(Configuration)' == 'Release'<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">ServiceWorkerBaseUrl</span>&gt;prod&lt;/<span class="pl-ent">ServiceWorkerBaseUrl</span>&gt;
    &lt;<span class="pl-ent">ManifestBaseUrl</span>&gt;prod&lt;/<span class="pl-ent">ManifestBaseUrl</span>&gt;
  &lt;/<span class="pl-ent">PropertyGroup</span>&gt;

  &lt;<span class="pl-ent">PropertyGroup</span><span class="pl-e">Condition</span>=<span class="pl-s"><span class="pl-pds">"</span>'$(Configuration)' == 'Debug'<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">ServiceWorkerBaseUrl</span>&gt;dev&lt;/<span class="pl-ent">ServiceWorkerBaseUrl</span>&gt;
    &lt;<span class="pl-ent">ManifestBaseUrl</span>&gt;dev&lt;/<span class="pl-ent">ManifestBaseUrl</span>&gt;
  &lt;/<span class="pl-ent">PropertyGroup</span>&gt;

  &lt;<span class="pl-ent">ItemGroup</span>&gt;
    &lt;<span class="pl-ent">PackageReference</span><span class="pl-e">Include</span>=<span class="pl-s"><span class="pl-pds">"</span>BlazorPWA.MSBuild<span class="pl-pds">"</span></span><span class="pl-e">Version</span>=<span class="pl-s"><span class="pl-pds">"</span>1.0.1-beta20191206-002218<span class="pl-pds">"</span></span>&gt;
      &lt;<span class="pl-ent">PrivateAssets</span>&gt;all&lt;/<span class="pl-ent">PrivateAssets</span>&gt;
      &lt;<span class="pl-ent">IncludeAssets</span>&gt;runtime; build; native; contentfiles; analyzers; buildtransitive&lt;/<span class="pl-ent">IncludeAssets</span>&gt;
    &lt;/<span class="pl-ent">PackageReference</span>&gt;
  &lt;/<span class="pl-ent">ItemGroup</span>&gt;

&lt;/<span class="pl-ent">Project</span>&gt;</pre></div><p>This project file use <strong><code>ManifestForce</code></strong> and <strong><code>ServiceWorkerForce</code></strong> to ensure that the <strong>manifest.json</strong> and <strong>ServiceWorker.js</strong> files are rebuilt - otherwise they would not change when you changed configuration.</p><h2><a id="user-content-roadmap" class="anchor" aria-hidden="true" href="#roadmap"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Roadmap</h2><h2><a id="user-content-contribute" class="anchor" aria-hidden="true" href="#contribute"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Contribute</h2><p>Please feel free to create issues, ask questions and submit Pull Requests.</p></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
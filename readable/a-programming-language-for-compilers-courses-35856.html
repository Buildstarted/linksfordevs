<!DOCTYPE html>
<html lang="en">
<head>
    <title>
ChocoPy: A Programming Language for Compilers Courses - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="ChocoPy: A Programming Language for Compilers Courses - linksfor.dev(s)"/>
    <meta property="og:description" content="ChocoPy is a programming language designed for classroom use in undergraduate compilers courses. ChocoPy is a restricted subset of Python 3, which can easily be compiled to a target such as RISC-V. The language is fully specified using formal grammar, typing rules, and operational semantics. ChocoPy is used to teach CS 164 at UC Berkeley. ChocoPy has been designed by Rohan Padhye and Koushik Sen, with substantial contributions from Paul Hilfinger."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://chocopy.org/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
	<div class="devring" style="background: #222">
		<div class="grid">
			<div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
				<span class="devring-title">devring.club</span>
				<a href="https://devring.club/site/1/previous" class="devring-previous">Previous</a>
				<a href="https://devring.club/random" class="devring-random">Random</a>
				<a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
			</div>
		</div>
	</div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - ChocoPy: A Programming Language for Compilers Courses</title>
<div class="readable">
        <h1>ChocoPy: A Programming Language for Compilers Courses</h1>
            <div>Reading time: 5-7 minutes</div>
        <div>Posted here: 13 Sep 2019</div>
        <p><a href="https://chocopy.org/">https://chocopy.org/</a></p>
        <hr/>
<div id="readability-page-1" class="page">



<p><strong>ChocoPy</strong> is a programming language designed for classroom use in undergraduate compilers courses. ChocoPy is a restricted subset of <a href="https://www.python.org/downloads/release/python-360/">Python 3</a>, which can easily be compiled to a target such as <a href="https://riscv.org/">RISC-V</a>. The language is <a href="https://chocopy.org/chocopy_language_reference.pdf">fully specified using formal grammar, typing rules, and operational semantics</a>. ChocoPy is used to teach <a href="https://www2.eecs.berkeley.edu/Courses/CS164/">CS 164 at UC Berkeley</a>. ChocoPy has been designed by <a href="https://people.eecs.berkeley.edu/~rohanpadhye/">Rohan Padhye</a> and <a href="https://people.eecs.berkeley.edu/~ksen">Koushik Sen</a>, with substantial contributions from <a href="https://www2.eecs.berkeley.edu/Faculty/Homepages/hilfinger.html">Paul Hilfinger</a>.</p>

<p>At a glance, ChocoPy is:</p>

<ul>
    <li><strong>Familiar</strong>: ChocoPy programs can be executed directly in a Python (3.6+) interpreter. ChocoPy programs can also be edited using standard Python syntax highlighting.</li>
    <li><strong>Safe</strong>: ChocoPy uses Python 3.6 <a href="https://www.python.org/dev/peps/pep-0484/">type</a> <a href="https://www.python.org/dev/peps/pep-0526/">annotations</a> to enforce static type checking. The <a href="https://chocopy.org/chocopy_language_reference.pdf">type system</a> supports nominal subtyping.</li>
    <li><strong>Concise</strong>: A full compiler for ChocoPy be implemented in about 12 weeks by undergraduate students of computer science. This can be a hugely rewarding exercise for students.</li>
    <li><strong>Expressive</strong>: One can write non-trivial ChocoPy programs using lists, classes, and nested functions. Such <a href="#features">language features</a> also lead to interesting implications for compiler design.</li>
</ul>

<p><strong>Bonus</strong>: Due to static type safety and ahead-of-time compilation, most student implementations outperform the reference Python implementation on non-trivial benchmarks.</p>

<p>A <a href="https://chocopy.org/chocopy-splashe19.pdf">paper on ChocoPy</a> was <a href="https://chocopy.org/chocopy-splashe19-slides.pdf">presented</a> at the 2019 ACM SIGPLAN SPLASH-E symposium in Athens, Greece.</p>

<h2>Try ChocoPy</h2>

<div><pre><div><p>הההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההה</p><p>XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</p></div></pre></div>

<h2 id="resources">Teaching Resources</h2>

<p>The following resources are available for conducting a compilers course with ChocoPy:</p>

<ul>
    <li>A <a href="https://chocopy.org/chocopy_language_reference.pdf">language reference manual</a>, complete with formal grammar, typing rules, and operational semantics.</li>
    <li>An <a href="https://chocopy.org/chocopy_implementation_guide.pdf">implementation guide</a> describing calling conventions and runtime support in RISC-V.</li>
    <li>A Java-based framework for conducting three Programming Assignments (PAs):
        <ol>
            <li>Lexing and Parsing ChocoPy into Abstract Syntax Trees (ASTs)</li>
            <li>Semantic analysis and type checking on ASTs</li>
            <li>Code generation from typed ASTs to <a href="https://riscv.org/specifications/">RV32IM assembly</a></li>
        </ol>

        The framework uses <a href="https://json.org/">JSON</a> as an intermediate representation for piping results between compiler stages. The framework includes auto-grading support. All artifacts are platform independent and only require Java 8+ and Apache Maven.</li>
    <li>A modified version of the <a href="https://github.com/chocopy/venus">Venus simulator</a> for executing RISC-V programs. Venus can be deployed to the web (for online debugging) or compiled to the JVM (for testing and auto-grading).</li>
    <li>A Java-based reference compiler that compiles ChocoPy programs to <em>auto-documented</em> RISC-V assembly. Students have access to a binary version of this compiler, for use in debugging their own assignments. The reference compiler also powers the online examples on this web page.</li>
    
</ul>

<p>These resources can be made available to instructors <a href="#contact">upon request</a>.</p>

<h2 id="features">Language Features</h2>

Here are some code examples demonstrating various features of ChocoPy. Edit and compile the programs below to observe the generated RISC-V assembly, which can itself be executed online. A detailed description of the ChocoPy language is available in the official <a href="https://chocopy.org/chocopy_language_reference.pdf">language reference manual</a>.

<h3>Static Type Checking</h3>
<div><pre><div><p>הההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההה</p><p>XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</p></div></pre></div>


<h3>Nested functions with global/nonlocal variables</h3>

<div><pre><div><p>הההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההה</p><p>XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</p></div></pre></div>

<h3>Lists, classes, and dynamic dispatch</h3>

<div><pre><div><p>הההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההה</p><p>XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</p></div></pre></div>

<p>ChocoPy <em>does not support</em> modules and imports, higher order functions, native dictionaries, and exceptions.</p>




<p>Want to use ChocoPy to run your own compilers course? Send an email to <a href="mailto:instructors@chocopy.org">instructors@chocopy.org</a>.</p>



  

</div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
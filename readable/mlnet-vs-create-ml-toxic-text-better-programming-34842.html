<!DOCTYPE html>
<html lang="en">
<head>
    <title>
ML.NET vs. Create ML: Toxic Text - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="ML.NET vs. Create ML: Toxic Text - linksfor.dev(s)"/>
    <meta property="article:author" content="Danny Bolella"/>
    <meta property="og:description" content="A quick, low-level text-based comparison"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://medium.com/better-programming/ml-net-vs-create-ml-toxic-text-de1293f3a89c"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - ML.NET vs. Create ML: Toxic Text</title>
<div class="readable">
        <h1>ML.NET vs. Create ML: Toxic Text</h1>
            <div>by Danny Bolella</div>
            <div>Reading time: 6-8 minutes</div>
        <div>Posted here: 30 Aug 2019</div>
        <p><a href="https://medium.com/better-programming/ml-net-vs-create-ml-toxic-text-de1293f3a89c">https://medium.com/better-programming/ml-net-vs-create-ml-toxic-text-de1293f3a89c</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div><section><div><div><p id="d819"><h2>A quick, low-level text-based comparison</h2></p><div><div><div><p><a rel="noopener" href="https://medium.com/@dbolella?source=post_page-----de1293f3a89c----------------------"><img alt="Danny Bolella" src="https://miro.medium.com/fit/c/96/96/2*UFbXxkrbyM3jp7lUICXYVw.jpeg" width="48" height="48"></a></p></div></div></div><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*xs_A0mCrvYJkz0cFlwl27A.jpeg?q=20" width="1400" height="650" role="presentation"></p><p><img width="1400" height="650" role="presentation" src="https://miro.medium.com/max/1400/1*xs_A0mCrvYJkz0cFlwl27A.jpeg"></p></div></div></div></div><figcaption data-selectable-paragraph="">Disclaimer: This graphic is way more intense than the actual comparison</figcaption></figure><p id="6144" data-selectable-paragraph="">Recently, I got hyped about Apple’s new <a href="https://developer.apple.com/documentation/createml/mlimageclassifier" target="_blank" rel="noopener nofollow">Create ML</a> GUI tool and gave it a <a target="_blank" rel="noopener" href="https://medium.com/better-programming/shoehorning-swiftui-and-create-ml-part-2-a8932075e09a">quick whirl</a>. When it came down to it, I was really impressed with how simple it was to input training data and have it spit out an actual working model.</p><p id="c6df" data-selectable-paragraph="">Making a model using a Playground, I’ve come to learn, really isn’t that much more work. But, I think the new tool is about making machine learning more accessible, even if it just seems like it is.</p><p id="22d8" data-selectable-paragraph="">And, clearly, it worked with me.</p><p id="cc1d" data-selectable-paragraph="">So, after working with images, the next logical test for me was to try and mess with text.</p><p id="0156" data-selectable-paragraph="">Thinking about how to test this, I remembered a simple <a href="https://dotnet.microsoft.com/learn/ml-dotnet/get-started-tutorial/intro" target="_blank" rel="noopener nofollow">ML.NET Tutorial</a> I found, that ran through a simple binary classification model. The <a href="https://meta.wikimedia.org/wiki/Research:Detox" target="_blank" rel="noopener nofollow">Wikipedia Detox</a> use case that the tutorial takes you through is actually great.</p><p id="4e88" data-selectable-paragraph="">It was more than simple to take Apple’s own <a href="https://developer.apple.com/documentation/createml/creating_a_text_classifier_model" target="_blank" rel="noopener nofollow">text classifier model tutorial</a> and fit the detox use case into it.</p><p id="ee11" data-selectable-paragraph="">All of a sudden, I had a lightbulb moment and realized this also presented an opportunity to compare and contrast the two frameworks in yet another truly epic Apple vs. Microsoft showdown!</p><p id="c5a2" data-selectable-paragraph="">And, interestingly, it was an opportunity to compare and (sort of) rate both of their introductory tutorials in this area. So, after slight alterations, I created my own test data, ran them through both implementations and compared the results.</p></div></div></section><hr><section><div><div><p id="d4d9" data-selectable-paragraph="">The first thing I compared was what each framework was telling me about their own level of confidence. Models giving themselves their own confidence level is really interesting and yet curious.</p><p id="b124" data-selectable-paragraph="">Stats are always welcomed but my skepticism lies in the fact that I wonder if test data is truly trustworthy and how vulnerable machine learning assumptions are to human error.</p><p id="b7b0" data-selectable-paragraph="">But I digress. We want results! First, ML.NET CLI:</p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*irTk7yGlHQGRWj3Y4sMN4A.png?q=20" width="801" height="209" role="presentation"></p><p><img width="801" height="209" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">ML.NET accuracy: 70.37%</figcaption></figure><p id="98a2" data-selectable-paragraph="">Then, Create ML through Playgrounds (note: I kept the default random split for training and test data at 80%):</p><figure><div><div><div><p><img src="https://miro.medium.com/max/60/1*er8S9ghevQzs92g5ijTZpg.png?q=20" width="422" height="407" role="presentation"></p><p><img width="422" height="407" role="presentation"></p></div></div></div><figcaption data-selectable-paragraph="">Create ML (validation) accuracy: 70.59%</figcaption></figure><p id="53db" data-selectable-paragraph="">At first glance, the numbers suggest it’s a tight race with Apple having a slight lead.</p><p id="1c6e" data-selectable-paragraph="">There are a few variables to this, though. First, that’s based on Apple’s validation accuracy, which the output admits is self-generated from 10% of the data.</p><p id="43bf" data-selectable-paragraph="">This is wonky because I had already split the 250 lines of data into training data (80% of the data) and testing (20%). If I were to change that random split percentage, the accuracy could technically change with it.</p><p id="6c86" data-selectable-paragraph="">This is not necessarily me just being nit-picky. I’m basing my options on what is immediately shown to me from the respective tutorials. This means that, while there may be ways of configuring the ML.NET model, I’m choosing to go off whatever <code>auto-train</code> suggests.</p><p id="50c6" data-selectable-paragraph="">I would probably want to consider the respective parameters and options more carefully if this were any other project, but this is essentially a comparison of beginner tutorials under the same use-case. Consider that another of the “loose controls” in this experiment.</p></div></div></section><hr><section><div><div><p id="bcbe" data-selectable-paragraph="">Now, the real test to me is whether or not the models actually work, based on my own input. Granted, the data set has some pretty garbled comments that my models are now trained after.</p><p id="bb5a" data-selectable-paragraph="">Writing simple sentences may not necessarily yield the results I’m looking for (which makes it interesting that Microsoft would choose this limited set for an introduction tutorial).</p><p id="8b60" data-selectable-paragraph="">There are 10 statements. The key, according to me, is:</p><ol><li id="a50c" data-selectable-paragraph="">I hate you | Toxic.</li><li id="8f0d" data-selectable-paragraph="">I love you | Non-toxic.</li><li id="7547" data-selectable-paragraph="">Thank you so much | Non-toxic.</li><li id="72b0" data-selectable-paragraph="">Thank you so much! |Non-toxic (testing punctuation).</li><li id="ce15" data-selectable-paragraph="">This article sucks | Toxic.</li><li id="5707" data-selectable-paragraph="">Go hurt yourself | Toxic.</li><li id="2443" data-selectable-paragraph="">Get yourself some help. | Non-toxic (pulled from dataset).</li><li id="4085" data-selectable-paragraph="">I saw it before watching the episode. Oh well. | Non-toxic (pulled from dataset).</li><li id="ebbd" data-selectable-paragraph="">I agree | Non-toxic (pulled from dataset).</li><li id="1847" data-selectable-paragraph="">That is rude | Toxic (example from tutorial, though without an expected result, so this is my own categorization).</li></ol><p id="a447" data-selectable-paragraph="">For ML.NET:</p><figure><div><div><div><p><img src="https://miro.medium.com/max/60/1*agdDWAynnRwuxE0jU_4t6Q.png?q=20" width="612" height="142" role="presentation"></p><p><img width="612" height="142" role="presentation"></p></div></div></div><figcaption data-selectable-paragraph="">ML.NET results: three misses</figcaption></figure><p id="4f79" data-selectable-paragraph="">And Create ML:</p><figure><div><div><div><p><img src="https://miro.medium.com/max/60/1*mozj55F_l8dU6CkgNUBNFA.png?q=20" width="595" height="140" role="presentation"></p><p><img width="595" height="140" role="presentation"></p></div></div></div><figcaption data-selectable-paragraph="">Create ML results: four misses</figcaption></figure><p id="2bf1" data-selectable-paragraph="">Interestingly, by my count, ML.NET had one fewer but, arguably, Create ML had a double with “Thank you so much” with and without an ‘!’. So really, the accuracy is similar by the numbers.</p><p id="988a" data-selectable-paragraph="">Then, there’s the context of the misses. Both models apparently don’t have a thing for “love”. Also, ML.NET was being a jerk when it said the comment about this article was Non-Toxic.</p><p id="242f" data-selectable-paragraph="">And, as for the “getting help” statement, that could go either way actually, without more context. Core ML was more glass-half-full with that statement, but tripped over the “thank you” statements and “I agree”, which seems simpler to pick up (I could say that I don’t know what the model teaches about that, but ML.NET picked them up correctly).</p></div></div></section><hr><section><div><div><p id="a522" data-selectable-paragraph="">It’s really difficult to declare a winner. What we’re really stating here is who has the better framework at the most basic, introductory, and tutorial level.</p><p id="9199" data-selectable-paragraph="">And, while that could make a conclusion easy to brush off, there’s something to be said about that being a valid perspective to judge from.</p><p id="b999" data-selectable-paragraph="">I have to give it to ML.NET. The reason is that, ultimately, on basic tests with very little context, it seemed to do better.</p><p id="59c8" data-selectable-paragraph="">“Thanks” and “agree” could’ve been said sarcastically in the dataset, which, in turn, Create ML could’ve picked up on. But, that wasn’t the context in which they were stated, and ML.NET agreed there was nothing more to prove they were Toxic.</p></div></div></section><hr><section><div><div><figure><div><div><div><p><img alt="Demo of my Create ML model in action within an app" src="https://miro.medium.com/freeze/max/32/1*7GjNKQXOJSaN_MR7bx9OTA.gif?q=20" width="347" height="648"></p><p><img alt="Demo of my Create ML model in action within an app" width="347" height="648"></p></div></div></div><figcaption data-selectable-paragraph="">Demo of the Create ML model in action within an app</figcaption></figure><p id="cca1" data-selectable-paragraph="">While, again, this was a truly basic comparison test, it could speak volumes. These tutorials are possibly the first bit of exposure a curious developer has to either framework.</p><p id="9038" data-selectable-paragraph="">When deciding which to use for my projects, I want to ascertain a level of confidence discovered by the end of the guided tutorial. Ultimately, that will bear a lot of weight in determining whether or not it will land in my project.</p><p id="3481" data-selectable-paragraph="">Of course, there’s more that goes into the decision, like does ML.NET provide better fine-tuning of my model or would I prefer to use Create ML in my native iOS app?</p><p id="cc12" data-selectable-paragraph="">For an example, I whipped up a quick iOS app that consumes the Create ML model from the test. It took just 21 lines of code (most of it SwiftUI) in a matter of minutes to create (see gif above to see it in action).</p><p id="00a3" data-selectable-paragraph="">But, as the saying goes, first impressions are lasting.</p><p id="0dc4" data-selectable-paragraph="">Maybe that’s why Apple uses a different data set/scenario. It may also be why Microsoft suggests you try a phrase (“That is rude”), without giving you an expected outcome.</p><p id="e40c" data-selectable-paragraph="">All in all, I’m already impressed by machine learning but there’s still plenty more learning for ME to do.</p></div></div></section></div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
SignalR core python client (III): Streamming - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="SignalR core python client (III): Streamming - linksfor.dev(s)"/>
    <meta property="article:author" content="Andr&#xE9;s Baamonde Lozano"/>
    <meta property="og:description" content="Signalr core streamming implementation"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://dev.to/mandrewcito/signalr-core-python-client-iii-streamming-3lkj"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - SignalR core python client (III): Streamming</title>
<div class="readable">
        <h1>SignalR core python client (III): Streamming</h1>
            <div>by Andr&#xE9;s Baamonde Lozano</div>
            <div>Reading time: 2 minutes</div>
        <div>Posted here: 04 Mar 2019</div>
        <p><a href="https://dev.to/mandrewcito/signalr-core-python-client-iii-streamming-3lkj">https://dev.to/mandrewcito/signalr-core-python-client-iii-streamming-3lkj</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="main-title">
        
        <h3>
          
            <a href="http://twitter.com/Mandrewcito"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 612" role="img" aria-labelledby="agi7mxbyn9zljl0fyajx75718cj599av" height="18" width="18"><title id="agi7mxbyn9zljl0fyajx75718cj599av">twitter logo</title><path d="M612 116.258c-22.525 9.98-46.694 16.75-72.088 19.772 25.93-15.527 45.777-40.155 55.184-69.41-24.322 14.378-51.17 24.82-79.775 30.48-22.906-24.438-55.49-39.66-91.63-39.66-69.333 0-125.55 56.218-125.55 125.514 0 9.828 1.11 19.427 3.25 28.606-104.325-5.24-196.834-55.223-258.75-131.174-10.822 18.51-16.98 40.078-16.98 63.1 0 43.56 22.182 81.994 55.836 104.48-20.575-.688-39.926-6.348-56.867-15.756v1.568c0 60.806 43.29 111.554 100.692 123.104-10.517 2.83-21.607 4.398-33.08 4.398-8.107 0-15.947-.803-23.634-2.333 15.985 49.907 62.336 86.2 117.253 87.194-42.946 33.655-97.098 53.656-155.915 53.656-10.134 0-20.116-.612-29.944-1.72 55.568 35.68 121.537 56.484 192.44 56.484 230.947 0 357.187-191.29 357.187-357.188l-.42-16.253C573.87 163.525 595.21 141.42 612 116.257z"></path></svg>
</a>
            <a href="http://github.com/mandrewcito"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 438.549 438.549" role="img" aria-labelledby="ai6jmpybopndi719aoky4grkqjou0hjc"><title id="ai6jmpybopndi719aoky4grkqjou0hjc">github logo</title><path d="M409.132 114.573c-19.608-33.596-46.205-60.194-79.798-79.8C295.736 15.166 259.057 5.365 219.27 5.365c-39.78 0-76.47 9.804-110.062 29.408-33.596 19.605-60.192 46.204-79.8 79.8C9.803 148.168 0 184.853 0 224.63c0 47.78 13.94 90.745 41.827 128.906 27.884 38.164 63.906 64.572 108.063 79.227 5.14.954 8.945.283 11.42-1.996 2.474-2.282 3.71-5.14 3.71-8.562 0-.57-.05-5.708-.144-15.417-.098-9.71-.144-18.18-.144-25.406l-6.567 1.136c-4.187.767-9.47 1.092-15.846 1-6.375-.09-12.992-.757-19.843-2-6.854-1.23-13.23-4.085-19.13-8.558-5.898-4.473-10.085-10.328-12.56-17.556l-2.855-6.57c-1.903-4.374-4.9-9.233-8.992-14.56-4.093-5.33-8.232-8.944-12.42-10.847l-1.998-1.43c-1.332-.952-2.568-2.1-3.71-3.43-1.143-1.33-1.998-2.663-2.57-3.997-.57-1.335-.097-2.43 1.428-3.29 1.525-.858 4.28-1.275 8.28-1.275l5.708.853c3.807.763 8.516 3.042 14.133 6.85 5.615 3.807 10.23 8.755 13.847 14.843 4.38 7.807 9.657 13.755 15.846 17.848 6.184 4.093 12.42 6.136 18.7 6.136 6.28 0 11.703-.476 16.273-1.423 4.565-.95 8.848-2.382 12.847-4.284 1.713-12.758 6.377-22.56 13.988-29.41-10.847-1.14-20.6-2.857-29.263-5.14-8.658-2.286-17.605-5.996-26.835-11.14-9.235-5.137-16.896-11.516-22.985-19.126-6.09-7.614-11.088-17.61-14.987-29.98-3.9-12.373-5.852-26.647-5.852-42.825 0-23.035 7.52-42.637 22.557-58.817-7.044-17.318-6.38-36.732 1.997-58.24 5.52-1.715 13.706-.428 24.554 3.853 10.85 4.284 18.794 7.953 23.84 10.995 5.046 3.04 9.09 5.618 12.135 7.708 17.706-4.947 35.977-7.42 54.82-7.42s37.116 2.473 54.822 7.42l10.85-6.85c7.418-4.57 16.18-8.757 26.26-12.564 10.09-3.806 17.803-4.854 23.135-3.14 8.562 21.51 9.325 40.923 2.28 58.24 15.035 16.18 22.558 35.788 22.558 58.818 0 16.178-1.958 30.497-5.853 42.966-3.9 12.47-8.94 22.457-15.125 29.98-6.19 7.52-13.9 13.85-23.13 18.985-9.233 5.14-18.183 8.85-26.84 11.135-8.663 2.286-18.416 4.004-29.264 5.146 9.894 8.563 14.842 22.078 14.842 40.54v60.237c0 3.422 1.19 6.28 3.572 8.562 2.38 2.278 6.136 2.95 11.276 1.994 44.163-14.653 80.185-41.062 108.068-79.226 27.88-38.16 41.826-81.126 41.826-128.906-.01-39.77-9.818-76.454-29.414-110.05z"></path></svg>
</a>
            <time itemprop="datePublished" datetime="2019-03-03T22:06:55Z" title="Sunday, March 3, 2019, 2:06:55 PM">Mar  3 '19</time>
          <span>・2 min read</span>
          <span id="action-space"></span>
        </h3>
          
      </div><div data-article-id="88006" id="article-body" itemprop="articleBody">
        <p>Sunday's hangover,  so I added a new functionality  to my singalrcore library, as usual it works with the <a href="https://docs.microsoft.com/es-es/aspnet/core/signalr/streaming?view=aspnetcore-2.2">microsoft example</a> and i'll try making the syntax closest thing to javascript as possible.</p>

<h2>
  <a name="setup" href="#setup">
  </a>
  Setup
</h2>

<p>On <a href="https://github.com/aspnet/Docs/blob/master/aspnetcore/signalr/streaming/sample/Hubs/StreamHub.cs">Microsoft's example</a> there is a cancellation token on stream function on the server, this example was done without this parameter on the function, so if you want work with the code below just delete this params on the counter function.<br>
 <a href="https://res.cloudinary.com/practicaldev/image/fetch/s--s179eBTj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/4end45w6p5ichps4hqhi.png"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--s179eBTj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/4end45w6p5ichps4hqhi.png" alt="Code function" loading="lazy"></a></p>

<h2>
  <a name="tiny-example" href="#tiny-example">
  </a>
  Tiny example
</h2>

<h3>
  <a name="start-and-open-connection" href="#start-and-open-connection">
  </a>
  Start and open connection
</h3>



<div><pre><code><span>hub_connection</span> <span>=</span> <span>HubConnection</span><span>(</span><span>server_url</span><span>)</span>
<span>hub_connection</span><span>.</span><span>build</span><span>()</span>
<span>hub_connection</span><span>.</span><span>start</span><span>()</span>
</code></pre></div>



<h3>
  <a name="open-stream" href="#open-stream">
  </a>
  Open stream
</h3>



<div><pre><code><span>hub_connection</span><span>.</span><span>stream</span><span>(</span>
    <span>"Counter"</span><span>,</span>
    <span>[</span><span>10</span><span>,</span> <span>500</span><span>],</span>
    <span>lambda</span> <span>x</span><span>:</span> <span>print</span><span>(</span><span>"next callback: "</span><span>,</span> <span>x</span><span>),</span>
    <span>lambda</span> <span>x</span><span>:</span> <span>print</span><span>(</span><span>"complete  callback"</span><span>,</span> <span>x</span><span>),</span>
    <span>lambda</span> <span>x</span><span>:</span> <span>print</span><span>(</span><span>"error  callback"</span><span>,</span> <span>x</span><span>))</span>
</code></pre></div>



<p>Stream function has five parameters, last three are callback function matching with <a href="https://github.com/aspnet/Docs/blob/master/aspnetcore/signalr/streaming/sample/wwwroot/ts/stream.ts">javascripts suscribe object</a><br>
<a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ZFGe86tX--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/2vdrjcuozfuehsjbzhvs.png"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ZFGe86tX--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/2vdrjcuozfuehsjbzhvs.png" alt="Javascript example stream" loading="lazy"></a></p>

<p><a href="https://github.com/mandrewcito/signalrcore/blob/master/test/stream.py">Fully example</a></p>

<h2>
  <a name="todo" href="#todo">
  </a>
  ToDo
</h2>

<ul>
<li>message pack</li>
<li>Auth (now only working by querystring negotiate)</li>
</ul>

<h2>
  <a name="links" href="#links">
  </a>
  Links
</h2>

<p><a href="https://github.com/mandrewcito/signalrcore">Github</a><br>
<a href="https://pypi.org/project/signalrcore/">Pypi</a></p>

<p>I'm trying to build this library with simplest way possible, so if you think that there is a better way to do it, leave a comment. Asap i'll edit github library contribute section, so any contribution is welcommed.</p>

<p>Thank you for reading, and write any thought below :D </p>


      </div><div id="html-variant-article-show-below-article" data-variant-id="158">
        


<div>
  <p><img src="https://i.giphy.com/media/tHpaQSfGp0C1rwhxAa/giphy.gif"></p><p>
   <b>Sore eyes?</b>
  </p>
  <p>
    Go to the "misc" section of <b><a href="https://dev.to/enter">your settings</a></b> and select <b>night theme</b> ❤️
  </p>
</div>
      </div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
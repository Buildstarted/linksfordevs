<!DOCTYPE html>
<html lang="en">
<head>
    <title>
ardacetinkaya/Blazor.Console - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="ardacetinkaya/Blazor.Console - linksfor.dev(s)"/>
    <meta property="article:author" content="ardacetinkaya"/>
    <meta property="og:description" content="A simple component to mock CLI for ASP.NET Core 3.0 Blazor applications to execute some custom commands for an application - ardacetinkaya/Blazor.Console"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://github.com/ardacetinkaya/Blazor.Console"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - ardacetinkaya/Blazor.Console</title>
<div class="readable">
        <h1>ardacetinkaya/Blazor.Console</h1>
            <div>by ardacetinkaya</div>
            <div>Reading time: 4-5 minutes</div>
        <div>Posted here: 04 Dec 2019</div>
        <p><a href="https://github.com/ardacetinkaya/Blazor.Console">https://github.com/ardacetinkaya/Blazor.Console</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="readme">
    
        

      <div>
        <article itemprop="text">
<p><a href="https://github.com/ardacetinkaya/Blazor.Console/actions"><img src="https://github.com/ardacetinkaya/Blazor.Console/workflows/Build/badge.svg" alt="Actions Status"></a>
<a href="https://www.nuget.org/packages/Blzr.Components.CommandLine/" rel="nofollow"><img src="https://camo.githubusercontent.com/df81b75187e64889d02c13a8686b5590cda76576/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f426c7a722e436f6d706f6e656e74732e436f6d6d616e644c696e652e737667" alt="NuGet version (Blzr.Components.CommandLine)" data-canonical-src="https://img.shields.io/nuget/v/Blzr.Components.CommandLine.svg"></a></p>
<p>
    <a target="_blank" rel="noopener noreferrer" href="https://github.com/ardacetinkaya/Blazor.Console/blob/master/screenshots/1.png"><img src="https://github.com/ardacetinkaya/Blazor.Console/raw/master/screenshots/1.png"></a>
</p>
<h3>What and why...</h3>
<p>This is a simple console component for ASP.NET Core 3.0 Blazor Server application model. The motivation behind this simple component is to provide simple command-line interface to manage some Web API. With this component it is easy to execute some business related commands.*</p>
<p>Real life scenario examples;</p>
<ul>
<li>Clear response cache</li>
<li>Export log files</li>
<li>Change run-time settings</li>
<li>Monitor application resources</li>
</ul>
<p>This Blazor component is based on <code>System.CommandLine</code> API and reflects standart command-line features to be more reliable.</p>
<h3>Usage</h3>
<p>Check Demo project(BlazorConsoleDemo.csproj) for usage;</p>
<p>Add following extensions to services and application within Startup.cs</p>
<div><pre><span>public</span> <span>void</span> <span>ConfigureServices</span>(<span>IServiceCollection</span> <span>services</span>)
{
    <span>services</span>.<span>AddCommandLine</span>();
}

<span>public</span> <span>void</span> <span>Configure</span>(<span>IApplicationBuilder</span> <span>app</span>, <span>IWebHostEnvironment</span> <span>env</span>)
{
    <span>app</span>.<span>UseCommandLine</span>(<span>env</span>.<span>WebRootPath</span>);
}</pre></div>
<p>Add  tag into needed view file(ex: Index.razor)</p>
<div><pre>@page "/"
@using Blazor.CommandLine
@using Blazor.Components.CommandLine
@using Blazor.Components.CommandLine.Console

&lt;<span>h1</span>&gt;Hello, world!&lt;/<span>h1</span>&gt;

&lt;<span>BlazorCommandLine</span> <span>@ref</span>=<span><span>"</span>console<span>"</span></span> <span>Name</span>=<span><span>"</span>Some Demo App v1.0.0<span>"</span></span>/&gt;</pre></div>
<p>And to have fancy UI add CSS to host file, _HOST.cshtml</p>
<div><pre>&lt;<span>link</span> <span>href</span>=<span><span>"</span>Blazor.CommandLine/styles.css<span>"</span></span> <span>rel</span>=<span><span>"</span>stylesheet<span>"</span></span> /&gt;</pre></div>
<p>
    <a target="_blank" rel="noopener noreferrer" href="https://github.com/ardacetinkaya/Blazor.Console/blob/master/screenshots/2.png"><img src="https://github.com/ardacetinkaya/Blazor.Console/raw/master/screenshots/2.png"></a>
</p>
<h3>Commands</h3>
<p>Adding commands to Blazor.CommandLine is not complicated. First create a command class, implement it with <code>BaseCommand</code> . Then add the command(s) to the BlazorCommandLine's Commands as below;</p>
<p>Within custom command's constructor it is easy to add options to the command. Also command arguments can be enabled for the command as <code>System.CommandLine</code></p>
<p>To implement the command's main execution just override Execute() or ExecuteAsync() method.</p>
<div><pre><span>@page </span><span><span>"</span>/<span>"</span></span>
<span>@<span>using</span> <span>Blazor</span>.<span>CommandLine</span></span>
<span>@<span>using</span> <span>Blazor</span>.<span>Components</span>.<span>CommandLine</span></span>
<span>@<span>using</span> <span>Blazor</span>.<span>Components</span>.<span>CommandLine</span>.<span>Console</span></span>

<span>@inject </span><span>IRunningCommand</span> <span>RunningCommand</span>

&lt;<span>h1</span>&gt;Hello, world!&lt;/<span>h1</span>&gt;

&lt;<span>BlazorCommandLine</span> <span>@ref</span>=<span><span>"</span>console<span>"</span></span> /&gt;

<span>@code</span>
<span>{</span>
    <span>BlazorCommandLine</span> <span>console</span>;

    <span>protected</span> <span>override</span> <span>Task</span> <span>OnAfterRenderAsync</span>(<span>bool</span> <span>firstRender</span>)
    {
        <span>console</span>.<span>Commands</span>.<span>Add</span>(<span>new</span> <span>CommandExample</span>(<span><span>"</span>simple<span>"</span></span>,<span><span>"</span>Description of command<span>"</span></span>));
        <span>console</span>.<span>Commands</span>.<span>Add</span>(<span>new</span> <span>LongCommand</span>(<span><span>"</span>lng<span>"</span></span>,<span><span>"</span>Description of long-running command<span>"</span></span>));

        <span>return</span> <span>base</span>.<span>OnAfterRenderAsync</span>(<span>firstRender</span>);
    }

    <span>public</span> <span>class</span> <span>CommandExample</span> : <span>BaseCommand</span>
    {
        <span>public</span> <span>CommandExample</span>(<span>string</span> <span>name</span>,<span>string</span> <span>description</span>):<span>base</span>(<span>name</span>,<span>description</span>)
        {
            <span>base</span>.<span>AddOption</span>(<span><span>"</span>-t<span>"</span></span>,<span><span>"</span>Description of option -t<span>"</span></span>);
            <span>base</span>.<span>AddOption</span>(<span><span>"</span>-ar<span>"</span></span>,<span><span>"</span>Description of option -ar<span>"</span></span>);

            <span>base</span>.<span>UseArguments</span>(<span><span>$"</span>Some extra arguments for {<span>name</span>}<span>"</span></span>);
        
        }

        <span>public</span> <span>override</span> <span>bool</span> <span>Execute</span>(<span>DefaultStreamWriter</span> <span>console</span>,<span>string</span> <span>option1</span>,<span>string</span> <span>option2</span>,<span>string</span> <span>option3</span>,<span>string</span> <span>option4</span>,<span>List</span>&lt;<span>string</span>&gt; <span>arguments</span>)
        {
            <span>console</span>.<span>Write</span>(<span><span>"</span>This is output of a simple command<span>"</span></span>);
            <span>return</span> <span>true</span>;
        }
    }

    <span>public</span> <span>class</span> <span>LongCommand</span> : <span>BaseCommand</span>
    {
        <span>public</span> <span>LongCommand</span>(<span>string</span> <span>name</span>, <span>string</span> <span>description</span>):<span>base</span>(<span>name</span>,<span>description</span>,<span>true</span>)
        {
            
        }

        <span>public</span> <span>override</span> <span>async</span> <span>Task</span>&lt;<span>bool</span>&gt; <span>ExecuteAsync</span>(<span>DefaultStreamWriter</span> <span>console</span>, <span>string</span> <span>option1</span>,<span>string</span> <span>option2</span>,<span>string</span> <span>option3</span>,<span>string</span> <span>optionArgument4</span>,<span>List</span>&lt;<span>string</span>&gt; <span>arguments</span>)
        {
            <span>var</span> <span>i</span> <span>=</span> <span>0</span>;

            <span>while</span> (<span>i</span> <span>&lt;</span> <span>10</span>)
            {
                <span>await</span> <span>Task</span>.<span>Delay</span>(<span>550</span>);
                <span>i</span><span>++</span>;
            }
            
            <span>console</span>.<span>Write</span>(<span><span>"</span>This was a long running command<span>"</span></span>);
            <span>return</span> <span>true</span>;
        }
    }
<span>}</span></pre></div>
<p>
    <a target="_blank" rel="noopener noreferrer" href="https://github.com/ardacetinkaya/Blazor.Console/blob/master/screenshots/3.png"><img src="https://github.com/ardacetinkaya/Blazor.Console/raw/master/screenshots/3.png"></a>
</p>
<h3>References</h3>
<ul>
<li>Some commands might be long running tasks, Blazor.CommandLine use some features of a great component for this kind of requirement. Please also check  <a href="https://github.com/h3x4d3c1m4l/Blazor.LoadingIndicator">https://github.com/h3x4d3c1m4l/Blazor.LoadingIndicator</a> if you need a loading indicator for a Blazor app.</li>
</ul>
</article>
      </div>
  </div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>linksfor.dev(s)</title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    
    <meta property="article:author" content="Buildstarted"/>
    <meta property="og:site_name" content="linksfor.dev(s)" />
    <meta property="og:title" content="linksfor.dev(s)" />
    <meta property="og:type" content="website" />
    <meta property="og:description" content="A curated list of sources of development information including c#, c++, and other dev related links." />
</head>
<body>
    <div class="grid">
        <h1>
                <span style="cursor: default" title="linksfor.dev(s) has been running for 1 year! :partypopper:">ðŸŽ‰</span>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - CarterCommunity/Carter</title>
<div class="readable">
        <h1>CarterCommunity/Carter</h1>
        <p>
by jchannon <br/>Reading time: 7-8 minutes        </p>
        <p><a href="https://github.com/CarterCommunity/Carter">https://github.com/CarterCommunity/Carter</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="readme">
    
        

      <div>
        <article itemprop="text">
<p><a href="https://www.nuget.org/packages/carter" rel="nofollow"><img src="https://camo.githubusercontent.com/577899fd454fc722a0ef88b8310d878b8d795a88/687474703a2f2f696d672e736869656c64732e696f2f6e756765742f762f4361727465722e7376673f7374796c653d666c6174" alt="NuGet Version" data-canonical-src="http://img.shields.io/nuget/v/Carter.svg?style=flat"></a> <a href="https://f.feedz.io/carter/carter/packages/Carter/latest/download" rel="nofollow"><img src="https://camo.githubusercontent.com/6a5154a4cfb36f76e30b447f004d771727ba1d23/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f656e64706f696e742e7376673f75726c3d6874747073253341253246253246662e666565647a2e696f253246636172746572253246636172746572253246736869656c642532464361727465722532466c6174657374" alt="feedz.io" data-canonical-src="https://img.shields.io/badge/endpoint.svg?url=https%3A%2F%2Ff.feedz.io%2Fcarter%2Fcarter%2Fshield%2FCarter%2Flatest"></a></p>
<p><a href="https://join.slack.com/t/cartercommunity/shared_invite/enQtMzY2Nzc0NjU2MTgyLWY3M2Y2Yjk3NzViN2Y3YTQ4ZDA5NWFlMTYxMTIwNDFkMTc5YWEwMDFiOWUyM2Q4ZmY5YmRkODYyYTllZDViMmE" rel="nofollow"><img src="https://github.com/CarterCommunity/Carter/raw/master/slack.svg?sanitize=true" width="140px"></a></p>
<p>Carter is a framework that is a thin layer of extension methods and functionality over ASP.NET Core allowing the code to be more explicit and most importantly more enjoyable.</p>
<p>Carter simply builds on top of ASP.NET Core allowing you to have more elegant routing rather than attribute routing, convention routing, or ASP.NET Controllers.</p>
<p>For a better understanding, take a good look at the <a href="https://github.com/CarterCommunity/Carter/tree/master/samples">samples</a> inside this repo. The samples demonstrate usages of elegant extensions around common ASP.NET Core types as shown below.</p>
<p>Other extensions include:</p>
<ul>
<li>
<p><code>Bind/BindAndValidate&lt;T&gt;</code> - <a href="https://github.com/JeremySkinner/FluentValidation">FluentValidation</a> extensions to validate incoming HTTP requests.</p>
</li>
<li>
<p><code>BindFile/BindFiles/BindFileAndSave/BindFilesAndSave</code> - Allows you to easily get access to a file/files that has been uploaded. Alternatively you can call <code>BindFilesAndSave</code> and this will save it to a path you specify.</p>
</li>
<li>
<p><code>Before/After</code> hooks to the routes defined in a Carter module.</p>
</li>
<li>
<p>Routes to use in common ASP.NET Core middleware e.g., <code>app.UseExceptionHandler("/errorhandler");</code>.</p>
</li>
<li>
<p><code>IStatusCodeHandler</code>s are also an option as the ASP.NET Core <code>UseStatusCodePages</code> middleware is not elegant enough IMO. <code>IStatusCodeHandler</code>s allow you to define what happens when one of your routes returns a specific status code.  An example usage is shown in the sample.</p>
</li>
<li>
<p><code>IResponseNegotiator</code>s allow you to define how the response should look on a certain Accept header. Handling JSON is built in the default response but implementing an interface allows the user to choose how they want to represent resources.</p>
</li>
<li>
<p>All interface implementations for Carter components are registered into ASP.NET Core DI automatically. Implement the interface and off you go.</p>
</li>
<li>
<p>Supports two different routing APIs.</p>
<p>(i)</p>
<div><pre><span>this</span>.<span>Get</span>(<span><span>"</span>/actors/{id:int}<span>"</span></span>, <span>async</span> (<span>req</span>, <span>res</span>) <span>=&gt;</span>
{
    <span>var</span> <span>person</span> <span>=</span> <span>actorProvider</span>.<span>Get</span>(<span>req</span>.<span>RouteValues</span>.<span>As</span>&lt;<span>int</span>&gt;(<span><span>"</span>id<span>"</span></span>));
    <span>await</span> <span>res</span>.<span>Negotiate</span>(<span>person</span>);
});</pre></div>
<p>(ii)</p>
<div><pre><span>this</span>.<span>Get</span>(<span><span>"</span>/actors/{id:int}<span>"</span></span>, <span>async</span> (<span>ctx</span>) <span>=&gt;</span>
{
    <span>var</span> <span>person</span> <span>=</span> <span>actorProvider</span>.<span>Get</span>(<span>ctx</span>.<span>Request</span>.<span>RouteValues</span>.<span>As</span>&lt;<span>int</span>&gt;(<span><span>"</span>id<span>"</span></span>));
    <span>await</span> <span>ctx</span>.<span>Response</span>.<span>Negotiate</span>(<span>person</span>);
});</pre></div>
</li>
</ul>
<h4>Endpoint Routing</h4>
<p>Carter supports endpoint routing and all the extensions <code>IEndpointConventionBuilder</code> offers. For example you can define a route with authorization required like so:</p>
<div><pre><span>this</span>.<span>Get</span>(<span><span>"</span>/<span>"</span></span>, (<span>req</span>, <span>res</span>) <span>=&gt;</span> <span>res</span>.<span>WriteAsync</span>(<span><span>"</span>There's no place like 127.0.0.1<span>"</span></span>)).<span>RequireAuthorization</span>();</pre></div>
<h3>OpenApi</h3>
<p>Carter supports OpenApi out of the box.  Simply call <code>/openapi</code> from your API and you will get a OpenApi JSON response.</p>
<p>To configure your routes for OpenApi simply supply the meta data class on your routes. For example:</p>
<div><pre><span>this</span>.<span>Get</span>&lt;<span>GetActors</span>&gt;(<span><span>"</span>/actors<span>"</span></span>, <span>async</span> (<span>req</span>, <span>res</span>) <span>=&gt;</span>
{
    <span>var</span> <span>people</span> <span>=</span> <span>actorProvider</span>.<span>Get</span>();
    <span>await</span> <span>res</span>.<span>AsJson</span>(<span>people</span>);
});</pre></div>
<p>The meta data class is the way to document your routes and looks something like this:</p>
<div><pre><span>public</span> <span>class</span> <span>GetActors</span> : <span>RouteMetaData</span>
{
    <span>public</span> <span>override</span> <span>string</span> <span>Description</span> { <span>get</span>; } <span>=</span> <span><span>"</span>Returns a list of actors<span>"</span></span>;

    <span>public</span> <span>override</span> <span>RouteMetaDataResponse</span>[] <span>Responses</span> { <span>get</span>; } <span>=</span>
    {
        <span>new</span> <span>RouteMetaDataResponse</span>
        {
            <span>Code</span> <span>=</span> <span>200</span>,
            <span>Description</span> <span>=</span> <span><span>$"</span>A list of {<span>nameof</span>(<span>Actor</span>)}s<span>"</span></span>,
            <span>Response</span> <span>=</span> <span>typeof</span>(<span>IEnumerable</span>&lt;<span>Actor</span>&gt;)
        }
    };

    <span>public</span> <span>override</span> <span>string</span> <span>Tag</span> { <span>get</span>; } <span>=</span> <span><span>"</span>Actors<span>"</span></span>;
}</pre></div>
<h3>Where does the name "Carter" come from?</h3>
<p>I have been a huge fan of, and core contributor to <a href="http://nancyfx.org/" rel="nofollow">Nancy</a>, the best .NET web framework, for many years, and the name "Nancy" came about due to it being inspired from Sinatra the Ruby web framework. Frank Sinatra had a daughter called Nancy and so that's where it came from.</p>
<p>I was also trying to think of a derivative name, and I had recently listened to the song Empire State of Mind where Jay-Z declares he is the new Sinatra. His real name is Shaun Carter so I took Carter and here we are!</p>
<h3>CI Builds</h3>
<p>If you'd like to try the latest builds from the master branch add <code>https://f.feedz.io/carter/carter/nuget/index.json</code> to your NuGet.config and pick up the latest and greatest version of Carter.</p>
<h3>Getting Started</h3>
<p>You can get started using either the template or by adding the package manually to a new or existing application.</p>
<h4>Template</h4>
<p><a href="https://www.nuget.org/packages/CarterTemplate/" rel="nofollow">https://www.nuget.org/packages/CarterTemplate/</a></p>
<ol>
<li>
<p>Install the template - <code>dotnet new -i CarterTemplate</code></p>
</li>
<li>
<p>Create a new application using template - <code>dotnet new Carter -n MyCarterApp</code></p>
</li>
<li>
<p>Run the application - <code>dotnet run</code></p>
</li>
</ol>
<h4>Package</h4>
<p><a href="https://www.nuget.org/packages/Carter" rel="nofollow">https://www.nuget.org/packages/Carter</a></p>
<ol>
<li>
<p>Create a new empty ASP.NET Core application - <code>dotnet new web -n MyCarterApp</code></p>
</li>
<li>
<p>Change into the new project location - <code>cd ./MyCarterApp</code></p>
</li>
<li>
<p>Add Carter package - <code>dotnet add package carter</code></p>
</li>
<li>
<p>Modify your Startup.cs to use Carter</p>
</li>
</ol>
<div><pre><span>public</span> <span>class</span> <span>Startup</span>
{
    <span>public</span> <span>void</span> <span>ConfigureServices</span>(<span>IServiceCollection</span> <span>services</span>)
    {
        <span>services</span>.<span>AddCarter</span>();
    }

    <span>public</span> <span>void</span> <span>Configure</span>(<span>IApplicationBuilder</span> <span>app</span>)
    {
        <span>app</span>.<span>UseRouting</span>();
        <span>app</span>.<span>UseEndpoints</span>(<span>builder</span> <span>=&gt;</span> <span>builder</span>.<span>MapCarter</span>());
    }
}</pre></div>
<ol start="5">
<li>Create a new Module</li>
</ol>
<div><pre>    <span>public</span> <span>class</span> <span>HomeModule</span> : <span>CarterModule</span>
    {
        <span>public</span> <span>HomeModule</span>()
        {
            <span>Get</span>(<span><span>"</span>/<span>"</span></span>, <span>async</span> (<span>req</span>, <span>res</span>) <span>=&gt;</span> <span>await</span> <span>res</span>.<span>WriteAsync</span>(<span><span>"</span>Hello from Carter!<span>"</span></span>));
        }
    }</pre></div>
<ol start="6">
<li>Run the application - <code>dotnet run</code></li>
</ol>
<h3>Sample</h3>
<div><pre><span>public</span> <span>class</span> <span>Startup</span>
{
    <span>public</span> <span>void</span> <span>ConfigureServices</span>(<span>IServiceCollection</span> <span>services</span>)
    {
        <span>services</span>.<span>AddSingleton</span>&lt;<span>IActorProvider</span>, <span>ActorProvider</span>&gt;();
        <span>services</span>.<span>AddCarter</span>();
    }

    <span>public</span> <span>void</span> <span>Configure</span>(<span>IApplicationBuilder</span> <span>app</span>)
    {
        <span>app</span>.<span>UseRouting</span>();
        <span>app</span>.<span>UseEndpoints</span>(<span>builder</span> <span>=&gt;</span> <span>builder</span>.<span>MapCarter</span>());
    }
}

<span>public</span> <span>class</span> <span>ActorsModule</span> : <span>CarterModule</span>
{
    <span>public</span> <span>ActorsModule</span>(<span>IActorProvider</span> <span>actorProvider</span>)
    {
        <span>this</span>.<span>Get</span>(<span><span>"</span>/actors<span>"</span></span>, <span>async</span> (<span>req</span>, <span>res</span>) <span>=&gt;</span>
        {
            <span>var</span> <span>people</span> <span>=</span> <span>actorProvider</span>.<span>Get</span>();
            <span>await</span> <span>res</span>.<span>AsJson</span>(<span>people</span>);
        });

        <span>this</span>.<span>Get</span>(<span><span>"</span>/actors/{id:int}<span>"</span></span>, <span>async</span> (<span>req</span>, <span>res</span>) <span>=&gt;</span>
        {
            <span>var</span> <span>person</span> <span>=</span> <span>actorProvider</span>.<span>Get</span>(<span>req</span>.<span>RouteValues</span>.<span>As</span>&lt;<span>int</span>&gt;(<span><span>"</span>id<span>"</span></span>));
            <span>await</span> <span>res</span>.<span>Negotiate</span>(<span>person</span>);
        });

        <span>this</span>.<span>Put</span>(<span><span>"</span>/actors/{id:int}<span>"</span></span>, <span>async</span> (<span>req</span>, <span>res</span>) <span>=&gt;</span>
        {
            <span>var</span> <span>result</span> <span>=</span> <span>req</span>.<span>BindAndValidate</span>&lt;<span>Actor</span>&gt;();

            <span>if</span> (<span>!</span><span>result</span>.<span>ValidationResult</span>.<span>IsValid</span>)
            {
                <span>res</span>.<span>StatusCode</span> <span>=</span> <span>422</span>;
                <span>await</span> <span>res</span>.<span>Negotiate</span>(<span>result</span>.<span>ValidationResult</span>.<span>GetFormattedErrors</span>());
                <span>return</span>;
            }

            <span><span>//</span> Update the user in your database</span>

            <span>res</span>.<span>StatusCode</span> <span>=</span> <span>204</span>;
        });

        <span>this</span>.<span>Post</span>(<span><span>"</span>/actors<span>"</span></span>, <span>async</span> (<span>req</span>, <span>res</span>) <span>=&gt;</span>
        {
            <span>var</span> <span>result</span> <span>=</span> <span>req</span>.<span>BindAndValidate</span>&lt;<span>Actor</span>&gt;();

            <span>if</span> (<span>!</span><span>result</span>.<span>ValidationResult</span>.<span>IsValid</span>)
            {
                <span>res</span>.<span>StatusCode</span> <span>=</span> <span>422</span>;
                <span>await</span> <span>res</span>.<span>Negotiate</span>(<span>result</span>.<span>ValidationResult</span>.<span>GetFormattedErrors</span>());
                <span>return</span>;
            }

            <span><span>//</span> Save the user in your database</span>

            <span>res</span>.<span>StatusCode</span> <span>=</span> <span>201</span>;
            <span>await</span> <span>res</span>.<span>Negotiate</span>(<span>result</span>.<span>Data</span>);
        });

    }
}</pre></div>
<p><a href="https://github.com/CarterCommunity/Carter/tree/master/samples">More samples</a></p>
</article>
      </div>
  </div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
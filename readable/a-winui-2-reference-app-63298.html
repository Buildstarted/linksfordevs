<!DOCTYPE html>
<html lang="en">
<head>
    <title>
A WinUI 2 Reference App - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="A WinUI 2 Reference App - linksfor.dev(s)"/>
    <meta property="article:author" content="by xamlbrewer"/>
    <meta property="og:description" content="In this article we&#x2019;ll walk through a UWP app that heavily relies on WinUI 2. WinUI 2.x (currently version 2.4) is the production-ready predecessor of the ambitious WinUI 3 platform. Version 3.x aim&#x2026;"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://xamlbrewer.wordpress.com/2020/06/16/a-winui-2-reference-app/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - A WinUI 2 Reference App</title>
<div class="readable">
        <h1>A WinUI 2 Reference App</h1>
            <div>by by xamlbrewer</div>
            <div>Reading time: 17-22 minutes</div>
        <div>Posted here: 23 Jun 2020</div>
        <p><a href="https://xamlbrewer.wordpress.com/2020/06/16/a-winui-2-reference-app/">https://xamlbrewer.wordpress.com/2020/06/16/a-winui-2-reference-app/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
			<p data-adtags-visited="true">In this article we’ll walk through a UWP app that heavily relies on <a href="https://docs.microsoft.com/en-us/windows/apps/winui/winui2/" target="_blank">WinUI 2</a>. WinUI 2.x (currently version 2.4) is the production-ready predecessor of the ambitious <a href="https://microsoft.github.io/microsoft-ui-xaml/" target="_blank">WinUI 3 platform</a>. Version 3.x aims to become -in a not too distant future- the native runtime UI library for all apps that run on Windows – think Win32, UWP, Xamarin, Uno, and React Native.</p>
<p data-adtags-visited="true">To prepare ourselves for this WinUI 3.x we created a small but –hopefully- representative UWP app using WinUI 2.4. It fetches and displays live financial data (stock prices and news) from <a href="https://iexcloud.io/s/6dfaa988" target="_blank">IEX Cloud</a>. Here’s how the app looks like:</p>
<p data-adtags-visited="true"><a href="https://xamlbrewer.files.wordpress.com/2020/06/portfoliopage.png"><img title="PortfolioPage" alt="PortfolioPage" src="https://xamlbrewer.files.wordpress.com/2020/06/portfoliopage_thumb.png?w=625"></a></p>
<p data-adtags-visited="true">The app</p>
<ul>
<li>makes maximum use of WinUI controls,
<ul>
<li><a href="https://docs.microsoft.com/en-us/windows/uwp/design/controls-and-patterns/items-repeater" target="_blank">ItemsRepeater</a>
</li><li><a href="https://docs.microsoft.com/en-us/uwp/api/microsoft.ui.xaml.controls.navigationview?view=winui-2.4" target="_blank">NavigationView</a>
</li><li><a href="https://docs.microsoft.com/en-us/uwp/api/microsoft.ui.xaml.controls.tabview?view=winui-2.4" target="_blank">TabView</a>
</li><li><a href="https://docs.microsoft.com/en-us/uwp/api/microsoft.ui.xaml.controls.teachingtip?view=winui-2.4" target="_blank">TeachingTip</a>
</li><li><a href="https://docs.microsoft.com/en-us/uwp/api/microsoft.ui.xaml.controls.progressring?view=winui-2.4" target="_blank">ProgressRing</a></li>
</ul>
</li><li>applies some Fluent techniques,
<ul>
<li><a href="https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.media.acrylicbrush" target="_blank">Acrylic brushes</a>
</li><li><a href="https://docs.microsoft.com/en-us/windows/uwp/design/layout/depth-shadow" target="_blank">ThemeShadow</a>
</li><li><a href="https://docs.microsoft.com/en-us/uwp/api/Windows.UI.Composition.ImplicitAnimationCollection" target="_blank">Implicit Animations</a></li>
</ul>
</li><li>and relies on 3rd party libraries
<ul>
<li><a href="https://docs.telerik.com/devtools/universal-windows-platform/" target="_blank">Telerik UI for UWP</a> (by Progress)
</li><li><a href="https://github.com/vslee/IEXSharp" target="_blank">IEXSharp</a> (by Victor Lee)</li>
</ul>
</li>
</ul>
<p data-adtags-visited="true">It is our intention to upgrade this app with every new version of one of the underlying dependencies (specifically WinUI). This will give us an idea on how hard or easy it is to upgrade existing UWP apps to the new platform. In the mean time this reference app may also help you getting started with WinUI in UWP.</p>
<p data-adtags-visited="true">The app displays stock market data that is returned from services by <a href="https://iexcloud.io/s/6dfaa988" target="_blank">IEXCloud</a>, a company that publishes (and we quote from their home page) “<em>institutional grade data, including fundamentals, ownership, international equities, mutual funds, options, real-time data, and alternative data – all in one API</em>“. The data is exposed for free (if you stay below 50.000 core calls per month) but you need to register an account. The app’s Settings page allows you to enter the access keys that come with that account.</p>
<p data-adtags-visited="true">To become familiar with the financials API, we started to play around with <a href="https://github.com/vslee/IEXSharp" target="_blank">IEXSharp</a> – an Open Source C# IEXCloud client. We rapidly decided to continue to use the client: it’s complete, easy to work with, and regularly updated. </p>
<p data-adtags-visited="true">Here’s the full list of the app’s dependencies, with WinUI v2.5.0 already lurking as a preview:</p>
<p data-adtags-visited="true"><a href="https://xamlbrewer.files.wordpress.com/2020/06/dependencies.png"><img title="Dependencies" alt="Dependencies" src="https://xamlbrewer.files.wordpress.com/2020/06/dependencies_thumb.png?w=625"></a></p>
<p data-adtags-visited="true">Let’s dive into the source code.</p>

<p data-adtags-visited="true">The root page of the app hosts the navigation infrastructure and shared UI assets such as the background image. Due to our long history as Prism framework user, we keep calling this type of page the <a href="https://prismlibrary.com/docs/wpf/legacy/Composing-the-UI.html" target="_blank">Shell</a>.</p>
<h2>Look and feel</h2>
<p data-adtags-visited="true">The main control in the Shell page is a <a href="https://docs.microsoft.com/en-us/windows/uwp/design/controls-and-patterns/navigationview" target="_blank">NavigationView</a>. We’ll use ‘winui’ as namespace alias for the <a href="https://docs.microsoft.com/en-us/uwp/api/microsoft.ui.xaml.controls?view=winui-2.4" target="_blank">WinUI-specific controls</a>: </p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:ded59f4e-6300-4caa-9b19-fe2c69563894">
<pre><div><div id="highlighter_891021"><div><div><p><code>xmlns:winui="using:Microsoft.UI.Xaml.Controls"</code></p></div></div></div></div>
</pre></div>
<p data-adtags-visited="true">Here’s the XAML declaration of a <em>NavigationView</em> with its menu on the left, a page header and no back button:</p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:9da5ca9d-cbf2-484f-b100-1601cd0029fc">
<pre><div><div id="highlighter_249183"><div><div><p><code>&lt;</code><code>winui:NavigationView</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>x:Name</code><code>=</code><code>"NavigationView"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Header</code><code>=</code><code>"My stocks"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>IsBackButtonVisible</code><code>=</code><code>"Collapsed"</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;</code><code>winui:NavigationView.MenuItems</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;/</code><code>winui:NavigationView.MenuItems</code><code>&gt;</code></p><p><code>&lt;/</code><code>winui:NavigationView</code><code>&gt;</code></p></div></div></div></div>
</pre></div>
<p data-adtags-visited="true">The menu is a list of <a href="https://docs.microsoft.com/en-us/uwp/api/microsoft.ui.xaml.controls.navigationviewitem?view=winui-2.4" target="_blank">NavigationViewItem</a> instances. You can nest these to obtain <a href="https://docs.microsoft.com/en-us/windows/uwp/design/controls-and-patterns/navigationview#hierarchical-navigation" target="_blank">hierarchical navigation</a>. Here’s the XAML definition of the <em>History</em> menu item, demonstrating not only a hierarchical construct but also three types of icons to use (symbol, SVG path, and multicolor bitmap):</p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:f5e4cd5a-d1b8-4529-ab6e-2eb5dd4a574b">
<pre><div><div id="highlighter_419856"><div><div><p><code>&lt;</code><code>winui:NavigationViewItem</code> <code>Content</code><code>=</code><code>"History"</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;</code><code>winui:NavigationViewItem.Icon</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;</code><code>FontIcon</code> <code>Glyph</code><code>=</code><code>""</code> <code>/&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;/</code><code>winui:NavigationViewItem.Icon</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;</code><code>winui:NavigationViewItem.MenuItems</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;</code><code>winui:NavigationViewItem</code> <code>Content</code><code>=</code><code>"AAPL"</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;</code><code>winui:NavigationViewItem.Icon</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;</code><code>PathIcon</code> <code>Data</code><code>=</code><code>"M32.295, etcetera ..."</code> <code>/&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;/</code><code>winui:NavigationViewItem.Icon</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;/</code><code>winui:NavigationViewItem</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;</code><code>winui:NavigationViewItem</code> <code>Content</code><code>=</code><code>"MSFT"</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;</code><code>winui:NavigationViewItem.Icon</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;</code><code>BitmapIcon</code> <code>UriSource</code><code>=</code><code>"/Assets/microsoft.png"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>ShowAsMonochrome</code><code>=</code><code>"False"</code> <code>/&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;/</code><code>winui:NavigationViewItem.Icon</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;/</code><code>winui:NavigationViewItem</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;/</code><code>winui:NavigationViewItem.MenuItems</code><code>&gt;</code></p><p><code>&lt;/</code><code>winui:NavigationViewItem</code><code>&gt;</code></p></div></div></div></div>
</pre></div>
<p data-adtags-visited="true">Here’s how the Shell page looks like. The Fluent <a href="https://docs.microsoft.com/en-us/windows/uwp/design/style/reveal" target="_blank">reveal highlight effect</a> is by default enabled in the control, as well as the acrylic background (we did override the <a href="https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.media.acrylicbrush.backgroundsource?view=winrt-19041#Windows_UI_Xaml_Media_AcrylicBrush_BackgroundSource" target="_blank">BackgroundSource</a> however):</p>
<p data-adtags-visited="true"><a href="https://xamlbrewer.files.wordpress.com/2020/06/shell.png"><img title="Shell" alt="Shell" src="https://xamlbrewer.files.wordpress.com/2020/06/shell_thumb.png?w=625"></a></p>
<p data-adtags-visited="true">The emptiness on the right of the menu is a <a href="https://docs.microsoft.com/en-us/uwp/api/Windows.UI.Xaml.Controls.Frame" target="_blank">Frame</a> control to host the different user pages.</p>
<h2>Navigation</h2>
<p data-adtags-visited="true">Navigation is very straightforward: each <em>NavigationViewItem</em> keeps the class name of the target content page in its <a href="https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.frameworkelement.tag" target="_blank">Tag</a> property:</p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:e9b4e44e-ba76-4c36-9f5d-ac1528506b74">
<pre><div><div id="highlighter_424631"><div><div><p><code>&lt;</code><code>winui:NavigationViewItem</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Content</code><code>=</code><code>"Watchlist"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Tag</code><code>=</code><code>"XamlBrewer.UWP.IEXCloud.Sample.Views.WatchListPage"</code> <code>/&gt;</code></p></div></div></div></div>
</pre></div>
<p data-adtags-visited="true">The menu conveniently responds to <a href="https://docs.microsoft.com/en-us/uwp/api/microsoft.ui.xaml.controls.navigationview.iteminvoked?view=winui-2.4" target="_blank">ItemInvoked</a> (click) as well as <a href="https://docs.microsoft.com/en-us/uwp/api/microsoft.ui.xaml.controls.navigationview.selectionchanged?view=winui-2.4" target="_blank">SelectionChanged</a> (click on a unselected item). Here’s how we <a href="https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.controls.frame.navigate?view=winrt-19041" target="_blank">Navigate</a> the <em>Frame</em> to the selected content page, and update the <a href="https://docs.microsoft.com/en-us/uwp/api/microsoft.ui.xaml.controls.navigationview.header?view=winui-2.4" target="_blank">Header</a> with the text of the (root node of the) selected item:</p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:d098347e-a5c1-4451-8b60-725f2e0a680d">
<pre><div><div id="highlighter_111683"><div><div><p><code>private</code> <code>void</code> <code>NavigationView_SelectionChanged(</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>WinUI.NavigationView sender, </code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>WinUI.NavigationViewSelectionChangedEventArgs args)</code></p><p><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code> <code>(args.IsSettingsSelected)</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>ContentFrame.Navigate(</code><code>typeof</code><code>(SettingsPage));</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>NavigationView.Header = </code><code>"Settings"</code><code>;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code><code>;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>var</code> <code>item = args.SelectedItemContainer </code><code>as</code> <code>WinUI.NavigationViewItem;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code> <code>(item.Tag != </code><code>null</code><code>)</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>ContentFrame.Navigate(Type.GetType(item.Tag.ToString()), item.Content);</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>NavigationView.Header = sender.SelectedItemsPath().First().Content;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>}</code></p></div></div></div></div>
</pre></div>
<p data-adtags-visited="true">The <em>NavigationView</em> makes a distinction between the Settings menu item and the others, in case you would want to open a settings dialog or ye olde Windows 8 <em>SettingsPane</em>. The <a href="https://docs.microsoft.com/en-us/windows/uwp/design/app-settings/guidelines-for-app-settings" target="_blank">current guidelines for app settings</a> however specify that “<em>the app settings window should open full-screen and fill the whole window</em>”. Here’s the corresponding from the (by the way excellent) docs:</p>
<p data-adtags-visited="true"><a href="https://xamlbrewer.files.wordpress.com/2020/06/appsettings-layout-navpane-desktop.png"><img title="appsettings-layout-navpane-desktop" alt="appsettings-layout-navpane-desktop" src="https://xamlbrewer.files.wordpress.com/2020/06/appsettings-layout-navpane-desktop_thumb.png?w=625"></a></p>
<p data-adtags-visited="true">It looks like we’re supposed to treat the Settings page not different from the other pages. If that’s the case for all devices, then API members such as <a href="https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.controls.navigationviewselectionchangedeventargs.issettingsselected" target="_blank">IsSettingsSelected</a> are actually obsolete.</p>
<p data-adtags-visited="true"><a href="https://docs.microsoft.com/en-us/uwp/api/microsoft.ui.xaml.controls.navigationview?view=winui-2.4" target="_blank">NavigationView 2.4</a> supports a hierarchical menu but is missing a <em>SelectedItems</em> property – representing the path from the root menu to the selected leaf menu. This would be extremely helpful in some common scenario’s, e.g. when</p>
<ul>
<li>you want to display a bread crumb, or
</li><li>your navigation logic requires information from different levels.</li>
</ul>
<p data-adtags-visited="true">In our sample app, the root menu defines the target class for navigation while the leaf menu provides the stock symbol to show. We created a <em>SelectedItemsPath</em> extension method that goes recursively through the selected menu items and returns the full path as a list:</p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:87fd7ca9-6aba-4e3b-bc8e-1bd88e2fc541">
<pre><div><div id="highlighter_465114"><div><div><p><code>public</code> <code>static</code> <code>List&lt;WinUI.NavigationViewItem&gt; SelectedItemsPath(</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>this</code> <code>WinUI.NavigationView navigationView)</code></p><p><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>var</code> <code>result = </code><code>new</code> <code>List&lt;WinUI.NavigationViewItem&gt;();</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>GetSelectedItems(navigationView.MenuItems, </code><code>ref</code> <code>result);</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>result;</code></p><p><code>}</code></p><p><code>private</code> <code>static</code> <code>void</code> <code>GetSelectedItems(</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>IList&lt;</code><code>object</code><code>&gt; items, </code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>ref</code> <code>List&lt;WinUI.NavigationViewItem&gt; result)</code></p><p><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>foreach</code> <code>(WinUI.NavigationViewItem item </code><code>in</code> <code>items)</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code> <code>(item.IsSelected)</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>result.Insert(0, item);</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>else</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code> <code>(item.MenuItems?.Count &gt; 0)</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>var</code> <code>count = result.Count;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>GetSelectedItems(item.MenuItems, </code><code>ref</code> <code>result);</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code> <code>(result.Count &gt; count)</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>result.Insert(0, item);</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>}</code></p></div></div></div></div>
</pre></div>
<h2>Teaching tip</h2>
<p data-adtags-visited="true">All of the content pages visualize stock related data from the IEXCloud services. This requires a (free) account. The Shell page hosts a <a href="https://docs.microsoft.com/en-us/uwp/api/microsoft.ui.xaml.controls.teachingtip?view=winui-2.4" target="_blank">TeachingTip</a> control to inform you of this:</p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:fcfc2d8a-73fa-48f5-a892-51607b10d99c">
<pre><div><div id="highlighter_987111"><div><div><p><code>&lt;</code><code>winui:TeachingTip</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>x:Name</code><code>=</code><code>"SettingsTip"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Title</code><code>=</code><code>"IEX Cloud Account Required"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>CloseButtonClick</code><code>=</code><code>"SettingsTip_CloseButtonClick"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>IsOpen</code><code>=</code><code>"False"</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;</code><code>&lt;</code><code>winui:TeachingTip.Content</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;</code><code>&lt;/</code><code>winui:TeachingTip.Content</code><code>&gt;</code></p><p><code>&lt;/</code><code>winui:TeachingTip</code><code>&gt;</code></p></div></div></div></div>
</pre></div>
<p data-adtags-visited="true">Here’s how it looks like:</p>
<p data-adtags-visited="true"><a href="https://xamlbrewer.files.wordpress.com/2020/06/teachingtip.png"><img title="TeachingTip" alt="TeachingTip" src="https://xamlbrewer.files.wordpress.com/2020/06/teachingtip_thumb.png?w=625"></a></p>
<p data-adtags-visited="true">The <em>TeachingTip</em> is only opened when the required tokens are not found in the settings, and its arrow points to the center of the Settings menu item:</p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:c2c0c60d-8dd9-4e1a-8cba-86ddcd1d0f88">
<pre><div><div id="highlighter_841766"><div><div><p><code>private</code> <code>void</code> <code>Shell_Loaded(</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>object</code> <code>sender, </code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>RoutedEventArgs e)</code></p><p><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>var</code> <code>settings = </code><code>new</code> <code>Settings();</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code> <code>(String.IsNullOrEmpty(settings.PublishableKey) &amp;&amp; </code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>String.IsNullOrEmpty(settings.PublishableSandBoxKey))</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>SettingsTip.Target = NavigationView.SettingsItem </code><code>as</code> <code>FrameworkElement;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>SettingsTip.PreferredPlacement = WinUI.TeachingTipPlacementMode.TopLeft;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>SettingsTip.IsOpen = </code><code>true</code><code>;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>}</code></p></div></div></div></div>
</pre></div>
<p data-adtags-visited="true">When the teaching tip is closed, the app autonavigates to the Settings page.</p>

<p data-adtags-visited="true">In the Settings page the user can enter (and test) the different tokens that are required to call the <a href="https://iexcloud.io/s/6dfaa988" target="_blank">IEXCloud</a> services, and also choose between ‘production’ mode (limited number of calls, but real data) and ‘<a href="https://intercom.help/iexcloud/en/articles/2915433-testing-with-the-iex-cloud-sandbox" target="_blank">sandbox</a>’ mode (unlimited calls, but fake data). During development and testing it definitely made sense to activate ‘sandbox’ mode – some of the diagrams eat a lot of data.</p>
<h2>Using Observable Settings</h2>
<p data-adtags-visited="true">A while ago we came across this very elegant <a href="https://github.com/joseangelmt/ObservableSettings" target="_blank">ObservableSettings</a> base class for bindable settings in UWP. Here are the settings for our WinUI reference app – two pairs of token keys, and an indicator for sandbox mode:</p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:e4b30461-ebcc-4b83-b215-a42403d7eaf9">
<pre><div><div id="highlighter_938527"><div><div><p><code>public</code> <code>class</code> <code>Settings : ObservableSettings</code></p><p><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>Settings Default { </code><code>get</code><code>; } = </code><code>new</code> <code>Settings();</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>Settings()</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>: </code><code>base</code><code>(ApplicationData.Current.LocalSettings)</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>string</code> <code>PublishableKey</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>get</code> <code>{ </code><code>return</code> <code>Get&lt;</code><code>string</code><code>&gt;(); }</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>set</code> <code>{ Set(value); }</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>string</code> <code>SecretKey</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>get</code> <code>{ </code><code>return</code> <code>Get&lt;</code><code>string</code><code>&gt;(); }</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>set</code> <code>{ Set(value); }</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>[DefaultSettingValue(Value = </code><code>true</code><code>)]</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>bool</code> <code>UseSandBox</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>get</code> <code>{ </code><code>return</code> <code>Get&lt;</code><code>bool</code><code>&gt;(); }</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>set</code> <code>{ Set(value); }</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>}</code></p></div></div></div></div>
</pre></div>
<p data-adtags-visited="true">All you need to do is create a Settings instance …</p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:eb8cc5fe-eb6c-4300-bb34-e9bda4297803">
<pre><div><div id="highlighter_227058"><div><div><p><code>private</code> <code>Settings Settings =&gt; </code><code>new</code> <code>Settings();</code></p></div></div></div></div>
</pre></div>
<p data-adtags-visited="true">… and bind its properties it to the corresponding UI elements:</p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:dec5dc00-6174-4f03-bf0e-a2ab6bd4cfee">
<pre><div><div id="highlighter_253990"><div><div><p><code>&lt;</code><code>TextBox</code> <code>Header</code><code>=</code><code>"Publishable key"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Text</code><code>=</code><code>"{x:Bind Settings.PublishableKey, Mode=TwoWay}"</code> <code>/&gt;</code></p><p><code>&lt;</code><code>PasswordBox</code> <code>Header</code><code>=</code><code>"Secret key"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Password</code><code>=</code><code>"{x:Bind Settings.SecretKey, Mode=TwoWay}"</code> <code>/&gt;</code></p></div></div></div></div>
</pre></div>
<p data-adtags-visited="true">Changes are automatically saved to local settings. How convenient! </p>
<p data-adtags-visited="true">Here’s how the Settings page looks like:</p>
<p data-adtags-visited="true"><a href="https://xamlbrewer.files.wordpress.com/2020/06/settingspage.png"><img title="Settingspage" alt="Settingspage" src="https://xamlbrewer.files.wordpress.com/2020/06/settingspage_thumb.png?w=625"></a></p>
<h2>Applying ThemeShadow</h2>
<p data-adtags-visited="true">The panels in the Settings page have <a href="https://docs.microsoft.com/en-us/windows/uwp/design/layout/depth-shadow" target="_blank">shadow</a> around them. <em>ThemeShadow</em> is defined as a shared resource and then applied to each panel:</p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:62c7ccea-bbac-4147-b93f-5026e3efa9b8">
<pre><div><div id="highlighter_941121"><table><tbody><tr><td><p>01</p><p>02</p><p>03</p><p>04</p><p>05</p><p>06</p><p>07</p><p>08</p><p>09</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p></td><td><div><p><code>&lt;</code><code>Grid</code> <code>Background</code><code>=</code><code>"Transparent"</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;</code><code>Grid.Resources</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;</code><code>ThemeShadow</code> <code>x:Name</code><code>=</code><code>"SharedShadow"</code> <code>/&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;/</code><code>Grid.Resources</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;</code><code>Grid</code> <code>x:Name</code><code>=</code><code>"ShadowCatcher"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Margin</code><code>=</code><code>"-8"</code> <code>/&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;</code><code>VariableSizedWrapGrid</code> <code>x:Name</code><code>=</code><code>"SettingsGrid"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Orientation</code><code>=</code><code>"Horizontal"</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;</code><code>StackPanel</code> <code>x:Name</code><code>=</code><code>"ContentGrid"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Shadow</code><code>=</code><code>"{StaticResource SharedShadow}"</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;/</code><code>StackPanel</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;</code><code>Grid</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;</code><code>StackPanel</code> <code>x:Name</code><code>=</code><code>"SandboxContentGrid"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Shadow</code><code>=</code><code>"{StaticResource SharedShadow}"</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;/</code><code>StackPanel</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;/</code><code>Grid</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;/</code><code>VariableSizedWrapGrid</code><code>&gt;</code></p><p><code>&lt;/</code><code>Grid</code><code>&gt;</code></p></div></td></tr></tbody></table></div></div>
</pre></div>
<p data-adtags-visited="true">When the app starts, the panels are lifted by a <a href="https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.uielement.translation" target="_blank">Translation</a> on the z-axis:</p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:64268271-c006-4f23-aa6d-c1c1ca819b05">
<pre><div><div id="highlighter_933404"><div><div><p><code>public</code> <code>SettingsPage()</code></p><p><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>this</code><code>.InitializeComponent();</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>ContentGrid.Translation += </code><code>new</code> <code>Vector3(0, 0, 6);</code></p><p><code>}</code></p></div></div></div></div>
</pre></div>
<p data-adtags-visited="true">The control underneath the WrapGrid is added to the shadow’s <a href="https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.media.themeshadow.receivers" target="_blank">Receivers</a>:</p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:cf5f1f13-0460-4ad9-810d-04f48c85c75d">
<pre><div><div id="highlighter_695783"><div><div><p><code>private</code> <code>void</code> <code>SettingsPage_Loaded(</code><code>object</code> <code>sender, RoutedEventArgs e)</code></p><p><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>SharedShadow.Receivers.Add(ShadowCatcher);</code></p><p><code>}</code></p></div></div></div></div>
</pre></div>
<h2>Applying Implicit Transformations</h2>
<p data-adtags-visited="true">Since smooth transition is not (yet) the default, we let the different panels in the Settings page fluently respond to changes in window size via <a href="https://xamlbrewer.wordpress.com/2017/02/27/creating-a-fluid-adaptive-ui-with-variablesizedwrapgrid-and-implicit-animations/" target="_blank">implicit animations</a>:</p>
<p data-adtags-visited="true"><a href="https://xamlbrewer.files.wordpress.com/2020/06/settingsanimation.gif"><img title="SettingsAnimation" alt="SettingsAnimation" src="https://xamlbrewer.files.wordpress.com/2020/06/settingsanimation_thumb.gif?w=625"></a></p>
<p data-adtags-visited="true">We had to add an extra <em>Grid</em> in the panel template to make this happen: adding <em>ThemeShadow</em> and implicit animations to the same control did not work …</p>
<p data-adtags-visited="true">Let’s dive into the real content pages now.</p>

<p data-adtags-visited="true">The Watchlist page hosts a list of high level properties of some stocks. We admit that the current <a href="https://docs.telerik.com/devtools/universal-windows-platform/controls/raddatagrid/overview" target="_blank">Telerik Rad Datagrid</a> would have been an ideal container for this collection, but we wanted to get some more experience with the WinUI <a href="https://docs.microsoft.com/en-us/uwp/api/microsoft.ui.xaml.controls.itemsrepeater?view=winui-2.4" target="_blank">ItemsRepeater</a>. Here’s the XAML structure of the Watchlist page:</p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:af30c407-8ea9-4165-8ffa-0b42bdea688c">
<pre><div><div id="highlighter_435883"><div><div><p><code>&lt;winui:ItemsRepeater x:Name=</code><code>"Quotes"</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;winui:ItemsRepeater.Layout&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;winui:StackLayout </code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Orientation=</code><code>"Vertical"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Spacing=</code><code>"20"</code> <code>/&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;/winui:ItemsRepeater.Layout&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;winui:ItemsRepeater.ItemTemplate&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;DataTemplate x:DataType=</code><code>"response:Quote"</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;!-- template content --&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;/DataTemplate&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;/winui:ItemsRepeater.ItemTemplate&gt;</code></p><p><code>&lt;/winui:ItemsRepeater&gt;</code></p></div></div></div></div>
</pre></div>
<p data-adtags-visited="true">Here’s what the page looks like:</p>
<p data-adtags-visited="true"><a href="https://xamlbrewer.files.wordpress.com/2020/06/watchlistpage.png"><img title="WatchlistPage" alt="WatchlistPage" src="https://xamlbrewer.files.wordpress.com/2020/06/watchlistpage_thumb.png?w=625"></a></p>
<p data-adtags-visited="true">There’s nothing more to report on this page, except that –after all those years- we learned that you can format positive, negative, and zero values with a single expression:</p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:2cceeb33-7230-4f6e-aef4-139da381ab76">
<pre><div><div id="highlighter_429043"><div><div><p><code>&lt;</code><code>TextBlock</code> <code>Text</code><code>=</code><code>"{x:Bind sys:String.Format('{0:+0.00%;-0.00%;0%}', changePercent)}"</code> <code>/&gt;</code></p></div></div></div></div>
</pre></div>
<p data-adtags-visited="true">And again, we’re using an items repeater to mimic a data grid here. As soon as this app will make the move to WinUI 3, this page will become an ideal host for testing the upcoming <a href="https://www.telerik.com/winui" target="_blank">Telerik WinUI 3 Data Grid</a>.</p>
<h2>The News page</h2>
<p data-adtags-visited="true">The News page displays the latest news for a stock symbol in an <a href="https://docs.microsoft.com/en-us/uwp/api/microsoft.ui.xaml.controls.itemsrepeater?view=winui-2.4" target="_blank">ItemsRepeater</a>. The symbol is taken from the <em>Content</em> of the hierarchical menu item and passed via the navigation logic:</p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:490b962f-1188-47c5-bbc8-bbc242e7091c">
<pre><div><div id="highlighter_981166"><div><div><p><code>protected</code> <code>override</code> <code>void</code> <code>OnNavigatedTo(NavigationEventArgs e)</code></p><p><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>base</code><code>.OnNavigatedTo(e);</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>_symbol = e.Parameter.ToString();</code></p><p><code>}</code></p></div></div></div></div>
</pre></div>
<p data-adtags-visited="true">Here’s how the page looks like:<a href="https://xamlbrewer.files.wordpress.com/2020/06/newspage.png"><img title="NewsPage" alt="NewsPage" src="https://xamlbrewer.files.wordpress.com/2020/06/newspage_thumb.png?w=625"></a></p>
<p data-adtags-visited="true">We observed that the <a href="https://docs.microsoft.com/en-us/uwp/api/Windows.UI.Xaml.Controls.RelativePanel" target="_blank">RelativePanel</a> is the best host for data templates that contain images with different source sizes.</p>

<p data-adtags-visited="true">The main beef of the History page is a Telerik <a href="https://docs.telerik.com/devtools/universal-windows-platform/controls/radchart/cartesianchart/properties" target="_blank">RadCartesianChart</a> that displays stock price history with</p>
<ul>
<li>the closing price as a <a href="https://docs.telerik.com/devtools/universal-windows-platform/controls/radchart/cartesianchart/series/categorical-series/categorical-lineseries" target="_blank">LineSeries</a>,
</li><li>a graphical representation of the OHLC (open-high-low-close) data as a <a href="https://docs.telerik.com/devtools/universal-windows-platform/controls/radchart/cartesianchart/series/ohlc-series/categorical-candlestickseries" target="_blank">CandleStickSeries</a>, and
</li><li>a customized <a href="https://docs.telerik.com/devtools/universal-windows-platform/controls/radchart/behaviors/charttrackballbehavior" target="_blank">ChartTrackBall</a> that reveals the OHLC data when hovering over the chart with the mouse.</li>
</ul>
<p data-adtags-visited="true">Here’s how the History page looks like:</p>
<p data-adtags-visited="true"><a href="https://xamlbrewer.files.wordpress.com/2020/06/historypage.png"><img title="HistoryPage" alt="HistoryPage" src="https://xamlbrewer.files.wordpress.com/2020/06/historypage_thumb.png?w=625"></a></p>
<p data-adtags-visited="true">The focus of the reference app –and this article- is not on the charts but on WinUI 2, so let’s take a look on the <a href="https://docs.microsoft.com/en-us/uwp/api/microsoft.ui.xaml.controls.tabview?view=winui-2.4" target="_blank">TabView</a> on top of the page. It starts with <a href="https://docs.microsoft.com/en-us/uwp/api/microsoft.ui.xaml.controls.tabview.tabitems?view=winui-2.4" target="_blank">TabItems</a> for the two predefined stock symbols from the menu (AAPL and MSPF). It also allows to add (removable) custom tabs, and it comes with a <a href="https://docs.microsoft.com/en-us/uwp/api/microsoft.ui.xaml.controls.tabview.tabstripfooter?view=winui-2.4" target="_blank">TabStripFooter</a> with a (not-yet-implemented) <em>Save</em> button. </p>
<p data-adtags-visited="true">Here’s its XAML definition: </p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:d76ccdff-d01c-4b73-ab05-51461201eb5f">
<pre><div><div id="highlighter_593369"><div><div><p><code>&lt;</code><code>winui:TabView</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>x:Name</code><code>=</code><code>"SymbolsTab"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>SelectionChanged</code><code>=</code><code>"SymbolsTab_SelectionChanged"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>AddTabButtonClick</code><code>=</code><code>"SymbolsTab_AddTabButtonClick"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>TabCloseRequested</code><code>=</code><code>"SymbolsTab_TabCloseRequested"</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;</code><code>winui:TabViewItem</code> <code>Header</code><code>=</code><code>"AAPL"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>IsClosable</code><code>=</code><code>"False"</code> <code>/&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;</code><code>winui:TabViewItem</code> <code>Header</code><code>=</code><code>"MSFT"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>IsClosable</code><code>=</code><code>"False"</code> <code>/&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;</code><code>winui:TabView.TabStripFooter</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;/</code><code>winui:TabView.TabStripFooter</code><code>&gt;</code></p><p><code>&lt;/</code><code>winui:TabView</code><code>&gt;</code></p></div></div></div></div>
</pre></div>
<p data-adtags-visited="true">When we navigate to the History page, we pick up the stock symbol – just like in the News page- and then use it to select the appropriate Tab item:</p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:22608b1f-7184-417f-8dbe-5e4be6c9f27d">
<pre><div><div id="highlighter_694599"><div><div><p><code>protected</code> <code>override</code> <code>void</code> <code>OnNavigatedTo(NavigationEventArgs e)</code></p><p><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>base</code><code>.OnNavigatedTo(e);</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>_symbol = e.Parameter.ToString();</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>try</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>SymbolsTab.SelectedItem = SymbolsTab</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>.TabItems</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>.Where(ti =&gt; (ti </code><code>as</code> <code>WinUI.TabViewItem).Header.ToString() == _symbol)</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>.First();</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>catch</code> <code>(Exception)</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>SymbolsTab.SelectedIndex = 0;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>}</code></p></div></div></div></div>
</pre></div>
<p data-adtags-visited="true">When the user selects another Tab –that’s a <a href="https://docs.microsoft.com/en-us/uwp/api/microsoft.ui.xaml.controls.tabview.selectionchanged?view=winui-2.4" target="_blank">SelectionChanged</a>– we fetch its symbol and refresh the page’s data:</p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:99535397-bfff-474e-bced-c7ce589bb713">
<pre><div><div id="highlighter_363069"><div><div><p><code>private</code> <code>async</code> <code>void</code> <code>SymbolsTab_SelectionChanged(</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>object</code> <code>sender, </code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>SelectionChangedEventArgs e)</code></p><p><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code> <code>(!e.AddedItems.Any())</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code><code>;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>_symbol = (e.AddedItems.First() </code><code>as</code> <code>WinUI.TabViewItem).Header.ToString();</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>ProgressRing.IsActive = </code><code>true</code><code>;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>using</code> <code>(</code><code>var</code> <code>iexCloudClient = IEXCloudService.GetClient())</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>try</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>var</code> <code>response = </code><code>await</code> <code>iexCloudClient.StockPrices.HistoricalPriceAsync(_symbol);</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code> <code>(response.ErrorMessage != </code><code>null</code><code>)</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>HistoricPrices.ItemsSource = </code><code>null</code><code>;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>CandleSticks.ItemsSource = </code><code>null</code><code>;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>else</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>HistoricPrices.ItemsSource = response.Data;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>CandleSticks.ItemsSource = response.Data;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>catch</code> <code>(Exception ex)</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>HistoricPrices.ItemsSource = </code><code>null</code><code>;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>CandleSticks.ItemsSource = </code><code>null</code><code>;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>ProgressRing.IsActive = </code><code>false</code><code>;</code></p><p><code>}</code></p></div></div></div></div>
</pre></div>
<p data-adtags-visited="true">When the ‘plus’ button is hit, we open a small <a href="https://docs.microsoft.com/en-us/windows/uwp/design/controls-and-patterns/dialogs-and-flyouts/dialogs" target="_blank">ContentDialog</a> to request a new stock symbol:</p>
<p data-adtags-visited="true"><a href="https://xamlbrewer.files.wordpress.com/2020/06/historypageadd.png"><img title="HistoryPageAdd" alt="HistoryPageAdd" src="https://xamlbrewer.files.wordpress.com/2020/06/historypageadd_thumb.png?w=625"></a></p>
<p data-adtags-visited="true">When the user confirms the new stock symbol, we add a new <a href="https://docs.microsoft.com/en-us/uwp/api/microsoft.ui.xaml.controls.tabviewitem?view=winui-2.4" target="_blank">TabViewItem</a> and select it:</p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:31c195cb-42e7-4afe-a515-ba8b58ef43d3">
<pre><div><div id="highlighter_609483"><div><div><p><code>if</code> <code>(</code><code>await</code> <code>dialog.ShowAsync() == ContentDialogResult.Primary)</code></p><p><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>var</code> <code>newTab = </code><code>new</code> <code>WinUI.TabViewItem();</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>newTab.Header = textBox.Text;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>sender.TabItems.Add(newTab);</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>sender.SelectedIndex = sender.TabItems.Count - 1;</code></p><p><code>}</code></p></div></div></div></div>
</pre></div>
<p data-adtags-visited="true">Here’s another straightforward piece of code. When the user closes one of the custom tabs, we simply remove it:</p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:7fedbed6-a495-49c8-8219-8232436c2295">
<pre><div><div id="highlighter_303870"><div><div><p><code>private</code> <code>void</code> <code>SymbolsTab_TabCloseRequested(</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>WinUI.TabView sender, </code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>WinUI.TabViewTabCloseRequestedEventArgs args)</code></p><p><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>sender.TabItems.Remove(args.Item);</code></p><p><code>}</code></p></div></div></div></div>
</pre></div>

<p data-adtags-visited="true">All the controls and techniques that were used in the previous pages were just a warming-up for the Portfolio page. It displays a <a href="https://docs.microsoft.com/en-us/uwp/api/Windows.UI.Xaml.Controls.GridView?view=winrt-19041" target="_blank">GridView</a> with (fictional) stock positions: original value, current value, turnover, and a history sparkline (technicaly another Telerik RadChart, this time showing a <a href="https://docs.telerik.com/devtools/universal-windows-platform/controls/radchart/cartesianchart/series/categorical-series/categorical-splineseries" target="_blank">SplineSeries</a>). Here’s how the page looks like:</p>
<p data-adtags-visited="true"><a href="https://xamlbrewer.files.wordpress.com/2020/06/portfoliopage.png"><img title="PortfolioPage" alt="PortfolioPage" src="https://xamlbrewer.files.wordpress.com/2020/06/portfoliopage_thumb.png?w=625"></a></p>
<p data-adtags-visited="true">We’ll focus on the menu on top of the page. It allows to specify the time period for the sparklines. It is another <a href="https://docs.microsoft.com/en-us/uwp/api/microsoft.ui.xaml.controls.navigationview?view=winui-2.4" target="_blank">NavigationView</a> instance, this time demonstrating a <a href="https://docs.microsoft.com/en-us/uwp/api/microsoft.ui.xaml.controls.navigationviewitemheader?view=winui-2.4" target="_blank">NavigationViewItemHeader</a> and a different <a href="https://docs.microsoft.com/en-us/uwp/api/microsoft.ui.xaml.controls.navigationview.panedisplaymode?view=winui-2.4#Microsoft_UI_Xaml_Controls_NavigationView_PaneDisplayMode" target="_blank">PaneDisplayMode</a>:</p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:3a692a15-59d0-46c1-9e71-b2b3a02bd369">
<pre><div><div id="highlighter_10428"><div><div><p><code>&lt;winui:NavigationView </code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>x:Name=</code><code>"TopNavigationView"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>PaneDisplayMode=</code><code>"Top"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>IsSettingsVisible=</code><code>"False"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>IsBackButtonVisible=</code><code>"Collapsed"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>SelectionChanged=</code><code>"TopNavigationView_SelectionChanged"</code><code>&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;winui:NavigationView.MenuItems&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;winui:NavigationViewItemHeader Content=</code><code>"&nbsp; Chart period: "</code> <code>/&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;winui:NavigationViewItem Content=</code><code>"1 Month"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Tag=</code><code>"OneMonth"</code> <code>/&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;winui:NavigationViewItem Content=</code><code>"3 Months"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Tag=</code><code>"ThreeMonths"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>IsSelected=</code><code>"True"</code> <code>/&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;winui:NavigationViewItem Content=</code><code>"1 Year"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Tag=</code><code>"OneYear"</code> <code>/&gt;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>&lt;/winui:NavigationView.MenuItems&gt;</code></p><p><code>&lt;/winui:NavigationView&gt;</code></p></div></div></div></div>
</pre></div>
<p data-adtags-visited="true">A navigation view menu comes with its own styling – including a default acrylic background. We needed to override one of its <a href="https://github.com/Microsoft/microsoft-ui-xaml/blob/master/dev/NavigationView/NavigationView_rs2_themeresources.xaml" target="_blank">many resources</a> to make that background transparent to blend in the page:</p>
<div id="scid:C89E2BDB-ADD3-4f7a-9810-1B7EACF446C1:360a2772-88f8-4cea-911e-d34440cab890">
<pre><div><div id="highlighter_871467"><div><div><p><code>&lt;</code><code>SolidColorBrush</code> <code>x:Key</code><code>=</code><code>"NavigationViewTopPaneBackground"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Color</code><code>=</code><code>"Transparent"</code> <code>/&gt;</code></p></div></div></div></div>
</pre></div>
<p data-adtags-visited="true">Selecting a menu refreshes the query and the page, just like the tab in the History page.</p>
<p data-adtags-visited="true">For the sake of completeness, here’s how the implicit animations look like (this should be the default) on this page:</p>
<p data-adtags-visited="true"><a href="https://xamlbrewer.files.wordpress.com/2020/06/portfolioanimation.gif"><img title="PortfolioAnimation" alt="PortfolioAnimation" src="https://xamlbrewer.files.wordpress.com/2020/06/portfolioanimation_thumb.gif?w=625"></a></p>

<p data-adtags-visited="true">Our WinUI 2 reference app lives <a href="https://github.com/XamlBrewer/UWP-IEXCloud-Sample" target="_blank">here on GitHub</a>. You may expect regular updates to it.</p>
<p data-adtags-visited="true">Enoy!</p>
			
			
								</div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
PostgreSQL Tools for the Visually Inclined - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="PostgreSQL Tools for the Visually Inclined - linksfor.dev(s)"/>
    <meta property="og:description" content="I started my career on the Microsoft stack building forms and websites using drag and drop tools. Over time that became a punchline, which is unfortunate because honestly, the productivity was insa&#x2026;"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://rob.conery.io/2019/03/04/postgresql-tools-for-the-visually-inclined/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - PostgreSQL Tools for the Visually Inclined</title>
<div class="readable">
        <h1>PostgreSQL Tools for the Visually Inclined</h1>
            <div>Reading time: 12-15 minutes</div>
        <div>Posted here: 04 Mar 2019</div>
        <p><a href="https://rob.conery.io/2019/03/04/postgresql-tools-for-the-visually-inclined/">https://rob.conery.io/2019/03/04/postgresql-tools-for-the-visually-inclined/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
<p>I started my career on the Microsoft stack building forms and websites using drag and drop tools. Over time that became a punchline, which is unfortunate because honestly, the productivity was insane. </p>
<p>In 2008 I made the jump to the Linux world and I was completely disoriented. <em>Everything was a damn text file</em>. Yes, you could use a Mac or Ubuntu or whatever Unix Desktop du Jour seemed fun but there simply was no getting around the need to know your commands, which I did.</p>
<p>Just like learning SQL, learning your text commands makes you more efficient. <em>I promise you that I’m not about to flip the l33t bit</em>. I’m not here to convince anyone of anything –&nbsp;what I do want to do is to share how I embraced the command line with respect to PostgreSQL and was damn happy for it.</p>
<h2>Friendly vs. Friendly</h2>
<p>I’ve been meaning to write this post for years but it was <a rel="noreferrer noopener" aria-label="this post (opens in a new tab)" href="https://www.softwareandbooz.com/postgresql-for-a-sql-server-dba-the-tooling-stinks/" target="_blank">this post</a> from Ryan Booz that made me fire up the editor. Ryan is a SQL Server DBA that is writing a series on how <a rel="noreferrer noopener" aria-label="he's learning PostgreSQL (opens in a new tab)" href="https://www.softwareandbooz.com/postgresql-for-a-sql-server-dba-a-series/" target="_blank">he’s learning PostgreSQL</a> after a 15 year (!) career as a SQL Server DBA. I can’t imagine that change is an easy one.</p>
<p>Basically, Ryan has concerns (which I understand):</p>
<blockquote><p>In the case of PostgreSQL, I’ve quickly come to the conclusion that bad tooling is one of the main reasons the uptake is so much more difficult and convoluted coming from the SQL Server community. Even the devs I’m currently working with that have no specific affinity for databases at all recognize that PostgreSQL just feels like more of a black box then the limited experience they had previously with SQL Server.</p></blockquote>
<p>I can’t say he’s wrong on this, although I will say the term “bad” is a bit subjective. </p>
<p>Let me get right to it: jumping from SQL Server to PostgreSQL is <em>much more</em> than changing a tool. <strong>PostgreSQL was built on Unix</strong>, with Unix in mind as the platform of choice, and typically runs best when it’s sitting on some type of Unix box. <strong>The Unix world has a pretty specific idiom</strong> for how to go about things and it&nbsp;<strong>certainly isn’t visual</strong>!</p>
<p>As someone who learned to code visually, I had to learn what each icon meant and the visual cues for what happens where. I came to understand property pains, the lines under the text of a button that described shortcuts, and the idiomatic layout of each form. Executing a command meant pressing a button.</p>
<p>In the Unix world you write out that command. The check boxes and dialogs are replaced by option flags and arguments. You install the tools you need and then look for the binaries that help you do a thing, then you interrogate them for help, typically using a <code>--help</code>command (or just plain <code>help</code>). </p>
<p>The same is true for PostgreSQL. This is the thing that I think was stumping Ryan. He’s searching for visual tooling in a world that embraces a completely different idiom. It’s like going to Paris and disliking it (and France) because the barbecue is horrible.</p>
<p>Let’s walk through some common PostgreSQL DBA “stuff” to show what I mean.</p>
<h2>Your Best Friend: psql</h2>
<p>When you encounter a new Unix tool for the first time (and yes, I’m labeling PostgreSQL that) you figure out the binaries for that tool. PostgreSQL has a number of them that you’ll want to get to know, including <code>pg_dump</code> and <code>pg_restore</code>among others. The one we want right now is <code>psql</code>, the interactive terminal for PostgreSQL that gets installed along with the server. Let’s open it and ask it what the hell is going on:</p>
<figure><img src="https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1430.png?fit=1024%2C731&amp;ssl=1" alt="" srcset="https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1430.png?w=1572&amp;ssl=1 1572w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1430.png?resize=300%2C214&amp;ssl=1 300w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1430.png?resize=768%2C548&amp;ssl=1 768w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1430.png?resize=1024%2C731&amp;ssl=1 1024w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1430.png?w=1280&amp;ssl=1 1280w" sizes="(max-width: 640px) 100vw, 640px"><figcaption>Hello psql</figcaption></figure>
<p>I’m using Mac’s Terminal app but you can use any shell you like, including Powershell and the Windows command line. I would strongly urge you, however, to crack open a Linux VM or Docker to get the “flavor” of working with PostgreSQL. You can, indeed, find barbecue in Paris but it might help to explore the local cuisine.</p>
<p>Reading through this list of options and commands will take some patience the first time –&nbsp;but it’s worth it! At the top of the list are the common options, like using <code>-c</code>for running a command and <code>-d</code>for the database to run the command in. There’s a key statement, however, at the very end of this help screen:</p>
<figure><img src="https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1432.png?fit=1024%2C731&amp;ssl=1" alt="" srcset="https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1432.png?w=1572&amp;ssl=1 1572w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1432.png?resize=300%2C214&amp;ssl=1 300w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1432.png?resize=768%2C548&amp;ssl=1 768w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1432.png?resize=1024%2C731&amp;ssl=1 1024w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1432.png?w=1280&amp;ssl=1 1280w" sizes="(max-width: 640px) 100vw, 640px"><figcaption>psql: it’s interactive!</figcaption></figure>
<p>The <code>psql</code> tool is interactive! This will help us – so let’s log in to a database and have a look around. But which database? We’ll create one by running this on the command line:</p>
<pre><code><span>createdb</span> redfour</code></pre>
<p>The <code>createdb</code>binary has one job, in typically Unix fashion: <em>create a database on the local server</em>. It has a counterpart binary as well<g id="81" data-gr-id="81">: </g><code>dropdb</code><g id="81" data-gr-id="81">.</g>&nbsp;How do I know this? It’s one of those things you get used to as you work with Unix systems – figure out the binaries and what they do.</p>
<p>How do you do that? We know about one binary so far, <code>psql</code>, so let’s figure out where that lives and hopefully the other binaries live there too:</p>
<figure><img src="https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1433.png?fit=1024%2C561&amp;ssl=1" alt="" srcset="https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1433.png?w=1828&amp;ssl=1 1828w, https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1433.png?resize=300%2C164&amp;ssl=1 300w, https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1433.png?resize=768%2C421&amp;ssl=1 768w, https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1433.png?resize=1024%2C561&amp;ssl=1 1024w, https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1433.png?w=1280&amp;ssl=1 1280w" sizes="(max-width: 640px) 100vw, 640px"><figcaption>Using which and ls to tell us more</figcaption></figure>
<p>This is one of those things you learn over time: asking <g id="36" data-gr-id="36">Unix </g><code>which</code><g id="36" data-gr-id="36"> version</g> of a tool/binary/runtime it’s using and where it’s located. The result of that command is telling me <g id="277" data-gr-id="277">that </g><code>psql</code><g id="277" data-gr-id="277"> lives</g> in <g id="278" data-gr-id="278">the </g><code>/Applications/.../bin</code><g id="278" data-gr-id="278"> directory</g>, which is pretty standard for binary tools. I copy/paste the result to the <code>ls</code> command (list contents) and we can see the binary tools at our disposal. </p>
<p>Yay. Let’s log in and play around.</p>
<figure><img src="https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1436.png?fit=1024%2C360&amp;ssl=1" alt="" srcset="https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1436.png?w=1828&amp;ssl=1 1828w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1436.png?resize=300%2C105&amp;ssl=1 300w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1436.png?resize=768%2C270&amp;ssl=1 768w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1436.png?resize=1024%2C360&amp;ssl=1 1024w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1436.png?w=1280&amp;ssl=1 1280w" sizes="(max-width: 640px) 100vw, 640px"></figure>
<h2>What the Hell Is Happening?</h2>
<p>Right now I’m at an interactive terminal within my database… and have no idea what to do next. This is the major upside of visual tooling: you have cues that you can follow which inform you as to what’s happening. It’s the difference between Halo on the Xbox and an old school MUD –&nbsp;it feels outdated and silly.</p>
<p>Let’s keep going and see if that’s true. When we ran <g id="26" data-gr-id="26">the </g><code>--help</code><g id="26" data-gr-id="26"> command</g> before, it told us to <g id="51" data-gr-id="51">use </g><code>\?</code><g id="51" data-gr-id="51"> to</g> figure out commands within <g id="71" data-gr-id="71">psql</g>, so let’s try that first:</p>
<figure><img src="https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1437.png?fit=1024%2C543&amp;ssl=1" alt="" srcset="https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1437.png?w=1588&amp;ssl=1 1588w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1437.png?resize=300%2C159&amp;ssl=1 300w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1437.png?resize=768%2C407&amp;ssl=1 768w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1437.png?resize=1024%2C543&amp;ssl=1 1024w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1437.png?w=1280&amp;ssl=1 1280w" sizes="(max-width: 640px) 100vw, 640px"><figcaption>Hello sea of text crashing over me!</figcaption></figure>
<p>There is <em>so much to absorb here</em>. All of these cryptic little commands <em>do something</em> but what they do, at first, will likely be opaque to you. This is Yet Another Patient Deep Breath <g id="267" data-gr-id="267">point,</g> because pretty soon we’re about to light this shit on fire (in a good way). What you have, right here, is a lot of raw <em>power</em> right at your fingertips. It just takes a few hours to understand the cadence of these commands as well as their modifiers. I’ll show you exactly what I mean in just a few minutes, for now let’s ground ourselves.</p>
<p>Scroll down (using down arrow or your mouse) to the Informational command section. This is your bread and butter – here you can see what’s in your database at a quick glance. We can do that by using <code>\d</code> (press Q to get out of the text view of the help page):</p>
<figure><img src="https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1438.png?fit=1024%2C536&amp;ssl=1" alt="" srcset="https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1438.png?w=1380&amp;ssl=1 1380w, https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1438.png?resize=300%2C157&amp;ssl=1 300w, https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1438.png?resize=768%2C402&amp;ssl=1 768w, https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1438.png?resize=1024%2C536&amp;ssl=1 1024w, https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1438.png?w=1280&amp;ssl=1 1280w" sizes="(max-width: 640px) 100vw, 640px"></figure>
<p>Our database is empty. Let’s fix that by creating a quick table for our users:</p>
<figure><img src="https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1439.png?fit=1024%2C539&amp;ssl=1" alt="" srcset="https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1439.png?w=1220&amp;ssl=1 1220w, https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1439.png?resize=300%2C158&amp;ssl=1 300w, https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1439.png?resize=768%2C404&amp;ssl=1 768w, https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1439.png?resize=1024%2C539&amp;ssl=1 1024w" sizes="(max-width: 640px) 100vw, 640px"></figure>
<p>When you write a SQL command within <g id="4" data-gr-id="4">psql</g> you can wrap the lines. Notice that the prompt changes as well, telling you that you currently have an open paren. To finish the command add a semi-colon and we’re done. <em>Note: I’m not going to get into SQL but <a rel="noreferrer noopener" aria-label="it's really worth your time (opens in a new tab)" href="http://www.craigkerstiens.com/2019/02/12/sql-most-valuable-skill/" target="_blank">it’s really worth your time</a> to learn.</em></p>
<p>Now let’s list out our relations again:</p>
<figure><img src="https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1440.png?fit=1024%2C539&amp;ssl=1" alt="" srcset="https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1440.png?w=1220&amp;ssl=1 1220w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1440.png?resize=300%2C158&amp;ssl=1 300w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1440.png?resize=768%2C404&amp;ssl=1 768w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1440.png?resize=1024%2C539&amp;ssl=1 1024w" sizes="(max-width: 640px) 100vw, 640px"></figure>
<p>Lovely. We have our table and the thing that handles the id generation for that <g id="31" data-gr-id="31">table,</g> called a <em>sequence</em>. Let’s ask <g id="110" data-gr-id="110">psql</g> more about this table using <code>\d users</code>:</p>
<figure><img src="https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1441.png?fit=1024%2C422&amp;ssl=1" alt="" srcset="https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1441.png?w=1556&amp;ssl=1 1556w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1441.png?resize=300%2C124&amp;ssl=1 300w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1441.png?resize=768%2C317&amp;ssl=1 768w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1441.png?resize=1024%2C422&amp;ssl=1 1024w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1441.png?w=1280&amp;ssl=1 1280w" sizes="(max-width: 640px) 100vw, 640px"></figure>
<p>The structure of our table is laid out in glorious ASCII, heavy with information and completely bereft of anything resembling prettiness. For visual people, this is a turn off as it’s completely different than what they’re used to (which I understand). For people used to working in a text-based idiom, this is heavenly.</p>
<p>Why? <em>It’s the speed of the thing</em>. Let’s put a clock to the problem. One of your <g id="31" data-gr-id="31">appdevs</g> just did something ill-advised with their ORM and they think they might have broken <g id="323" data-gr-id="323">the </g><code>users</code><g id="323" data-gr-id="323"> table</g>. You decide to investigate:</p>
<pre><code><span>psql</span> redfour
\dt users</code></pre>
<p>When you’re just starting out with PostgreSQL (and <g id="5" data-gr-id="5">psql</g>), you’ll need to squeeze your memory a bit for the commands to inspect a table. After a <g id="126" data-gr-id="126">while</g> your fingers will be done typing before your next breath.</p>
<p><em>This is the power you want as a DBA</em>.</p>
<p>At this point I could go off on all of the <g id="5" data-gr-id="5">psql</g> commands available to you, <g id="25" data-gr-id="25">however</g> I would encourage you to explore these for yourself and see what’s possible, and how blazingly fast you can get it done. My coworker (<g id="21" data-gr-id="21">ha ha</g> so fun to say that now) Craig Kerstiens has written extensively on PostgreSQL, and <a href="http://www.craigkerstiens.com/2013/02/13/How-I-Work-With-Postgres/" target="_blank" rel="noreferrer noopener" aria-label="this post is extremely helpful (opens in a new tab)">this post is extremely helpful</a> for people getting used to the command line aspect of it.</p>
<p>I want to get into why this kind of thing matters.</p>
<h2>Text is a Helluva Drug</h2>
<p>If I asked you to move data from one server to another using your favorite visual tool, how would you do it? If you do it often then the process would be a simple one and likely involve some right-clicking, traversing a menu, and kicking off a process in your tool of choice.</p>
<p>In Unix land (and therefore Postgres land) it’s a matter of remembering a few commands. But this is where it gets interesting because <em>everything in Unix is a text file.</em> Almost every task you can think of in Unix can be done using a text-based command. It would be like trying to find barbecue in Paris when every building is made of meat and the Seine is a river of hot coals. </p>
<p>To show you what I mean, here’s how you might pull your production database down to your local server:</p>
<pre><code><span>pg_dump</span> postgres://user:password<span>@server</span>/db &gt; redfour.sql
createdb redfour
psql redfour &lt; redfour.sql</code></pre>
<p><g id="6" data-gr-id="6">The </g><code>pg_dump</code><g id="6" data-gr-id="6"> binary</g> has the singular task of turning a database into a SQL file. You can, of course, tweak and configure how this works and to find out all of the options you would use… can you guess<g id="124" data-gr-id="124">? </g><code>pg_dump --help</code><g id="124" data-gr-id="124"> .</g>&nbsp;So we’re dumping the structure and data to a SQL file, creating our database and then pushing that SQL file as a command into our new database.</p>
<p>This entire process will execute in &lt; 5 seconds on a smaller sized database (~20mb). This is why we like text and text-based interfaces – SPEED!</p>
<h2>There’s Always a Way</h2>
<p>As you might be able to tell, I’ve had this conversation more than a few times. Visuals are very important, to be sure! But they have their place when it comes to your daily workflow as a DBA. I would argue that double-clicking, right-clicking, and drag/drop are much slower than taking the time to memorize some common commands.</p>
<p>One place that psql sucks, however, are visuals. Executing a query on a large table can look horrible:</p>
<figure><img src="https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1443.png?fit=1024%2C667&amp;ssl=1" alt="" srcset="https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1443.png?w=1844&amp;ssl=1 1844w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1443.png?resize=300%2C196&amp;ssl=1 300w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1443.png?resize=768%2C501&amp;ssl=1 768w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1443.png?resize=1024%2C667&amp;ssl=1 1024w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1443.png?w=1280&amp;ssl=1 1280w" sizes="(max-width: 640px) 100vw, 640px"><figcaption>Yuckity Yuck</figcaption></figure>
<p>This is <g id="5" data-gr-id="5">DVD</g> Rental sample database, running a <code>select * from film;</code> query. It looks like crap! The good news is that we <em>should</em> be able to fix this. Let’s ask <g id="140" data-gr-id="140">psql</g> what’s going on using <code>\?</code> :</p>
<figure><img src="https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1442.png?fit=1024%2C575&amp;ssl=1" alt="" srcset="https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1442.png?w=1572&amp;ssl=1 1572w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1442.png?resize=300%2C168&amp;ssl=1 300w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1442.png?resize=768%2C431&amp;ssl=1 768w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1442.png?resize=1024%2C575&amp;ssl=1 1024w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1442.png?w=1280&amp;ssl=1 1280w" sizes="(max-width: 640px) 100vw, 640px"></figure>
<p>There are two things to notice here. The first <g id="7" data-gr-id="7">is </g><code>\x</code><g id="7" data-gr-id="7"> which</g> allows for expanded output, or vertical alignment of data. That looks like this:</p>
<figure><img src="https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1444.png?fit=1024%2C667&amp;ssl=1" alt="" srcset="https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1444.png?w=1844&amp;ssl=1 1844w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1444.png?resize=300%2C196&amp;ssl=1 300w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1444.png?resize=768%2C501&amp;ssl=1 768w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1444.png?resize=1024%2C667&amp;ssl=1 1024w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1444.png?w=1280&amp;ssl=1 1280w" sizes="(max-width: 640px) 100vw, 640px"><figcaption>Using expanded output</figcaption></figure>
<p>The other thing you can do is to set HTML as the output <g id="7" data-gr-id="7">using </g><code>\H</code><g id="7" data-gr-id="7">.</g> This will execute the query, returning the results in HTML:</p>
<figure><img src="https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1445.png?fit=1024%2C667&amp;ssl=1" alt="" srcset="https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1445.png?w=1844&amp;ssl=1 1844w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1445.png?resize=300%2C196&amp;ssl=1 300w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1445.png?resize=768%2C501&amp;ssl=1 768w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1445.png?resize=1024%2C667&amp;ssl=1 1024w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1445.png?w=1280&amp;ssl=1 1280w" sizes="(max-width: 640px) 100vw, 640px"></figure>
<p>This is interesting but I want this saved to a file. To do that, I can use <code>\o</code> (which you can see in the help menu) and specify which file:</p>
<figure><img src="https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1448-1.png?fit=1024%2C525&amp;ssl=1" alt="" srcset="https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1448-1.png?w=1252&amp;ssl=1 1252w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1448-1.png?resize=300%2C154&amp;ssl=1 300w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1448-1.png?resize=768%2C394&amp;ssl=1 768w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1448-1.png?resize=1024%2C525&amp;ssl=1 1024w" sizes="(max-width: 640px) 100vw, 640px"></figure>
<p>The file produced isn’t terribly exciting, but it’s somewhat useful:</p>
<figure><img src="https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1449.png?fit=1024%2C648&amp;ssl=1" alt="" srcset="https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1449.png?w=1704&amp;ssl=1 1704w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1449.png?resize=300%2C190&amp;ssl=1 300w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1449.png?resize=768%2C486&amp;ssl=1 768w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1449.png?resize=1024%2C648&amp;ssl=1 1024w, https://i2.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1449.png?w=1280&amp;ssl=1 1280w" sizes="(max-width: 640px) 100vw, 640px"></figure>
<p>This is where we can embrace the <g id="3" data-gr-id="3">texty</g> nature of Unix and see what’s possible if we start jamming binaries together with some core Unix commands, which are all based on <g id="58" data-gr-id="58">text</g>.</p>
<p>Let’s use <g id="4" data-gr-id="4">psql</g> to execute a query, but this time we’ll format things using Bootstrap:</p>
<pre><code>echo <span>"&lt;link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css'&gt;"</span> &gt; report.html &amp;&amp; psql chinook -c <span>"select * from film"</span> -H <span>&gt;&gt; </span>report.html &amp;&amp; open report.html </code></pre>
<figure><img src="https://i1.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1450.png?fit=1024%2C608&amp;ssl=1" alt="" srcset="https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1450.png?w=1684&amp;ssl=1 1684w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1450.png?resize=300%2C178&amp;ssl=1 300w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1450.png?resize=768%2C456&amp;ssl=1 768w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1450.png?resize=1024%2C608&amp;ssl=1 1024w, https://i0.wp.com/rob.conery.io/wp-content/uploads/2019/03/screenshot_1450.png?w=1280&amp;ssl=1 1280w" sizes="(max-width: 640px) 100vw, 640px"></figure>
<p>OK it’s certainly not crazy amazing but for a quick report it’s not so bad. You can alter the SQL statement to output only the columns you want, and you could formalize the call using a bash function to make it all pretty.</p>
<h2>Yeah But It’s Not Management Studio!</h2>
<p>Very true. You can’t double-click a table and edit the rows, for instance, and there are no spiff icons. Altering data is done with INSERT and UPDATE commands, deleting is done with DELETE. This is something that you do have to get used to, for sure, and if this is a common task for you than you might want to focus on a tool that allows that (such as <g id="483" data-gr-id="483"><a rel="noreferrer noopener" aria-label="Postico (opens in a new tab)" href="https://eggerapps.at/postico/" target="_blank">Postico</a></g>, which is free).</p>
<p>If there’s one reason to use psql it’s <em>speed</em>. I would also argue <em>power</em> but for <g id="35" data-gr-id="35">now</g> I’ll go with speed as the primary reason. You’re done before you know what happened and, if you have repetitive tasks, you can save your commands as text files to run as you need, when you need.</p>
<p>Change isn’t easy, but the people I know that have made the change use <g id="3" data-gr-id="3">psql</g> on a daily basis and absolutely love it. They also flip into a visual tool as needed. One thing they all agree on, however, is that they don’t miss the visual stuff at all.</p>
<p><a href="https://rob.conery.io/2019/03/04/postgresql-tools-for-the-visually-inclined/" data-id="1636"></a>
<span id="claps-count-1636">31</span></p>
</div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Michael Feathers - Functional Code is Honest Code - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Michael Feathers - Functional Code is Honest Code - linksfor.dev(s)"/>
    <meta property="article:author" content="Michael Feathers"/>
    <meta property="og:description" content="Functional Code is Honest Code"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://michaelfeathers.silvrback.com/functional-code-is-honest-code"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Michael Feathers - Functional Code is Honest Code</title>
<div class="readable">
        <h1>Michael Feathers - Functional Code is Honest Code</h1>
            <div>by Michael Feathers</div>
            <div>Reading time: 3-4 minutes</div>
        <div>Posted here: 13 Jun 2020</div>
        <p><a href="https://michaelfeathers.silvrback.com/functional-code-is-honest-code">https://michaelfeathers.silvrback.com/functional-code-is-honest-code</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
            <p>I’ve been reading quite a few attempts to define <em>Functional Programming</em> recently. It’s hard because we’ve taken so many paths in the industry. There’s some nexus around <em>immutability</em>, <em>referential transparency</em>, and <em>typing</em>. Each language makes its choices, and — if we are looking at those three qualities — it’s clear that you don’t need all of them to have what we call “functional programming” but having at least two at a time working together is enough to give us <em>Good Stuff™</em>.</p>

<p>There is a different way to approach it, though, and I think I arrived at it through years of slogging though legacy code. The biggest issue in legacy code (all code really) is understandability.  It’s hard to change things that you don’t understand — you can try, but you’ll often fail. </p>

<p>When I encounter a legacy system, the first thing I want to know is where the <em>gotchas</em> are, the things that break my understanding of the system. Invariably, they are the things that you can’t see at the interface. You call a function and you have no idea that it modifies some global variable, or surreptitiously saves to a database through a chain of calls. In other words, the function signature is a bit of a lie. We use the term <em>side effect</em> for these things, but really, they are the things that break the understanding that an interface could give you, if only it told you everything about how the system was affected when you call the function.</p>

<p>Programming without side effects is really about making signatures honest in that way. If you want to know whether IO is possible, look at the signature. It should tell you. </p>

<p>This isn’t typical in OO code. Sometimes I joke that if I were to rewrite <em>Working Effectively with Legacy Code</em> I’d call it <em>Working Effectively with Object-Oriented Code</em>. So many of the techniques around gaining testability involve parameterizing classes and methods so that <em>all</em> of the inputs and outputs are explicit and mockable under test. You don’t have an embedded call to, say, the file system in a class. You pass in a reference to that capability as a constructor or method argument. This makes an OO system, broadly functional. That is, to say, it is <em>honest</em>. You can look at the signatures and see what is possible. Maybe some mutation happens a function body. You increment a local variable rather than using a fold. That's ok. If it doesn't leak through the interface (the call), you have referential transparency at the call. The signature tells you the full story.</p>

<p>I don’t want to denigrate OO. It’s useful and it can be a decent way of structuring systems, but it is a little less explicit at times. It permits a lot and you have to be careful to use it well. </p>

<p>Pure FP, especially in the typed world, can be a tower of mechanism to make sure that interfaces are explicit. That comes at a price. Monads and effect systems make us think more, and even write more, but we have more support to give our code this quality.</p>

<p>That’s the goal, really. Simplify understanding. No surprises. Honest code.</p>

          </div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs" /></noscript>
</body>
</html>
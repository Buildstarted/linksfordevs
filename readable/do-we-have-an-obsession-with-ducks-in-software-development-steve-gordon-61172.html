<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Do We Have an Obsession with Ducks in Software Development? - Steve Gordon - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Do We Have an Obsession with Ducks in Software Development? - Steve Gordon - linksfor.dev(s)"/>
    <meta property="article:author" content="Steve Gordon"/>
    <meta property="og:description" content="In this post, we looks at two duck-based terms in software development. First we focus on duck typing and then we turn to rubber ducking!"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://www.stevejgordon.co.uk/do-we-have-an-obsession-with-ducks-in-software-development"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Do We Have an Obsession with Ducks in Software Development? - Steve Gordon</title>
<div class="readable">
        <h1>Do We Have an Obsession with Ducks in Software Development? - Steve Gordon</h1>
            <div>by Steve Gordon</div>
            <div>Reading time: 8-10 minutes</div>
        <div>Posted here: 29 Apr 2020</div>
        <p><a href="https://www.stevejgordon.co.uk/do-we-have-an-obsession-with-ducks-in-software-development">https://www.stevejgordon.co.uk/do-we-have-an-obsession-with-ducks-in-software-development</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="pryc-wp-acctp-original-content">
<p>Excuse the slightly unusual blog post, but we are living in quite unusual times as I write this. I thought this post might be a mood lightener for a few of my regular readers! With that, let’s explore whether we have an obsession with ducks in software development.</p>
<p>There are two phrases which came to my mind when this weird idea popped into my head. “Duck Typing” and “Rubber Ducking”. That’s two more duck based terms than many industries have, excluding perhaps zoos and veterinary practices.&nbsp;</p>
<p>Let’s dive into these two potentially foul terms!… Get it… Foul sounds like fowl, as in ducks… Okay, never mind, that was a terrible attempt at a pun. I’ve been in lockdown for too long!</p>
<h2>Duck Typing</h2>
<p>I’ve seen and heard the term duck typing defined in a few ways over the years. I don’t intend to try to provide a single definitive description here (surely you got the casual tone of this post from the pun, right?), just a general summary of the concept.</p>
<p>In C# and .NET, we have a static type system which allows us to define and work with objects. Because objects are strongly typed, we get a great degree of safety in the code which we write. The type system supports us at both runtime and compile time. The C# compiler can determine when we’ve passed the wrong type into a method and cause an error to be surfaced. This allows errors to be dealt with during development. Tooling can even help us find and fix the problem.</p>
<p>The type system also has the notion of inheritance and interfaces, which allow us to define an abstraction and have our implementation derive from it. You can pass a concrete type into a method if it inherits from the required type of a method parameter.</p>
<p>Duck Typing is the premise that in some circumstances, we can concern ourselves less with the actual type of an object, but instead focus on what it does. With duck typing, if a class includes specific method signatures, it can be used within a particular context that only requires those methods to be present.</p>
<p>This can be boiled down to the following statement:</p>
<blockquote>
<p>“If it looks like a duck, swims like a duck, and quacks like a duck, then it probably is a duck.”</p>
</blockquote>
<p>In .NET, our reliance on duck typing is rare, but not wholly absent. A <a href="https://blog.nem.ec/2014/01/01/magic-methods-c-sharp/" target="_blank" rel="noopener noreferrer">commonly cited&nbsp;example</a> is the foreach loop which acts on an IEnumerable. Except, that strictly speaking it doesn’t. While we can derive a type from that interface to indicate its capability and conformance with the interface, this isn’t required. A foreach loop only requires that a type which includes a public, parameterless GetEnumerator method. That method must also return a type which contains a public MoveNext method and a public Current property.</p>
<p>We see the duck typing principle in other places within .NET too. If you’ve used ASP.NET Core, you’ve relied on duck typing as well.</p>
<p>The Startup class, for example, is included in the ASP.NET Core templates and can be used to register services with the dependency injection container and to configure the application middleware pipeline. This class does not require the use of an interface. In fact, the minimum requirement for this class is that it includes a Configure method accepting an IApplicationBuilder. It doesn’t even have to be called Startup, it can have any name you want.</p>



<div id="gist102680612">
    <div>
      <div>
        <div>
  <div id="file-mybadlynamedclass-cs">
    

  <div itemprop="text">
      
<table data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-mybadlynamedclass-cs-L1" data-line-number="1"></td>
        <td id="file-mybadlynamedclass-cs-LC1"><span>using</span> <span>Microsoft</span>.<span>AspNetCore</span>.<span>Builder</span>;</td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L2" data-line-number="2"></td>
        <td id="file-mybadlynamedclass-cs-LC2"><span>using</span> <span>Microsoft</span>.<span>AspNetCore</span>.<span>Http</span>;</td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L3" data-line-number="3"></td>
        <td id="file-mybadlynamedclass-cs-LC3">
</td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L4" data-line-number="4"></td>
        <td id="file-mybadlynamedclass-cs-LC4"><span>namespace</span> <span>SampleApp</span></td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L5" data-line-number="5"></td>
        <td id="file-mybadlynamedclass-cs-LC5">{</td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L6" data-line-number="6"></td>
        <td id="file-mybadlynamedclass-cs-LC6">    <span>public</span> <span>class</span> <span>MyBadlyNamedClass</span></td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L7" data-line-number="7"></td>
        <td id="file-mybadlynamedclass-cs-LC7">    {        </td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L8" data-line-number="8"></td>
        <td id="file-mybadlynamedclass-cs-LC8">        <span>public</span> <span>void</span> <span>Configure</span>(<span>IApplicationBuilder</span> <span>app</span>)</td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L9" data-line-number="9"></td>
        <td id="file-mybadlynamedclass-cs-LC9">        {</td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L10" data-line-number="10"></td>
        <td id="file-mybadlynamedclass-cs-LC10">            <span>app</span>.<span>UseRouting</span>();</td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L11" data-line-number="11"></td>
        <td id="file-mybadlynamedclass-cs-LC11">            <span>app</span>.<span>UseEndpoints</span>(<span>endpoints</span> <span>=&gt;</span> </td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L12" data-line-number="12"></td>
        <td id="file-mybadlynamedclass-cs-LC12">                <span>endpoints</span>.<span>Map</span>(<span><span>"</span>/<span>"</span></span>, <span>async</span> <span>ctx</span> <span>=&gt;</span> </td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L13" data-line-number="13"></td>
        <td id="file-mybadlynamedclass-cs-LC13">                    <span>await</span> <span>ctx</span>.<span>Response</span>.<span>WriteAsync</span>(<span><span>"</span>Hello world!<span>"</span></span>)));</td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L14" data-line-number="14"></td>
        <td id="file-mybadlynamedclass-cs-LC14">        }</td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L15" data-line-number="15"></td>
        <td id="file-mybadlynamedclass-cs-LC15">    }</td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L16" data-line-number="16"></td>
        <td id="file-mybadlynamedclass-cs-LC16">}</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      
    </div>
</div>




<p>The preceding code is a perfectly valid class which provides a single endpoint for an ASP.NET Core application.&nbsp;</p>
<p>Another example in ASP.NET Core is middleware. When creating a custom middleware component, again there is no interface. There are a set of rules you must follow when creating a middleware class:</p>
<ul>
<li>A public constructor with a parameter of type RequestDelegate.</li>
<li>A public method named Invoke or InvokeAsync. This method must:
<ul>
<li>Return a Task.</li>
<li>Accept a first parameter of type HttpContext.</li>
</ul>
</li>
</ul>
<p>Any type which meets these requirements may be registered into the middleware pipeline and be correctly invoked.</p>
<p>Duck typing has drawbacks since reasoning about types becomes more difficult and errors may creep in. For example, I can tweak my valid startup class from above by renaming the method.</p>



<div id="gist102680681">
    <div>
      <div>
        <div>
  <div id="file-mybadlynamedclass-cs">
    

  <div itemprop="text">
      
<table data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-mybadlynamedclass-cs-L1" data-line-number="1"></td>
        <td id="file-mybadlynamedclass-cs-LC1"><span>public</span> <span>class</span> <span>MyBadlyNamedClass</span></td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L2" data-line-number="2"></td>
        <td id="file-mybadlynamedclass-cs-LC2">{        </td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L3" data-line-number="3"></td>
        <td id="file-mybadlynamedclass-cs-LC3">    <span>public</span> <span>void</span> <span>ConfigureApplication</span>(<span>IApplicationBuilder</span> <span>app</span>)</td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L4" data-line-number="4"></td>
        <td id="file-mybadlynamedclass-cs-LC4">    {</td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L5" data-line-number="5"></td>
        <td id="file-mybadlynamedclass-cs-LC5">        <span>app</span>.<span>UseRouting</span>();</td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L6" data-line-number="6"></td>
        <td id="file-mybadlynamedclass-cs-LC6">        <span>app</span>.<span>UseEndpoints</span>(<span>endpoints</span> <span>=&gt;</span> </td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L7" data-line-number="7"></td>
        <td id="file-mybadlynamedclass-cs-LC7">            <span>endpoints</span>.<span>Map</span>(<span><span>"</span>/<span>"</span></span>, <span>async</span> <span>ctx</span> <span>=&gt;</span> </td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L8" data-line-number="8"></td>
        <td id="file-mybadlynamedclass-cs-LC8">                <span>await</span> <span>ctx</span>.<span>Response</span>.<span>WriteAsync</span>(<span><span>"</span>Hello world!<span>"</span></span>)));</td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L9" data-line-number="9"></td>
        <td id="file-mybadlynamedclass-cs-LC9">    }</td>
      </tr>
      <tr>
        <td id="file-mybadlynamedclass-cs-L10" data-line-number="10"></td>
        <td id="file-mybadlynamedclass-cs-LC10">}</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      
    </div>
</div>




<p>The compiler is more than happy with this, so there are no compile-time errors. If we try to run the application, we hit a runtime exception.</p>



<div><figure><img src="https://www.stevejgordon.co.uk/wp-content/uploads/2020/04/InvalidOperationException-For-Invalid-Startup-Class.png" alt="InvalidOperationException thrown when the Startup class does not have a Configure method." srcset="https://www.stevejgordon.co.uk/wp-content/uploads/2020/04/InvalidOperationException-For-Invalid-Startup-Class.png 739w, https://www.stevejgordon.co.uk/wp-content/uploads/2020/04/InvalidOperationException-For-Invalid-Startup-Class-300x80.png 300w" sizes="(max-width: 739px) 100vw, 739px"></figure></div>



<p>The signature of this class no longer satisfies the rules for a suitable startup class.</p>
<h2>Rubber Ducking</h2>
<p>Rubbing ducking, in generalised terms, is the process whereby we can often debug issues or solve a programming problem by explaining them to someone else.</p>
<p>I’ve experienced this many times in my career. I’ll hit a wall with something I am working on, sure that I’m unable to figure out the solution. I may stare at the code for a very long time without figuring out the correct fix.</p>
<p>At a certain point, I will ask a colleague for advice and explain what I’m trying to achieve, the steps I’ve taken and the current problem. More often than not, part of the way through my explanation, a lightbulb flicks on, and I know what I’m doing wrong. I expect this has happened to many of you too.</p>
<p>As many developers on the receiving end of this will know, it can break your flow to stop what you’re doing to act as a sounding board for such problems. And so, we introduce the rubber duck concept. Rather than interrupt a colleague to ask their opinion, try explaining your problem to a rubber duck, or any suitable stand-in.</p>
<p>The mere act of restating the problem will often be enough to kick your brain into gear and to get you out of your coding rut. You can do this in your head, but I find speaking out loud helps. For sure, you may want to find somewhere not too public before you begin talking to yourself, or your rubber duck.</p>
<p>If you don’t have a duck to hand, but honestly, who doesn’t, you can replace it with any inanimate object willing to be subjected to your ramblings. At home, I keep a trusty rubber duck under my primary monitor. I picked it up at Techorama NL last year, and it’s proven to be a font of problem-solving abilities. In fact, it may be more deserving of MVP status than me!</p>



<div><figure><img src="https://www.stevejgordon.co.uk/wp-content/uploads/2020/04/rubber-ducking-1024x576.jpg" alt="My rubber duck used during software development." srcset="https://www.stevejgordon.co.uk/wp-content/uploads/2020/04/rubber-ducking-1024x576.jpg 1024w, https://www.stevejgordon.co.uk/wp-content/uploads/2020/04/rubber-ducking-300x169.jpg 300w, https://www.stevejgordon.co.uk/wp-content/uploads/2020/04/rubber-ducking-768x432.jpg 768w, https://www.stevejgordon.co.uk/wp-content/uploads/2020/04/rubber-ducking.jpg 1280w" sizes="(max-width: 1024px) 100vw, 1024px"></figure></div>



<h2>Summary</h2>
<p>That’s duck typing and rubber ducking in a nutshell. I leave it to your dear reader, do we have an obsession with ducks? Perhaps you found this interesting, or perhaps you didn’t give a duck!</p>
<p>Note: My normal deeply technical blog post service will hopefully resume shortly! 🙂</p>
<!-- PRyC WP: Add custom content to bottom of post/page: Standard Content START --></div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
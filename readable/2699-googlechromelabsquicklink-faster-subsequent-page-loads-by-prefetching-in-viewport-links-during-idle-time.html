<!DOCTYPE html>
<html lang="en">
<head>
    <title>
GoogleChromeLabs/quicklink: &#x26A1;&#xFE0F;Faster subsequent page-loads by prefetching in-viewport links during idle time -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>GoogleChromeLabs/quicklink: ⚡️Faster subsequent page-loads by prefetching in-viewport links during idle time</h1><div><div id="" class="markdown-body entry-content p-5"><p align="center"><a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/d9e978c30d6e62fa13b4aea5af2560eebb67e20f/68747470733a2f2f692e696d6775722e636f6d2f4e56525a4c48762e706e67"><img src="https://camo.githubusercontent.com/d9e978c30d6e62fa13b4aea5af2560eebb67e20f/68747470733a2f2f692e696d6775722e636f6d2f4e56525a4c48762e706e67" width="640" alt="quicklink" data-canonical-src="https://i.imgur.com/NVRZLHv.png"></a><br><a href="https://www.npmjs.org/package/quicklink" rel="nofollow"><img src="https://camo.githubusercontent.com/3dda113280e51b13bbb11cc4f630acd7b49540de/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f717569636b6c696e6b2e7376673f7374796c653d666c6174" alt="npm" data-canonical-src="https://img.shields.io/npm/v/quicklink.svg?style=flat"></a><a href="https://unpkg.com/quicklink" rel="nofollow"><img src="https://camo.githubusercontent.com/8c1fd3b149f14b86019dd522294fb2696e7640c4/68747470733a2f2f696d672e626164676573697a652e696f2f68747470733a2f2f756e706b672e636f6d2f717569636b6c696e6b2f646973742f717569636b6c696e6b2e6a733f636f6d7072657373696f6e3d677a6970" alt="gzip size" data-canonical-src="https://img.badgesize.io/https://unpkg.com/quicklink/dist/quicklink.js?compression=gzip"></a><a href="https://www.npmjs.com/package/quicklink" rel="nofollow"><img src="https://camo.githubusercontent.com/ed359657a77d84b0d40e67f3c555756855ff1877/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f64742f717569636b6c696e6b2e737667" alt="downloads" data-canonical-src="https://img.shields.io/npm/dt/quicklink.svg"></a><a href="https://travis-ci.org/GoogleChromeLabs/quicklink" rel="nofollow"><img src="https://camo.githubusercontent.com/89ccb5580e7e0720e55c06786fd18a1e282041ad/68747470733a2f2f7472617669732d63692e6f72672f476f6f676c654368726f6d654c6162732f717569636b6c696e6b2e7376673f6272616e63683d6d6173746572" alt="travis" data-canonical-src="https://travis-ci.org/GoogleChromeLabs/quicklink.svg?branch=master"></a></p><blockquote><p>Faster subsequent page-loads by prefetching in-viewport links during idle time</p></blockquote><h2><a id="user-content-how-it-works" class="anchor" aria-hidden="true" href="#how-it-works"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How it works</h2><p>Quicklink attempts to make navigations to subsequent pages load faster. It:</p><ul><li><strong>Detects links within the viewport</strong> (using <a href="https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API" rel="nofollow">Intersection Observer</a>)</li><li><strong>Waits until the browser is idle</strong> (using <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/requestIdleCallback" rel="nofollow">requestIdleCallback</a>)</li><li><strong>Checks if the user isn't on a slow connection</strong> (using <code>navigator.connection.effectiveType</code>) or has data-saver enabled (using <code>navigator.connection.saveData</code>)</li><li><strong>Prefetches URLs to the links</strong> (using <a href="https://www.w3.org/TR/resource-hints/#prefetch" rel="nofollow"><code>&lt;link rel=prefetch&gt;</code></a> or XHR). Provides some control over the request priority (can switch to <code>fetch()</code> if supported).</li></ul><h2><a id="user-content-why" class="anchor" aria-hidden="true" href="#why"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Why</h2><p>This project aims to be a drop-in solution for sites to prefetch links based on what is in the user's viewport. It also aims to be small (<strong>&lt; 1KB minified/gzipped</strong>).</p><h2><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation</h2><p>For use with <a href="https://nodejs.org" rel="nofollow">node</a> and <a href="https://npmjs.com" rel="nofollow">npm</a>:</p><div class="highlight highlight-source-shell"><pre>npm install --save quicklink</pre></div><p>You can also grab <code>quicklink</code> from <a href="https://unpkg.com/quicklink" rel="nofollow">unpkg.com/quicklink</a>.</p><h2><a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Usage</h2><p>Once initialized, <code>quicklink</code> will automatically prefetch URLs for links that are in-viewport during idle time.</p><p>Quickstart:</p><div class="highlight highlight-text-html-basic"><pre><span class="pl-c"><span class="pl-c">&lt;!--</span> Include quicklink from dist <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">script</span><span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>dist/quicklink.umd.js<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;
<span class="pl-c"><span class="pl-c">&lt;!--</span> Initialize (you can do this whenever you want) <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">script</span>&gt;<span class="pl-s1"></span><span class="pl-s1"><span class="pl-smi">quicklink</span>.<span class="pl-en">listen</span>();</span><span class="pl-s1"></span>&lt;/<span class="pl-ent">script</span>&gt;</pre></div><p>For example, you can initialize after the <code>load</code> event fires:</p><div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">script</span>&gt;<span class="pl-s1"></span><span class="pl-s1"><span class="pl-c1">window</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-s"><span class="pl-pds">'</span>load<span class="pl-pds">'</span></span>, () <span class="pl-k">=&gt;</span>{</span><span class="pl-s1"><span class="pl-smi">quicklink</span>.<span class="pl-en">listen</span>();</span><span class="pl-s1">});</span><span class="pl-s1"></span>&lt;/<span class="pl-ent">script</span>&gt;</pre></div><p>ES Module import:</p><div class="highlight highlight-source-js"><pre><span class="pl-k">import</span> { <span class="pl-smi">listen</span>, <span class="pl-smi">prefetch</span> } <span class="pl-k">from</span><span class="pl-s"><span class="pl-pds">"</span>quicklink<span class="pl-pds">"</span></span>;</pre></div><p>The above options are best for multi-page sites. Single-page apps have a few options available for using quicklink with a router:</p><ul><li>Call <code>quicklink.listen()</code> once a navigation to a new route has completed</li><li>Call <code>quicklink.listen()</code> against a specific DOM element / component</li><li>Call <code>quicklink.prefetch()</code> with a custom set of URLs to prefetch</li></ul><h2><a id="user-content-api" class="anchor" aria-hidden="true" href="#api"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API</h2><h3><a id="user-content-quicklinklistenoptions" class="anchor" aria-hidden="true" href="#quicklinklistenoptions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>quicklink.listen(options)</h3><p>Returns: <code>Function</code></p><p>A "reset" function is returned, which will empty the active <code>IntersectionObserver</code> and the cache of URLs that have already been prefetched. This can be used between page navigations and/or when significant DOM changes have occurred.</p><h4><a id="user-content-optionsel" class="anchor" aria-hidden="true" href="#optionsel"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>options.el</h4><p>Type: <code>HTMLElement</code><br>Default: <code>document.body</code></p><p>The DOM element to observe for in-viewport links to prefetch.</p><h4><a id="user-content-optionslimit" class="anchor" aria-hidden="true" href="#optionslimit"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>options.limit</h4><p>Type: <code>Number</code><br>Default: <code>Infinity</code></p><p>The <em>total</em> requests that can be prefetched while observing the <code>options.el</code> container.</p><h4><a id="user-content-optionsthrottle" class="anchor" aria-hidden="true" href="#optionsthrottle"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>options.throttle</h4><p>Type: <code>Number</code><br>Default: <code>Infinity</code></p><p>The <em>concurrency limit</em> for simultaneous requests while observing the <code>options.el</code> container.</p><h4><a id="user-content-optionstimeout" class="anchor" aria-hidden="true" href="#optionstimeout"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>options.timeout</h4><p>Type: <code>Number</code><br>Default: <code>2000</code></p><p>The <code>requestIdleCallback</code> timeout, in milliseconds.</p><blockquote><p><strong>Note:</strong> The browser must be idle for the configured duration before prefetching.</p></blockquote><h4><a id="user-content-optionstimeoutfn" class="anchor" aria-hidden="true" href="#optionstimeoutfn"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>options.timeoutFn</h4><p>Type: <code>Function</code><br>Default: <code>requestIdleCallback</code></p><p>A function used for specifying a <code>timeout</code> delay.<br>This can be swapped out for a custom function like <a href="https://github.com/pastelsky/network-idle-callback">networkIdleCallback</a> (see demos).</p><p>By default, this uses <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/requestIdleCallback" rel="nofollow"><code>requestIdleCallback</code></a> or the embedded polyfill.</p><h4><a id="user-content-optionspriority" class="anchor" aria-hidden="true" href="#optionspriority"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>options.priority</h4><p>Type: <code>Boolean</code><br>Default: <code>false</code></p><p>Whether or not the URLs within the <code>options.el</code> container should be treated as high priority.</p><p>When <code>true</code>, quicklink will attempt to use the <code>fetch()</code> API if supported (rather than <code>link[rel=prefetch]</code>).</p><h4><a id="user-content-optionsorigins" class="anchor" aria-hidden="true" href="#optionsorigins"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>options.origins</h4><p>Type: <code>Array&lt;String&gt;</code><br>Default: <code>[location.hostname]</code></p><p>A static array of URL hostnames that are allowed to be prefetched.<br>Defaults to the same domain origin, which prevents <em>any</em> cross-origin requests.</p><p><strong>Important:</strong> An empty array (<code>[]</code>) allows <em><strong>all origins</strong></em> to be prefetched.</p><h4><a id="user-content-optionsignores" class="anchor" aria-hidden="true" href="#optionsignores"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>options.ignores</h4><p>Type: <code>RegExp</code> or <code>Function</code> or <code>Array</code><br>Default: <code>[]</code></p><p>Determine if a URL should be prefetched.</p><p>When a <code>RegExp</code> tests positive, a <code>Function</code> returns <code>true</code>, or an <code>Array</code> contains the string, then the URL is <em>not</em> prefetched.</p><blockquote><p><strong>Note:</strong> An <code>Array</code> may contain <code>String</code>, <code>RegExp</code>, or <code>Function</code> values.</p></blockquote><blockquote><p><strong>Important:</strong> This logic is executed <em>after</em> origin matching!</p></blockquote><h4><a id="user-content-optionsonerror" class="anchor" aria-hidden="true" href="#optionsonerror"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>options.onError</h4><p>Type: <code>Function</code><br>Default: None</p><p>An optional error handler that will receive any errors from prefetched requests.<br>By default, these errors are silently ignored.</p><h3><a id="user-content-quicklinkprefetchurls-ispriority" class="anchor" aria-hidden="true" href="#quicklinkprefetchurls-ispriority"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>quicklink.prefetch(urls, isPriority)</h3><p>Returns: <code>Promise</code></p><p>The <code>urls</code> provided are always passed through <code>Promise.all</code>, which means the result will always resolve to an Array.</p><blockquote><p><strong>Important:</strong> You much <code>catch</code> you own request error(s).</p></blockquote><h4><a id="user-content-urls" class="anchor" aria-hidden="true" href="#urls"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>urls</h4><p>Type: <code>String</code> or <code>Array&lt;String&gt;</code><br>Required: <code>true</code></p><p>One or many URLs to be prefetched.</p><blockquote><p><strong>Note:</strong> Each <code>url</code> value is resolved from the current location.</p></blockquote><h4><a id="user-content-ispriority" class="anchor" aria-hidden="true" href="#ispriority"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>isPriority</h4><p>Type: <code>Boolean</code><br>Default: <code>false</code></p><p>Whether or not the URL(s) should be treated as "high priority" targets.<br>By default, calls to <code>prefetch()</code> are low priority.</p><blockquote><p><strong>Note:</strong> This behaves identically to <code>listen()</code>'s <code>priority</code> option.</p></blockquote><h2><a id="user-content-polyfills" class="anchor" aria-hidden="true" href="#polyfills"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Polyfills</h2><p><code>quicklink</code>:</p><ul><li>Includes a very small fallback for <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/requestIdleCallback" rel="nofollow">requestIdleCallback</a></li><li>Requires <code>IntersectionObserver</code> to be supported (see <a href="https://caniuse.com/#feat=intersectionobserver" rel="nofollow">CanIUse</a>). We recommend conditionally polyfilling this feature with a service like Polyfill.io:</li></ul><div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">script</span><span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>https://polyfill.io/v3/polyfill.min.js?features=IntersectionObserver<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;</pre></div><p>Alternatively, see the <a href="https://github.com/w3c/IntersectionObserver/tree/master/polyfill">Intersection Observer polyfill</a>.</p><h2><a id="user-content-recipes" class="anchor" aria-hidden="true" href="#recipes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Recipes</h2><h3><a id="user-content-set-a-custom-timeout-for-prefetching-resources" class="anchor" aria-hidden="true" href="#set-a-custom-timeout-for-prefetching-resources"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Set a custom timeout for prefetching resources</h3><p>Defaults to 2 seconds (via <code>requestIdleCallback</code>). Here we override it to 4 seconds:</p><div class="highlight highlight-source-js"><pre><span class="pl-smi">quicklink</span>.<span class="pl-en">listen</span>({
  timeout<span class="pl-k">:</span><span class="pl-c1">4000</span>
});</pre></div><h3><a id="user-content-set-the-dom-element-to-observe-for-in-viewport-links" class="anchor" aria-hidden="true" href="#set-the-dom-element-to-observe-for-in-viewport-links"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Set the DOM element to observe for in-viewport links</h3><p>Defaults to <code>document</code> otherwise.</p><div class="highlight highlight-source-js"><pre><span class="pl-smi">quicklink</span>.<span class="pl-en">listen</span>({
  el<span class="pl-k">:</span><span class="pl-c1">document</span>.<span class="pl-c1">getElementById</span>(<span class="pl-s"><span class="pl-pds">'</span>carousel<span class="pl-pds">'</span></span>)
});</pre></div><h3><a id="user-content-programmatically-prefetch-urls" class="anchor" aria-hidden="true" href="#programmatically-prefetch-urls"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Programmatically <code>prefetch()</code> URLs</h3><p>If you would prefer to provide a static list of URLs to be prefetched, instead of detecting those in-viewport, customizing URLs is supported.</p><div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> Single URL</span><span class="pl-smi">quicklink</span>.<span class="pl-en">prefetch</span>(<span class="pl-s"><span class="pl-pds">'</span>2.html<span class="pl-pds">'</span></span>);

<span class="pl-c"><span class="pl-c">//</span> Multiple URLs</span><span class="pl-smi">quicklink</span>.<span class="pl-en">prefetch</span>([<span class="pl-s"><span class="pl-pds">'</span>2.html<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>3.html<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>4.js<span class="pl-pds">'</span></span>]);

<span class="pl-c"><span class="pl-c">//</span> Multiple URLs, with high priority</span><span class="pl-c"><span class="pl-c">//</span> Note: Can also be use with single URL!</span><span class="pl-smi">quicklink</span>.<span class="pl-en">prefetch</span>([<span class="pl-s"><span class="pl-pds">'</span>2.html<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>3.html<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>4.js<span class="pl-pds">'</span></span>], <span class="pl-c1">true</span>);</pre></div><h3><a id="user-content-set-the-request-priority-for-prefetches-while-scrolling" class="anchor" aria-hidden="true" href="#set-the-request-priority-for-prefetches-while-scrolling"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Set the request priority for prefetches while scrolling</h3><p>Defaults to low-priority (<code>rel=prefetch</code> or XHR). For high-priority (<code>priority: true</code>), attempts to use <code>fetch()</code> or falls back to XHR.</p><blockquote><p><strong>Note:</strong> This runs <code>prefetch(..., true)</code> with URLs found within the <code>options.el</code> container.</p></blockquote><div class="highlight highlight-source-js"><pre><span class="pl-smi">quicklink</span>.<span class="pl-en">listen</span>({ priority<span class="pl-k">:</span><span class="pl-c1">true</span> });</pre></div><h3><a id="user-content-specify-a-custom-list-of-allowed-origins" class="anchor" aria-hidden="true" href="#specify-a-custom-list-of-allowed-origins"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Specify a custom list of allowed origins</h3><p>Provide a list of hostnames that should be prefetch-able. Only the same origin is allowed by default.</p><blockquote><p><strong>Important:</strong> You must also include your own hostname!</p></blockquote><div class="highlight highlight-source-js"><pre><span class="pl-smi">quicklink</span>.<span class="pl-en">listen</span>({
  origins<span class="pl-k">:</span> [
    <span class="pl-c"><span class="pl-c">//</span> add mine</span><span class="pl-s"><span class="pl-pds">'</span>my-website.com<span class="pl-pds">'</span></span>,
    <span class="pl-s"><span class="pl-pds">'</span>api.my-website.com<span class="pl-pds">'</span></span>,
    <span class="pl-c"><span class="pl-c">//</span> add third-parties</span><span class="pl-s"><span class="pl-pds">'</span>other-website.com<span class="pl-pds">'</span></span>,
    <span class="pl-s"><span class="pl-pds">'</span>example.com<span class="pl-pds">'</span></span>,
    <span class="pl-c"><span class="pl-c">//</span> ...</span>
  ]
});</pre></div><h3><a id="user-content-allow-all-origins" class="anchor" aria-hidden="true" href="#allow-all-origins"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Allow all origins</h3><p>Enables all cross-origin requests to be made.</p><blockquote><p><strong>Note:</strong> You may run into <a href="https://chromium.googlesource.com/chromium/src/+/master/services/network/cross_origin_read_blocking_explainer.md" rel="nofollow">CORB</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" rel="nofollow">CORS</a> issues!</p></blockquote><div class="highlight highlight-source-js"><pre><span class="pl-smi">quicklink</span>.<span class="pl-en">listen</span>({
  origins<span class="pl-k">:</span><span class="pl-c1">true</span>,
  <span class="pl-c"><span class="pl-c">//</span> or</span>
  origins<span class="pl-k">:</span> []
});</pre></div><h3><a id="user-content-custom-ignore-patterns" class="anchor" aria-hidden="true" href="#custom-ignore-patterns"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom Ignore Patterns</h3><p>These filters run <em>after</em> the <code>origins</code> matching has run. Ignores can be useful for avoiding large file downloads or for responding to DOM attributes dynamically.</p><div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> Same-origin restraint is enabled by default.</span><span class="pl-c"><span class="pl-c">//</span></span><span class="pl-c"><span class="pl-c">//</span> This example will ignore all requests to:</span><span class="pl-c"><span class="pl-c">//</span>  - all "/api/*" pathnames</span><span class="pl-c"><span class="pl-c">//</span>  - all ".zip" extensions</span><span class="pl-c"><span class="pl-c">//</span>  - all &lt;a&gt; tags with "noprefetch" attribute</span><span class="pl-c"><span class="pl-c">//</span></span><span class="pl-smi">quicklink</span>.<span class="pl-en">listen</span>({
  ignores<span class="pl-k">:</span> [
<span class="pl-sr"><span class="pl-pds">/</span><span class="pl-cce">\/</span>api<span class="pl-cce">\/</span><span class="pl-k">?</span><span class="pl-pds">/</span></span>,
    <span class="pl-smi">uri</span><span class="pl-k">=&gt;</span><span class="pl-smi">uri</span>.<span class="pl-en">includes</span>(<span class="pl-s"><span class="pl-pds">'</span>.zip<span class="pl-pds">'</span></span>),
    (<span class="pl-smi">uri</span>, <span class="pl-smi">elem</span>) <span class="pl-k">=&gt;</span><span class="pl-smi">elem</span>.<span class="pl-c1">hasAttribute</span>(<span class="pl-s"><span class="pl-pds">'</span>noprefetch<span class="pl-pds">'</span></span>)
  ]
});</pre></div><p>You may also wish to ignore prefetches to URLs which contain a URL fragment (e.g. <code>index.html#top</code>). This can be useful if you (1) are using anchors to headings in a page or (2) have URL fragments setup for a single-page application, and which to avoid firing prefetches for similar URLs.</p><p>Using <code>ignores</code> this can be achieved as follows:</p><div class="highlight highlight-source-js"><pre><span class="pl-smi">quicklink</span>.<span class="pl-en">listen</span>({
  ignores<span class="pl-k">:</span> [
    <span class="pl-smi">uri</span><span class="pl-k">=&gt;</span><span class="pl-smi">uri</span>.<span class="pl-en">includes</span>(<span class="pl-s"><span class="pl-pds">'</span>#<span class="pl-pds">'</span></span>)
    <span class="pl-c"><span class="pl-c">//</span> or RegExp: /#(.+)/</span><span class="pl-c"><span class="pl-c">//</span> or element matching: (uri, elem) =&gt; !!elem.hash</span>
  ]
});</pre></div><h2><a id="user-content-browser-support" class="anchor" aria-hidden="true" href="#browser-support"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Browser Support</h2><p>The prefetching provided by <code>quicklink</code> can be viewed as a <a href="https://www.smashingmagazine.com/2009/04/progressive-enhancement-what-it-is-and-how-to-use-it/" rel="nofollow">progressive enhancement</a>. Cross-browser support is as follows:</p><ul><li>Without polyfills: Chrome, Safari ≥ 12.1, Firefox, Edge, Opera, Android Browser, Samsung Internet.</li><li>With <a href="https://github.com/w3c/IntersectionObserver/tree/master/polyfill">Intersection Observer polyfill</a> ~6KB gzipped/minified: Safari ≤ 12.0, IE11</li><li>With the above and a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set" rel="nofollow">Set()</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from" rel="nofollow">Array.from</a> polyfill: IE9 and IE10. <a href="https://github.com/zloirock/core-js">Core.js</a> provides both <code>Set()</code> and <code>Array.from()</code> shims. Projects like <a href="https://github.com/paulmillr/es6-shim/blob/master/README.md">es6-shim</a> are an alternative you can consider.</li></ul><p>Certain features have layered support:</p><h2><a id="user-content-using-the-prefetcher-directly" class="anchor" aria-hidden="true" href="#using-the-prefetcher-directly"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using the prefetcher directly</h2><p>A <code>prefetch</code> method can be individually imported for use in other projects.<br>This method includes the logic to respect Data Saver and 2G connections. It also issues requests thru <code>fetch()</code>, XHRs, or <code>link[rel=prefetch]</code> depending on (a) the <code>isPriority</code> value and (b) the current browser's support.</p><p>After installing <code>quicklink</code> as a dependency, you can use it as follows:</p><div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">script</span><span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>module<span class="pl-pds">"</span></span>&gt;<span class="pl-s1"></span><span class="pl-s1"><span class="pl-k">import</span> { <span class="pl-smi">prefetch</span> } <span class="pl-k">from</span><span class="pl-s"><span class="pl-pds">'</span>quicklink<span class="pl-pds">'</span></span>;</span><span class="pl-s1"><span class="pl-en">prefetch</span>([<span class="pl-s"><span class="pl-pds">'</span>1.html<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>2.html<span class="pl-pds">'</span></span>]).<span class="pl-c1">catch</span>(<span class="pl-smi">err</span><span class="pl-k">=&gt;</span> {</span><span class="pl-s1"><span class="pl-c"><span class="pl-c">//</span> Handle own errors</span></span><span class="pl-s1">  });</span><span class="pl-s1"></span>&lt;/<span class="pl-ent">script</span>&gt;</pre></div><h2><a id="user-content-demo" class="anchor" aria-hidden="true" href="#demo"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Demo</h2><h3><a id="user-content-glitch-demos" class="anchor" aria-hidden="true" href="#glitch-demos"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Glitch demos</h3><h3><a id="user-content-research" class="anchor" aria-hidden="true" href="#research"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Research</h3><p>Here's a <a href="https://www.webpagetest.org/video/view.php?id=181212_4c294265117680f2636676721cc886613fe2eede&amp;data=1" rel="nofollow">WebPageTest run</a> for our <a href="https://keyword-2-ecd7b.firebaseapp.com/" rel="nofollow">demo</a> improving page-load performance by up to 4 seconds via quicklink's prefetching. A <a href="https://youtu.be/rQ75YEbJicw" rel="nofollow">video</a> comparison of the before/after prefetching is on YouTube.</p><p>For demo purposes, we deployed a version of the <a href="https://blog.google" rel="nofollow">Google Blog</a> on
Firebase hosting. We then deployed another version of it, adding quicklink to the homepage and benchmarked navigating from the homepage to an article that was
automatically prefetched. The prefetched version loaded faster.</p><p>Please note: this is by no means an exhaustive benchmark of the pros and cons of in-viewport link prefetching. Just a demo of the potential improvements the approach can offer. Your own mileage may heavily vary.</p><h2><a id="user-content-additional-notes" class="anchor" aria-hidden="true" href="#additional-notes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Additional notes</h2><h3><a id="user-content-session-stitching" class="anchor" aria-hidden="true" href="#session-stitching"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Session Stitching</h3><p>Cross-origin prefetching (e.g a.com/foo.html prefetches b.com/bar.html) has a number of limitations. One such limitation is with session-stitching. b.com may expect a.com's navigation requests to include session information (e.g a temporary ID - e.g b.com/bar.html?hash=&lt;&gt;&amp;timestamp=&lt;&gt;), where this information is used to customize the experience or log information to analytics.  If session-stitching requires a timestamp in the URL, what is prefetched and stored in the HTTP cache may not be the same as the one the user ultimately navigates to. This introduces a challenge as it can result in double prefetches.</p><p>To workaround this problem, you can consider passing along session information via the <a href="https://caniuse.com/#feat=ping" rel="nofollow">ping attribute</a> (separately) so the origin can stitch a session together asynchronously.</p><h3><a id="user-content-ad-related-considerations" class="anchor" aria-hidden="true" href="#ad-related-considerations"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ad-related considerations</h3><p>Sites that rely on ads as a source of monetization should not prefetch ad-links, to avoid unintentionally counting clicks against those ad placements, which can lead to inflated Ad CTR (click-through-rate).</p><p>Ads appear on sites mostly in two ways:</p><ul><li><p><strong>Inside iframes:</strong> By default, most ad-servers render ads within iframes. In these cases, those ad-links won't be prefetched by Quicklink, unless a developer explicitly passes in the URL of an ads iframe. The reason is that the library look-up for in-viewport elements is restricted to those of the top-level origin.</p></li><li><p><strong>Outside iframes:</strong>: In cases when the site shows same-origin ads, displayed in the top-level document (e.g. by hosting the ads themselves and by displaying the ads in the page directly), the developer needs to explicitly tell Quicklink to avoid prefetching these links. This can be achieved by passing the URL or subpath of the ad-link, or the element containing it to the <a href="/GoogleChromeLabs/quicklink/blob/master/#custom-ignore-patterns">custom ignore patterns list</a>.</p></li></ul><h2><a id="user-content-related-projects" class="anchor" aria-hidden="true" href="#related-projects"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Related projects</h2><ul><li>Using <a href="https://gatsbyjs.org" rel="nofollow">Gatsby</a>? You already get most of this for free baked in. It uses <code>Intersection Observer</code> to prefetch all of the links that are in view and provided heavy inspiration for this project.</li><li>Want a more data-driven approach? See <a href="https://guess-js.github.io" rel="nofollow">Guess.js</a>. It uses analytics and machine-learning to prefetch resources based on how users navigate your site. It also has plugins for <a href="https://www.npmjs.com/package/guess-webpack" rel="nofollow">Webpack</a> and <a href="https://www.gatsbyjs.org/docs/optimizing-site-performance-with-guessjs/" rel="nofollow">Gatsby</a>.</li><li>WordPress users can now get quicklink as a <a href="https://wordpress.org/plugins/quicklink/" rel="nofollow">WordPress Plugin from the plugin repository</a>.</li><li>Drupal users can install the <a href="https://www.drupal.org/project/quicklink" rel="nofollow">Quicklink Drupal module</a>.</li><li>Want less aggressive prefetching? <a href="https://instant.page/" rel="nofollow">instant.page</a> prefetches on mouseover and touchstart, right before a click.</li></ul><h2><a id="user-content-license" class="anchor" aria-hidden="true" href="#license"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>License</h2><p>Licensed under the Apache-2.0 license.</p></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
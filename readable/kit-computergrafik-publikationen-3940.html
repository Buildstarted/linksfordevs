<!DOCTYPE html>
<html lang="en">
<head>
    <title>
KIT - Computergrafik - Publikationen - Reweighting Firefly Samples for Improved Finite-Sample Monte Carlo Estimates - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="KIT - Computergrafik - Publikationen - Reweighting Firefly Samples for Improved Finite-Sample Monte Carlo Estimates - linksfor.dev(s)"/>
    <meta property="article:author" content="Zirr, Tobias (IVD)"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="http://cg.ivd.kit.edu/rwmc.php"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
	<div class="devring" style="background: #222">
		<div class="grid">
			<div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
				<span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
				<a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
				<a href="https://devring.club/random" class="devring-random">Random</a>
				<a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
			</div>
		</div>
	</div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - KIT - Computergrafik - Publikationen - Reweighting Firefly Samples for Improved Finite-Sample Monte Carlo Estimates</title>
<div class="readable">
        <h1>KIT - Computergrafik - Publikationen - Reweighting Firefly Samples for Improved Finite-Sample Monte Carlo Estimates</h1>
            <div>by Zirr, Tobias (IVD)</div>
            <div>Reading time: 3-4 minutes</div>
        <div>Posted here: 27 Feb 2019</div>
        <p><a href="http://cg.ivd.kit.edu/rwmc.php">http://cg.ivd.kit.edu/rwmc.php</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>



<h3><a href="http://cg.ivd.kit.edu/zirr/index.php">Tobias Zirr</a>, <a href="http://cg.ivd.kit.edu/hanika/index.php">Johannes Hanika</a>, and <a href="http://cg.ivd.kit.edu/dachsbacher/index.php">Carsten Dachsbacher</a></h3>

<h3><a href="https://doi.org/10.1111/cgf.13335" target="_blank" title="externer Link: https://doi.org/10.1111/cgf.13335">Computer Graphics Forum&nbsp;<img src="http://cg.ivd.kit.edu/img/intern/icon_external_link.gif" alt="External Link"></a></h3>

<div>
			<p><img alt="" src="https://cg.ivd.kit.edu/publications/2018/rwmc/teaser.jpg" width="720"></p>
			</div>

<p>A flashlight with a small light bulb reflecting off a green-tinted mirror, causing fireflies. The scene also features two easier caustics: a specular
reflection (red box) and a glossy bounce light (blue). Reweighting using our method in order to control variance results in a darker but stable image.
Notice how well-sampled phenomena such as the reflected area light and light reflected by the glossy diffuser are retained, while fireflies are removed and lamp caustics
are attenuated with increasing variance.</p>

<h2>Abstract</h2>

<p>Samples with high contribution but low probability density, often called fireflies, occur in all practical Monte Carlo estimators
and are part of computing unbiased estimates. For finite-sample estimates, however, they can lead to excessive variance.
Rejecting all samples classified as outliers, as suggested in previous work, leads to estimates that are too low and can cause
undesirable artifacts. In this paper, we show how samples can be reweighted depending on their contribution and sampling
frequency such that the finite-sample estimate gets closer to the correct expected value and the variance can be controlled. For
this, we first derive a theory for how samples should ideally be reweighted and that this would require the probability density
function of the optimal sampling strategy. As this PDF is generally unknown, we show how the discrepancy between the optimal
and the actual sampling strategy can be estimated and used for reweighting in practice. We describe an efficient algorithm that
allows for the necessary analysis of per-pixel sample distributions in the context of Monte Carlo Rendering without storing
any individual samples, with only minimal changes to the rendering algorithm. It causes negligible runtime overhead, works in
constant memory, and is well-suited for parallel and progressive rendering. The reweighting runs as a fast postprocess, can be
controlled interactively, and our approach is non-destructive in that the unbiased result can be reconstructed at any time.</p>

<h2>Downloads</h2>

<table>
	<tbody>
		<tr>
			<td>
				<a href="https://cg.ivd.kit.edu/publications/2018/rwmc/reweighting-fireflies-preprint.pdf"><img src="https://cg.ivd.kit.edu/publications/icons/doc.png"></a>
			</td>
			<td>
				<a href="https://cg.ivd.kit.edu/publications/2018/rwmc/reweighting-fireflies-supplemental.mp4"><img src="https://cg.ivd.kit.edu/publications/icons/video.png"></a>
			</td>
			<td>
				<a href="https://cg.ivd.kit.edu/publications/2018/rwmc/tool/split.cpp" target="_blank"><img src="https://cg.ivd.kit.edu/publications/icons/source_code.png" height="48"></a>
			</td>
			<td>
				<a href="https://cg.ivd.kit.edu/publications/2018/rwmc/tool/reweight.fs" target="_blank"><img src="https://cg.ivd.kit.edu/publications/icons/source_code.png" height="48"></a>
			</td>
			<td>
				<a href="https://cg.ivd.kit.edu/publications/2018/rwmc/tool/rw.html" target="_blank" rel="noopener"><img src="https://cg.ivd.kit.edu/publications/2018/rwmc/tool.jpg" height="48"></a>
			</td>
		</tr>
		<tr>
			<td>
				Preprint
			</td>
			<td>
				Supplemental Video<br>(<a href="https://youtu.be/m_ZhN9DTduU" rel="noopener" target="_blank" title="externer Link: https://youtu.be/m_ZhN9DTduU">LQ on YT&nbsp;<img src="http://cg.ivd.kit.edu/img/intern/icon_external_link.gif" alt="External Link"></a>)
			</td>
			<td>
				Cascaded Splatting<br>(C++)
			</td>
			<td>
				Re-Weighting<br>(GLSL)
			</td>
			<td>
				Interactive Online Tool<br>(WebGL)
			</td>
		</tr>
	</tbody>
</table>

<h2><a name="interactive" id="interactive"></a>Interactive WebGL Demo Implementation</h2>

<p><a href="https://cg.ivd.kit.edu/publications/2018/rwmc/tool/rw.html" target="_blank" rel="noopener">The online viewer</a> may be used for interactive re-weighting of Monte Carlo Rendering results in a post process, either by
selecting your own framebuffer files or looking at one of the following online examples from the paper (about 20 MB of download each!):

</p>

</div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
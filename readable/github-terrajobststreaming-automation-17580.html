<!DOCTYPE html>
<html lang="en">
<head>
    <title>
terrajobst/streaming-automation - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="terrajobst/streaming-automation - linksfor.dev(s)"/>
    <meta property="article:author" content="terrajobst"/>
    <meta property="og:description" content="Contribute to terrajobst/streaming-automation development by creating an account on GitHub."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://github.com/terrajobst/streaming-automation"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - terrajobst/streaming-automation</title>
<div class="readable">
        <h1>terrajobst/streaming-automation</h1>
            <div>by terrajobst</div>
            <div>Reading time: 3 minutes</div>
        <div>Posted here: 26 Apr 2019</div>
        <p><a href="https://github.com/terrajobst/streaming-automation">https://github.com/terrajobst/streaming-automation</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="readme">
    
        

      <div>
        <article itemprop="text">
<p><a href="https://terrajobst.visualstudio.com/streaming-automation/_build/latest?definitionId=16&amp;branchName=master" rel="nofollow"><img src="https://camo.githubusercontent.com/3b2a9a49a3a6d6732ffe46a60367df5d3da6b455/68747470733a2f2f74657272616a6f6273742e76697375616c73747564696f2e636f6d2f73747265616d696e672d6175746f6d6174696f6e2f5f617069732f6275696c642f7374617475732f74657272616a6f6273742e73747265616d696e672d6175746f6d6174696f6e3f6272616e63684e616d653d6d6173746572" alt="Build Status" data-canonical-src="https://terrajobst.visualstudio.com/streaming-automation/_apis/build/status/terrajobst.streaming-automation?branchName=master"></a></p>
<h2>OBS</h2>
<p><a href="https://www.nuget.org/packages/Terrajobst.StreamingAutomation.Obs/" rel="nofollow"><img src="https://camo.githubusercontent.com/4aa8637dc0033fcb66e6c3d6985200a6d5355395/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f54657272616a6f6273742e53747265616d696e674175746f6d6174696f6e2e4f62732e737667" alt="nuget" data-canonical-src="https://img.shields.io/nuget/v/Terrajobst.StreamingAutomation.Obs.svg"></a></p>
<pre><code>dotnet add package Terrajobst.StreamingAutomation.Obs
</code></pre>
<p>This allows you to automate OBS Studio. In order to use it, you need to install
the <a href="https://gc-updates.elgato.com/windows/sd-update/final/download-website.php" rel="nofollow">Stream Deck</a> software. You don't have to have the Stream Deck connected to
your computer though.</p>
<p>For example, let's say you want to start your stream on a specific scene and
always want to record and stream, you'd write code like this:</p>
<div><pre><span>private</span> <span>void</span> <span>StartStreamButton_Click</span>(<span>object</span> <span>sender</span>, <span>EventArgs</span> <span>e</span>)
{
    <span>var</span> <span>sceneCollectionId</span> <span>=</span> <span><span>"</span>My Scene Collection<span>"</span></span>;
    <span>var</span> <span>introSceneId</span> <span>=</span> <span>sceneCollectionId</span> <span>+</span> <span><span>"</span>My Intro Scene<span>"</span></span>;

    <span>var</span> <span>obsClient</span> <span>=</span> <span>await</span> <span>ObsClient</span>.<span>ConnectAsync</span>();
    <span>await</span> <span>obsClient</span>.<span>SelectSceneCollectionAsync</span>(<span>sceneCollectionId</span>);
    <span>await</span> <span>obsClient</span>.<span>SelectSceneAsync</span>(<span>introSceneId</span>);
    <span>await</span> <span>obsClient</span>.<span>StartRecordingAsync</span>();
    <span>await</span> <span>obsClient</span>.<span>StartStreamingAsync</span>();
}</pre></div>
<p>Similarly, when you want to end your stream by fading to black, you can write
code like this:</p>
<div><pre><span>private</span> <span>void</span> <span>StopStreamButton_Click</span>(<span>object</span> <span>sender</span>, <span>EventArgs</span> <span>e</span>)
{
    <span>var</span> <span>sceneCollectionId</span> <span>=</span> <span><span>"</span>My Scene Collection<span>"</span></span>;
    <span>var</span> <span>blankSceneId</span> <span>=</span> <span>sceneCollectionId</span> <span>+</span> <span><span>"</span>My Blank Scene<span>"</span></span>;

    <span>var</span> <span>obsClient</span> <span>=</span> <span>await</span> <span>ObsClient</span>.<span>ConnectAsync</span>();

    <span>await</span> <span>obsClient</span>.<span>SelectSceneCollectionAsync</span>(<span>sceneCollectionId</span>);
    <span>await</span> <span>obsClient</span>.<span>SelectSceneAsync</span>(<span>blankSceneId</span>);

    <span>await</span> <span>Task</span>.<span>Delay</span>(<span>TimeSpan</span>.<span>FromSeconds</span>(<span>2</span>));

    <span>await</span> <span>obsClient</span>.<span>StopStreamingAsync</span>();
    <span>await</span> <span>obsClient</span>.<span>StopRecordingAsync</span>();
}</pre></div>
<h2>YouTube</h2>
<p><a href="https://www.nuget.org/packages/Terrajobst.StreamingAutomation.YouTube/" rel="nofollow"><img src="https://camo.githubusercontent.com/6e627360c7d096658fc1403ea6355fb4467d5498/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f54657272616a6f6273742e53747265616d696e674175746f6d6174696f6e2e596f75547562652e737667" alt="nuget" data-canonical-src="https://img.shields.io/nuget/v/Terrajobst.StreamingAutomation.YouTube.svg"></a></p>
<pre><code>dotnet add package Terrajobst.StreamingAutomation.YouTube
</code></pre>
<p>After you started the OBS stream, you probably want to start the broad cast on a
streaming platform like YouTube. If you can use YouTube Stream Now, then
starting the broadcast explicitly isn't needed. But if you use multiple events,
you may need to start the event manually.</p>
<p>You can easily automate this like this:</p>
<div><pre><span>const</span> <span>string</span> <span>youTubeClientId</span> <span>=</span> <span><span>"</span>&lt;Your YouTube Client ID<span>"</span></span>;
<span>const</span> <span>string</span> <span>youTubeClientSecret</span> <span>=</span> <span><span>"</span>&lt;Your YouTube Client Secrete<span>"</span></span>;
<span>var</span> <span>youTubeClient</span> <span>=</span> <span>await</span> <span>YouTubeClient</span>.<span>ConnectAsync</span>(<span>youTubeClientId</span>, <span>youTubeClientSecret</span>);

<span>var</span> <span>upcomingEvents</span> <span>=</span> <span>await</span> <span>youTubeClient</span>.<span>GetUpcomingEvents</span>();
<span>var</span> <span>selectEvent</span> <span>=</span> <span>ChooseEvent</span>(<span>upcomingEvents</span>);

<span><span>//</span> Use OBS to start the stream</span>
<span>await</span> <span>Task</span>.<span>Delay</span>(<span>TimeSpan</span>.<span>FromSeconds</span>(<span>5</span>));

<span><span>//</span> Start the broadcast on the YouTube side:</span>
<span>await</span> <span>youTubeClient</span>.<span>StartBroadcast</span>(<span>selectEvent</span>.<span>Id</span>);

<span><span>//</span> To stop the broadcast, you'd call this method:</span>
<span>await</span> <span>youTubeClient</span>.<span>EndBroadcast</span>(<span>selectEvent</span>.<span>Id</span>);</pre></div>
</article>
      </div>
  </div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
When Containers Become Trashcans - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="When Containers Become Trashcans - linksfor.dev(s)"/>
    <meta property="og:description" content="Containers are so awesome. Prior to containers, if you wanted to experiment with some new technology, you had to go through the ringer to configure and install all of the appropriate dependencies, set up the proper infrastructure, and clutter your machine with tons of trash that you might not ever"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="http://rion.io/2020/03/01/when-containers-become-trashcans/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
	<div class="devring" style="background: #222">
		<div class="grid">
			<div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
				<span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
				<a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
				<a href="https://devring.club/random" class="devring-random">Random</a>
				<a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
			</div>
		</div>
	</div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - When Containers Become Trashcans</title>
<div class="readable">
        <h1>When Containers Become Trashcans</h1>
            <div>Reading time: 3-4 minutes</div>
        <div>Posted here: 02 Mar 2020</div>
        <p><a href="http://rion.io/2020/03/01/when-containers-become-trashcans/">http://rion.io/2020/03/01/when-containers-become-trashcans/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div role="main">
    <article>

        

        <section>
            <p>Containers are <em>so</em> awesome.</p>

<p>Prior to containers, if you wanted to experiment with some new technology, you had to go through the ringer to configure and install all of the appropriate dependencies, set up the proper infrastructure, and clutter your machine with tons of trash that you might not ever care to use in the future. Thankfully, Docker and other containerized technologies came along and empowered developers to just throw a one-liner into the command line and like magic, the entire world appeared in a magical little box.</p>

<p>Several days ago, I had an idea in my head so I scrounged around through <a href="https://hub.docker.com/">Docker Hub</a> looking for the perfect container that had everything that I wanted in it. I'd pull down one, tinker a bit, and throw it away. Pull another down, try something else, and then eventually throw it away. Pull yet another one down and ... crap!</p>

<pre><code>docker: write /var/lib/docker/tmp/GetImageBlob785934359: no space left on device.  
</code></pre>

<p>No space left on my device? That's odd, maybe it's the hours upon hours of videos that I've downloaded for my kids to watch on road trips, or all those computer games that I've installed but never can find the time to play (some day)? Let me check out the hard-drive and see how that looks:</p>

<p><img src="http://rion.io/content/images/2020/02/no-that-bad.PNG" alt="look mom plenty of space"></p>

<p>Okay, so either this image that I'm pulling down is <em>really</em> big, or something else is going on. After a bit of mulling it over, I realized that like all good humans that don't want <a href="https://en.wikipedia.org/wiki/Technological_singularity">the machines taking over</a>, delegated a specific amount of space and resources that Docker could take advantage and sure enough, I was right at the threshold.</p>

<p>It was time to take out the trash, however since <code>docker dump trash</code> isn't a legitimate command (at least out of the box), I just had to do a quick prune:</p>

<pre><code>docker system prune  
</code></pre>

<p>The prune command in a nutshell does the following:</p>

<ul>
<li>Removes all non-running / stopped containers</li>
<li>Removes all volumes that aren't being used (by at least one active container)</li>
<li>Removes all networks that aren't being used (by at least one active container)</li>
<li>Removes all dangling images within the system.</li>
</ul>

<p>Since I mentioned above that I <em>really</em> enjoy playing with containers, I figured that we'd just do it live, so here's what that looked like on my local machine:</p>

<p><img src="http://rion.io/content/images/2020/03/take-out-the-trash.gif" alt="as if millions of containers cried out"></p>

<p><strong>With three little words, I managed to free up nearly 126GB of unused space across 22 containers, 5 networks, and 45 images).</strong> That's quite impressive, but more importantly, I was then able to immediately install the image that I was trying to in the first place. </p>

<p>So the moral of the story is this - containers are really awesome, powerful, and useful to the modern developer, but if you aren't mindful, those unused ones can quickly turn from containers to trashcans that can make your development environment a stinky place to work in.</p>


            
        </section>

        
        
        
         
          
    </article>
</div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
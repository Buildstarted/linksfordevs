<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Introducing .NET for Apache&#xAE; Spark&#x2122; Preview -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>Introducing .NET for Apache® Spark™ Preview</h1><div><div class="entry-content col-12 sharepostcontent"><div class="row justify-content-center"><div class="col-md-4"><div><img src="https://devblogs.microsoft.com/dotnet/wp-content/uploads/sites/10/2019/04/ankit-150x150.png" width="58" height="58" alt="Ankit Asthana" class="avatar avatar-58 wp-user-avatar wp-user-avatar-58 alignnone photo"></div></div></div><p>April 24th, 2019</p><p><span class="TextRun BCX1 SCXW18145513" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun BCX1 SCXW18145513">Today </span></span><span class="TextRun BCX1 SCXW18145513" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun BCX1 SCXW18145513">at </span></span><a href="https://databricks.com/sparkaisummit/north-america"><span class="FieldRange BCX1 SCXW18145513"><span class="TextRun Underlined BCX1 SCXW18145513" lang="EN-US" xml:lang="EN-US" data-contrast="none"><span class="NormalTextRun BCX1 SCXW18145513">Spark + AI summit</span></span></span></a><span class="TextRun BCX1 SCXW18145513" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun BCX1 SCXW18145513">we are </span></span><span class="TextRun BCX1 SCXW18145513" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun BCX1 SCXW18145513">excited</span></span><span class="TextRun BCX1 SCXW18145513" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun BCX1 SCXW18145513"> to </span></span><span class="TextRun BCX1 SCXW18145513" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun BCX1 SCXW18145513">announce</span></span><a href="http://aka.ms/dotnetsparkpreview">.NET for Apache Spark</a><span class="TextRun BCX1 SCXW18145513" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun BCX1 SCXW18145513">.</span></span><span class="TextRun BCX1 SCXW18145513" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun BCX1 SCXW18145513">Spark is a popular open</span></span><span class="TextRun BCX1 SCXW18145513" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun BCX1 SCXW18145513"> source </span></span><span class="TextRun BCX1 SCXW18145513" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun BCX1 SCXW18145513">distributed process</span></span><span class="TextRun BCX1 SCXW18145513" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun BCX1 SCXW18145513">ing engine</span></span><span class="TextRun BCX1 SCXW18145513" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun BCX1 SCXW18145513"> for an</span></span><span class="TextRun BCX1 SCXW18145513" lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span class="NormalTextRun BCX1 SCXW18145513">alytics over large data sets.&nbsp;Spark can be used for processing batches of data, real-time streams, machine learning, and ad-hoc query.</span></span></p><p><a href="http://aka.ms/dotnetsparkpreview">.NET for Apache Spark</a> is aimed at making Apache® Spark™ accessible to .NET developers across all Spark APIs.&nbsp;So far Spark has been accessible through Scala, Java, Python and R but not .NET.</p><p>We plan to develop&nbsp;.NET for Apache Spark in the open (as a<a tabindex="-1" title="https://dotnetfoundation.org" href="https://dotnetfoundation.org" target="_blank" rel="noreferrer noopener"> .NET Foundation</a> member project) along with the Spark and .NET community to ensure that developers get the best of both worlds.</p><p><a href="https://devblogs.microsoft.com/dotnet/wp-content/uploads/sites/10/2019/04/dotnetsparklogo-6.png"><img class="" src="https://devblogs.microsoft.com/dotnet/wp-content/uploads/sites/10/2019/04/dotnetsparklogo-6.png" alt=".NET Spark Logo" width="906" height="334" border="2"></a></p><p><span><a href="https://github.com/dotnet/spark">https://github.com/dotnet/spark&nbsp;</a><a class="github-button" href="https://github.com/dotnet/spark" aria-label="Star dotnet/spark on GitHub" data-size="large" data-show-count="false">Star</a></span></p><p>The remainder of this post provides more specifics on the following topics:</p><h3><a id="dotnetspark"></a>What is .NET for Apache Spark?</h3><p>.<a href="http://aka.ms/dotnetsparkpreview">NET for Apache Spark</a> provides high performance APIs for using Spark from C# and F#. With this .NET APIs, you can access all aspects of Apache Spark including Spark SQL, DataFrames, Streaming, MLLib etc. .NET for Apache Spark lets you reuse all the knowledge, skills, code, and libraries you already have as a .NET developer.</p><p>The C#/ F# language binding to Spark will be written on a new Spark interop layer which offers easier extensibility. This new layer of Spark interop was written keeping in mind best practices for language extension and optimizes for interop and performance. Long term this extensibility can be used for adding support for other languages in Spark.</p><p>You can learn more details about this <a href="https://issues.apache.org/jira/browse/SPARK-26257">work through this proposal</a>.</p><p><a href="https://devblogs.microsoft.com/dotnet/wp-content/uploads/sites/10/2019/04/dotnetsparkarchitecture-1.png"><img class="" src="https://devblogs.microsoft.com/dotnet/wp-content/uploads/sites/10/2019/04/dotnetsparkarchitecture-1.png" alt=".NET Spark Performance" width="377" height="316"></a></p><p>.NET for Apache Spark is compliant with .NET Standard 2.0 and can be used on Linux, macOS, and Windows, just like the rest of .NET. .NET for Apache Spark is available by default in Azure HDInsight, and can be installed in Azure Databricks and more.</p><h3><a id="getstarted"></a>Getting Started with .NET for Apache Spark</h3><div class="highlight highlight-source-cs"><p>Before you can get started with .NET for Apache Spark, you do need to install a few things. Follow <a href="https://github.com/dotnet/spark#get-started">these steps</a> to get started with <a href="http://aka.ms/dotnetsparkpreview">.NET for Apache Spark</a></p><p>Once setup, you can start programming Spark applications in .NET with three easy steps.</p><p>In our first .NET Spark application we will write a basic Spark pipeline which counts the occurrence of each word in a text segment.</p><pre class="">// 1. Create a Spark session
var spark = SparkSession
    .Builder()
    .AppName("word_count_sample")
    .GetOrCreate();

// 2. Create a DataFrame
DataFrame dataFrame = spark.Read().Text("input.txt");

// 3. Manipulate and view data
var words = dataFrame.Select(Split(dataFrame["value"], " ").Alias("words"));

words.Select(Explode(words["words"])
    .Alias("word"))
    .GroupBy("word")
    .Count()
    .Show();
</pre><h3><a id="performance"></a>.NET for Apache Spark performance</h3><p>We are pleased to say that the first preview version of .NET for Apache Spark performs well on the popular <a href="http://www.tpc.org/tpch/">TPC-H benchmark</a>. The TPC-H benchmark consists of a suite of business oriented queries.&nbsp;The chart below illustrates the performance of .NET Core versus Python and Scala on the TPC-H query set.</p><p><a href="https://devblogs.microsoft.com/dotnet/wp-content/uploads/sites/10/2019/04/performance.png"><img class="" src="https://devblogs.microsoft.com/dotnet/wp-content/uploads/sites/10/2019/04/performance.png" alt=".NET Spark Performance" width="820" height="615"></a></p><p>The chart above shows the per query performance of .NET for Apache Spark versus Python and Scala. .NET for Apache Spark performs well against Python and Scala .&nbsp;Furthermore, in cases where UDF performance is critical such as query 1 where 3B rows of non-string data is passed between the JVM and the CLR .NET for Apache Spark is 2x faster than Python.</p><p>It’s also important to call out that this is our first preview of .NET for Apache Spark and we aim to further invest in improving and benchmarking performance (e.g. Arrow optimizations). You can follow our instructions to benchmark this on our GitHub repo.</p><h3><a id="whatnext"></a>What’s next with .NET For Apache Spark</h3><p>Today marks the first step in our journey. Following are some features on our near-term roadmap. Please follow the <a href="https://github.com/dotnet/spark/blob/master/ROADMAP.md">full roadmap</a> on our <a href="https://github.com/dotnet/spark">GitHub repo</a>.</p><ul><li>Simplified getting started experience, documentation and samples</li><li>Native integration with developer tools such as Visual Studio, Visual Studio Code, Jupyter notebooks</li><li>.NET support for user-defined aggregate functions</li><li>.NET idiomatic APIs for C# and F# (e.g., using LINQ for writing queries)</li><li>Out of the box support with Azure Databricks, Kubernetes etc.</li><li>Make .NET for Apache Spark part of Spark Core. <a href="https://issues.apache.org/jira/browse/SPARK-27006">You can follow this<br>progress here.</a></li></ul><p>See something missing on this list, please drop us a comment below</p><h3><a id="wrapup"></a>Wrap Up</h3><p>.NET for Apache Spark is our first step in making .NET a great tech stack for building Big Data applications.</p><p>We need your help to shape the future of .NET for Apache Spark, we look forward to seeing what you &nbsp;build with .NET for Apache Spark. You can provide reach out to us through our GitHub repo.</p><p><span><a href="https://github.com/dotnet/spark">https://github.com/dotnet/spark&nbsp;</a><a class="github-button" href="https://github.com/dotnet/spark" aria-label="Star dotnet/spark on GitHub" data-size="large" data-show-count="true">Star</a></span></p><p><em>This blog is authored by Rahul Potharaju, Ankit Asthana, Tyson Condie, Terry Kim, Dan Moseley, Michael Rys and the rest of the .NET for Apache Spark team.&nbsp;</em></p></div><div class="authorinfoarea"><div><p>Principal PM Manager,&nbsp;.NET, Visual Studio, AI and Machine Learning</p><p><strong>Follow </strong>&nbsp;&nbsp;&nbsp;<a class="no-underline stayinformed" aria-label=" Ankit Asthana Twitter profile" target="_blank" href="https://twitter.com/ankitasthana86"></a><a class="no-underline stayinformed" aria-label=" Ankit Asthana LinkedIn profile" target="_blank" href="https://www.linkedin.com/in/ankitasthana/"><i class="fa fa-linkedin"></i></a><a class="no-underline stayinformed hvr-pop" aria-label=" Ankit Asthana RSS Feed" target="_blank" href="https://devblogs.microsoft.com/dotnet/author/aasthanmicrosoft-com/feed/"></a></p></div></div></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
hediet/vscode-debug-visualizer - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="hediet/vscode-debug-visualizer - linksfor.dev(s)"/>
    <meta property="article:author" content="hediet"/>
    <meta property="og:description" content="An extension for VS Code that visualizes data during debugging. - hediet/vscode-debug-visualizer"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://github.com/hediet/vscode-debug-visualizer/tree/master/extension"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
	<div class="devring" style="background: #222">
		<div class="grid">
			<div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
				<span class="devring-title">devring.club</span>
				<a href="https://devring.club/site/1/previous" class="devring-previous">Previous</a>
				<a href="https://devring.club/random" class="devring-random">Random</a>
				<a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
			</div>
		</div>
	</div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - hediet/vscode-debug-visualizer</title>
<div class="readable">
        <h1>hediet/vscode-debug-visualizer</h1>
            <div>by hediet</div>
            <div>Reading time: 6-7 minutes</div>
        <div>Posted here: 23 Feb 2020</div>
        <p><a href="https://github.com/hediet/vscode-debug-visualizer/tree/master/extension">https://github.com/hediet/vscode-debug-visualizer/tree/master/extension</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="readme">
    
        

      <div>
        <article itemprop="text">
<p><a href="https://twitter.com/intent/follow?screen_name=hediet_dev" rel="nofollow"><img src="https://camo.githubusercontent.com/74813140ec111d9ec21acea4a47508a870c6dec9/68747470733a2f2f696d672e736869656c64732e696f2f747769747465722f666f6c6c6f772f6865646965745f6465762e7376673f7374796c653d736f6369616c" alt="" data-canonical-src="https://img.shields.io/twitter/follow/hediet_dev.svg?style=social"></a></p>
<p>A VS Code extension for visualizing data structures while debugging.</p>
<p>Works best with JavaScript/TypeScript.
Also tested with C#, Java and PHP. Works with any language that you can debug in VS Code.</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/hediet/vscode-debug-visualizer/blob/master/docs/demo.gif"><img src="https://github.com/hediet/vscode-debug-visualizer/raw/master/docs/demo.gif" alt=""></a></p>
<h2>Usage</h2>
<p>After installing this extension, use the command <code>Open a new Debug Visualizer View</code> to open a new visualizer view.
In this view you can enter an expression that is evaluated and visualized while stepping through your application.</p>
<p>You can refresh the evaluation and pop out the current visualizer view into a new browser window by using the top right buttons.
You can also unfold the details pane to select a <em>Data Extractor</em> and a <em>Visualizer</em>.</p>
<h2>Supported Values</h2>
<p>Visualizers consume specific JSON data. See <a href="#Integrated%20Visualizers">Integrated Visualizers</a> for the schema of supported JSON data.</p>
<p>The currently visualized expression should evaluate to a JSON Object string,
matching the schema of one of the supported visualizers. This JSON string may be surrounded by single or double quotation marks (or none at all) and must not be escaped.
A valid example is <code>"{ "kind": { "text": true }, "text": "some text
more text" }"</code>.</p>
<p>For some languages (TypeScript/JavaScript), runtime code is injected to support <em>Data Extractors</em>.
A Data Extractor lifts the requirement for the visualized value to be a JSON string
and acts as a bridge between custom data structures and the JSON data processed by the visualizers.
When multiple Data Extractors are applicable, a preferred one can be selected in the visualization view.</p>
<h2>Integrated Visualizers</h2>
<p>The following visualizers are built into this extension.</p>
<h3>Graph Visualization</h3>
<p>The Graphviz and vis.js visualizers render data that matches the <code>Graph</code> interface.</p>
<div><pre><span>interface</span> <span>Graph</span> {
	kind<span>:</span> { graph<span>:</span> <span>true</span> };
	nodes<span>:</span> <span>NodeGraphData</span>[];
	edges<span>:</span> <span>EdgeGraphData</span>[];
}

<span>interface</span> <span>NodeGraphData</span> {
	id<span>:</span> <span>string</span>;
	label<span>?</span><span>:</span> <span>string</span>;
	color<span>?</span><span>:</span> <span>string</span>;
	shape<span>?</span><span>:</span> <span><span>"</span>ellipse<span>"</span></span> <span>|</span> <span><span>"</span>box<span>"</span></span>;
}

<span>interface</span> <span>EdgeGraphData</span> {
	from<span>:</span> <span>string</span>;
	to<span>:</span> <span>string</span>;
	label<span>?</span><span>:</span> <span>string</span>;
	id<span>?</span><span>:</span> <span>string</span>;
	color<span>?</span><span>:</span> <span>string</span>;
	dashes<span>?</span><span>:</span> <span>boolean</span>;
}</pre></div>
<p>The graphviz visualizer uses the SVG viewer to render the SVG created by <code>viz.js</code>.</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/hediet/vscode-debug-visualizer/blob/master/docs/visualization-graphviz.png"><img src="https://github.com/hediet/vscode-debug-visualizer/raw/master/docs/visualization-graphviz.png" alt=""></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/hediet/vscode-debug-visualizer/blob/master/docs/visualization-visjs.png"><img src="https://github.com/hediet/vscode-debug-visualizer/raw/master/docs/visualization-visjs.png" alt=""></a></p>
<h3>Plotly Visualization</h3>
<p>The plotly visualizer uses plotly and can visualize JSON data matching the following interface:</p>
<div><pre><span>export</span> <span>interface</span> <span>Plotly</span> {
	kind<span>:</span> { plotly<span>:</span> <span>true</span> };
	data<span>:</span> <span>Partial</span>&lt;<span>Plotly</span>.<span>Data</span>&gt;[];
}
<span><span>//</span> See plotly docs for Plotly.Data.</span></pre></div>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/hediet/vscode-debug-visualizer/blob/master/docs/visualization-plotly-random-walk.png"><img src="https://github.com/hediet/vscode-debug-visualizer/raw/master/docs/visualization-plotly-random-walk.png" alt=""></a></p>
<h3>Tree Visualization</h3>
<p>The tree visualizer renders data that matches the <code>Tree</code> interface.</p>
<div><pre><span>interface</span> <span>Tree</span>&lt;<span>TData</span> <span>=</span> <span>unknown</span>&gt; {
	kind<span>:</span> { tree<span>:</span> <span>true</span> };
	root<span>:</span> <span>TreeNode</span>&lt;<span>TData</span>&gt;;
}
<span>interface</span> <span>TreeNode</span>&lt;<span>TExtraData</span>&gt; {
	id<span>:</span> <span>string</span> <span>|</span> <span>undefined</span>;
	name<span>:</span> <span>string</span>;
	value<span>:</span> <span>string</span> <span>|</span> <span>undefined</span>;
	emphasizedValue<span>:</span> <span>string</span> <span>|</span> <span>undefined</span>;
	children<span>:</span> <span>TreeNode</span>&lt;<span>TExtraData</span>&gt;[];
	data<span>:</span> <span>TExtraData</span>;
	isMarked<span>:</span> <span>boolean</span>;
}</pre></div>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/hediet/vscode-debug-visualizer/blob/master/docs/visualization-tree.png"><img src="https://github.com/hediet/vscode-debug-visualizer/raw/master/docs/visualization-tree.png" alt=""></a></p>
<h3>AST Visualization</h3>
<p>The AST (Abstract Syntax Tree) visualizer renders data that matches the <code>Ast</code> interface.</p>
<div><pre><span>interface</span> <span>Ast</span>
	<span>extends</span> <span>Tree</span>&lt;{
			position<span>:</span> <span>number</span>;
			length<span>:</span> <span>number</span>;
		}&gt;,
		<span>Text</span> {
	kind<span>:</span> { text<span>:</span> <span>true</span>; tree<span>:</span> <span>true</span>; ast<span>:</span> <span>true</span> };
}</pre></div>
<p>Additionally to the tree view, the source code is rendered and when selecting an AST node,
its span in the source code is highlighted.</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/hediet/vscode-debug-visualizer/blob/master/docs/visualization-ast.png"><img src="https://github.com/hediet/vscode-debug-visualizer/raw/master/docs/visualization-ast.png" alt=""></a></p>
<h3>Grid Visualization</h3>
<p>Visualizes data matching the following interface:</p>
<div><pre><span>export</span> <span>interface</span> <span>Grid</span> {
	kind<span>:</span> { array<span>:</span> <span>true</span> };
	columnLabels<span>?</span><span>:</span> { label<span>?</span><span>:</span> <span>string</span> }[];
	rows<span>:</span> {
		label<span>?</span><span>:</span> <span>string</span>;
		columns<span>:</span> {
			content<span>?</span><span>:</span> <span>string</span>;
			tag<span>?</span><span>:</span> <span>string</span>;
			color<span>?</span><span>:</span> <span>string</span>;
		}[];
	}[];
	markers<span>?</span><span>:</span> {
		id<span>:</span> <span>string</span>;

		row<span>:</span> <span>number</span>;
		column<span>:</span> <span>number</span>;
		rows<span>?</span><span>:</span> <span>number</span>;
		columns<span>?</span><span>:</span> <span>number</span>;

		label<span>?</span><span>:</span> <span>string</span>;
		color<span>?</span><span>:</span> <span>string</span>;
	}[];
}</pre></div>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/hediet/vscode-debug-visualizer/blob/master/docs/visualization-grid.gif"><img src="https://github.com/hediet/vscode-debug-visualizer/raw/master/docs/visualization-grid.gif" alt=""></a></p>
<h3>Text Visualization</h3>
<p>The text visualizer renders data that matches the <code>Text</code> interface.</p>
<div><pre><span>interface</span> <span>Text</span> {
	kind<span>:</span> { text<span>:</span> <span>true</span> };
	text<span>:</span> <span>string</span>;
	mimeType<span>?</span><span>:</span> <span>string</span>;
	fileName<span>?</span><span>:</span> <span>string</span>;
}</pre></div>
<p>The <code>mimeType</code> and the file extension of <code>fileName</code> are used for syntax highlighting.</p>
<h3>SVG Visualization</h3>
<p>The SVG visualizer renders data that matches the <code>Svg</code> interface.
The actual SVG data must be stored in <code>text</code>.</p>
<div><pre><span>interface</span> <span>Svg</span> <span>extends</span> <span>Text</span> {
	kind<span>:</span> { text<span>:</span> <span>true</span>; svg<span>:</span> <span>true</span> };
}</pre></div>
<h3>Dot Graph Visualization</h3>
<p>The Graphviz Dot visualizer renders data that matches the <code>DotGraph</code> interface.</p>
<div><pre><span>interface</span> <span>DotGraph</span> <span>extends</span> <span>Text</span> {
	kind<span>:</span> { text<span>:</span> <span>true</span>; dotGraph<span>:</span> <span>true</span> };
}</pre></div>
<p><code>Viz.js</code> (Graphviz) is used for rendering.</p>
<h2>JavaScript/TypeScript Integrated Data Extractors</h2>
<p>Data extractors convert arbitrary values into data consumable by visualizers.
They live in the debugee. The following data extractors are injected automatically into the debugee by this extension when using the <code>node</code>, <code>node2</code>, <code>extensionHost</code> or <code>chrome</code> debug adapter.
Custom data extractors can be registered too.
See the package <code>@hediet/debug-visualizer-data-extraction</code> and its <a href="https://github.com/hediet/vscode-debug-visualizer/blob/master/data-extraction/README.md">README</a> for the implementation and its API.
Also, a global object of name <code>hedietDbgVis</code> with helper functions is injected.</p>
<h3>ToString</h3>
<p>Just calls <code>.toString()</code> on values and treats the result as text.</p>
<h3>TypeScript AST</h3>
<ul>
<li>Direct Visualization of <code>ts.Node</code>s</li>
<li>Visualization of <code>Record&lt;string, ts.Node&gt;</code> and <code>[ts.Node]</code>. If the record contains a key <code>fn</code>, its value is displayed for each node.</li>
</ul>
<h3>As Is Data Extractor</h3>
<p>Treats the data as direct input to the visualizer.</p>
<h3>Use Method 'getDebugVisualization'</h3>
<p>Calls <code>.getDebugVisualization()</code> on values and treats the result as direct input to the visualizer.</p>
<h3>Plotly y-Values</h3>
<p>Uses plotly to plot an array of numbers.</p>
<h3>Object Graph</h3>
<p>Constructs a graph containing all objects reachable from object the expression evaluates to.
Graph is constructed using a breadth search. Stops after 50 nodes.</p>
<h3>Array Grid</h3>
<p>Creates Grid visualization data for an array.</p>
<h2>UI Features</h2>
<ul>
<li>
<p><strong>Multi-line Expressions</strong>: Press <code>shift+enter</code> to add a new line and <code>ctrl+enter</code> to evaluate the expression.
When only having a single line, <code>enter</code> submits the current expression,
but when having multiple lines, <code>enter</code> inserts another line break.</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/hediet/vscode-debug-visualizer/blob/master/docs/multiline-expression.png"><img src="https://github.com/hediet/vscode-debug-visualizer/raw/master/docs/multiline-expression.png" alt=""></a></p>
</li>
</ul>

<p>This extension works very well together with my library <a href="https://github.com/hediet/node-reload"><code>@hediet/node-reload</code></a> for TypeScript/JavaScript.
Together, they provide an interactive playground.</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/hediet/vscode-debug-visualizer/blob/master/docs/demo-hot.gif"><img src="https://github.com/hediet/vscode-debug-visualizer/raw/master/docs/demo-hot.gif" alt=""></a></p>

<p>Feel free to ping me on GitHub by opening an issue!
Having runtime infrastructures for languages other than JavaScript would be awesome and I happily accept PRs!</p>
</article>
      </div>
  </div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
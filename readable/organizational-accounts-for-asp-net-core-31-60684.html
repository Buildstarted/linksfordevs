<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Organizational Accounts for ASP .NET Core 3.1 - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Organizational Accounts for ASP .NET Core 3.1 - linksfor.dev(s)"/>
    <meta property="article:author" content="by Shahed C"/>
    <meta property="og:description" content="This is&#xA0;the fifteenth of a new&#xA0;series of posts&#xA0;on ASP .NET Core 3.1 for 2020. In this series, we&#x2019;ll cover 26 topics over a span of 26 weeks from January through June 2020, titled"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://wakeupandcode.com/organizational-accounts-for-asp-net-core-3-1/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Organizational Accounts for ASP .NET Core 3.1</title>
<div class="readable">
        <h1>Organizational Accounts for ASP .NET Core 3.1</h1>
            <div>by by Shahed C</div>
            <div>Reading time: 11-14 minutes</div>
        <div>Posted here: 14 Apr 2020</div>
        <p><a href="https://wakeupandcode.com/organizational-accounts-for-asp-net-core-3-1/">https://wakeupandcode.com/organizational-accounts-for-asp-net-core-3-1/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
			
<figure><img src="https://wakeupandcode.com/wp-content/uploads/2020/01/aspnetcore-az-banner.png" alt="" srcset="https://wakeupandcode.com/wp-content/uploads/2020/01/aspnetcore-az-banner.png 573w, https://wakeupandcode.com/wp-content/uploads/2020/01/aspnetcore-az-banner-300x64.png 300w" sizes="(max-width: 573px) 100vw, 573px"></figure>



<p>This is&nbsp;the fifteenth of a new&nbsp;<a rel="noreferrer noopener" href="https://wakeupandcode.com/aspnetcore/#aspnetcore2020" target="_blank">series of posts</a>&nbsp;on ASP .NET Core 3.1 for 2020. In this series, we’ll cover 26 topics over a span of 26 weeks from January through June 2020, titled&nbsp;<strong>ASP .NET Core A-Z!</strong>&nbsp;To differentiate from the&nbsp;<a href="https://wakeupandcode.com/aspnetcore/#aspnetcore2019">2019 series</a>, the 2020 series will mostly focus on a growing single codebase (<a href="https://wakeupandcode.com/netlearner-on-asp-net-core-3-1/">NetLearner!</a>) instead of new unrelated code snippets week.</p>



<p>Previous post:</p>



<ul><li><a href="https://wakeupandcode.com/net-5-0-vs2019-preview-and-c-9-0-for-asp-net-core-developers/">.NET 5.0, VS2019 Preview and C# 9.0 for ASP .NET Core developers</a></li></ul>



<p><strong>NetLearner on GitHub</strong>:</p>



<ul><li>Repository:&nbsp;<a href="https://github.com/shahedc/NetLearnerApp">https://github.com/shahedc/NetLearnerApp</a></li><li>v0.15-alpha release:&nbsp;<a href="https://github.com/shahedc/NetLearnerApp/releases/tag/v0.15-alpha">https://github.com/shahedc/NetLearnerApp/releases/tag/v0.15-alpha</a></li></ul>



<p><strong>NOTE</strong>: The NetLearner suite of apps won’t be updated to use organizational authentication in the main branch, so you can check out the new sample code in the experimental subfolder, merged from a <a href="https://github.com/shahedc/NetLearnerApp/tree/orgauth/experimental/NetLearner.OrgAuth">branch</a>:</p>



<ul><li>Org Auth:  <a href="https://github.com/shahedc/NetLearnerApp/tree/master/experimental/NetLearner.OrgAuth">https://github.com/shahedc/NetLearnerApp/tree/master/experimental/NetLearner.OrgAuth</a> </li></ul>







<ul><li><a href="#O">O is for Organizational Accounts</a></li><li><a href="#add">Adding Authentication</a></li><li><a href="#config">Configuring App Registration</a></li><li><a href="#use">Using Authentication in your Code</a></li><li><a href="#run">Running the Samples</a></li><li><a href="#refs">References</a></li></ul>








<p>If you’ve created new ASP .NET Core projects, you’ve probably seen an option to add authentication upon creation. In Visual Studio, the IDE provides radio buttons to select a specific type of Authentication. Using CLI commands (e.g. in the VS Code terminal) you can use the ‐‐auth flag to choose the type of authentication you’d like to add.</p>



<p>The possible values are:</p>



<ul><li><strong>None</strong>&nbsp;– No authentication (Default).</li><li><strong>Individual</strong>&nbsp;– Individual authentication (accounts stored in-app).</li><li><strong>IndividualB2C</strong>&nbsp;– Individual authentication with Azure AD B2C.</li><li><strong>SingleOrg</strong>&nbsp;– Organizational authentication for a single tenant.</li><li><strong>MultiOrg</strong>&nbsp;– Organizational authentication for multiple tenants.</li><li><strong>Windows</strong>&nbsp;– Windows authentication..</li></ul>



<p>In this article, we will focus on the option for Work or School Accounts.&nbsp;This option can be used to authenticate users with AD (Active Directory, Azure AD or Office 365. This authentication process is illustrated in the diagram shown below:</p>



<figure><img src="https://wakeupandcode.com/wp-content/uploads/2020/04/org-auth-diagram-1024x427.png" alt="ASP .NET Core web authentication via AzureAD" srcset="https://wakeupandcode.com/wp-content/uploads/2020/04/org-auth-diagram-1024x427.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-auth-diagram-300x125.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-auth-diagram-1536x640.png 1536w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-auth-diagram-624x260.png 624w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-auth-diagram.png 1728w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>ASP .NET Core web authentication via AzureAD</figcaption></figure>








<p>To add authentication to a new project quickly, here are the instructions for Visual Studio 2019.</p>



<p>If you choose to use the new splash screen:</p>



<ol><li>Click “Create a new project”</li><li>Select “ASP .NET Core Web Application” or “Blazor” (server-side)</li><li>Click Next</li><li>Enter Project Name, Location, Solution Name</li><li>Optional: check the checkbox to place in the same directory</li><li>Click Create</li><li>Select .NET Core and then ASP .NET Core 3.1 from dropdowns</li><li>Select a project type, e.g. Empty, Web Application (Razor Pages or MVC), Blazor App.  </li><li>Click the “Change” action link in the Authentication section</li></ol>



<figure><img src="https://wakeupandcode.com/wp-content/uploads/2020/04/org-vs2019-auth-change-1024x710.png" alt="Creating a new web app project with authentication" srcset="https://wakeupandcode.com/wp-content/uploads/2020/04/org-vs2019-auth-change-1024x710.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-vs2019-auth-change-300x208.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-vs2019-auth-change-1536x1065.png 1536w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-vs2019-auth-change-624x433.png 624w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-vs2019-auth-change.png 2048w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Creating a new web app project with authentication</figcaption></figure>



<p>This should allow you to change the authentication type to “Work or School Accounts” so that you may your organizational domain info. As always, you may select the little info buttons (lowercase i) to learn more about each field. Talk to your system administrator if you need more help on what domains to use.</p>



<figure><img src="https://wakeupandcode.com/wp-content/uploads/2020/04/org-vs2019-account-1024x489.png" alt="" srcset="https://wakeupandcode.com/wp-content/uploads/2020/04/org-vs2019-account-1024x489.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-vs2019-account-300x143.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-vs2019-account-624x298.png 624w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-vs2019-account.png 1448w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Work/School account selected for authentication method</figcaption></figure>



<p><strong>NOTE</strong>: If you need help creating new .NET Core 3.1 project types in Visual Studio, take a look at this <a href="https://wakeupandcode.com/hello-asp-net-core-v3-1/">previous blog post in this series on .NET Core 3.0</a>&nbsp;to get some help on how to enable it.</p>



<ul><li>Hello ASP .NET Core 3.1:  <a href="https://wakeupandcode.com/hello-asp-net-core-v3-1/">https://wakeupandcode.com/hello-asp-net-core-v3-1/</a> </li></ul>



<p>If you wish to&nbsp;<em>skip</em>&nbsp;the Splash Screen instead upon launching VS2019:</p>



<ol><li>Click “Continue without code” in the lower right area of the splash screen.</li><li>In&nbsp;the top menu, click File | New | Project (or Ctrl-Shift-N)</li><li>Follow the remaining steps outlined earlier in this section</li></ol>



<p>To use&nbsp;CLI Commands in a Terminal window, use the&nbsp;<strong>dotnet new</strong>&nbsp;command followed by the ‐‐auth flag. The authentication type can be any of the aforementioned authentication types, e.g. Individual.</p>



<pre><strong>dotnet new</strong> mvc --<strong>auth</strong> Individual -<strong>o</strong> myproj</pre>








<p>If you’ve used “Individual User Accounts” before, you’ve probably used a&nbsp;database to store user data, either on-premises or in the cloud. If you’ve used “Work or School Accounts” (i.e. organizational accounts), you may have the old App portal at the following URL:</p>



<ul><li>(OLD) Application Registration Portal:&nbsp;<a href="https://apps.dev.microsoft.com/?WT.mc_id=-blog-shchowd">https://apps.dev.microsoft.com</a></li></ul>



<figure><img src="https://wakeupandcode.com/wp-content/uploads/2020/04/org-appreg-old-1024x468.png" alt="Old App Registration Portal" srcset="https://wakeupandcode.com/wp-content/uploads/2020/04/org-appreg-old-1024x468.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-appreg-old-300x137.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-appreg-old-1536x702.png 1536w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-appreg-old-2048x936.png 2048w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-appreg-old-624x285.png 624w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Old App Registration Portal</figcaption></figure>



<p>On the old site, you may see a message suggesting that you should go to the Azure Portal to&nbsp;use the&nbsp;newer (current)&nbsp;App Registrations feature. This feature was previously in preview, and you can currently use it directly in the Azure Portal. If you click the link from the old site, it should take you directly to the App Registrations page, and may prompt you to log in first.</p>



<figure><img src="https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-overview-1024x573.png" alt="TODO: screenshot of new (preview?) portal, overview section" srcset="https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-overview-1024x573.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-overview-300x168.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-overview-1536x859.png 1536w, https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-overview-2048x1145.png 2048w, https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-overview-624x349.png 624w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>App Registration screen showing overview</figcaption></figure>



<p>If you’re not clear about how you got to this screen or how to come back to it later, here’s a set of steps that may help.</p>



<ol><li>Log in to the&nbsp;<a rel="noreferrer noopener" href="https://portal.azure.com/" target="_blank">Azure Portal</a></li><li>Search for App Registrations</li><li>Arrive at the App Registrations page</li><li>When a newer preview version becomes available, you may have to click the banner that&nbsp;takes you to a preview experience.</li></ol>



<figure><img src="https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-new-1024x470.png" alt="New App Registration in Azure Portal" srcset="https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-new-1024x470.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-new-300x138.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-new-1536x706.png 1536w, https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-new-2048x941.png 2048w, https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-new-624x287.png 624w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>New App Registration in Azure Portal</figcaption></figure>



<p>In the form that follows, fill out the values for:</p>



<ul><li><strong>Name</strong>&nbsp;(which you can change later)</li><li><strong>Account Type</strong>&nbsp;(your org, any org, any org + personal MSA)</li><li><strong>Redirect URI</strong>&nbsp;(where users will return after authentication)</li></ul>



<figure><img src="https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-form-1024x844.png" alt="authentication" srcset="https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-form-1024x844.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-form-300x247.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-form-1536x1265.png 1536w, https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-form-624x514.png 624w, https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-form.png 1867w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption> Register an application for authentication</figcaption></figure>



<p>Now you should have options to configure your app and also download a pre-written application to get started. In the QuickStart section for your newly registered application (after selecting&nbsp; the guide for “ASP .NET Core”, you should see a button to make the changes for you and also download a configured Visual Studio application.</p>



<figure><img src="https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-quickstart-1024x658.png" alt="Quickstart screen for app registration" srcset="https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-quickstart-1024x658.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-quickstart-300x193.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-quickstart-1536x987.png 1536w, https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-quickstart-2048x1316.png 2048w, https://wakeupandcode.com/wp-content/uploads/2020/04/auth-appreg-quickstart-624x401.png 624w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Quickstart screen for app registration</figcaption></figure>



<p>In the steps that follow:</p>



<ol><li>Click the “Make the changes for me” button to make the necessary configuration changes.</li><li>Optional: Click the “Download” link to download the pre-configured Visual Studio solution, if you don’t already have a project. </li></ol>



<p>At the time of this writing, the downloadable sample project is a VS2019 application for ASP .NET Core 2.2. You can download it to inspect it, but I would recommend creating a new project manually in VS2019. There may be some subtle differences between projects created by VS2019 with authentication turned on, versus what you get with the downloaded project.</p>



<p>For further customization using the Manifest file available to you, check out the official documentation on the Azure AD app manifest:</p>



<ul><li>Understanding the Azure Active Directory app manifest:&nbsp;<a href="https://docs.microsoft.com/en-us/azure/active-directory/develop/reference-app-manifest?WT.mc_id=-blog-shchowd">https://docs.microsoft.com/en-us/azure/active-directory/develop/reference-app-manifest</a></li></ul>








<p>When creating a new project in VS2019, you get the following lines of code in your&nbsp;<strong>ConfigureServices()</strong>&nbsp;method, including calls to .<strong>AddAuthentication</strong>(). For different project types (MVC, Razor Pages, Blazor), you should also see some additional code setting up the authorization policy. </p>



<pre><strong><em>// contents of ConfigureServices() when created in VS2019</em></strong>

services.<strong>AddAuthentication</strong>(AzureADDefaults.AuthenticationScheme)
.AddAzureAD(options =&gt; Configuration.Bind("AzureAd", options));</pre>



<p>The string value “AzureAd” is referenced in your appsettings file, e.g. appsettings.json in <a href="https://github.com/shahedc/NetLearnerApp/blob/master/experimental/NetLearner.OrgAuth/OrgAuth.Mvc/appsettings.json">MVC</a>, <a href="https://github.com/shahedc/NetLearnerApp/blob/master/experimental/NetLearner.OrgAuth/OrgAuth.Pages/appsettings.json">Razor Pages</a>, or <a href="https://github.com/shahedc/NetLearnerApp/blob/master/experimental/NetLearner.OrgAuth/OrgAuth.Blazor/appsettings.json">Blazor</a> projects. The properties for this entry include the following:</p>



<ul><li><strong>Instance</strong>: URL for login page, e.g. https://login.microsoftonline.com</li><li><strong>Domain</strong>: your AD tenant’s domain, e.g. microsoft.onmicrosoft.com</li><li><strong>TenantId</strong>: your Tenant Id value, usually a GUID</li><li><strong>ClientId</strong>: Your app’s Client Id, obtained from app registration</li><li><strong>Callback Path</strong>: partial path for sign-in, e.g. /signin-oidc </li></ul>



<pre><code>{
  "AzureAd": {
    "Instance": "https://login.microsoftonline.com/",
    "Domain": "&lt;REPLACE_DOMAIN_NAME&gt;",
    "TenantId": "&lt;REPLACE_TENANT_ID&gt;",
    "ClientId": "&lt;REPLACE_CLIENT_ID&gt;",
    "CallbackPath": "/signin-oidc"
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information"
    }
  },
  "AllowedHosts": "*"
}</code></pre>



<p>You can see more information on appsettings.json values in the official docs. You can also open the apssettings.json from the&nbsp;portal-downloaded project to get your own app’s Id values.&nbsp;The following documentation is specifically written for v2, but offers explains for important fields such as&nbsp;<strong>ClientId</strong>&nbsp;and&nbsp;<strong>TenantId</strong>.</p>



<ul><li>Microsoft identity platform ASP.NET Core web app quickstart:&nbsp;<a href="https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-v2-aspnet-core-webapp?WT.mc_id=-blog-shchowd" target="_blank" rel="noreferrer noopener">https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-v2-aspnet-core-webapp</a></li></ul>



<p>To get a refresher on Authentication and Authorization in ASP .NET Core 3.1, check out the following post on&nbsp;from earlier in this blog series. </p>



<ul><li> Authentication and Authorization in ASP .NET Core 3.1: <a href="https://wakeupandcode.com/authentication-authorization-in-asp-net-core-3-1/">https://wakeupandcode.com/authentication-authorization-in-asp-net-core-3-1/</a></li></ul>



<p>For more on assigning users to specific roles, check out the official documentation at the following URL:</p>



<ul><li>Role-based authorization in ASP.NET Core:&nbsp;<a href="https://docs.microsoft.com/en-us/aspnet/core/security/authorization/roles?WT.mc_id=-blog-shchowd">https://docs.microsoft.com/en-us/aspnet/core/security/authorization/roles</a></li></ul>



<p>Finally, take a look at the&nbsp;Login.partial.cshtml&nbsp;partial view to observe the way a user’s identity is detected and shown in an <a href="https://github.com/shahedc/NetLearnerApp/blob/master/experimental/NetLearner.OrgAuth/OrgAuth.Mvc/Views/Shared/_LoginPartial.cshtml">MVC</a> or <a href="https://github.com/shahedc/NetLearnerApp/blob/master/experimental/NetLearner.OrgAuth/OrgAuth.Pages/Pages/Shared/_LoginPartial.cshtml">Razor Pages</a> web app. Here is a snippet from the samples:</p>



<pre>@if (<strong>User.Identity.IsAuthenticated</strong>)
{
 &lt;li class="nav-item"&gt;
 &lt;span class="nav-text text-dark"&gt;Hello @<strong>User.Identity.Name</strong>!&lt;/span&gt;
 &lt;/li&gt;
...
}</pre>



<p><strong>NOTE</strong>: The <a href="https://github.com/shahedc/NetLearnerApp/blob/master/experimental/NetLearner.OrgAuth/OrgAuth.Blazor/Shared/LoginDisplay.razor">Blazor</a> web app wraps the authorized content in an &lt;<strong>Authorized</strong>&gt; tag within an &lt;<strong>AuthorizedView</strong>. For more on the Blazor project, take a look at the Blazor post:</p>



<ul><li>Blazor full-stack web dev: <a href="https://wakeupandcode.com/blazor-full-stack-web-dev-in-asp-net-core-3-1/">https://wakeupandcode.com/blazor-full-stack-web-dev-in-asp-net-core-3-1/</a></li></ul>



<p>Depending on what you have access to, the User.Identity object may not contain everything you expect it to.&nbsp;Here are some things to take note of:</p>



<ul><li>User.Identity should be null when&nbsp;<em>not</em>&nbsp;logged in</li><li>User.Identity should be non-null when logged in…</li><li>… however, User.Identity.Name may be null even when logged in</li><li>If User.Identity.Name is null, also check User.Identity.Claims</li><li>User.Identity.Claims should have more than 0 values when logged in</li></ul>



<p>The following screenshot shows an example of the user information in my debugging environment when logged in:</p>



<figure><img src="https://wakeupandcode.com/wp-content/uploads/2020/04/auth-vs2019-debug-1024x396.png" alt=" User.Identity.Name with Claims in debugger " srcset="https://wakeupandcode.com/wp-content/uploads/2020/04/auth-vs2019-debug-1024x396.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/04/auth-vs2019-debug-300x116.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/04/auth-vs2019-debug-1536x593.png 1536w, https://wakeupandcode.com/wp-content/uploads/2020/04/auth-vs2019-debug-2048x791.png 2048w, https://wakeupandcode.com/wp-content/uploads/2020/04/auth-vs2019-debug-624x241.png 624w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption> User.Identity.Name with Claims in debugger </figcaption></figure>








<p>Running the sample web projects should redirect you to the Azure AD login page for your tenant. The login page should look identical for all 3 project types: <a href="https://github.com/shahedc/NetLearnerApp/tree/master/experimental/NetLearner.OrgAuth/OrgAuth.Mvc">MVC</a>, <a href="https://github.com/shahedc/NetLearnerApp/tree/master/experimental/NetLearner.OrgAuth/OrgAuth.Pages">Razor Pages</a> or <a href="https://github.com/shahedc/NetLearnerApp/tree/master/experimental/NetLearner.OrgAuth/OrgAuth.Blazor">Blazor</a>. If you’ve already logged in to one or more accounts in your browser, you should have one or more identities to select from. </p>



<figure><img src="https://wakeupandcode.com/wp-content/uploads/2020/04/org-account-select-mvc-1024x749.png" alt="" srcset="https://wakeupandcode.com/wp-content/uploads/2020/04/org-account-select-mvc-1024x749.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-account-select-mvc-300x220.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-account-select-mvc-624x457.png 624w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-account-select-mvc.png 1477w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>Once you’ve selected an account, you should see a confirmation screen (at least the first time) to Accept the authentication and login. This screen will look similar for all your projects, and the project name should be displayed in the middle. </p>



<figure><img src="https://wakeupandcode.com/wp-content/uploads/2020/04/org-account-accept-mvc-1024x749.png" alt=" MVC app authentication confirmation " width="580" height="424" srcset="https://wakeupandcode.com/wp-content/uploads/2020/04/org-account-accept-mvc-1024x749.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-account-accept-mvc-300x220.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-account-accept-mvc-624x457.png 624w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-account-accept-mvc.png 1477w" sizes="(max-width: 580px) 100vw, 580px"><figcaption> MVC app authentication confirmation </figcaption></figure>



<figure><img src="https://wakeupandcode.com/wp-content/uploads/2020/04/org-account-accept-pages-1024x812.png" alt="" srcset="https://wakeupandcode.com/wp-content/uploads/2020/04/org-account-accept-pages-1024x812.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-account-accept-pages-300x238.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-account-accept-pages-624x495.png 624w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-account-accept-pages.png 1481w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Razor Pages app authentication confirmation</figcaption></figure>



<figure><img src="https://wakeupandcode.com/wp-content/uploads/2020/04/org-account-accept-blazor-1024x812.png" alt="Blazor app authentication confirmation  " srcset="https://wakeupandcode.com/wp-content/uploads/2020/04/org-account-accept-blazor-1024x812.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-account-accept-blazor-300x238.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-account-accept-blazor-624x495.png 624w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-account-accept-blazor.png 1480w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Blazor app authentication confirmation  </figcaption></figure>



<p>Finally, you should see each web application with some indication that you are currently logged in. In the template-generated sample apps, this is demonstrated by the “Hello” message in the header area.</p>



<figure><img src="https://wakeupandcode.com/wp-content/uploads/2020/04/org-browser-mvc-1024x749.png" alt="MVC web app, logged in" srcset="https://wakeupandcode.com/wp-content/uploads/2020/04/org-browser-mvc-1024x749.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-browser-mvc-300x220.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-browser-mvc-624x457.png 624w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-browser-mvc.png 1477w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>MVC web app, logged in</figcaption></figure>



<figure><img src="https://wakeupandcode.com/wp-content/uploads/2020/04/org-browser-pages-1024x812.png" alt="Razor Pages web app, logged in " srcset="https://wakeupandcode.com/wp-content/uploads/2020/04/org-browser-pages-1024x812.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-browser-pages-300x238.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-browser-pages-624x495.png 624w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-browser-pages.png 1481w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Razor Pages web app, logged in </figcaption></figure>



<figure><img src="https://wakeupandcode.com/wp-content/uploads/2020/04/org-browser-blazor-1024x776.png" alt=" Blazor web app, logged in  " srcset="https://wakeupandcode.com/wp-content/uploads/2020/04/org-browser-blazor-1024x776.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-browser-blazor-300x227.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-browser-blazor-1536x1164.png 1536w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-browser-blazor-624x473.png 624w, https://wakeupandcode.com/wp-content/uploads/2020/04/org-browser-blazor.png 1548w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption> Blazor web app, logged in  </figcaption></figure>








<ul><li>Role-based authorization in ASP.NET Core | Microsoft Docs:&nbsp;<a href="https://docs.microsoft.com/en-us/aspnet/core/security/authorization/roles?WT.mc_id=-blog-shchowd">https://docs.microsoft.com/en-us/aspnet/core/security/authorization/roles</a></li><li>Configure an application to access web APIs (Preview) | Microsoft Docs:&nbsp;<a href="https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-configure-app-access-web-apis?WT.mc_id=-blog-shchowd">https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-configure-app-access-web-apis</a></li><li>Understanding the Azure Active Directory app manifest | Microsoft Docs:&nbsp;<a href="https://docs.microsoft.com/en-us/azure/active-directory/develop/reference-app-manifest?WT.mc_id=-blog-shchowd">https://docs.microsoft.com/en-us/azure/active-directory/develop/reference-app-manifest</a> </li></ul>
					</div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
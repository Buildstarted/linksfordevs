<!DOCTYPE html>
<html lang="en">
<head>
    <title>
CryptographicException on .NET Core 3, Windows only &quot;The specified RSA parameters are not valid; both Exponent and Modulus are required fields.&quot; &#xB7; Issue #30914 &#xB7; dotnet/runtime &#xB7; GitHub -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>CryptographicException on .NET Core 3, Windows only "The specified RSA parameters are not valid; both Exponent and Modulus are required fields." · Issue #30914 · dotnet/runtime · GitHub</h1><div><div id="" class="d-block comment-body markdown-body  js-comment-body"><p>First, it looks like the exception message is a bit misleading. That exception message is used if anything is believed to be incorrect about the parameters, not just the exponent or modulus. Perhaps that is what the semicolon is trying to communicate, but it threw me off.</p><p>The reason is it being thrown is because <code>Modulus</code> and <code>D</code> are different lengths, which is checked here, and was introduced in <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="462815954" data-permission-text="Issue title is private" data-url="https://github.com/dotnet/corefx/issues/39087" data-hovercard-type="pull_request" data-hovercard-url="/dotnet/corefx/pull/39087/hovercard" href="https://github.com/dotnet/corefx/pull/39087">dotnet/corefx#39087</a>.</p><p><a href="https://github.com/dotnet/corefx/blob/aa72982dcb20c4e346e08d72dae5abbaf6bba4f9/src/Common/src/System/Security/Cryptography/RSACng.ImportExport.cs#L79">https://github.com/dotnet/corefx/blob/aa72982dcb20c4e346e08d72dae5abbaf6bba4f9/src/Common/src/System/Security/Cryptography/RSACng.ImportExport.cs#L79</a></p><p>The Q and P length checks will also fail, but D is the first cause of the exception.</p><p>They are all off-by-one. Notably, all of those have 0 in them, likely because they are encoded as signed integers.</p><p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/bartonjs/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bartonjs">@bartonjs</a> would probably know best what the correct solution is, but the validation that was added currently disallows something that it looks like CNG accepts.</p></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
ASP.NET Blog | Blazor WebAssembly 3.2.0 Preview 4 release now available - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="ASP.NET Blog | Blazor WebAssembly 3.2.0 Preview 4 release now available - linksfor.dev(s)"/>
    <meta property="article:author" content="Daniel RothPrincipal Program Manager, ASP.NETFollow"/>
    <meta property="og:description" content="A new preview update of Blazor WebAssembly is now available! Here&#x2019;s what&#x2019;s new in this release:&#xA;&#xA;Access host environment during startup&#xA;Logging improvements&#xA;Brotli precompression&#xA;Load assemblies and runtime in parallel&#xA;Simplify IL linker config for apps&#xA;Localization support&#xA;API docs in IntelliSense&#xA;&#xA;Get started&#xA;To get started with Blazor WebAssembly 3.2.0 Preview 4 install the latest .NET Core 3.1 SDK."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://devblogs.microsoft.com/aspnet/blazor-webassembly-3-2-0-preview-4-release-now-available/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - ASP.NET Blog | Blazor WebAssembly 3.2.0 Preview 4 release now available</title>
<div class="readable">
        <h1>ASP.NET Blog | Blazor WebAssembly 3.2.0 Preview 4 release now available</h1>
            <div>by Daniel RothPrincipal Program Manager, ASP.NETFollow</div>
            <div>Reading time: 7-9 minutes</div>
        <div>Posted here: 16 Apr 2020</div>
        <p><a href="https://devblogs.microsoft.com/aspnet/blazor-webassembly-3-2-0-preview-4-release-now-available/">https://devblogs.microsoft.com/aspnet/blazor-webassembly-3-2-0-preview-4-release-now-available/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="featured">

	<div>
                
         <div><div><div><p><img src="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2019/02/DaniethRothPhoto-150x150.jpeg" width="58" height="58" alt="Daniel Roth"></p><p>Daniel</p></div></div></div>     
        <p>April 16th, 2020</p><!-- .entry-meta -->

		<p>A new preview update of Blazor WebAssembly is now available! Here’s what’s new in this release:</p>
<ul>
<li>Access host environment during startup</li>
<li>Logging improvements</li>
<li>Brotli precompression</li>
<li>Load assemblies and runtime in parallel</li>
<li>Simplify IL linker config for apps</li>
<li>Localization support</li>
<li>API docs in IntelliSense</li>
</ul>
<h2>Get started</h2>
<p>To get started with Blazor WebAssembly 3.2.0 Preview 4 install the latest <a href="https://dotnet.microsoft.com/download/dotnet-core/3.1" target="_blank">.NET Core 3.1 SDK</a>.</p>
<blockquote>
<p>NOTE: Version 3.1.201 or later of the .NET Core SDK is <strong>required</strong> to use this Blazor WebAssembly release! Make sure you have the correct .NET Core SDK version by running <code><span>dotnet </span><span>--</span><span>version</span></code> from a command prompt.</p>
</blockquote>
<p>Once you have the appropriate .NET Core SDK installed, run the following command to install the updated Blazor WebAssembly template:</p>
<pre><code><span><span>dotnet </span></span><span><span>new</span></span><span><span> </span></span><span><span>-</span></span><span><span>i </span></span><span><span>Microsoft</span></span><span><span>.</span></span><span><span>AspNetCore</span></span><span><span>.</span></span><span><span>Components</span></span><span><span>.</span></span><span><span>WebAssembly</span></span><span><span>.</span></span><span><span>Templates</span></span><span><span>::</span></span><span><span>3.2</span></span><span><span>.</span></span><span><span>0</span></span><span><span>-</span></span><span><span>preview4</span></span><span><span>.</span></span><span><span>20210.8</span></span></code></pre>
<p>If you’re on Windows using Visual Studio, we recommend <a href="https://visualstudio.com/preview" target="_blank">installing the latest preview of Visual Studio 2019 16.6</a>. For this preview you should still install the template from the command-line as described above to ensure that the Blazor WebAssembly template shows up correctly in Visual Studio and on the command-line.</p>
<p>That’s it! You can find additional docs and samples on <a href="https://blazor.net/" target="_blank">https://blazor.net</a>.</p>
<h2>Upgrade an existing project</h2>
<p>To upgrade an existing Blazor WebAssembly app from 3.2.0 Preview 3 to 3.2.0 Preview 4:</p>
<ul>
<li>Update all Microsoft.AspNetCore.Components.WebAssembly.* package references to version 3.2.0-preview4.20210.8.</li>
<li>Update any Microsoft.AspNetCore.Components.WebAssembly.Runtime package references to version 3.2.0-preview5.20210.1</li>
<li>Replace package references to Microsoft.AspNetCore.Blazor.HttpClient with System.Net.Http.Json and update all existing System.Net.Http.Json package references to 3.2.0-preview5.20210.3.</li>
<li>
<p>Add <code><span>@using</span><span> </span><span>System</span><span>.</span><span>Net</span><span>.</span><span>Http</span><span>.</span><span>Json</span></code> to your <em>_Imports.razor</em> file and update your code as follows:</p>
<div><table>
<thead>
<tr>
<th>Microsoft.AspNetCore.Blazor.HttpClient</th>
<th>System.Net.Http.Json</th>
</tr>
</thead>
<tbody>
<tr>
<td><code><span>GetJsonAsync</span></code></td>
<td><code><span>GetFromJsonAsync</span></code></td>
</tr>
<tr>
<td><code><span>PostJsonAsync</span></code></td>
<td><code><span>PostAsJsonAsync</span></code></td>
</tr>
<tr>
<td><code><span>PutJsonAsync</span></code></td>
<td><code><span>PutAsJsonAsync</span></code></td>
</tr>
</tbody>
</table></div>
<p>Calls to <code><span>PostAsJsonAsync</span></code> and <code><span>PutAsJsonAsync</span></code> return an <code><span>HttpResponseMessage</span></code> instead of the deserialized response content. To deserialize the JSON content from the response message, use the <code><span>ReadFromJsonAsync</span><span>&lt;</span><span>T</span><span>&gt;</span></code> extension method: <code><span>response</span><span>.</span><span>content</span><span>.</span><span>ReadFromJsonAsync</span><span>&lt;</span><span>WeatherForecast</span><span>&gt;()</span></code>.</p>
</li>
<li>
<p>Replace calls to <code><span>AddBaseAddressHttpClient</span></code> in <em>Program.cs</em> with <code><span>builder</span><span>.</span><span>Services</span><span>.</span><span>AddSingleton</span><span>(</span><span>new</span><span> </span><span>HttpClient</span><span> </span><span>{</span><span> </span><span>BaseAddress</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>Uri</span><span>(</span><span>builder</span><span>.</span><span>HostEnvironment</span><span>.</span><span>BaseAddress</span><span>)</span><span> </span><span>});</span></code>.</p>
</li>
</ul>
<p>You’re all set!</p>
<h2>Access host environment during startup</h2>
<p>The <code><span>WebAssemblyHostBuilder</span></code> now exposes <code><span>IWebAssemblyHostEnvironment</span></code> through the <code><span>HostEnvironment</span></code> property, which surfaces details about the app environment (Development, Staging, Production, etc.) during startup. If the app is hosted in an ASP.NET Core app, the environment reflects the ASP.NET Core environment. If the app is a standalone Blazor WebAssembly app, the environment is specified using the <code><span>blazor</span><span>-</span><span>environment</span></code> HTTP header, which is set to Development when served by the Blazor dev server. Otherwise, the default environment is Production.</p>
<p>New convenience extension methods on <code><span>IWebAssemblyHostEnvironment</span></code> make it easy to check the current environment: <code><span>IsProduction</span><span>()</span></code>, <code><span>IsDevelopment</span><span>()</span></code>, <code><span>IsStaging</span><span>()</span></code>. We’ve also added a <code><span>BaseAddress</span></code> property to <code><span>IWebAssemblyHostEnvironment</span></code> for getting the app base address during startup when the <code><span>NavigationManager</span></code> service isn’t yet readily available.</p>
<h2>Logging improvements</h2>
<p>The <code><span>WebAssemblyHostBuilder</span></code> now exposes a <code><span>Logging</span></code> property of type <code><span>ILoggingBuilder</span></code> that can be used to configure logging for the app, similar to how you would configure <a href="https://docs.microsoft.com/aspnet/core/fundamentals/logging" target="_blank">Logging in an ASP.NET Core app</a> on the server. You can use the <code><span>ILoggingBuilder</span></code> to set the minimum logging level and configure custom logging providers using extension methods in the <code><span>Microsoft</span><span>.</span><span>Extensions</span><span>.</span><span>Logging</span></code> namespace.</p>
<h2>Brotli precompression</h2>
<p>When you publish a Blazor WebAssembly app, the published and linked output is now precompressed using Brotli at the highest level to further reduce the app size and remove the need for runtime compression. ASP.NET Core hosted apps seamlessly take advantage of these precompressed files. For standalone apps, you can configure the host server to redirect requests to the precompressed files. Using the precompressed files, a published Blazor WebAssembly is now 1.8MB, down from 2MB in the previous preview. A minimal app without Bootstrap CSS reduces to 1.6MB.</p>
<h2>Load assemblies and runtime in parallel</h2>
<p>Blazor WebAssembly apps now load the assemblies and runtime in parallel saving some precious milliseconds off the app load time.</p>
<h2>Simplify .NET IL linker config for apps</h2>
<p>You can optionally <a href="https://docs.microsoft.com/aspnet/core/host-and-deploy/blazor/configure-linker?#control-linking-with-a-configuration-file" target="_blank">provide a .NET IL linker config file</a> for a Blazor WebAssembly app to customize the behavior of the linker. Previously, specifying a linker config file for your app would override the customizations built into Blazor that are necessary for apps to function property. App specific linker configuration is now treated as additive to the linker configuration provided by Blazor.</p>
<h2>Localization support</h2>
<p>Blazor WebAssembly apps now support localization using .NET resource files (.resx) and satellite assemblies. Blazor WebAssembly apps set the current culture using the user’s <a href="https://developer.mozilla.org/docs/Web/API/NavigatorLanguage/languages" target="_blank">language preference</a>. The appropriate satellite assemblies are then loaded from the server. Components can then be localized using the ASP.NET Core localization APIs, like <code><span>IStringLocalizer</span><span>&lt;</span><span>TResource</span><span>&gt;</span></code> and friends. For more details on localizing Blazor WebAssembly apps, see <a href="https://docs.microsoft.com/aspnet/core/blazor/globalization-localization" target="_blank">Globalization and localization</a>.</p>
<h2>API docs in IntelliSense</h2>
<p>The API docs for the various Blazor WebAssembly APIs are now available through IntelliSense:</p>
<p><a href="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/04/blazorwasm-api-docs-intellisense.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/04/blazorwasm-api-docs-intellisense.png" alt="API docs in IntelliSense">  </a></p>
<h2>Known issues</h2>
<h3>Debugging limitations</h3>
<p>Thank you everyone who has been trying out the new Blazor WebAssembly debugging support and sending us your feedback! We’ve made some progress in this release, but there are still a number of limitations with the current debugging experience in Visual Studio and Visual Studio Code. The following debugging features are still not yet fully implemented:</p>
<ul>
<li>Inspecting arrays</li>
<li>Hovering to inspect members</li>
<li>Step debugging into or out of managed code</li>
<li>Full support for inspecting value types</li>
<li>Breaking on unhandled exceptions</li>
<li>Hitting breakpoints during app startup</li>
</ul>
<p>We expect to continue to improve the debugging experience in future releases.</p>
<h2>Help improve the Blazor docs!</h2>
<p>We’ve received a some feedback from the in-product Blazor survey that the Blazor docs could use some improvement. Thank you for this feedback! We know that docs are a critical part of any software development framework, and we are committed to making the Blazor docs as helpful as we can.</p>
<p>We need your help to understand how to best improve the Blazor docs! If you’d like to help make the Blazor docs better, please do the following:</p>
<ul>
<li>
<p>As you read the Blazor docs, let us know where we should focus our efforts by telling us if you find a topic helpful or not using the helpfulness widget at the top of each doc page:</p>
<p><a href="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/04/helpfulness.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/04/helpfulness.png" alt="Doc helpfulness">  </a></p>
</li>
<li>
<p>Use the Feedback section at the bottom of each doc page to let us know when a particular topic is unclear, inaccurate, or incomplete.</p>
<p><a href="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/04/doc-feedback.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/aspnet/wp-content/uploads/sites/16/2020/04/doc-feedback.png" alt="Doc feedback">  </a></p>
</li>
<li>
<p>Comment on our <a href="https://github.com/dotnet/aspnetcore/issues/20890" target="_blank">Improve the Blazor docs</a> GitHub issue with your suggestions for new content and ways to improve the existing content.</p>
</li>
</ul>
<h2>Feedback</h2>
<p>We hope you enjoy the new features in this preview release of Blazor WebAssembly! Please let us know what you think by filing issues on <a href="https://github.com/dotnet/aspnetcore/issues" target="_blank">GitHub</a>.</p>
<p>Thanks for trying out Blazor!</p>
        
        
        
        

		        
        
        
	</div><!-- .entry-content -->
    
    </div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Invoking non-HTTP Azure Functions over HTTP to make development easier -
linksfor.dev(s)
    </title>
	<link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <h1>Invoking non-HTTP Azure Functions over HTTP to make development easier</h1>
    <section class="page__content"><p>This week, I was presenting at <a href="https://www.iglooconf.fi">IglooConf</a> (<a href="https://www.youtube.com/watch?v=ZxH133cyns8">Indexing and searching NuGet org with Azure Functions and Search</a>). During one of the demos, I casually used a feature we shipped with the latest <a href="https://plugins.jetbrains.com/plugin/11220-azure-toolkit-for-rider">Azure Toolkit for JetBrains Rider</a>: when the Azure Functions host is running on a development machine, Rider lets us trigger functions from the gutter by generating an HTTP request for it.</p><p><img src="/images/2020/01/trigger-azure-functions-from-rider.png" alt="Trigger Azure Functions from Rider"></p><p>Chatting with some attendees, not a lot of people are aware this is possible. During development, <strong>Azure Functions can be triggered over HTTP, regardless of whether they are using an HTTP trigger or not.</strong> For HTTP-triggered functions, there&#x2019;s of course an HTTP endpoint we can call, but the runtime also provides an endpoint for non-HTTP-triggered functions!</p><p>So instead of having to change the schedule expression on a <code class="language-plaintext highlighter-rouge">TimerTrigger</code> to see our function get invoked during development, we can invoke it over HTTP, on demand.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST http://localhost:7071/admin/functions/{functionname}
Content-Type: application/json

{}
</code></pre></div></div><p>This works for most trigger bindings, and we can even provide data to our function. For example with a <code class="language-plaintext highlighter-rouge">QueueTrigger</code>, we can pass along the payload of the message it should process (as a string):</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST http://localhost:7071/admin/functions/ExampleQueue
Content-Type: application/json

{
    &quot;input&quot;: &quot;{ \&quot;name\&quot;: \&quot;Maarten\&quot; }&quot;
}
</code></pre></div></div><p>This will then trigger our function where we can process that payload:</p><p><img src="/images/2020/01/azure-functions-invocation-from-rider-with-payload.png" alt="Invoke Azure Function with payload"></p><p>*Tip: When editing the HTTP fragment in Rider, use Alt+Enter and &#x201C;edit JSON text fragment&#x201D; to make escaping the JSON payload easier.</p><p>Having the ability to trigger functions that way makes the development flow much smoother! Check <a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-run-local#passing-test-data-to-a-function">the Azure docs</a> for more background info.</p><p>Enjoy!</p></section>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
    </footer>
    
    <script>
        (function() {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function() {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) {}
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
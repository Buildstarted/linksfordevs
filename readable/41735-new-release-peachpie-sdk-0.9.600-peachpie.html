<!DOCTYPE html>
<html lang="en">
<head>
    <title>
New release &#x2013; PeachPie Sdk 0.9.600 @ PeachPie -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>New release – PeachPie Sdk 0.9.600 @  PeachPie</h1><div><div class="entry-content"><p><em>The last couple of months have been all about solidifying the PeachPie platform, optimizing some of our peripheral architecture and ironing out some final bugs before we set our sights on the preview of 1.0.0.</em></p><h2>What’s new in PeachPie 0.9.600</h2><p>We’re trying not to implement any major new functionality at this point and we’re instead focusing on making the project as stable and user-friendly as possible for the preview of version 1.0.0. However, there are still plenty of new features and improvements in this release:</p><ul><li>Support for ASP.NET Core 3.0</li><li>Reflection API improvements and polishes</li><li>Updated PCRE compatibility and performance</li><li>Huge optimization of our Travis CI pipeline</li><li>Better debugging capabilities</li><li>Updated VS Code extension</li><li>More diagnostics</li><li>Updated gd2 extension and exif reading (thanks JimBobSquarePants)</li><li>Implementation of ftp and mysqli extensions</li><li>Traits compilation fixes</li><li>Various bug fixes and improvements to error messages and debug assertions</li></ul><h2>New diagnostics</h2><ul><li><strong>PHP0123</strong> The variable $this used out of method; reporting warning whenever there is <code>$this</code> variable where it cannot be used. It is baffling how much of this issue is contained in legacy code.</li><li><strong>PHP4077 </strong>Constant expression contains invalid operations; Parameter default value and property initializers cannot contain certain expressions (like local variables), which is now reported in compile time.</li><li><strong>PHP4076</strong> Default value for parameter type mismatch; Type of parameter default value must match the parameter’s type annotation – the compiler analyzes the types if possible and reports that the code wouldn’t work in runtime.</li></ul><h2>PCRE</h2><p>PHP compliant regular expressions are a big deal. They are used widely in frameworks and PHP websites. For example, a regular WordPress website like this one spends over 20% of the time matching some sort of regex.</p><figure class="wp-block-image center"><img src="https://pbs.twimg.com/media/EJGU0u-W4AUO0tL?format=png&amp;name=small" alt="PCRE on .NET benchmarks"><figcaption>Our benchmarks before and after optimizing PCRE in PeachPie.</figcaption></figure><p>The benchmark above shows that we improved the performance by about 31%; moreover, it is now 1% faster than .NET Core’s <a rel="noreferrer noopener" aria-label="System.Text.RegularExpressions.RegEx (opens in a new tab)" href="https://docs.microsoft.com/en-us/dotnet/api/system.text.regularexpressions.regex" target="_blank">System.Text.RegularExpressions.RegEx</a>, even after their latest huge improvements. A side note – we plan on comparing it to the native PCRE library in some other blog post.</p><p>What does this mean? Internally we use a lot less memory, and a website running on top of PeachPie can benefit from about a 6% performance improvement with the current release in comparison to the previous one. </p><h2>Laravel progress</h2><p>We’d really love for the core functionality of Laravel to be functional before we launch version 1.0.0, although it’s not necessarily a pre-requisite. Currently we’re down to under 600 errors from originally over 4000 in the Laravel Test Suite, so the progress is rapid and each fix usually removes up to 200 errors. We couldn’t do it without the contributions of Calvin Baart – track his progress <a rel="noreferrer noopener" aria-label="here (opens in a new tab)" href="https://travis-ci.com/calvinbaart/laravel-peachpie-sample" target="_blank">here</a>.</p><p>So far we have fixed tons of edge-cases with PHP’s specific parameter handling, reflection, and traits. All of this is specific to PHP and implementing it on top of .NET is amusing to say the least. Some fixed issues:</p><h2>WordPress performance and compilation</h2><p>We’re well aware of the fact that WordPress is by far the most widely used application to play around with using PeachPie, due to its overwhelming popularity. Therefore, we are always working on stabilizing the WpDotNet build, optimizing its compilation and performance. With some of the latest parallelization work, we were able to speed up the compilation time to just under 15 seconds on our machine. You should be able to compile WordPress in under 20 seconds on most PCs. Give the WpDotNet SDK a try if you haven’t already:</p><p>&gt;&gt;&gt; <a rel="noreferrer noopener" aria-label="WpDotNet SDK (opens in a new tab)" href="https://github.com/iolevel/wpdotnet-sdk" target="_blank">WpDotNet SDK</a> &lt;&lt;&lt;</p><h2>Massive speed improvement of Travis CI build</h2><p>Even though it’s not something our users will feel directly, this point will really enable us to crank out quicker updates. Thanks to some architectural changes (specifically compiling all our tests together as a single project rather than individually and separately), our Travis CI build time has decreased from over <strong>45 minutes to roughly 7</strong>!</p><figure class="wp-block-image"><img src="https://www.peachpie.io/wp-content/uploads/2019/11/travis.png" alt="" class="wp-image-18278" srcset="https://www.peachpie.io/wp-content/uploads/2019/11/travis.png 997w, https://www.peachpie.io/wp-content/uploads/2019/11/travis-300x249.jpg 300w, https://www.peachpie.io/wp-content/uploads/2019/11/travis-768x638.jpg 768w" sizes="(max-width: 997px) 100vw, 997px"><figcaption>Significantly improved Travis CI build time</figcaption></figure><h2>Always grab the latest build</h2><p>Just in case you’re not aware, you are always able to fetch the latest build of PeachPie compiler on our AppVeyor feed, which is graciously provided to us by the .NET Foundation. Grab the most up-to-date version below:</p><p>&gt;&gt;&gt; <a rel="noreferrer noopener" aria-label="The latest AppVeyor build of PeachPie (opens in a new tab)" href="https://ci.appveyor.com/project/dotnetfoundation/peachpie" target="_blank">The latest AppVeyor build of PeachPie</a> &lt;&lt;&lt;</p><p>Add the following <code>NuGet.Config</code> file to your project directory in order to consume the AppVeyor feed:</p><pre class="wp-block-code language-xml xml"><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;configuration&gt;
  &lt;packageSources&gt;
    &lt;add key="peachpie-appveyor" value="https://ci.appveyor.com/nuget/peachpie" /&gt;
  &lt;/packageSources&gt;
&lt;/configuration&gt;</code></pre><h2>Don’t waste time on the command line</h2><p>We sincerely hope you’re not still using PeachPie on the command line. We’ve put a lot of effort into making sure the platform is as user-friendly as possible, and one of the ways we achieve  this is through extensions to the most widely used IDEs. </p><p>&gt;&gt;&gt; <a rel="noreferrer noopener" aria-label="Download the VS Code extension (opens in a new tab)" href="https://marketplace.visualstudio.com/items?itemName=iolevel.peachpie-vscode" target="_blank">Download the VS Code extension</a> &lt;&lt;&lt;</p><p>Aside from simplifying the project setup significantly, the extension also gives you some extremely useful features, such as advanced PeachPie diagnostics, including handy tooltips on hover-over, obviously syntax error underlining and .NET-like debugging of PHP code.</p><div class="blog-subtext"><p class="readability-styled" style="display: inline;">Posted on November 12, 2019, in category </p><a href="https://www.peachpie.io/category/information" rel="category tag">Information</a><p class="readability-styled" style="display: inline;">, </p><a href="https://www.peachpie.io/category/news" rel="category tag">News</a><p class="readability-styled" style="display: inline;">, tags: </p><a href="https://www.peachpie.io/tag/ftp" rel="tag">ftp</a><p class="readability-styled" style="display: inline;">, </p><a href="https://www.peachpie.io/tag/laravel" rel="tag">laravel</a><p class="readability-styled" style="display: inline;">, </p><a href="https://www.peachpie.io/tag/mysqli" rel="tag">mysqli</a><p class="readability-styled" style="display: inline;">, </p><a href="https://www.peachpie.io/tag/version" rel="tag">version</a><p class="readability-styled" style="display: inline;">, </p><a href="https://www.peachpie.io/tag/wordpress" rel="tag">wordpress</a></div></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
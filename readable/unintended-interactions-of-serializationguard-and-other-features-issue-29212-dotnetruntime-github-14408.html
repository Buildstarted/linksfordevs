<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Unintended interactions of SerializationGuard and other features &#xB7; Issue #29212 &#xB7; dotnet/runtime - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Unintended interactions of SerializationGuard and other features &#xB7; Issue #29212 &#xB7; dotnet/runtime - linksfor.dev(s)"/>
    <meta property="article:author" content="stephentoub"/>
    <meta property="og:description" content="The SerializationGuard feature is trying to prohibit certain types of operations during deserialization. However, these prohibited operations can happen and are valid for as features indirectly inv..."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://github.com/dotnet/corefx/issues/36723"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Unintended interactions of SerializationGuard and other features &#xB7; Issue #29212 &#xB7; dotnet/runtime</title>
<div class="readable">
        <h1>Unintended interactions of SerializationGuard and other features &#xB7; Issue #29212 &#xB7; dotnet/runtime</h1>
            <div>by stephentoub</div>
            <div>Reading time: 13-16 minutes</div>
        <div>Posted here: 10 Apr 2019</div>
        <p><a href="https://github.com/dotnet/corefx/issues/36723">https://github.com/dotnet/corefx/issues/36723</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div data-channel="marked-as-read:issue:558457690">

              
<div data-gid="MDU6SXNzdWU1NTg0NTc2OTA=" data-url="/_render_node/MDU6SXNzdWU1NTg0NTc2OTA=/issues/body" data-channel="issue:558457690">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/jkotas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/jkotas"><img height="40" width="40" alt="@jkotas" src="https://avatars3.githubusercontent.com/u/6668460?s=88&amp;v=4"></a>

</p>


  
<div id="issue-558457690">
  <div data-body-version="6fab4b28d2f0296c327a5685ff9c0744" data-unfurl-hide-url="/content_reference_attachments/hide">
    


    <div>

      
<task-lists disabled="" sortable="">
<div>
          <p>The SerializationGuard feature is trying to prohibit certain types of operations during deserialization. However, these prohibited operations can happen and are valid for as features indirectly involved by deserialization. Example of such features include tracing or on-demand assembly loading:</p>
<ul>
<li>The tracing often create a new file as side-effect of tracing operations done while the deserialization is in progress.</li>
<li>On-demand assembly loading systems sometimes that materialize the files on disk or even start a compiler in separate process to create the file.</li>
</ul>
<p>There are likely unintended interations like this that we cannot think about yet. The SerializationGuard feature violates encapsulation that is one of the key principles of good software design.</p>
      </div>
</task-lists>


        



    </div>

  </div>
</div>

</div>


              

  


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTI1NjI0OQ==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTI1NjI0OQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDQ4MTI1NjI0OQ==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/jkotas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/jkotas"><img height="40" width="40" alt="@jkotas" src="https://avatars3.githubusercontent.com/u/6668460?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-481256249">
    <div>
      

  

<details data-body-version="45eebb8ffbc39033e75894867cfa20da">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  
</div>


</div>


</div>


  
  
<div data-gid="MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjI2Mjg5MTA5NQ==">
  
        <div data-team-hovercards-enabled="" id="event-2262891095">
  
  <div>

    

        <p><a data-hovercard-type="user" data-hovercard-url="/users/stephentoub/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/stephentoub"><img height="20" width="20" alt="@stephentoub" src="https://avatars3.githubusercontent.com/u/2642209?s=60&amp;v=4"></a>
  <a data-hovercard-type="user" data-hovercard-url="/users/stephentoub/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/stephentoub">stephentoub</a>
  


      
changed the title
<del>Unintended interations of SerializationGuard and other features</del>

<ins>Unintended interactions of SerializationGuard and other features</ins></p><a href="#event-2262891095"><relative-time datetime="2019-04-09T13:44:51Z" title="Apr 9, 2019, 6:44 AM PDT">on Apr 9, 2019</relative-time></a>

  </div>
</div>




</div>

  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTI3NjkzNw==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTI3NjkzNw==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDQ4MTI3NjkzNw==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/bartonjs/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bartonjs"><img height="40" width="40" alt="@bartonjs" src="https://avatars1.githubusercontent.com/u/10642668?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-481276937">
    <div>
      

  

<details data-body-version="316db9f53fe3d262f54ed8de0f2ccb09">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  <div data-body-version="316db9f53fe3d262f54ed8de0f2ccb09" data-unfurl-hide-url="/content_reference_attachments/hide">
    


    <div>

      
<task-lists disabled="" sortable="">
<div>
          <p>The ultimate answer is that anything that is legitimate, but negatively affected, can disable the feature via the appcontext switch and file a bug.  If things are too egregious, we'll turn it off.</p>
<p>While tracing systems might be legitimately creating new files (and negatively carrying the state with them) the notion of a deserialization causing a compiler to be invoked is actually the sort of thing we're trying to block with Serialization Guard.  (Again, there may be legitimate usage, but in general it's dangerous)</p>
      </div>
</task-lists>


        



    </div>

  </div>
</div>


</div>


</div>


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTI4MDEwNw==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTI4MDEwNw==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDQ4MTI4MDEwNw==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/jkotas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/jkotas"><img height="40" width="40" alt="@jkotas" src="https://avatars3.githubusercontent.com/u/6668460?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-481280107">
    <div>
      

  

<details data-body-version="6840e4232c4e9adaf1f305fc2d9f1d71">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  <div data-body-version="6840e4232c4e9adaf1f305fc2d9f1d71" data-unfurl-hide-url="/content_reference_attachments/hide">
    


    <div>

      
<task-lists disabled="" sortable="">
<div>
          <p>it is true that anybody can disable this once they hit the problem; however they need to pay to cost to diagnose this and get to the root cause; and then they are faced with unconformable decision whether it is better to be more secure or whether it is better to make stuff work.</p>
<p>What do you think about my alternate proposal discussed offline to instead introduce a API that exposes list of types that are blacklisted for deserialization that would be checked by participating deserializers?</p>
      </div>
</task-lists>


        



    </div>

  </div>
</div>


</div>


</div>


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTI4Nzg3Mg==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTI4Nzg3Mg==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDQ4MTI4Nzg3Mg==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/bartonjs/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bartonjs"><img height="40" width="40" alt="@bartonjs" src="https://avatars1.githubusercontent.com/u/10642668?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-481287872">
    <div>
      

  

<details data-body-version="b743ff71e75d19ca67cb14fe4d93c17c">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  <div data-body-version="b743ff71e75d19ca67cb14fe4d93c17c" data-unfurl-hide-url="/content_reference_attachments/hide">
    


    <div>

      
<task-lists disabled="" sortable="">
<div>
          <p>The concern with a deny-list is that it only affects things that are directly deserialized.  It misses the case where the serialization gadget was some component which then on a "non-serialization" chain then still delivers serialization payload information to File.Write, Assembly.Load(byte[]) or Process.Start.</p>
<p>For example, one slide in a talk from abusing .NET serialization involved being able to indirectly create a thing to call the third-party method DotNetNuke.Common.Utilities.FileSystemUtils.PullFile to download a file from the Internet and write it to disk.  The thing they were after was writing a thing to disk (which we provide) and they got there by a serializer, but not directly.</p>
      </div>
</task-lists>


        



    </div>

  </div>
</div>


</div>


</div>


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTMyMTkxMQ==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTMyMTkxMQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDQ4MTMyMTkxMQ==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/MichalStrehovsky/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/MichalStrehovsky"><img height="40" width="40" alt="@MichalStrehovsky" src="https://avatars1.githubusercontent.com/u/13110571?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-481321911">
    <div>
      

  

<details data-body-version="361e6478235e72dd5cc6ac4010e477cd">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  <div data-body-version="361e6478235e72dd5cc6ac4010e477cd" data-unfurl-hide-url="/content_reference_attachments/hide">
    


    <div>

      
<task-lists disabled="" sortable="">
<div>
          <p>The more attack vectors we try to guard against in the future, the more unintended interactions this feature is going to have (e.g. writing to registry can be equally dangerous as Process.Start and WriteFile...).</p>
<p>Doesn't leaving things trivially exploitable (so that anyone can write their own POC in a matter of minutes) send a better message about how incredibly dangerous arbitrary deserialization is than introducing a feature that makes it look like we're making arbitrary deserialization safe?</p>
      </div>
</task-lists>


        



    </div>

  </div>
</div>


</div>


</div>


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTMyNzY5OA==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTMyNzY5OA==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDQ4MTMyNzY5OA==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/bartonjs/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bartonjs"><img height="40" width="40" alt="@bartonjs" src="https://avatars1.githubusercontent.com/u/10642668?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-481327698">
    <div>
      

  

<details data-body-version="bd5087c69aca073d7ce870c0df89677c">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  <div data-body-version="bd5087c69aca073d7ce870c0df89677c" data-unfurl-hide-url="/content_reference_attachments/hide">
    


    <div>

      
<task-lists disabled="" sortable="">
<div>
          <blockquote>
<p>Doesn't leaving things trivially exploitable ... send a better message ...?</p>
</blockquote>
<p>For years docs have said to not deserialize untrusted input.  And for years we've mopped up onesey twosey places with security bugs.  The conclusion was we need to be more proactive.</p>
      </div>
</task-lists>


        



    </div>

  </div>
</div>


</div>


</div>


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTUzMTIzMg==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTUzMTIzMg==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDQ4MTUzMTIzMg==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/jkotas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/jkotas"><img height="40" width="40" alt="@jkotas" src="https://avatars3.githubusercontent.com/u/6668460?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-481531232">
    <div>
      

  

<details data-body-version="d20eb42ca3fc2f4b821290faeb62ec87">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  <div data-body-version="d20eb42ca3fc2f4b821290faeb62ec87" data-unfurl-hide-url="/content_reference_attachments/hide">
    


    <div>

      
<task-lists disabled="" sortable="">
<div>
          <blockquote>
<p>The conclusion was we need to be more proactive.</p>
</blockquote>
<p>I agree with that. However, it still need to work properly. This feature does not work properly and it is a dead-end design as <a data-hovercard-type="user" data-hovercard-url="/users/MichalStrehovsky/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/MichalStrehovsky">@MichalStrehovsky</a> pointed out.</p>
      </div>
</task-lists>


        



    </div>

  </div>
</div>


</div>


</div>


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTU2NjQ1OA==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTU2NjQ1OA==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDQ4MTU2NjQ1OA==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/GrabYourPitchforks/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/GrabYourPitchforks"><img height="40" width="40" alt="@GrabYourPitchforks" src="https://avatars2.githubusercontent.com/u/1746272?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-481566458">
    <div>
      

  

<details data-body-version="80d3bda53632efb4665a4df02ba60420">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  <div data-body-version="80d3bda53632efb4665a4df02ba60420" data-unfurl-hide-url="/content_reference_attachments/hide">
    


    <div>

      
<task-lists disabled="" sortable="">
<div>
          <p>Re: assembly load, I don't think the Serialization Guard feature blocks all assembly loads. I think it's just the <code>Assembly.Load(byte[])</code>-related overloads that are blocked. Is this impacting a mainline scenario?</p>
      </div>
</task-lists>


        



    </div>

  </div>
</div>


</div>


</div>


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTU3MTMwNg==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTU3MTMwNg==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDQ4MTU3MTMwNg==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/MichalStrehovsky/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/MichalStrehovsky"><img height="40" width="40" alt="@MichalStrehovsky" src="https://avatars1.githubusercontent.com/u/13110571?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-481571306">
    <div>
      

  

<details data-body-version="a038563907ae93bdd3d2fbb363a01942">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  <div data-body-version="a038563907ae93bdd3d2fbb363a01942" data-unfurl-hide-url="/content_reference_attachments/hide">
    


    <div>

      
<task-lists disabled="" sortable="">
<div>
          <blockquote>
<p>I think it's just the <code>Assembly.Load(byte[])</code>-related overloads that are blocked. Is this impacting a mainline scenario?</p>
</blockquote>
<p>Load from byte array is how people do "single-file" deployments right now. E.g. the NuGet credential provider for Azure embeds its dependent assemblies as resources, hooks up <code>AppDomain.AssemblyResolve</code>, and satisfies assembly resolution requests from the embedded assemblies. The embedded assemblies are loaded from a byte array.</p>
      </div>
</task-lists>


        



    </div>

  </div>
</div>


</div>


</div>


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTU3NDM5Mw==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTU3NDM5Mw==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDQ4MTU3NDM5Mw==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/GrabYourPitchforks/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/GrabYourPitchforks"><img height="40" width="40" alt="@GrabYourPitchforks" src="https://avatars2.githubusercontent.com/u/1746272?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-481574393">
    <div>
      

  

<details data-body-version="939ef837b7fb26ad7bc46f0f3d76446c">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  <div data-body-version="939ef837b7fb26ad7bc46f0f3d76446c" data-unfurl-hide-url="/content_reference_attachments/hide">
    


    <div>

      
<task-lists disabled="" sortable="">
<div>
          <p>I bet we could make that scenario work. Should we use this issue to track it?</p>
      </div>
</task-lists>


        



    </div>

  </div>
</div>


</div>


</div>


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTU3NzY3NQ==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTU3NzY3NQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDQ4MTU3NzY3NQ==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/MichalStrehovsky/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/MichalStrehovsky"><img height="40" width="40" alt="@MichalStrehovsky" src="https://avatars1.githubusercontent.com/u/13110571?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-481577675">
    <div>
      

  

<details data-body-version="80b41fa75ee8fc4dba43ad2a57ec53d4">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  <div data-body-version="80b41fa75ee8fc4dba43ad2a57ec53d4" data-unfurl-hide-url="/content_reference_attachments/hide">
    


    <div>

      
<task-lists disabled="" sortable="">
<div>
          <blockquote>
<p>I bet we could make that scenario work. Should we use this issue to track it?</p>
</blockquote>
<p>I think the point that Jan is making is that every single blocking we add is going to have unintended interactions (including the blocking of file writes, and whatever else we decide to block later - it's not just about <code>Assembly.Load</code>). This issue tracks the whole category.</p>
<p>It will be especially problematic if this blocking is looked at as a security feature. E.g. we didn't block registry writes now, but an attacker can use that to do indirect file writes, including a (delayed) process start. Let's say we find this "exploit" later and decide to do a "security fix" to block it. Now the security fix is going to have unintended impacts on scenarios we can't estimate risks on because it impacts arbitrary code paths in user code that might be executing while a deserialization is in progress. The result is that a security fix is going to break customers in code paths unrelated to the fixed area.</p>
      </div>
</task-lists>


        



    </div>

  </div>
</div>


</div>


</div>


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTU4MjgyMQ==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTU4MjgyMQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDQ4MTU4MjgyMQ==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/GrabYourPitchforks/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/GrabYourPitchforks"><img height="40" width="40" alt="@GrabYourPitchforks" src="https://avatars2.githubusercontent.com/u/1746272?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-481582821">
    <div>
      

  

<details data-body-version="1e39acd5b312d23fb25daba68b6ba370">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  <div data-body-version="1e39acd5b312d23fb25daba68b6ba370" data-unfurl-hide-url="/content_reference_attachments/hide">
    


    <div>

      
<task-lists disabled="" sortable="">
<div>
          <p>We're not interested in closing every possible exploit vector. We're just interested in closing the ones that keep coming up over and over and over again in the security cases reported to us. File writes, assembly loading, and process start tend to be the ones we see in practice since for better or worse developers love writing deserialization ctors that directly or indirectly kick off one of those operations.</p>
<p>You're right in that nothing stops somebody from writing a deserialization ctor that performs an arbitrary registry write. At the same time nothing stops somebody from writing a deserialization ctor that performs an arbitrary write to memory. But we don't have evidence that such types exist in quantities that pose a threat to our ecosystem. And until that evidence appears I don't see us doing anything about it.</p>
      </div>
</task-lists>


        



    </div>

  </div>
</div>


</div>


</div>


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTU5MTgxOA==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ4MTU5MTgxOA==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDQ4MTU5MTgxOA==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/MichalStrehovsky/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/MichalStrehovsky"><img height="40" width="40" alt="@MichalStrehovsky" src="https://avatars1.githubusercontent.com/u/13110571?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-481591818">
    <div>
      

  

<details data-body-version="eaf2f66eaee346c9be7fbbe1497e5089">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  <div data-body-version="eaf2f66eaee346c9be7fbbe1497e5089" data-unfurl-hide-url="/content_reference_attachments/hide">
    


    <div>

      
<task-lists disabled="" sortable="">
<div>
          <blockquote>
<p>But we don't have evidence that such types exist in quantities that pose a threat to our ecosystem. And until that evidence appears I don't see us doing anything about it.</p>
</blockquote>
<p>People use Process.Start and file writes because it's the most straightforward thing. Take that away, and people will just find the next straightforward thing (registry, WMI, whatever). It's easy to anticipate the next step here - this feature doesn't have a broad enough stroke.</p>
<p>If we go and block the next straighforward thing too, it adds to the argument of getting unintended interactions in many places. If we don't block it, this feature becomes pretty much useless (a speed bump that everyone knows how to drive around). Neither of those options make me feel like this is a sustainable design.</p>
      </div>
</task-lists>


        



    </div>

  </div>
</div>


</div>


</div>


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ5NzUwNzYzNQ==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ5NzUwNzYzNQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDQ5NzUwNzYzNQ==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/danmosemsft/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/danmosemsft"><img height="40" width="40" alt="@danmosemsft" src="https://avatars2.githubusercontent.com/u/6385855?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-497507635">
    <div>
      

  

<details data-body-version="d517c73057cc4bf4c3adf2571d4645e8">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  <div data-body-version="d517c73057cc4bf4c3adf2571d4645e8" data-unfurl-hide-url="/content_reference_attachments/hide">
    


    <div>

      
<task-lists disabled="" sortable="">
<div>
          <p>We need to resolve this before shipping.</p>
      </div>
</task-lists>


        



    </div>

  </div>
</div>


</div>


</div>


  
  


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ5ODg5MjE1OA==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDQ5ODg5MjE1OA==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDQ5ODg5MjE1OA==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/danmosemsft/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/danmosemsft"><img height="40" width="40" alt="@danmosemsft" src="https://avatars2.githubusercontent.com/u/6385855?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-498892158">
    <div>
      

  

<details data-body-version="ec69607ed4953c6245db35827bb29c7b">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  <div data-body-version="ec69607ed4953c6245db35827bb29c7b" data-unfurl-hide-url="/content_reference_attachments/hide">
    


    <div>

      
<task-lists disabled="" sortable="">
<div>
          <p>I spoke to <a data-hovercard-type="user" data-hovercard-url="/users/GrabYourPitchforks/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/GrabYourPitchforks">@GrabYourPitchforks</a>. He is going to remove the public surface area and reach consensus on the rest for 3.0 (ie this month I hope).</p>
      </div>
</task-lists>


        



    </div>

  </div>
</div>


</div>


</div>


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDUwNTUwNzY5Mw==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDUwNTUwNzY5Mw==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDUwNTUwNzY5Mw==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/joperezr/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/joperezr"><img height="40" width="40" alt="@joperezr" src="https://avatars3.githubusercontent.com/u/13854455?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-505507693">
    <div>
      

  

<details data-body-version="6de2f9253981683642c9eed2c2419e16">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  
</div>


</div>


</div>


  
  
<div data-gid="MDExOkNsb3NlZEV2ZW50MjQzOTAxMjUwMA==">
  
        

  

  

  <div>
  <div id="ref-commit-27b7c2e">
    
  <p><a data-hovercard-type="user" data-hovercard-url="/users/jkotas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/jkotas">jkotas</a> 

      referenced
      this issue
        in dotnet/coreclr

    </p><a href="#ref-commit-27b7c2e">
      <relative-time datetime="2019-06-26T00:25:08Z" title="Jun 25, 2019, 5:25 PM PDT">on Jun 25, 2019</relative-time>
    </a>
    <div>
      

<div data-channel="repo:30092893:commit:27b7c2e673c85568374681d1a3270c60946fc3cd" data-url="/dotnet/coreclr/commit/27b7c2e673c85568374681d1a3270c60946fc3cd/_render_node/commit/condensed">
  <div>
      
<div>
  <p><a data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/users/jkotas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/jkotas">
          <img height="20" width="20" alt="@jkotas" src="https://avatars2.githubusercontent.com/u/6668460?s=60&amp;v=4">
</a>  </p>
</div>


    

    <div>
      
    <details>
        <summary title="Commit signature">
            Verified
        </summary>
        <div>
          <div>
            <div>
              
              <p>
                    This commit was created on GitHub.com and signed with a <strong>verified signature</strong> using GitHub’s key.
              </p>
            </div>


            
          </div>
        </div>
    </details>

    </div>

    

    
  </div>
    <div>
      <pre>Contributes to dotnet/corefx#36723</pre>
    </div>
</div>


    </div>
  </div>
</div>

  <div>
  <div id="ref-commit-c71d60b">
    
  <p><a data-hovercard-type="user" data-hovercard-url="/users/Dotnet-GitSync-Bot/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Dotnet-GitSync-Bot">Dotnet-GitSync-Bot</a> 

      referenced
      this issue
        in Dotnet-GitSync-Bot/corefx

    </p><a href="#ref-commit-c71d60b">
      <relative-time datetime="2019-06-26T17:04:17Z" title="Jun 26, 2019, 10:04 AM PDT">on Jun 26, 2019</relative-time>
    </a>
    <div>
      

<div data-channel="repo:160406175:commit:c71d60b49326992179a5da7292ffe4d10ce33eab" data-url="/Dotnet-GitSync-Bot/corefx/commit/c71d60b49326992179a5da7292ffe4d10ce33eab/_render_node/commit/condensed">
  <div>
      
<div>
  <p><a data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/users/jkotas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/jkotas">
          <img height="20" width="20" alt="@jkotas" src="https://avatars2.githubusercontent.com/u/6668460?s=60&amp;v=4">
</a>        <a data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/users/dotnet-bot/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/dotnet-bot">
          <img height="20" width="20" alt="@dotnet-bot" src="https://avatars3.githubusercontent.com/u/9011267?s=60&amp;v=4">
</a>  </p>
</div>


    

    

    

    
  </div>
    <div>
      <pre>Contributes to dotnet/corefx#36723

Signed-off-by: dotnet-bot &lt;dotnet-bot@microsoft.com&gt;</pre>
    </div>
</div>


    </div>
  </div>
</div>

  <div>
  <div id="ref-commit-7282c9e">
    
  <p><a data-hovercard-type="user" data-hovercard-url="/users/Dotnet-GitSync-Bot/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Dotnet-GitSync-Bot">Dotnet-GitSync-Bot</a> 

      referenced
      this issue
        in Dotnet-GitSync-Bot/corert

    </p><a href="#ref-commit-7282c9e">
      <relative-time datetime="2019-06-26T17:04:30Z" title="Jun 26, 2019, 10:04 AM PDT">on Jun 26, 2019</relative-time>
    </a>
    <div>
      

<div data-channel="repo:160406355:commit:7282c9e84ef7f30386cd7cbec4c3c456c44e164c" data-url="/Dotnet-GitSync-Bot/corert/commit/7282c9e84ef7f30386cd7cbec4c3c456c44e164c/_render_node/commit/condensed">
  <div>
      
<div>
  <p><a data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/users/jkotas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/jkotas">
          <img height="20" width="20" alt="@jkotas" src="https://avatars2.githubusercontent.com/u/6668460?s=60&amp;v=4">
</a>        <a data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/users/dotnet-bot/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/dotnet-bot">
          <img height="20" width="20" alt="@dotnet-bot" src="https://avatars3.githubusercontent.com/u/9011267?s=60&amp;v=4">
</a>  </p>
</div>


    

    

    

    
  </div>
    <div>
      <pre>Contributes to dotnet/corefx#36723

Signed-off-by: dotnet-bot &lt;dotnet-bot@microsoft.com&gt;</pre>
    </div>
</div>


    </div>
  </div>
</div>

  <div>
  <div id="ref-commit-d1dec13">
    
  <p><a data-hovercard-type="user" data-hovercard-url="/users/Anipik/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Anipik">Anipik</a> 

      referenced
      this issue
        in dotnet/corefx

    </p><a href="#ref-commit-d1dec13">
      <relative-time datetime="2019-06-26T18:58:24Z" title="Jun 26, 2019, 11:58 AM PDT">on Jun 26, 2019</relative-time>
    </a>
    <div>
      

<div data-channel="repo:26295345:commit:d1dec1370b6ad4100bc0dbbc45b1eead203b68eb" data-url="/dotnet/corefx/commit/d1dec1370b6ad4100bc0dbbc45b1eead203b68eb/_render_node/commit/condensed">
  <div>
      
<div>
  <p><a data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/users/jkotas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/jkotas">
          <img height="20" width="20" alt="@jkotas" src="https://avatars2.githubusercontent.com/u/6668460?s=60&amp;v=4">
</a>        <a data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/users/Anipik/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Anipik">
          <img height="20" width="20" alt="@Anipik" src="https://avatars1.githubusercontent.com/u/10516582?s=60&amp;v=4">
</a>  </p>
</div>


    

    

    

    
  </div>
    <div>
      <pre>Contributes to dotnet/corefx#36723

Signed-off-by: dotnet-bot &lt;dotnet-bot@microsoft.com&gt;</pre>
    </div>
</div>


    </div>
  </div>
</div>

  <div>
  <div id="ref-commit-094757a">
    
  <p><a data-hovercard-type="user" data-hovercard-url="/users/jkotas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/jkotas">jkotas</a> 

      referenced
      this issue
        in dotnet/corert

    </p><a href="#ref-commit-094757a">
      <relative-time datetime="2019-06-27T06:29:15Z" title="Jun 26, 2019, 11:29 PM PDT">on Jun 26, 2019</relative-time>
    </a>
    <div>
      

<div data-channel="repo:42552143:commit:094757a000c66d56141cd8a9ab943ff3cbf2611f" data-url="/dotnet/corert/commit/094757a000c66d56141cd8a9ab943ff3cbf2611f/_render_node/commit/condensed">
  <div>
      
<div>
  <p><a data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/users/jkotas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/jkotas">
          <img height="20" width="20" alt="@jkotas" src="https://avatars2.githubusercontent.com/u/6668460?s=60&amp;v=4">
</a>  </p>
</div>


    

    

    

    
  </div>
    <div>
      <pre>Contributes to dotnet/corefx#36723

Signed-off-by: dotnet-bot &lt;dotnet-bot@microsoft.com&gt;</pre>
    </div>
</div>


    </div>
  </div>
</div>

  <div>
  <div id="ref-commit-5570c1b">
    
  <p><a data-hovercard-type="user" data-hovercard-url="/users/Dotnet-GitSync-Bot/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Dotnet-GitSync-Bot">Dotnet-GitSync-Bot</a> 

      referenced
      this issue
        in Dotnet-GitSync-Bot/mono

    </p><a href="#ref-commit-5570c1b">
      <relative-time datetime="2019-07-01T17:42:20Z" title="Jul 1, 2019, 10:42 AM PDT">on Jul 1, 2019</relative-time>
    </a>
    <div>
      

<div data-channel="repo:162622909:commit:5570c1b3df6d9d5afe1d6047b0ddcfa9f4422d60" data-url="/Dotnet-GitSync-Bot/mono/commit/5570c1b3df6d9d5afe1d6047b0ddcfa9f4422d60/_render_node/commit/condensed">
  <div>
      
<div>
  <p><a data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/users/jkotas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/jkotas">
          <img height="20" width="20" alt="@jkotas" src="https://avatars2.githubusercontent.com/u/6668460?s=60&amp;v=4">
</a>        <a data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/users/dotnet-bot/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/dotnet-bot">
          <img height="20" width="20" alt="@dotnet-bot" src="https://avatars3.githubusercontent.com/u/9011267?s=60&amp;v=4">
</a>  </p>
</div>


    

    

    

    
  </div>
    <div>
      <pre>Contributes to dotnet/corefx#36723

Signed-off-by: dotnet-bot &lt;dotnet-bot@microsoft.com&gt;</pre>
    </div>
</div>


    </div>
  </div>
</div>

  <div>
  <div id="ref-commit-674f887">
    
  <p><a data-hovercard-type="user" data-hovercard-url="/users/marek-safar/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/marek-safar">marek-safar</a> 

      referenced
      this issue
        in mono/mono

    </p><a href="#ref-commit-674f887">
      <relative-time datetime="2019-07-01T21:01:37Z" title="Jul 1, 2019, 2:01 PM PDT">on Jul 1, 2019</relative-time>
    </a>
    <div>
      

<div data-channel="repo:791611:commit:674f8876cc1850bad9387d192e1dc2ad9c9ff83f" data-url="/mono/mono/commit/674f8876cc1850bad9387d192e1dc2ad9c9ff83f/_render_node/commit/condensed">
  <div>
      
<div>
  <p><a data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/users/jkotas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/jkotas">
          <img height="20" width="20" alt="@jkotas" src="https://avatars2.githubusercontent.com/u/6668460?s=60&amp;v=4">
</a>        <a data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/users/marek-safar/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/marek-safar">
          <img height="20" width="20" alt="@marek-safar" src="https://avatars1.githubusercontent.com/u/250852?s=60&amp;v=4">
</a>  </p>
</div>


    

    

    

    
  </div>
    <div>
      <pre>Contributes to dotnet/corefx#36723

Signed-off-by: dotnet-bot &lt;dotnet-bot@microsoft.com&gt;</pre>
    </div>
</div>


    </div>
  </div>
</div>



</div>

  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDUxOTAyNjU0MA==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDUxOTAyNjU0MA==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDUxOTAyNjU0MA==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/ViktorHofer/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ViktorHofer"><img height="40" width="40" alt="@ViktorHofer" src="https://avatars1.githubusercontent.com/u/7412651?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-519026540">
    <div>
      

  

<details data-body-version="324ccce3ed1095de5294062cf934caf1">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  
</div>


</div>


</div>


  
  
<div data-gid="MDEyOklzc3VlQ29tbWVudDUxOTEyODM1Mw==">
  
    
<div data-gid="MDEyOklzc3VlQ29tbWVudDUxOTEyODM1Mw==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDUxOTEyODM1Mw==/timeline/issue_comment">

  
<p><a data-hovercard-type="user" data-hovercard-url="/users/bartonjs/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bartonjs"><img height="40" width="40" alt="@bartonjs" src="https://avatars1.githubusercontent.com/u/10642668?s=88&amp;v=4"></a>

</p>


  
<div id="issuecomment-519128353">
    <div>
      

  

<details data-body-version="b127099c71415d532da3a26ed73eb041">
    <summary>
      <div>
        <h3>
              This comment has been minimized.

        </h3>
        
      </div>
    </summary>
</details>


    </div>
  
</div>


</div>


</div>


  
  




    
  





<!-- Rendered timeline since 2020-01-31 17:43:48 -->



            </div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
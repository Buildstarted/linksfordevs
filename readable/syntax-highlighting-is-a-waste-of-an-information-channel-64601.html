<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Syntax highlighting is a waste of an information channel - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Syntax highlighting is a waste of an information channel - linksfor.dev(s)"/>
    <meta property="og:description" content="No newsletter next week Running the TLA&#x2B; workshop. No way I&#x27;m gonna have any brainpower after that. Syntax highlighting is a waste of an information channel..."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://buttondown.email/hillelwayne/archive/syntax-highlighting-is-a-waste-of-an-information/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Syntax highlighting is a waste of an information channel</title>
<div class="readable">
        <h1>Syntax highlighting is a waste of an information channel</h1>
            <div>Reading time: 6-7 minutes</div>
        <div>Posted here: 21 Jul 2020</div>
        <p><a href="https://buttondown.email/hillelwayne/archive/syntax-highlighting-is-a-waste-of-an-information/">https://buttondown.email/hillelwayne/archive/syntax-highlighting-is-a-waste-of-an-information/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div data-v-b5d485a2=""><h2>No newsletter next week</h2>
<p>Running the TLA+ workshop. No way I’m gonna have any brainpower after that.</p>
<h2>Syntax highlighting is a waste of an information channel</h2>
<p>No, not a waste <em>in general</em>. Syntax highlighting is quite useful. I’m saying it’s a waste <em>of an information channel</em>. Here’s a quick demonstration of what I mean. Here’s 399 squares and one circle. Where’s the circle?</p>
<p><img alt="" src="https://buttondown.s3.us-west-2.amazonaws.com/images/7757f208-c0e1-491e-98b5-38a45622b114.png"></p>
<p>Round two. Where’s the circle?</p>
<p><img alt="" src="https://buttondown.s3.us-west-2.amazonaws.com/images/c8939cab-166a-45db-90e8-19f32ae0f917.png"> </p>
<p>Color carries a <em>huge</em> amount of information. Color draws our attention. Color distinguishes things. And we just use it to distinguish syntax.</p>
<p>Nothing wrong with distinguishing syntax. It’s the “just” that bothers me. Highlighting syntax is not always the most important thing to us. The information we want from code depends on what we’re trying to do. I’m interesting in different things if I’m writing greenfield code vs optimizing code vs debugging code vs doing a code review. I should be able to swap different highlighting rules in and out depending on what I need. I should be able to combine different rules into task-level overlays that I can toggle on and off.</p>
<p>I’ve listed some examples of what we could do with this. If this is something that already exists I included a link. Otherwise I included a mockup. Some of the examples have implementation issues beyond what I discussed; they’re just demonstrations of what highlighting <em>could</em> be. All examples are Pythonish unless otherwise noted.</p>
<h3>Some Use Cases</h3>
<h4>Rainbow parenthesis</h4>
<p>This is a pretty common one. We can use different colors to mark how nested a set of parenthesis are. From <a href="https://github.com/luochen1990/rainbow?utm_source=hillelwayne&amp;utm_medium=email&amp;utm_campaign=syntax-highlighting-is-a-waste-of-an-information" target="_blank">here</a>.</p>
<p><img alt="" src="https://buttondown.s3.us-west-2.amazonaws.com/images/67904707-1815-468b-9814-ffaf2ae87b16.png"> </p>
<h4>Context Highlighting</h4>
<p>Highlight different levels of nesting. From <a href="https://www.crockford.com/contextcoloring.html?utm_source=hillelwayne&amp;utm_medium=email&amp;utm_campaign=syntax-highlighting-is-a-waste-of-an-information" target="_blank">here</a>.</p>
<p><img alt="" src="https://buttondown.s3.us-west-2.amazonaws.com/images/0a9964b7-caba-4e0d-a91c-ef0859d93081.png"> </p>
<h4>Import highlighting</h4>
<p>Highlight identifiers imported from a different file.</p>
<p><img alt="" src="https://buttondown.s3.us-west-2.amazonaws.com/images/33640b17-f69d-4b29-8682-e52ca4a8e673.png"> 
Variations:</p>
<ul>
<li>Highlight imported functions and classes differently</li>
<li>Highlight qualified imports</li>
<li>Highlight imports from particular trees</li>
</ul>
<h4>Argument Highlighting</h4>
<p>Arguments passed into the function are highlighted differently from local variables or global identifiers.</p>
<p><img alt="" src="https://buttondown.s3.us-west-2.amazonaws.com/images/beaac37c-6898-455e-a38d-bcb9cfc57703.png"><br>
Variations:</p>
<ul>
<li>Carry it through to aliases (if we assign the argument to another value, highlight that too)</li>
<li>Highlight local variables only</li>
<li>Highlight values that <em>will</em> be assigned to something</li>
<li>Highlight variables used in loops</li>
</ul>
<h4>Type Highlighting</h4>
<p>Highlight all list variables and integer variables with different colors.</p>
<p><img alt="" src="https://buttondown.s3.us-west-2.amazonaws.com/images/b32bc94c-f95b-4daa-8d93-e662ecb10564.png"> </p>
<p>Variations:</p>
<ul>
<li>Highlight all iterables</li>
<li>Highlight all functions returning option types</li>
<li>Highlight all variables that could be one of two types</li>
<li>Highlight all polymorphic types parameterized to integers</li>
</ul>
<h4>Exception Highlighting</h4>
<p>Highlight functions that raise errors not caught in their body. </p>
<p><img alt="" src="https://buttondown.s3.us-west-2.amazonaws.com/images/fc07fd5e-48d3-4fbe-8d3a-9e0b20fb8f3d.png"> </p>
<p>Variations:</p>
<ul>
<li>Highlight all functions with try blocks</li>
<li>Highlight functions that raise user-defined exceptions</li>
<li>Highlight functions that raise a specific exception</li>
<li>Highlight functions that <em>catch</em> a specific exception</li>
</ul>
<h4>Metadata Highlighting</h4>
<p>Highlight functions that were directly called in the bodies of tests that failed in the last test run.</p>
<p><img alt="" src="https://buttondown.s3.us-west-2.amazonaws.com/images/f428e128-7cb2-44d0-8dc0-90f2bb33eee9.png"> </p>
<ul>
<li>Highlight functions without precondition decorators</li>
<li>Highlight functions that are part of a certain stacktrace</li>
<li>Highlight functions which are defined in our branch but not the master branch</li>
</ul>
<h4>Random other ideas I didn’t mock up</h4>
<ul>
<li>All functions that transitively call functions that make an http call</li>
<li>All variable identifiers we assign to twice</li>
<li>All classes with more than 10 user-defined methods</li>
<li>All functions more than 100 lines long</li>
<li>All functions without docstrings</li>
<li>All lines last edited by a particular member of the team</li>
<li>All identifiers marked “deprecated” in a certain design document</li>
<li>All functions with a <code># TODO</code> comment inside them</li>
</ul>
<h3>Issues</h3>
<p>Why aren’t things this way? There’s both essential and coincidental challenges that make fully leveraging color a lot harder than just having syntax highlighting.</p>
<p>First is actually implementing rules. Some of these require access to the code’s AST, some require broader knowledge of the project, some require runtime information. Some of the ideas are even infeasible; accurately tracking aliasing is an open problem for most languages. Syntax highlighting, by contrast, is usually a matter of regexes and hierarchical state machines. That’s how <a href="https://pygments.org/?utm_source=hillelwayne&amp;utm_medium=email&amp;utm_campaign=syntax-highlighting-is-a-waste-of-an-information" target="_blank">pygments</a> does it. Semantic highlighting would have to be made from scratch for each language.</p>
<p>Second is highlighting conflicts. What if something needs to be colored two things for two different reasons? In syntax highlighting this is less of a problem because you have an ordered list of matchers. But with semantic highlighting we might have dynamic priorities, where rule A is more important to us now while rule B is more important to us later. Things get even more complicated if we have multiple distinct overlays, which themselves can have priority conflicts. Semantic highlighting would need a much more complex design and implementation than simple syntax highlighting does, and adding overlays makes it even more complicated.</p>
<p>Finally, existing editors just aren’t well set up to handle this. Vim’s syntax highlighting is a mess of regular expressions and special cases. VSCode and (I believe) Atom use <a href="https://macromates.com/manual/en/language_grammars?utm_source=hillelwayne&amp;utm_medium=email&amp;utm_campaign=syntax-highlighting-is-a-waste-of-an-information" target="_blank">TextMate grammars</a>, which assume a single canonical tokenization per file. VSCode recently added <a href="https://code.visualstudio.com/api/language-extensions/semantic-highlight-guide?utm_source=hillelwayne&amp;utm_medium=email&amp;utm_campaign=syntax-highlighting-is-a-waste-of-an-information" target="_blank">semantic highlighting</a> but it seems more oriented to augment the existing syntax highlighting, not radically rethink it. I have no idea what Emacs does.</p>
<p>So I think this is something we’ll <em>eventually</em> have, because the potential advantages are too great to ignore forever. But it will take us a long time to get there. Maybe we’ll see it first with toy languages where the AST is simple enough and the expressiveness is low enough to make semantic highlighting easy.</p>
<h3>Update for the influx of new readers</h3>
<p>This was a newsletter post, you can subscribe <a href="https://buttondown.email/hillelwayne/?utm_source=hillelwayne&amp;utm_medium=email&amp;utm_campaign=syntax-highlighting-is-a-waste-of-an-information" target="_blank">here</a></p></div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
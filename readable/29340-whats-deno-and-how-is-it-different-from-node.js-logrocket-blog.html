<!DOCTYPE html>
<html lang="en">
<head>
    <title>
What&#x27;s Deno, and how is it different from Node.js? - LogRocket Blog -
linksfor.dev(s)
    </title>
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <style type="text/css">
        html {
            font-family: sans-serif;
            line-height: 1.15;
            -webkit-text-size-adjust: 100%;
            -webkit-tap-highlight-color: transparent;
            height: 100%;
        }

        *, ::after, ::before {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";
            font-size: 1rem;
            font-weight: 400;
            line-height: 1.5;
            color: #60656a;
            text-align: left;
            background-color: #323b44;
        }

        h1 {
            font-size: 6rem;
            font-weight: 300;
            line-height: 1.2;
            margin-top: 0;
            margin-bottom: 0.5rem;
            margin-bottom: 0.5rem
        }

        a {
            color: #007bff;
            color: #ccc;
            text-decoration: none;
            background-color: transparent;
            word-break: break-all;
        }

        .unseen a {
            font-weight: bold;
        }

        h3 {
            margin-top: 0;
            padding-top: 0;
            font-weight: normal;
        }

        .grid {
            -ms-flex-direction: column;
            flex-direction: column;
            width: 1024px;
            margin: 0 auto;
            flex: 1 0 auto;
        }

        .row {
            -ms-flex-direction: row;
            flex-direction: row;
            width: 100%;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            display: -ms-flexbox;
            display: flex;
        }

        .col {
            margin: 0 10px 0 10px;
            box-sizing: border-box;
            vertical-align: top;
        }

        .col-3-of-4, .col-6-of-8, .col-9-of-12 {
            width: calc(75% - 20px);
        }

        .col-1-of-4, .col-2-of-8, .col-3-of-12 {
            width: calc(25% - 20px);
        }

        @media (max-width:1023px) {
            /* big landscape tablets, laptops, and desktops */
            body {
                overflow-x: hidden;
            }

            main {
                width: 99%;
            }

            h1 {
                font-size: 50px;
            }
        }

        .text-right {
            text-align: right;
        }

        footer {
            left: 0;
            width: 100%;
            margin-top: 2em;
            padding: 50px 0;
            text-align: center;
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }

        .readable {
            color: #949ba2;
        }

        svg:not(:root).svg-inline--fa {
            color: #60656a;
            overflow: visible;
        }

        .svg-inline--fa.fa-w-12 {
            width: 0.75em;
        }

        svg:not(:root) {
            overflow: hidden;
        }

        .svg-inline--fa {
            display: inline-block;
            font-size: inherit;
            height: 1em;
            overflow: visible;
            vertical-align: -0.125em;
        }

        img {
            max-width: 100%;
        }

        .text-center {
            text-align: center;
        }

        .readable h1 {
            font-size: 2em;
        }
    </style>
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <h1>What&#x27;s Deno, and how is it different from Node.js? - LogRocket Blog</h1>
    <article class="article-post"> <p>Ryan Dahl, creator of Node.js, has spent the last year and a half working on <a href="https://deno.land/">Deno</a>, a new runtime for JavaScript that is supposed to fix all the inherent problems of Node.</p>
<p>Don&#x2019;t get me wrong, Node is a great server-side JavaScript runtime in its own right, mostly due to its vast ecosystem and the usage of JavaScript. However, Dahl admits there are a few things he should have thought about more &#x2014; security, modules, and dependencies, to name a few.</p>
<p>In his defense, it&#x2019;s not like he could envision how much the platform would grow in such a short period of time. Also, back in 2009, JavaScript was still this weird little language that everyone made fun of, and many of its features weren&#x2019;t there yet.</p>
<h2>What is Deno, and what are its main features?</h2>
<p>Deno is a secure Typescript runtime built on V8, the Google runtime engine for JavaScript.</p>
<p>It was built with:</p>
<ul>
<li>Rust (Deno&#x2019;s core was written in Rust, Node&#x2019;s in C++)</li>
<li>Tokio (the event loop written in Rust)</li>
<li>TypeScript (Deno supports both JavaScript and TypeScript out of the box)</li>
<li>V8 (Google&#x2019;s JavaScript runtime used in Chrome and Node, among others)</li>
</ul>
<p>So let&#x2019;s see what features Deno offers.</p>
<p><a href="https://logrocket.com/signup/"><img class="alignnone size-full wp-image-27 jetpack-lazy-image" src="https://i0.wp.com/blog.logrocket.com/wp-content/uploads/2017/03/f760c-1gpjapknnuyhu8esa3z0jga.png?resize=1200%2C280&amp;is-pending-load=1#038;ssl=1" alt="LogRocket Free Trial Banner" width="1200" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a></p>
<h3>Security (permissions)</h3>
<p>Among the most important of Deno&#x2019;s features is its focus on security.</p>
<p>As opposed to Node, Deno by default executes the code in a sandbox, which means that runtime has no access to:</p>
<ul>
<li>The file system</li>
<li>The network</li>
<li>Execution of other scripts</li>
<li>The environment variables</li>
</ul>
<p>Let&#x2019;s take a look at how the permission system works.</p>
<pre>(async () =&gt; {
 const encoder = new TextEncoder();
 const data = encoder.encode(&apos;Hello world\n&apos;);

 await Deno.writeFile(&apos;hello.txt&apos;, data);
 await Deno.writeFile(&apos;hello2.txt&apos;, data);
})();</pre>
<p>The script creates two text files called <code>hello.txt</code> and <code>hello2.txt</code> with a <code>Hello&#xA0;world</code> message within. The code is being executed inside a sandbox, so it has no access to the file system.</p>
<p>Also note that we are using the Deno namespace instead of the fs module, as we would in Node. The Deno namespace provides many fundamental helper functions. By using the namespace, we are losing the browser compatibility, which will be discussed later on.</p>
<p>When we run it by executing:</p>
<pre>deno run write-hello.ts</pre>
<p>We are prompted with the following:</p>
<pre>&#x26A0;&#xFE0F;Deno requests write access to &quot;/Users/user/folder/hello.txt&quot;. Grant? [a/y/n/d (a = allow always, y = allow once, n = deny once, d = deny always)]</pre>
<p>We are actually prompted twice since each call from the sandbox must ask for permission. Of course if we chose the <code>allow always</code> option, we would only get asked once.</p>
<p>If we choose the <code>deny</code> option, the <code>PermissionDenied</code> error will be thrown, and the process will be terminated since we don&#x2019;t have any error-handling logic.</p>
<p>If we execute the script with the following command:</p>
<pre>deno run --allow-write write-hello.ts</pre>
<p>There are no prompts and both files are created.</p>
<p>Aside from the <code>--allow-write</code> flag for the file system, there are also <code>--allow-net</code>, <code>--allow-env</code>, and <code>--allow-run</code> flags to enable network requests, access the environment, and for running subprocesses, respectively.</p>
<h3>Modules</h3>
<p>Deno, just like browsers, loads modules by URLs. Many people got confused at first when they saw an import statement with a URL on the server side, but it actually makes sense &#x2014; just bear with me:</p>
<pre>import { assertEquals } from &quot;https://deno.land/std/testing/asserts.ts&quot;;</pre>
<p>What&#x2019;s the big deal with importing packages by their URLs, you may ask? The answer is simple: by using URLs, Deno packages can be distributed without a centralized registry such as <code>npm</code>, which recently has had a lot of problems, all of them explained <a href="https://www.youtube.com/watch?v=MO8hZlgK5zc">here</a>.</p>
<p>By importing code via URL, we make it possible for package creators to host their code wherever they see fit &#x2014; decentralization at its finest. <strong>No more <code>package.json</code> and <code>node_modules</code>.</strong></p><div class="code-block code-block-7"> <a href="https://logrocket.com/signup" class="cro1">
<div class="appear">
<div id="banner-cro1" class="cta-2"> <img id="photo" class="skip-lazy" src="https://i0.wp.com/blog.logrocket.com/wp-content/uploads/2019/05/developer_hero.png?ssl=1"> <img id="rocket" class="skip-lazy" src="https://i2.wp.com/blog.logrocket.com/wp-content/uploads/2019/05/rocket_flying-vertical.png?ssl=1">
</div>
</div></a> </div> <p>When we start the application, Deno downloads all the imported modules and caches them. Once they are cached, Deno will not download them again until we specifically ask for it with the <code>--reload</code> flag.</p>
<p>There are a few important questions to be asked here:</p>
<h4>What if a website goes down?</h4>
<p>Since it&#x2019;s not a centralized registry, the website that hosts the module may be taken down for many reasons. Depending on its being up during development &#x2014; or, even worse, during production &#x2014; is risky.</p>
<p>As we mentioned before, Deno caches the downloaded modules. Since the cache is stored on our local disk, the creators of Deno recommend checking it in our version control system (i.e., git) and keeping it in the repository. This way, even when the website goes down, all the developers retain access to the downloaded version.</p>
<p>Deno stores the cache in the directory specified under the <code>$DENO_DIR</code> environmental variable. If we don&#x2019;t set the variable ourselves, it will be set to the system&#x2019;s default cache directory. We can set the <code>$DENO_DIR</code> somewhere in our local repository and check it into the version control system.</p>
<h4>Do I have to import it by the URL all the time?</h4>
<p>Constantly typing URLs would be very tedious. Thankfully, Deno presents us with two options to avoid doing that.</p>
<p>The first option is to re-export the imported module from a local file, like so:</p>
<pre>export { test, assertEquals } from &quot;https://deno.land/std/testing/mod.ts&quot;;</pre>
<p>Let&#x2019;s say the file above is called <code>local-test-utils.ts</code>. Now, if we want to again make use of either <code>test</code> or <code>assertEquals</code> functions, we can just reference it like this:</p>
<pre>import { test, assertEquals } from &apos;./local-test-utils.ts&apos;;</pre>
<p>So it doesn&#x2019;t really matter if it&#x2019;s loaded from a URL or not.</p>
<p>The second option is to create an imports map, which we specify in a JSON file:</p>
<pre>{
   &quot;imports&quot;: {
      &quot;http/&quot;: &quot;https://deno.land/std/http/&quot;
   }
}</pre>
<p>And then import it as such:</p>
<pre>import { serve } from &quot;http/server.ts&quot;;</pre>
<p>In order for it to work, we have to tell Deno about the imports map by including the <code>--importmap</code> flag:</p>
<pre>deno run --importmap=import_map.json hello_server.ts</pre>
<h4>What about package versioning?</h4>
<p>Versioning has to be supported by the package provider, but from the client side it comes down to just setting the version number in the URL like so: <code>https://unpkg.com/liltest@0.0.5/dist/liltest.js</code>.</p>
<h3>Browser compatibility</h3>
<p>Deno aims to be browser-compatible. Technically speaking, when using the ES modules, we don&#x2019;t have to use any build tools like webpack to make our application ready to use in a browser.</p>
<p>However, tools like Babel will transpile the code to the ES5 version of JavaScript, and as a result, the code can be run even in older browsers that don&#x2019;t support all the newest features of the language. But that also comes at the price of including a lot of unnecessary code in the final file and bloating the output file.</p>
<p>It is up to us to decide what our main goal is and choose accordingly.</p>
<h3>TypeScript support out of the box</h3>
<p>Deno makes it easy to use TypeScript without the need for any config files. Still, it is possible to write programs in plain JavaScript and execute them with Deno without any trouble.</p>
<h2>Summary</h2>
<p>Deno, the new runtime for TypeScript and JavaScript, is an interesting project that has been steadily growing for quite some time now. But it still has a long way to go before it&#x2019;s considered production-ready.</p>
<p>With it&#x2019;s decentralized approach, it takes the necessary step of freeing the JavaScript ecosystem from the centralized package registry that is npm.</p>
<p>Dahl says that he expects to release version 1.0 by the end of the summer, so if you are interested in Deno&#x2019;s future developments, star <a href="https://github.com/denoland/deno">its repository</a>.</p> <h2>Plug:&#xA0;<a class="signup" href="https://logrocket.com/signup/">LogRocket</a>, a DVR for web apps</h2>
<p><a href="https://logrocket.com/signup/"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="https://i2.wp.com/blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?resize=1200%2C677&amp;is-pending-load=1#038;ssl=1" alt="LogRocket Dashboard Free Trial Banner" width="1200" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a></p>
<p><a class="signup" href="https://logrocket.com/signup/">LogRocket</a>&#xA0;is a frontend logging tool that lets you replay problems as if they happened in your own browser. Instead of guessing why errors happen, or asking users for screenshots and log dumps, LogRocket lets you replay the session to quickly understand what went wrong. It works perfectly with any app, regardless of framework, and has plugins to log additional context from Redux, Vuex, and @ngrx/store.</p>
<p>In addition to logging Redux actions and state, LogRocket records console logs, JavaScript errors, stacktraces, network requests/responses with headers + bodies, browser metadata, and custom logs. It also instruments the DOM to record the HTML and CSS on the page, recreating pixel-perfect videos of even the most complex single-page apps.</p>
<p><a class="signup" href="https://logrocket.com/signup/">Try it for free</a>.</p> </article>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2019 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
    </footer>
    
</body>
</html>
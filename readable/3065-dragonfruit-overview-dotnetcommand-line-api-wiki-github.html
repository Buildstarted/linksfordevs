<!DOCTYPE html>
<html lang="en">
<head>
    <title>
DragonFruit overview &#xB7; dotnet/command-line-api Wiki &#xB7; GitHub -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>DragonFruit overview · dotnet/command-line-api Wiki · GitHub</h1><div><div class="markdown-body"><p>The entry point for a normal .NET console application looks like this:</p><div class="highlight highlight-source-cs"><pre><span class="pl-k">static</span><span class="pl-k">void</span><span class="pl-en">Main</span>(<span class="pl-k">string</span>[] <span class="pl-smi">args</span>)
{
    <span class="pl-smi">Console</span>.<span class="pl-en">WriteLine</span>(<span class="pl-s"><span class="pl-pds">"</span>Hello World!<span class="pl-pds">"</span></span>);
}</pre></div><p>Interpreting the <code>string[]</code> arguments into behaviors has been left as a task for the developer. Did the user ask for help? Did they pass invalid input? Can the input be converted to the types that you need if they're not <code>string</code>? These problems are not solved for you.</p><p>What if you could declare a strongly-typed <code>Main</code> method? This was the question that led to the creation of the experimental app model called "DragonFruit", which allows you to create an entry point with multiple parameters of various types and using default values, like this:</p><div class="highlight highlight-source-cs"><pre><span class="pl-k">static</span><span class="pl-k">void</span><span class="pl-en">Main</span>(<span class="pl-k">int</span><span class="pl-smi">intOption</span><span class="pl-k">=</span><span class="pl-c1">42</span>, <span class="pl-k">bool</span><span class="pl-smi">boolOption</span><span class="pl-k">=</span><span class="pl-c1">false</span>, <span class="pl-en">FileInfo</span><span class="pl-smi">fileOption</span><span class="pl-k">=</span><span class="pl-c1">null</span>)
{
    <span class="pl-smi">Console</span>.<span class="pl-en">WriteLine</span>(<span class="pl-s"><span class="pl-pds">$"</span>The value of intOption is: {<span class="pl-smi">intOption</span>}<span class="pl-pds">"</span></span>);
    <span class="pl-smi">Console</span>.<span class="pl-en">WriteLine</span>(<span class="pl-s"><span class="pl-pds">$"</span>The value of boolOption is: {<span class="pl-smi">boolOption</span>}<span class="pl-pds">"</span></span>);
    <span class="pl-smi">Console</span>.<span class="pl-en">WriteLine</span>(<span class="pl-s"><span class="pl-pds">$"</span>The value of fileOption is: {<span class="pl-smi">fileOption</span><span class="pl-k">?</span>.<span class="pl-smi">FullName</span><span class="pl-k">??</span><span class="pl-s"><span class="pl-pds">"</span>null<span class="pl-pds">"</span></span>}<span class="pl-pds">"</span></span>);
}</pre></div><p>DragonFruit handles help requests, parsing errors, argument binding, and more for you.</p><div class="highlight highlight-text-shell-session"><pre>&gt; <span class="pl-s1">./myapp <span class="pl-c"><span class="pl-c">#</span> or: &gt; dotnet run</span></span><span class="pl-c1">The value of intOption is: 42</span><span class="pl-c1">The value of boolOption is: False</span><span class="pl-c1">The value of fileOption is: null </span></pre></div><p>You don't need to write any special code to get help support.</p><div class="highlight highlight-text-shell-session"><pre>&gt; <span class="pl-s1">./myapp -h <span class="pl-c"><span class="pl-c">#</span> or: dotnet run -- -h</span></span><span class="pl-c1">Usage:</span><span class="pl-c1">  myapp [options]</span><span class="pl-c1">Options:</span><span class="pl-c1">  --int-option     intOption</span><span class="pl-c1">  --bool-option    boolOption</span><span class="pl-c1">  --file-option    fileOption</span></pre></div><p>If you want more informative help, you can add it using standard XML comments:</p><div class="highlight highlight-source-cs"><pre><span class="pl-c"><span class="pl-c">///</span> &lt;<span class="pl-ent"><span class="pl-ent">summary</span></span>&gt;</span><span class="pl-c"><span class="pl-c">///</span> My example app</span><span class="pl-c"><span class="pl-c">///</span> &lt;/<span class="pl-ent"><span class="pl-ent">summary</span></span>&gt;</span><span class="pl-c"><span class="pl-c">///</span> &lt;<span class="pl-ent"><span class="pl-ent">param</span></span><span class="pl-e"><span class="pl-e">name</span></span>=<span class="pl-s"><span class="pl-pds">"</span>intOption<span class="pl-pds">"</span></span>&gt;An option whose argument will bind to an int&lt;/<span class="pl-ent"><span class="pl-ent">param</span></span>&gt;</span><span class="pl-c"><span class="pl-c">///</span> &lt;<span class="pl-ent"><span class="pl-ent">param</span></span><span class="pl-e"><span class="pl-e">name</span></span>=<span class="pl-s"><span class="pl-pds">"</span>boolOption<span class="pl-pds">"</span></span>&gt;An option whose argument will bind to a bool&lt;/<span class="pl-ent"><span class="pl-ent">param</span></span>&gt;</span><span class="pl-c"><span class="pl-c">///</span> &lt;<span class="pl-ent"><span class="pl-ent">param</span></span><span class="pl-e"><span class="pl-e">name</span></span>=<span class="pl-s"><span class="pl-pds">"</span>fileOption<span class="pl-pds">"</span></span>&gt;An option whose argument will bind to a FileInfo&lt;/<span class="pl-ent"><span class="pl-ent">param</span></span>&gt;</span><span class="pl-k">static</span><span class="pl-k">void</span><span class="pl-en">Main</span>(<span class="pl-k">int</span><span class="pl-smi">intOption</span><span class="pl-k">=</span><span class="pl-c1">42</span>, <span class="pl-k">bool</span><span class="pl-smi">boolOption</span><span class="pl-k">=</span><span class="pl-c1">false</span>, <span class="pl-en">FileInfo</span><span class="pl-smi">fileOption</span><span class="pl-k">=</span><span class="pl-c1">null</span>)
{
    <span class="pl-smi">Console</span>.<span class="pl-en">WriteLine</span>(<span class="pl-s"><span class="pl-pds">$"</span>The value of intOption is: {<span class="pl-smi">intOption</span>}<span class="pl-pds">"</span></span>);
    <span class="pl-smi">Console</span>.<span class="pl-en">WriteLine</span>(<span class="pl-s"><span class="pl-pds">$"</span>The value of boolOption is: {<span class="pl-smi">boolOption</span>}<span class="pl-pds">"</span></span>);
    <span class="pl-smi">Console</span>.<span class="pl-en">WriteLine</span>(<span class="pl-s"><span class="pl-pds">$"</span>The value of fileOption is: {<span class="pl-smi">fileOption</span><span class="pl-k">?</span>.<span class="pl-smi">FullName</span><span class="pl-k">??</span><span class="pl-s"><span class="pl-pds">"</span>null<span class="pl-pds">"</span></span>}<span class="pl-pds">"</span></span>);
}</pre></div><p>The text of those comments will be shown when a user requests help.</p><div class="highlight highlight-text-shell-session"><pre>&gt; <span class="pl-s1">dotnet run -- -h</span><span class="pl-c1">Usage:</span><span class="pl-c1">  myapp [options]</span><span class="pl-c1">Options:</span><span class="pl-c1">  --int-option     An option whose argument will bind to an int</span><span class="pl-c1">  --bool-option    An option whose argument will bind to a bool</span><span class="pl-c1">  --file-option    An option whose argument will bind to a FileInfo</span></pre></div><p>In addition to <a href="Syntax-Concepts-and-Parser#Options">options</a> as shown in the examples above, DragonFruit also supports <a href="Syntax-Concepts-and-Parser#Arguments">arguments</a>. By convention, if you name a parameter in the <code>Main</code> method <code>args</code>, <code>argument</code>, or <code>arguments</code>, it will be exposed as an argument rather than an option.</p><div class="highlight highlight-source-cs"><pre><span class="pl-k">static</span><span class="pl-k">void</span><span class="pl-en">Main</span>(<span class="pl-k">int</span><span class="pl-smi">intOption</span><span class="pl-k">=</span><span class="pl-c1">42</span>, <span class="pl-k">string</span>[] <span class="pl-smi">args</span><span class="pl-k">=</span><span class="pl-c1">null</span>)
{
    <span class="pl-smi">Console</span>.<span class="pl-en">WriteLine</span>(<span class="pl-s"><span class="pl-pds">$"</span>The value of intOption is: {<span class="pl-smi">intOption</span>}<span class="pl-pds">"</span></span>);

    <span class="pl-k">foreach</span> (<span class="pl-k">var</span><span class="pl-smi">arg</span><span class="pl-k">in</span><span class="pl-smi">args</span>)
    {
        <span class="pl-smi">Console</span>.<span class="pl-en">WriteLine</span>(<span class="pl-smi">arg</span>);
    }
}</pre></div><div class="highlight highlight-text-shell-session"><pre>&gt; <span class="pl-s1">myapp -h</span><span class="pl-c1">Usage:</span><span class="pl-c1">  myapp [options] &lt;args&gt;</span><span class="pl-c1">Arguments:</span><span class="pl-c1">  &lt;args&gt;</span><span class="pl-c1">Options:</span><span class="pl-c1">  --int-option &lt;INT-OPTION&gt;    intOption</span><span class="pl-c1">  --version                    Display version information</span></pre></div><p>The argument follows the same conventions for arity as described in <a href="Syntax-Concepts-and-Parser#Arguments-and-arity">arguments</a>.</p><p>You can try out DragonFruit by installing the latest preview <a href="https://www.nuget.org/packages/System.CommandLine.DragonFruit" rel="nofollow">package</a>.</p></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
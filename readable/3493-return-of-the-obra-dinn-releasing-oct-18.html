<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Return of the Obra Dinn [Releasing Oct 18] -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook" xmlns=""><div id="readInner" class="margin-medium size-medium"><h1>Return of the Obra Dinn [Releasing Oct 18]</h1><div><div class="post" xmlns="http://www.w3.org/1999/xhtml"><b><span>Dithering Revisited</span></b><p>One of the things that's been a problem with this game is how the visual style works against the core mechanic. You need to be able to see and recognize faces, but 640x360 1-bit with dithering is pretty hard luck&nbsp;for showing facial details. This creates a situation where it's easy to question why someone would make such a low resolution black and white game in the first place. Questions are bad so this is something that's bothered me for a while.</p><p>To help with this, a few weeks ago I implemented a "zoom" feature when you look at a face. This feels as clunky as it sounds. Recently I decided the crappy zoom wasn't enough and that I needed to&nbsp;increase the game's resolution to 960x540. That's half 1080p and while it still feels like a low resolution, the faces are a lot easier to see. That pretty much settled it until Brent Werness (Koloth)<a href="https://forums.tigsource.com/index.php?topic=40832.msg1212805#msg1212805" target="_blank">&nbsp;popped in here with a nice gift</a>.</p><p>If you go back to my <a href="https://forums.tigsource.com/index.php?topic=40832.msg1045205#msg1045205" target="_blank">previous post&nbsp;on dithering</a>, you can see that my ideal algorithm would be an error diffuser like Floyd-Steinberg or Atkinson. Error diffusion techniques are all based on random memory access and so unsuited for shaders. What Werness built is a hybrid between noise thresholding and progressive error diffusion. And like lots of CPU-&gt;GPU translations, he's turned the algorithm inside out - instead of spreading one pixel's error to its neighbors, each pixel sucks up the error of its neighbors. When done correctly in phases this affects a diffusion of the errors.</p><p><b><span>Examples</span></b></p><p>Using the source image in <a href="http://www.tannerhelland.com/4660/dithering-eleven-algorithms-source-code/" target="_blank">this great article on dithering</a>:</p><p align="center">Original companion cube image</p><p align="center">Photoshop's 1-bit error diffusion dither at 75% (likely Atkinson)</p><p align="center">The game's old pattern dither (blue noise)</p><p align="center">Werness's&nbsp;method (2 phases, seeded with blue noise)</p><p>Comparing the last two, it's easy to see that&nbsp;Werness's&nbsp;method shows details much more clearly. It blows out the lights and darks like&nbsp;Photoshop does but that's a fair trade in my case. And it's more than just increasing contrast, nearby pixels compensate for error to increase accuracy at edges. Exactly what I need for detailed faces.</p><p>With a slightly more illustrative image. This is a sort of worst-case for error diffusion since there are zero details, but it helps to see the ranges:</p><div align="center"><img src="http://3909.co/dev/od/img/Dither-GradientOrig.jpg" alt="" border="0"><p class="readability-styled" style="display: inline;" xmlns="">Gradient</p></div><div align="center"><br><img src="http://3909.co/dev/od/img/Dither-GradientAtkinson.png" alt="" border="0"><p class="readability-styled" style="display: inline;" xmlns="">Photoshop's 1-bit error diffusion&nbsp;dither at 75%</p><p><img src="http://3909.co/dev/od/img/Dither-GradientBlueNoise.png" alt="" border="0"><br>The game's old pattern dither (blue noise)</p></div><div align="center"><br><img src="http://3909.co/dev/od/img/Dither-GradientKoloth.png" alt="" border="0"><p class="readability-styled" style="display: inline;" xmlns="">The game's&nbsp;Werness at 75%</p></div><p>The Werness method has pretty poor reproduction at the low and high end of the gradient, so it helps to tweak the values a little more to stretch the available range:</p><p align="center">The game's&nbsp;Werness at 90% with a preprocess level adjustment</p><p>Still blue noise is a better choice here, which highlights how dependent dithering is on the source material. In any case,&nbsp;Werness's&nbsp;method absolutely kills it for in-game facial details.</p><p><span><b>In-game Shots</b></span></p><p>Double-sized pixels to match what you'd normally be playing at.</p><p align="center">Some dude</p><p align="center">Another dude</p><p class="readability-styled" style="display: inline;" xmlns="">Pure wizardry. The important details are captured really well. Where important pixels had to be sacrificed for the pattern dithers, the error diffusion keeps them intact. Many thanks to Brent for&nbsp;sharing his work!</p></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
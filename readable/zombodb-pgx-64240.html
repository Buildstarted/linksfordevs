<!DOCTYPE html>
<html lang="en">
<head>
    <title>
zombodb/pgx - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="zombodb/pgx - linksfor.dev(s)"/>
    <meta property="og:description" content="Build Postgres Extensions with Rust! Contribute to zombodb/pgx development by creating an account on GitHub."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://github.com/zombodb/pgx"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - zombodb/pgx</title>
<div class="readable">
        <h1>zombodb/pgx</h1>
            <div>Reading time: 4 minutes</div>
        <div>Posted here: 14 Jul 2020</div>
        <p><a href="https://github.com/zombodb/pgx">https://github.com/zombodb/pgx</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="readme">
    
      <div>
        <article itemprop="text"><h2><a href="https://github.com/zombodb/pgx/actions"><img src="https://github.com/zombodb/pgx/workflows/cargo%20test%20--all/badge.svg" alt="Actions Status"></a>
<a href="https://crates.io/crates/pgx" rel="nofollow"><img src="https://camo.githubusercontent.com/9e880540dd1b69a4900e3fde96aa81e99be75ada/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f762f7067782e737667" alt="crates.io badge" data-canonical-src="https://img.shields.io/crates/v/pgx.svg"></a>
<a href="https://docs.rs/pgx" rel="nofollow"><img src="https://camo.githubusercontent.com/6c7f13c48f513123a8e9f8316140c2196a115997/68747470733a2f2f646f63732e72732f7067782f62616467652e737667" alt="docs.rs badge" data-canonical-src="https://docs.rs/pgx/badge.svg"></a>
<a href="https://twitter.com/zombodb" rel="nofollow"><img src="https://camo.githubusercontent.com/b4abd164b30e2d5d29c1aec6096adcb36639f84e/68747470733a2f2f696d672e736869656c64732e696f2f747769747465722f666f6c6c6f772f7a6f6d626f64622e7376673f7374796c653d666c6174" alt="Twitter Follow" data-canonical-src="https://img.shields.io/twitter/follow/zombodb.svg?style=flat"></a></h2>
<p><a href="https://twitter.com/zombodb" rel="nofollow"><img src="https://github.com/zombodb/pgx/raw/master/logo.png" alt="Logo"></a></p>

<h6>Build Postgres Extensions with Rust!</h6>
<p><code>pgx</code> is a framework for developing PostgreSQL extensions in Rust and wants to make that process as idiomatic and safe
as possible.  Currently, <code>pgx</code> supports Postgres v10, v11, and v12.</p>
<h2>Key Features</h2>
<ul>
<li>A cargo sub-command (<code>pgx</code>) for creating, compiling/installing, and testing extensions</li>
<li>Postgres <code>Datum</code>&lt;--&gt;Rust type conversion via <code>pgx::IntoDatum</code> and <code>pgx::FromDatum</code></li>
<li>Safe handling of <code>NULL</code> Datums -- Datums are simply <code>Option&lt;T&gt;</code></li>
<li>Translation of Rust <code>panic!()</code>s into Postgres <code>ERROR</code>s, which abort the current transaction instead of the Postgres cluster</li>
<li><code>#[derive(PostgresType)]</code> macro for automatically generating Postgres types based on Rust structs</li>
<li><code>#[derive(PostgresEnum)]</code> macro for automatically generating Postgres enums based on Rust enums</li>
<li><code>extension_sql!()</code> macro for providing custom extension schema DDL</li>
<li><code>#[pg_extern]</code> proc-macro for automatically creating UDFs</li>
<li>Automatic extension schema generation</li>
<li>Transparent support for generating Set Returning Functions (SRFs) by returning a <code>std::iter::Iterator&lt;Item = T&gt;</code></li>
<li><code>#[pg_test]</code> proc-macro for unit tests that run <strong>in-proccess</strong> in Postgres</li>
<li><code>PgMemoryContexts</code> wrapper around Postgres' "MemoryContext" system</li>
<li>Executor/planner/transaction/subtransaction hook support</li>
<li><code>#[pg_guard]</code> proc-macro for guarding <code>extern "C"</code> Rust functions that need to be passed into Postgres</li>
<li>Basic SPI support</li>
<li>Direct <code>unsafe</code> access to large parts of Postgres internals via the <code>pgx::pg_sys</code> module</li>
<li>Separation of Postgres symbols (types, functions, etc) by what's common across all supported versions, and then
version-specific modules</li>
<li>lots more!</li>
</ul>
<h2>Getting Started</h2>
<p>First you'll want to install the <code>pgx</code> cargo sub-command from crates.io.  You'll use it almost exclusively during
your development and testing workflow.</p>
<div><pre>$ cargo install cargo-pgx</pre></div>
<p>It has a number of sub-commands.  For example, to create a new extension project, simply run:</p>
<div><pre>$ cargo pgx new my_extension</pre></div>
<p>Then <code>cd my_extension</code> and run:</p>

<p>The first time, this will take awhile.  Behind the scenes, <code>pgx</code> is downloading, configuring, compiling and installing
(within <code>target/</code>) Postgres v10, v11, and v12.  All of this happens in the <code>target/</code> directory and the artifacts
will remain until a <code>cargo clean</code>.  This is necessary in order to generate the proper Rust bindings for Postgres internals.</p>
<p>Note that <code>cargo pgx install</code> will compile your extension and then install it to your locally installed Postgres instance
as identified by <code>pg_config</code>, so make sure that <code>pg_config</code> is in your <code>$PATH</code>.</p>
<p>From here, you can create a Postgres database and create your extension in it:</p>
<div><pre>$ createdb <span>test</span>
$ psql <span>test</span>
<span>&gt;</span> CREATE EXTENSION my_extension<span>;</span>
<span>&gt;</span> SELECT <span>hello_my_extension</span>();</pre></div>
<h2>Digging Deeper</h2>
<ul>
<li><a href="https://github.com/zombodb/pgx/blob/master/cargo-pgx">cargo-pgx sub-command</a></li>
<li><a href="https://github.com/zombodb/pgx/blob/master/pgx-examples">various examples</a></li>
</ul>
<h2>Contributing</h2>
<p>We are most definitely open to contributions of any kind.  Bug Reports, Feature Requests, Documentation,
and even <a href="https://github.com/sponsors/eeeebbbbrrrr">sponsorships</a>.</p>
<p>Providing wrappers for Postgres' internals is not a straightforward task, and completely wrapping it is going
to take quite a bit of time.  <code>pgx</code> is generally ready for use now, and it will continue to be developed as
time goes on.  Your feedback about what you'd like to be able to do with <code>pgx</code> is greatly appreciated.</p>
<h2>License</h2>
<pre><code>Copyright 2020 ZomboDB, LLC &lt;zombodb@gmail.com&gt;. All rights reserved. 
Use of this source code is governed by the MIT license that can be found in the LICENSE file.
</code></pre>
</article>
      </div>
  </div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
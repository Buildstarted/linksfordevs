<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Wake Up And Code! | Adventures in web/cloud dev, and more! -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>Wake Up And Code! | Adventures in web/cloud dev, and more!</h1><div><div class="entry-content"><figure class="wp-block-image size-large"><img src="https://wakeupandcode.com/wp-content/uploads/2020/01/aspnetcore-az-banner.png" alt="" class="wp-image-4421" srcset="https://wakeupandcode.com/wp-content/uploads/2020/01/aspnetcore-az-banner.png 573w, https://wakeupandcode.com/wp-content/uploads/2020/01/aspnetcore-az-banner-300x64.png 300w" sizes="(max-width: 573px) 100vw, 573px"></figure><p>This is&nbsp;the fourth of a new&nbsp;<a rel="noreferrer noopener" href="https://wakeupandcode.com/aspnetcore/#aspnetcore2020" target="_blank">series of posts</a>&nbsp;on ASP .NET Core 3.1 for 2020. In this series, we’ll cover 26 topics over a span of 26 weeks from January through June 2020, titled&nbsp;<strong>ASP .NET Core A-Z!</strong>&nbsp;To differentiate from the&nbsp;<a href="https://wakeupandcode.com/aspnetcore/#aspnetcore2019">2019 series</a>, the 2020 series will mostly focus on a growing single codebase (<a href="https://wakeupandcode.com/netlearner-on-asp-net-core-3-1/">NetLearner!</a>) instead of new unrelated code snippets week.</p><p>Previous post:</p><p><strong>NetLearner on GitHub</strong>:</p><h1>In this Article:</h1><h1>D is for Deploying to Azure App Service</h1><p>In this article, we’ll&nbsp;explore several options for deploying&nbsp;an ASP .NET Core web app to Azure App Service in the cloud. From the infamous Right-Click-Publish to fully automated CI/CD, you’ll learn&nbsp;about the latest Deployment Center option in the Azure Portal for App Service for web apps.</p><p><strong>NOTE</strong>: If you’re looking for information on deploying to Docker or Kubernetes, please check out the following docs instead:</p><h1>Right-Click Publish (aka Friends Don’t Let Friends Right-Click Publish)</h1><p>If you’ve made it this far, you may be thinking one of the following:<br>a. “Hey, this is how I deploy my web apps right now!”<br>or<br>b.&nbsp;“Hey wait a minute, I’ve heard that you should never do this!”</p><p>Well, there is a time and place for right-click publish. There have been many debates on this, so I won’t go into the details, but here are some resources for you to see what others are saying:</p><p>So, what’s a web developer to do? To quote from the aforementioned MSDN article,&nbsp;<em>“Continuing with the theme of prototyping and experimenting, right click publish is the perfect way for existing Visual Studio customers to evaluate Azure App Service (PAAS). By following the right click publish flow you get the opportunity to provision new instances in Azure and publish your application to them without leaving Visual Studio:”</em></p><p>In other words, you can use this approach for a quick test or demo, as shown in the screenshots below for Visual Studio.</p><ol><li>Right-click your ASP .NET Core web app project in Solution Explorer and select Publish.</li><li>Click the Start button on the screen that appears and follow the onscreen instructions.</li><li>Ensure that you’re logged in to the correct Azure subscription account you want to publish to.</li></ol><figure class="wp-block-image size-large"><img src="https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-vs2019-publish-1024x426.png" alt="Right-click, Publish from Solution Explorer" class="wp-image-4687" srcset="https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-vs2019-publish-1024x426.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-vs2019-publish-300x125.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-vs2019-publish-1536x639.png 1536w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-vs2019-publish-624x259.png 624w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-vs2019-publish.png 1996w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Right-click, Publish from Solution Explorer</figcaption></figure><figure class="wp-block-image size-large"><img src="https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-vs2019-publish-target-1024x768.png" alt="Pick a Publish Target" class="wp-image-4689" srcset="https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-vs2019-publish-target-1024x768.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-vs2019-publish-target-300x225.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-vs2019-publish-target-1536x1152.png 1536w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-vs2019-publish-target-624x468.png 624w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-vs2019-publish-target.png 1600w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Pick a Publish Target</figcaption></figure><h1>Web Apps in the Azure Portal</h1><p>In the screenshot above, you may notice an option to “Import Profile” using the button on the lower left. This allows you to import a Web App profile file that was generated by exporting it from an&nbsp;<em>existing&nbsp;</em>Azure Web App. To grab this profile file, simply navigate to your existing Web App in the Azure Portal and click on “Get publish profile” in the top toolbar of your Web App, shown below:</p><figure class="wp-block-image size-large"><img src="https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-profile-1024x484.png" alt="Get Publish Profile" class="wp-image-4691" srcset="https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-profile-1024x484.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-profile-300x142.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-profile-1536x727.png 1536w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-profile-2048x969.png 2048w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-profile-624x295.png 624w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Get Publish Profile</figcaption></figure><p>If you want to create a new Web App in Azure starting with the Azure Portal, follow the instructions below:</p><ol><li>Log in to the Azure&nbsp;at&nbsp;<a rel="noreferrer noopener" href="https://portal.azure.com/" target="_blank">https://portal.azure.com</a></li><li>On the top left, click + Create a resource</li><li>Select “Web App” or search for it if you don’t see it.</li><li>Enter/select the necessary values:<ul><li>Subscription (select a subscription)</li><li>Resource Group (create or use existing to group resources logically)</li><li>Web App name (enter a unique name)</li><li>Publish (Code or Docker Image) </li><li>Runtime stack (.NET Core) </li></ul><ul><li>App Service Plan (create or use existing to set location and pricing tier)</li><li>OS (Windows or Linux)  </li><li>Region (e.g. East US)</li></ul></li><li>Click Next through the screens and then click the Create button to complete the creation of your new Web App.</li></ol><figure class="wp-block-image size-large"><img src="https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-webapp-new-1024x611.png" alt="Create New Web App" class="wp-image-4696" srcset="https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-webapp-new-1024x611.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-webapp-new-300x179.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-webapp-new-1536x917.png 1536w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-webapp-new-2048x1223.png 2048w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-webapp-new-624x373.png 624w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Create New Web App</figcaption></figure><p>Now you can deploy to this Web App using any method you choose.</p><h1>Runtime Options</h1><p>If you like to stay ahead of ASP .NET Core releases, you may be using a pre-release version of the runtime. As of this writing, the latest stable version of ASP .NET Core is version 3.1, which is already available on Azure. If you’re looking for future preview releases, Azure App Service also has an option to install an Extension for preview runtimes. </p><p>To find the proper runtime:</p><ol><li>Navigate to your Web App in the Azure Portal.</li><li>Click on Extensions under Development Tools.</li><li>Click + Add to add a new extension.</li><li>Choose an extension to configure required settings.</li><li>Accept the legal terms and complete the installation.</li></ol><figure class="wp-block-image size-large"><img src="https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-extensions-1024x384.png" alt="Add Extension" class="wp-image-4699" srcset="https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-extensions-1024x384.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-extensions-300x112.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-extensions-1536x575.png 1536w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-extensions-2048x767.png 2048w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-extensions-624x234.png 624w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Add Extension</figcaption></figure><p>Your options may include both 32-bit (x86) and 64-bit (x64) versions of the ASP .NET Core runtime and any preview versions of future releases. When planning ahead for multiple environments, you&nbsp;also have the option to deploy to Deployments Slots. This feature is available in&nbsp;<strong>Standard</strong>,&nbsp;<strong>Premium</strong>&nbsp;or&nbsp;<strong>Isolated</strong>&nbsp;App Service Plan tiers and will covered in a future blog post in this series. </p><p>If you’re interested in Deployment Slots right now, check out the official docs at:</p><h1>Deployment Center</h1><p>In the list of features for your Web App, you will find an option to open up the new Deployment Center. Note that this has replaced the old Deployment Options. Let’s go over each of these options:</p><ol><li>Azure Repos</li><li>Github</li><li>Bitbucket</li><li>Local Git</li><li>OneDrive</li><li>Dropbox</li><li>External</li><li>FTP</li></ol><figure class="wp-block-image size-large"><img src="https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-center1-1024x552.png" alt="Deployment Options in Deployment Center" class="wp-image-4706" srcset="https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-center1-1024x552.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-center1-300x162.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-center1-1536x828.png 1536w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-center1-2048x1104.png 2048w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-center1-624x336.png 624w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Deployment Options in Deployment Center</figcaption></figure><figure class="wp-block-image size-large"><img src="https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-center2-1024x548.png" alt="More Deployment Options" class="wp-image-4708" srcset="https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-center2-1024x548.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-center2-300x161.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-center2-1536x822.png 1536w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-center2-2048x1096.png 2048w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-center2-624x334.png 624w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>More Deployment Options</figcaption></figure><p>If you choose&nbsp;<strong>Azure Repos</strong>, you can set up your web app’s CI (Continuous Integration) system with an Azure Repo, which is part of Microsoft’s Azure DevOps services (formerly known as VSTS, aka Visual Studio Team Services). You will have options for using App Service as a Kudu build server or Azure Pipelines as your CI build system.</p><figure class="wp-block-image size-large"><img src="https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-repos-1024x645.png" alt=" Azure Repos choices: Kudu or Pipelines? " class="wp-image-4710" srcset="https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-repos-1024x645.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-repos-300x189.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-repos-1536x968.png 1536w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-repos-2048x1290.png 2048w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-repos-624x393.png 624w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption> Azure Repos choices: Kudu or Pipelines? </figcaption></figure><p>If you choose&nbsp;<strong>Github&nbsp;</strong>or<strong>&nbsp;BitBucket&nbsp;</strong>or even a&nbsp;<strong>local Git account</strong>, you’ll have the ability to authorize that account to publish a specific repo, every time a developer pushes their code.</p><figure class="wp-block-image size-large"><img src="https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-github-bitbucket-1024x888.png" alt=" Authorize Github/Bitbucket  " class="wp-image-4712" srcset="https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-github-bitbucket-1024x888.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-github-bitbucket-300x260.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-github-bitbucket-624x541.png 624w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-github-bitbucket.png 1504w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption> Authorize Github/Bitbucket  </figcaption></figure><p>If you choose&nbsp;<strong>OneDrive</strong>&nbsp;or&nbsp;<strong>DropBox</strong>, you’ll have ability to authorize&nbsp;your App Service to pick up files deployed to a shared folder in either location.</p><figure class="wp-block-image size-large"><img src="https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-onedrive-dropbox-1024x750.png" alt=" Authorize OneDrive/DropBox " class="wp-image-4714" srcset="https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-onedrive-dropbox-1024x750.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-onedrive-dropbox-300x220.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-onedrive-dropbox-1536x1125.png 1536w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-onedrive-dropbox-624x457.png 624w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-portal-onedrive-dropbox.png 1698w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption> Authorize OneDrive/DropBox </figcaption></figure><p>You may also select an <strong>External </strong>repo or <strong>FTP</strong> source. To learn more about&nbsp;<strong>Azure Repos</strong>&nbsp;and&nbsp;<strong>Azure Pipelines</strong>, check out the official docs:</p><h1>GitHub Repos (includes FREE option!)</h1><p>If you’ve been using GitHub for public open-source projects or private projects on paid accounts, now is a great to time to create private repositories for free! In 2019, GitHub started offering free unlimited private repos, limited to 3 collaborators. This new free option comes with issue/bug tracking and project management as well.</p><p>For more information on GitHub pricing, check out their official pricing page:</p><figure class="wp-block-image size-large"><img src="https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-github-pricing-1024x486.png" alt=" GitHub pricing: Free vs Pro, Team and Enterprise " class="wp-image-4718" srcset="https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-github-pricing-1024x486.png 1024w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-github-pricing-300x142.png 300w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-github-pricing-1536x729.png 1536w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-github-pricing-2048x972.png 2048w, https://wakeupandcode.com/wp-content/uploads/2020/01/deploy-github-pricing-624x296.png 624w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption> GitHub pricing: Free vs Pro, Team and Enterprise </figcaption></figure><p>Now you can&nbsp;easily set up your starter projects in a private GitHub repository and take advantage of the aforementioned CI/CD setup without having to&nbsp;choose between paying a GitHub fee or making all your repos public. </p><h1>CLI Commands</h1><p>If you wish to publish to Azure App service using CLI (Command Line Interface) Commands, you may use the following commands, where you can choose a name for your Web App, Resource Group, App Sevice Plan, etc. Single-letter flags are usually preceded by a single hyphen, while flags spelled out with completed words are usually preceded by two hyphens. </p><p>First, install the Azure CLI in case you don’t have it already:</p><p>Authenticate yourself:</p><pre class="wp-block-preformatted">&gt; <strong>az</strong><strong>login</strong></pre><p>Create a new resource group:</p><pre class="wp-block-preformatted">&gt; <strong>az</strong><strong>group</strong> create -l &lt;LOCATION&gt; -n &lt;RSG&gt;
&gt; <strong>az</strong><strong>group</strong> create --location &lt;LOCATION&gt; --name &lt;RSG&gt;</pre><p>Create a new App Service Plan, where &lt;SKUCODE&gt; sku may be F1 or FREE, etc</p><pre class="wp-block-preformatted">&gt; <strong>az</strong><strong>appservice</strong><strong>plan</strong> create -g &lt;RSG&gt; -n &lt;ASP&gt; --sku &lt;SKUCODE&gt; 
&gt; <strong>az</strong><strong>appservice</strong><strong>plan</strong> create --resource-group &lt;RSG&gt; --name &lt;ASP&gt; --sku &lt;SKUCODE&gt;</pre><p>From the&nbsp;<a rel="noreferrer noopener" href="https://docs.microsoft.com/en-us/cli/azure/appservice/plan" target="_blank">documentation</a>,&nbsp;the SKU Codes include: F1(Free), D1(Shared), B1(Basic Small), B2(Basic Medium), B3(Basic Large), S1(Standard Small), P1V2(Premium V2 Small), PC2 (Premium Container Small), PC3 (Premium Container Medium), PC4 (Premium Container Large), I1 (Isolated Small), I2 (Isolated Medium), I3 (Isolated Large).</p><p>Create a new Web App within a Resource Group, attached to an App Service Plan:</p><pre class="wp-block-preformatted">&gt; <strong>az</strong><strong>webapp</strong> create -g &lt;RSG&gt; -p &lt;ASP&gt; -n &lt;APP&gt; 
&gt; <strong>az</strong><strong>webapp</strong> create --resource-group &lt;RSG&gt; --plan &lt;ASP&gt; --name &lt;APP&gt;</pre><p>The above command should create a web app available at the following URL:</p><ul><li>http://&lt;APP&gt;.azurewebsites.net</li></ul><p>To push&nbsp;your commits to a Git Repo&nbsp;and configure for App Service Deployment, use the following CLI commands:</p><p>Create a new Git repo or reinitialize an existing one:</p><pre class="wp-block-preformatted">&gt; <strong>git</strong><strong>init</strong></pre><p>Add existing files to the index:</p><pre class="wp-block-preformatted">&gt; <strong>git</strong><strong>add</strong> .</pre><p>Commit your changes with a commit message:</p><pre class="wp-block-preformatted">&gt; <strong>git</strong><strong>commit</strong> -m "&lt;COMMIT MESSAGE&gt;“</pre><p>Set your FTP credentials and Git deployment credentials for your Web App:</p><pre class="wp-block-preformatted">&gt; <strong>az</strong><strong>webapp</strong><strong>deployment</strong><strong>user</strong><strong>set</strong> --user-name &lt;USER&gt;</pre><p>Configure an endpoint and add it as a git remote.</p><pre class="wp-block-preformatted">&gt; <strong>az</strong><strong>webapp</strong><strong>deployment</strong><strong>source</strong><strong>config-local-git</strong> -g &lt;RSG&gt; -n &lt;APP&gt; --out tsv&nbsp; 
&gt; <strong>az</strong><strong>webapp</strong><strong>deployment</strong><strong>source</strong><strong>config-local-git</strong> --resource-group &lt;RSG&gt; --name &lt;APP&gt; --out tsv</pre><pre class="wp-block-preformatted">&gt; <strong>git remote add azure</strong> &lt;GIT URL&gt;</pre><p>The value for GIT URL is the value of the Git remote, e.g.</p><ul><li>https://&lt;USER&gt;@&lt;APP&gt;.scm.azurewebsites.net/&lt;APP&gt;.git</li></ul><p>Finally, push to the Azure remote to deploy your Web App:</p><pre class="wp-block-preformatted">&gt; <strong>git push azure master</strong></pre><p>For more information on CLI Commands for Git and Azure App Service, check out the official docs:</p><h1>Azure DevOps and YAML</h1><p><em>Wait, what about Azure DevOps and YAML and Pipelines? </em></p><p>Since this is an A-Z series, you will have to wait for “Y is for YAML” to get more detailed information on constructing your build pipeline using YAML in Azure DevOps. If you can’t wait that long, feel free to check out the following .yml sample I uploaded for use with an ASP .NET Core 3.1:</p><p>If you’re reading this after June 2020, simply jump right to the “Y is for YAML” post in the <a href="https://wakeupandcode.com/aspnetcore/#aspnetcore2020">2020 A-Z series</a>.</p><p><strong>BONUS</strong>: for Azure SQL Database Deployment, watch the following video on MSDN Channel 9: </p><h1>References</h1></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
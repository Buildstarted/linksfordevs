<!DOCTYPE html>
<html lang="en">
<head>
    <title>
ltrzesniewski/LocalsInit.Fody -
linksfor.dev(s)
    </title>
    <meta charset="utf-8">
    <meta name="google" value="notranslate">
    <style type="text/css">
        html {
            font-family: sans-serif;
            line-height: 1.15;
            -webkit-text-size-adjust: 100%;
            -webkit-tap-highlight-color: transparent;
            height: 100%;
        }

        *, ::after, ::before {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";
            font-size: 1rem;
            font-weight: 400;
            line-height: 1.5;
            color: #60656a;
            text-align: left;
            background-color: #323b44;
        }

        h1 {
            font-size: 6rem;
            font-weight: 300;
            line-height: 1.2;
            margin-top: 0;
            margin-bottom: 0.5rem;
            margin-bottom: 0.5rem
        }

        a {
            color: #007bff;
            color: #ccc;
            text-decoration: none;
            background-color: transparent;
            word-break: break-all;
        }

        .unseen a {
            font-weight: bold;
        }

        h3 {
            margin-top: 0;
            padding-top: 0;
            font-weight: normal;
        }

        .grid {
            -ms-flex-direction: column;
            flex-direction: column;
            width: 1024px;
            margin: 0 auto;
            flex: 1 0 auto;
        }

        .row {
            -ms-flex-direction: row;
            flex-direction: row;
            width: 100%;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            display: -ms-flexbox;
            display: flex;
        }

        .col {
            margin: 0 10px 0 10px;
            box-sizing: border-box;
            vertical-align: top;
        }

        .col-3-of-4, .col-6-of-8, .col-9-of-12 {
            width: calc(75% - 20px);
        }

        .col-1-of-4, .col-2-of-8, .col-3-of-12 {
            width: calc(25% - 20px);
        }

        @media (max-width:1023px) {
            /* big landscape tablets, laptops, and desktops */
            body {
                overflow-x: hidden;
            }

            main {
                width: 99%;
            }

            h1 {
                font-size: 50px;
            }
        }

        .text-right {
            text-align: right;
        }

        footer {
            left: 0;
            width: 100%;
            margin-top: 2em;
            padding: 50px 0;
            text-align: center;
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }

        .readable {
            color: #949ba2;
        }

        svg:not(:root).svg-inline--fa {
            color: #60656a;
            overflow: visible;
        }

        .svg-inline--fa.fa-w-12 {
            width: 0.75em;
        }

        svg:not(:root) {
            overflow: hidden;
        }

        .svg-inline--fa {
            display: inline-block;
            font-size: inherit;
            height: 1em;
            overflow: visible;
            vertical-align: -0.125em;
        }

        img {
            max-width: 100%;
        }

        .text-center {
            text-align: center;
        }

        .readable h1 {
            font-size: 2em;
        }
    </style>
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <h1>ltrzesniewski/LocalsInit.Fody</h1>
    <div><div><article class="markdown-body entry-content p-5">
<p><a href="https://dev.azure.com/Lucas-Trzesniewski/LocalsInit/_build/latest?definitionId=3&amp;branchName=master"><img src="https://camo.githubusercontent.com/2e57325ada81774d8e6e9e79802d1d59e7e24784/68747470733a2f2f6465762e617a7572652e636f6d2f4c756361732d54727a65736e696577736b692f4c6f63616c73496e69742f5f617069732f6275696c642f7374617475732f4c6f63616c73496e69742e466f64793f6272616e63684e616d653d6d6173746572" alt="Build Status"></a>
<a href="https://www.nuget.org/packages/LocalsInit.Fody"><img src="https://camo.githubusercontent.com/4b6d481a8e41fd092e76e321aac516c6f49f03c3/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f4c6f63616c73496e69742e466f64792e7376673f6c6f676f3d4e75476574" alt="NuGet package"></a>
<a href="https://github.com/ltrzesniewski/LocalsInit.Fody/releases"><img src="https://camo.githubusercontent.com/89ad1ce590947f3e4e17fc9906fd78aea39409a9/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f72656c656173652f6c74727a65736e696577736b692f4c6f63616c73496e69742e466f64792e7376673f6c6f676f3d476974487562" alt="GitHub release"></a>
<a href="https://github.com/ltrzesniewski/LocalsInit.Fody/blob/master/LICENSE"><img src="https://camo.githubusercontent.com/890acbdcb87868b382af9a4b1fac507b9659d9bf/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d4d49542d626c75652e737667" alt="License"></a></p>
<p>This is an add-in for <a href="https://github.com/Fody/Fody">Fody</a> which lets you control the value of the <code>localsinit</code> flag on methods.</p>
<p>This is most useful to eliminate the zero-initialization of memory returned by <code>stackalloc</code>.</p>
<p>There is a <a href="https://github.com/dotnet/csharplang/blob/master/proposals/skip-localsinit.md">compiler feature proposal</a> with the same goal. It will replace this weaver if it ever ships.</p>
<h2><a id="user-content-installation" class="anchor" href="https://github.com/ltrzesniewski/LocalsInit.Fody#installation"><svg class="octicon octicon-link" width="16" height="16"><path/></svg></a>Installation</h2>
<ul>
<li>
<p>Install the NuGet packages <a href="https://www.nuget.org/packages/Fody"><code>Fody</code></a> and <a href="https://www.nuget.org/packages/LocalsInit.Fody"><code>LocalsInit.Fody</code></a>. Installing <code>Fody</code> explicitly ensures the latest version is used:</p>
<pre><code>PM&gt; Install-Package Fody
PM&gt; Install-Package InlineIL.Fody
</code></pre>
</li>
<li>
<p>Add the <code>PrivateAssets=&quot;all&quot;</code> metadata attribute to the <code>&lt;PackageReference /&gt;</code> items of <code>Fody</code> and <code>LocalsInit.Fody</code> in your project file, so they won&apos;t be listed as dependencies.</p>
</li>
<li>
<p>If you already have a <code>FodyWeavers.xml</code> file in the root directory of your project, add the <code>&lt;LocalsInit /&gt;</code> tag there. This file will be created on the first build if it doesn&apos;t exist:</p>
<div class="highlight highlight-text-xml"><pre>&lt;?<span class="pl-ent">xml</span><span class="pl-e"> version</span>=<span class="pl-s"><span class="pl-pds">&quot;</span>1.0<span class="pl-pds">&quot;</span></span><span class="pl-e"> encoding</span>=<span class="pl-s"><span class="pl-pds">&quot;</span>utf-8<span class="pl-pds">&quot;</span></span> ?&gt;
&lt;<span class="pl-ent">Weavers</span>&gt;
  &lt;<span class="pl-ent">LocalsInit</span> /&gt;
&lt;/<span class="pl-ent">Weavers</span>&gt;</pre></div>
</li>
</ul>
<p>See <a href="https://github.com/Fody/Home/blob/master/pages/usage.md">Fody usage</a> for general guidelines, and <a href="https://github.com/Fody/Home/blob/master/pages/configuration.md">Fody Configuration</a> for additional options.</p>
<h2><a id="user-content-usage" class="anchor" href="https://github.com/ltrzesniewski/LocalsInit.Fody#usage"><svg class="octicon octicon-link" width="16" height="16"><path/></svg></a>Usage</h2>
<p>Add a <code>[LocalsInit(false)]</code> attribute to disable the <code>localsinit</code> flag at the desired level.</p>
<p>You can also add <code>[LocalsInit(true)]</code> attributes at lower levels to override the value set at a higher level.</p>
<p>In practice, you&apos;ll probably want to set the default to <code>false</code> on the assembly level:</p>
<div class="highlight highlight-source-cs"><pre>[<span class="pl-k">assembly</span>: <span class="pl-en">LocalsInit</span>(<span class="pl-c1">false</span>)]</pre></div>
<p>Then, look in your code for usages of the <code>stackalloc</code> keyword. In each case, if the code assumes the memory to be zero-initialized, add the <code>[LocalsInit(true)]</code> attribute to the method (or change the code to remove that assumption).</p>
</article></div></div><hr><h4>Page 2</h4><div><div><article class="markdown-body entry-content p-5">
<p><a href="https://dev.azure.com/Lucas-Trzesniewski/LocalsInit/_build/latest?definitionId=3&amp;branchName=master"><img src="https://camo.githubusercontent.com/2e57325ada81774d8e6e9e79802d1d59e7e24784/68747470733a2f2f6465762e617a7572652e636f6d2f4c756361732d54727a65736e696577736b692f4c6f63616c73496e69742f5f617069732f6275696c642f7374617475732f4c6f63616c73496e69742e466f64793f6272616e63684e616d653d6d6173746572" alt="Build Status"></a>
<a href="https://www.nuget.org/packages/LocalsInit.Fody"><img src="https://camo.githubusercontent.com/4b6d481a8e41fd092e76e321aac516c6f49f03c3/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f4c6f63616c73496e69742e466f64792e7376673f6c6f676f3d4e75476574" alt="NuGet package"></a>
<a href="https://github.com/ltrzesniewski/LocalsInit.Fody/releases"><img src="https://camo.githubusercontent.com/89ad1ce590947f3e4e17fc9906fd78aea39409a9/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f72656c656173652f6c74727a65736e696577736b692f4c6f63616c73496e69742e466f64792e7376673f6c6f676f3d476974487562" alt="GitHub release"></a>
<a href="https://github.com/ltrzesniewski/LocalsInit.Fody/blob/master/LICENSE"><img src="https://camo.githubusercontent.com/890acbdcb87868b382af9a4b1fac507b9659d9bf/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d4d49542d626c75652e737667" alt="License"></a></p>
<p>This is an add-in for <a href="https://github.com/Fody/Fody">Fody</a> which lets you control the value of the <code>localsinit</code> flag on methods.</p>
<p>This is most useful to eliminate the zero-initialization of memory returned by <code>stackalloc</code>.</p>
<p>There is a <a href="https://github.com/dotnet/csharplang/blob/master/proposals/skip-localsinit.md">compiler feature proposal</a> with the same goal. It will replace this weaver if it ever ships.</p>
<h2><a id="user-content-installation" class="anchor" href="#installation"><svg class="octicon octicon-link" width="16" height="16"><path/></svg></a>Installation</h2>
<ul>
<li>
<p>Install the NuGet packages <a href="https://www.nuget.org/packages/Fody"><code>Fody</code></a> and <a href="https://www.nuget.org/packages/LocalsInit.Fody"><code>LocalsInit.Fody</code></a>. Installing <code>Fody</code> explicitly ensures the latest version is used:</p>
<pre><code>PM&gt; Install-Package Fody
PM&gt; Install-Package InlineIL.Fody
</code></pre>
</li>
<li>
<p>Add the <code>PrivateAssets=&quot;all&quot;</code> metadata attribute to the <code>&lt;PackageReference /&gt;</code> items of <code>Fody</code> and <code>LocalsInit.Fody</code> in your project file, so they won&apos;t be listed as dependencies.</p>
</li>
<li>
<p>If you already have a <code>FodyWeavers.xml</code> file in the root directory of your project, add the <code>&lt;LocalsInit /&gt;</code> tag there. This file will be created on the first build if it doesn&apos;t exist:</p>
<div class="highlight highlight-text-xml"><pre>&lt;?<span class="pl-ent">xml</span><span class="pl-e"> version</span>=<span class="pl-s"><span class="pl-pds">&quot;</span>1.0<span class="pl-pds">&quot;</span></span><span class="pl-e"> encoding</span>=<span class="pl-s"><span class="pl-pds">&quot;</span>utf-8<span class="pl-pds">&quot;</span></span> ?&gt;
&lt;<span class="pl-ent">Weavers</span>&gt;
  &lt;<span class="pl-ent">LocalsInit</span> /&gt;
&lt;/<span class="pl-ent">Weavers</span>&gt;</pre></div>
</li>
</ul>
<p>See <a href="https://github.com/Fody/Home/blob/master/pages/usage.md">Fody usage</a> for general guidelines, and <a href="https://github.com/Fody/Home/blob/master/pages/configuration.md">Fody Configuration</a> for additional options.</p>
<h2><a id="user-content-usage" class="anchor" href="#usage"><svg class="octicon octicon-link" width="16" height="16"><path/></svg></a>Usage</h2>
<p>Add a <code>[LocalsInit(false)]</code> attribute to disable the <code>localsinit</code> flag at the desired level.</p>
<p>You can also add <code>[LocalsInit(true)]</code> attributes at lower levels to override the value set at a higher level.</p>
<p>In practice, you&apos;ll probably want to set the default to <code>false</code> on the assembly level:</p>
<div class="highlight highlight-source-cs"><pre>[<span class="pl-k">assembly</span>: <span class="pl-en">LocalsInit</span>(<span class="pl-c1">false</span>)]</pre></div>
<p>Then, look in your code for usages of the <code>stackalloc</code> keyword. In each case, if the code assumes the memory to be zero-initialized, add the <code>[LocalsInit(true)]</code> attribute to the method (or change the code to remove that assumption).</p>
</article></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2019 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
    </footer>
    
</body>
</html>
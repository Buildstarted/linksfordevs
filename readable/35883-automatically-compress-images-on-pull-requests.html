<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Automatically Compress Images on Pull Requests -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>Automatically Compress Images on Pull Requests</h1><div><div display="block" class="src__Box-sc-1sbtrzs-0 src__Flex-sc-1sbtrzs-1 Grid__Flex-sc-15j9kdn-0 Layout__Container-sc-90ex2s-0 bqNVuP"><p font-size="largeParagraph" color="grey400" letter-spacing="sm" class="Type__StyledText-ue6c30-0 UfOlP">Calibre’s <a href="https://github.com/marketplace/actions/image-actions" class="Type__StyledLink-ue6c30-6 hHSMvf">new GitHub Action</a> allows you to compress raster images with minimal setup automatically. Never ship unoptimised graphics again.</p><h2 font-size="mobile.h3,desktop.h3" id="understand-the-impact-of-imagery" color="grey500" font-family="brand" font-weight="semibold" letter-spacing="sm" class="Type__StyledText-ue6c30-0 fAuyAU">Understand the impact of imagery</h2><p font-size="largeParagraph" color="grey400" letter-spacing="sm" class="Type__StyledText-ue6c30-0 UfOlP">According to the <a href="https://httparchive.org/reports/state-of-images#bytesImg" class="Type__StyledLink-ue6c30-6 hHSMvf">HTTP Archive</a>,&nbsp;<strong class="Type__Strong-ue6c30-13 fvTTvR">the transfer size of images requested has risen by a whopping 52% on desktop and 82% on mobile just within the last year</strong>. Whether we like it or not, images are here to stay. We use them to assist in portraying our brands, visualise messaging, run retail stores, and so much more.</p><p font-size="largeParagraph" color="grey400" letter-spacing="sm" class="Type__StyledText-ue6c30-0 UfOlP">Because&nbsp;<strong class="Type__Strong-ue6c30-13 fvTTvR">over half of the median page weight accounts for imagery</strong>, it becomes crucial to ensure media is appropriately optimised and served fast. Not only we want to avoid adding further page bloat, but also ensure our customers aren’t presented with unintentionally blank spaces or drain their data allocation with massive downloads.</p><p font-size="largeParagraph" color="grey400" letter-spacing="sm" class="Type__StyledText-ue6c30-0 UfOlP">There are numerous tactics to remedy the performance impact caused by imagery. From strategic decisionmaking; judging if images are necessary at all, what format is the most suitable; to nitty-gritty implementation; automatic resizing, lazy loading and content delivery networks. Turns out, responsibly managing your images is&nbsp;<em>a complicated job</em>.</p><p font-size="largeParagraph" color="grey400" letter-spacing="sm" class="Type__StyledText-ue6c30-0 UfOlP">One of the lowest hanging fruit in achieving highly performant imagery is automating the compression process. It’s easy to accidentally add an uncompressed file or run out of time to set up elaborate configurations to manage compression for us.</p><p font-size="largeParagraph" color="grey400" letter-spacing="sm" class="Type__StyledText-ue6c30-0 UfOlP">Fortunately, with <a href="https://github.com/features/actions" class="Type__StyledLink-ue6c30-6 hHSMvf">GitHub Actions</a>, it’s now possible to trigger various workflows directly where your code lives. Actions make it possible to introduce a wide range of performance-oriented tooling.</p><h2 font-size="mobile.h3,desktop.h3" id="add-automatic-image-compression-to-your-pull-requests" color="grey500" font-family="brand" font-weight="semibold" letter-spacing="sm" class="Type__StyledText-ue6c30-0 fAuyAU">Add automatic image compression to your Pull Requests</h2><p font-size="largeParagraph" color="grey400" letter-spacing="sm" class="Type__StyledText-ue6c30-0 UfOlP">Because it’s Calibre’s mission to make the Web faster, we’ve created <strong class="Type__Strong-ue6c30-13 fvTTvR"><a href="https://github.com/marketplace/actions/image-actions" class="Type__StyledLink-ue6c30-6 hHSMvf">a freely available GitHub Action</a>&nbsp;that automatically optimises images</strong>&nbsp;in your Pull Requests.</p><figure class="Image__Figure-sc-8sk0uk-0 cuTFuu"><figcaption font-size="smallParagraph" color="grey300" letter-spacing="sm" class="Type__StyledText-ue6c30-0 kwoiKj">The action runs on your PRs and posts its results in a comment</figcaption></figure><p font-size="largeParagraph" color="grey400" letter-spacing="sm" class="Type__StyledText-ue6c30-0 UfOlP">The action uses the most efficient, lossless compression libraries—<a href="https://github.com/mozilla/mozjpeg" class="Type__StyledLink-ue6c30-6 hHSMvf"><span class="Type__StyledText-ue6c30-0 Type__InlineCode-ue6c30-9 fMPZqS">mozjpeg</span></a> and <a href="https://github.com/libvips/libvips" class="Type__StyledLink-ue6c30-6 hHSMvf"><span class="Type__StyledText-ue6c30-0 Type__InlineCode-ue6c30-9 fMPZqS">libvips</span></a> that work with PNGs and JPGs. What’s excellent about embedding a compression step directly in the developer platform (or CI) rather than in local development environments (or relying on drag-and-drop tools) is that no image can hit production uncompressed. This empowers any contributors with basic knowledge of GitHub to update images without introducing performance regression and saves everyone time.</p><p font-size="largeParagraph" color="grey400" letter-spacing="sm" class="Type__StyledText-ue6c30-0 UfOlP">You can add automatic image compression to your repositories directly from <a href="https://github.com/marketplace/actions/image-actions" class="Type__StyledLink-ue6c30-6 hHSMvf">GitHub Action Marketplace</a>. Don’t forget about <a href="https://calibreapp.com" class="Type__StyledLink-ue6c30-6 hHSMvf">continuously tracking the performance of your sites</a>. If your focus is to reduce image-induced sluggishness, pay special attention to your Lighthouse Performance Score, Transferred Image Size and First Contentful Paint.</p><p font-size="largeParagraph" color="grey400" letter-spacing="sm" class="Type__StyledText-ue6c30-0 UfOlP">Happy optimising!</p><div class="src__Box-sc-1sbtrzs-0 src__Flex-sc-1sbtrzs-1 Grid__Flex-sc-15j9kdn-0 bweKAX"><div width="1" class="src__Box-sc-1sbtrzs-0 Grid__Box-sc-15j9kdn-1 enbfHk"><p font-size="paragraph" font-weight="medium" color="grey500" letter-spacing="sm" class="Type__StyledText-ue6c30-0 hfsmUs">Karolina Szczur</p><p font-size="paragraph" color="grey400" letter-spacing="sm" class="Type__StyledText-ue6c30-0 gksagl">Karolina is the Product Design Lead at Calibre. With years of design experience under her belt, she’s responsible for the comprehensive user experience spanning over product, visuals and content.Find her on<a href="https://twitter.com/fox" class="Type__StyledLink-ue6c30-6 hHSMvf">Twitter</a> or <a href="https://linkedin.com/in/karolinaszczur" class="Type__StyledLink-ue6c30-6 hHSMvf">LinkedIn</a>.</p></div></div></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
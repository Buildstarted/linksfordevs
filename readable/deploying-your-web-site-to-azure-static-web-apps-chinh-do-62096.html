<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Deploying Your Web Site to Azure Static Web Apps &#x2013; Chinh Do - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Deploying Your Web Site to Azure Static Web Apps &#x2013; Chinh Do - linksfor.dev(s)"/>
    <meta property="article:author" content="Chinh Do"/>
    <meta property="og:description" content="&#x1F4AD; Imagine: merging a Pull Request is all it takes to automatically deploy your static or single-page app to a secure, dynamically scaled, and globally distributed network with integrated API support &#x2013; that&#x2019;s the promise of Azure Static Web Apps."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://www.chinhdo.com/20200523/deploying-your-web-site-to-azure-static-web-apps/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Deploying Your Web Site to Azure Static Web Apps &#x2013; Chinh Do</title>
<div class="readable">
        <h1>Deploying Your Web Site to Azure Static Web Apps &#x2013; Chinh Do</h1>
            <div>by Chinh Do</div>
            <div>Reading time: 6-7 minutes</div>
        <div>Posted here: 26 May 2020</div>
        <p><a href="https://www.chinhdo.com/20200523/deploying-your-web-site-to-azure-static-web-apps/">https://www.chinhdo.com/20200523/deploying-your-web-site-to-azure-static-web-apps/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div itemprop="text">
<figure><img data-opt-src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-Wky0BFiZ/w:1024/h:702/q:auto/https://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApp-Step16.png" src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-Wky0BFiZ/w:676/h:464/q:auto/https://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApp-Step16.png" alt="" data-opt-lazy-loaded="true" data-opt-otimized-width="676" data-opt-optimized-height="464"></figure>



<p>üí≠ Imagine: merging a Pull Request is all it takes to automatically deploy your static or single-page app to a secure, dynamically scaled, and globally distributed network with integrated API support ‚Äì that‚Äôs the promise of Azure Static Web Apps.</p>



<p>Announced during Microsoft Build 2020, Azure Static Web App is a service that automatically builds and deploys static web apps to Azure from a GitHub repository. The features that I find the most interesting are:</p>



<ul><li>First-party Github integration</li><li>Globally distributed </li><li>Free, auto-renewed SSL certificates</li><li>Integrated API support by Azure Functions</li><li>For now ‚Äì Free hosting for your static site (Angular, React, etc)</li></ul>



<p>I gave it a try and I have to say: it‚Äôs pretty cool! üëç I‚Äôll have the step-by-step on how to configure and deploy an existing site to Azure Static Web Apps below. The steps seem lengthy but there are really just a few basic steps:</p>



<ul><li>Create a new ‚ÄúStatic Web App‚Äù resource and configure basic parameters.</li><li>Point to the GitHub repository of your app. </li><li>After a few screens, your app is automatically deployed and available on its own secure URL on Azure Static Web Apps.</li></ul>



<p>If you want to create a brand new site from scratch, see the official documentation <a href="https://docs.microsoft.com/en-us/azure/static-web-apps/getting-started?tabs=react">docs.microsoft.com</a>.</p>



<h2>Deploying an Existing Static Site to Azure Static Web Apps</h2>



<p>As part of the <a href="https://www.100daysofcode.com/">#100DaysOfCode</a> challenge, I‚Äôve been working on a React site that hosts various programming utilities like encoders/decoders, UUID generator, test data generators, etc. It‚Äôs a perfect candidate to test out Azure Static Web Apps.</p>



<h3>Create Your Static Web App</h3>



<p>First, log into Azure Portal and click ‚Äú<strong>Create a resource</strong>‚Äú, then search for ‚Äú<strong>Azure static web</strong>‚Äú. You should see Static Web App (Preview) in the search results. <strong>Click </strong>on it.</p>



<figure><img data-opt-src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-GwjeoDKv/w:auto/h:auto/q:auto/https://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApp-Step1.png" src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-GwjeoDKv/w:auto/h:auto/q:eco/https://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApp-Step1.png" alt="Azure Static Web App - Search"></figure>



<p>Click <strong>Create</strong>.</p>



<figure><img data-opt-src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-KyCniqym/w:300/h:191/q:auto/https://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApp-Step2.png" src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-KyCniqym/w:300/h:191/q:eco/https://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApp-Step2.png" alt=""></figure>



<p>Fill out the Basics tab. Most of the fields are self-explanatory. Click ‚Äú<strong>Sign in with GitHub</strong>‚Äú.</p>



<figure><img data-opt-src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-xOhQ9B-F/w:1024/h:846/q:auto/https://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApp-Step14.png" src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-xOhQ9B-F/w:1024/h:846/q:eco/https://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApp-Step14.png" alt=""></figure>



<p>The page expands, showing a few more fields for GitHub. Fill out with the info for your app‚Äôs GitHub repository, and choose ‚Äú<strong>Next: Build&gt;</strong>‚Äú.</p>



<figure><img data-opt-src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-PxfAxFOL/w:auto/h:auto/q:auto/https://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApp-Step12.png" src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-PxfAxFOL/w:auto/h:auto/q:eco/https://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApp-Step12.png" alt=""></figure>



<p>On the Build tab, fill in the appropriate values for ‚Äú<strong>App location</strong>‚Äú, ‚Äú<strong>Api location</strong>‚Äú, and ‚Äú<strong>App artifact location</strong>‚Äú. Then click ‚Äú<strong>Review + create</strong>‚Äú.</p>



<p>‚Äú<strong>App location</strong>‚Äù is the root folder for your app. It‚Äôs typically <strong>/</strong> or <strong>/app</strong>. ‚Äú<strong>Api location</strong>‚Äù should be left blank if you are unsure. ‚Äú<strong>App artifact location</strong>‚Äù is the folder to your build.</p>



<figure><img data-opt-src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-U03mrTaj/w:1024/h:573/q:auto/https://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApp-Step13.png" src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-U03mrTaj/w:1024/h:573/q:eco/https://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApp-Step13.png" alt=""></figure>



<p>Review your settings and click <strong>Create</strong>. Wait a few seconds for the deployment to complete. During the initial deployment, Static Web Apps automatically creates a GitHub Action for you (in the file named <strong>azure-static-web-apps-&lt;id&gt;.yml</strong> and adds it to your chosen branch. When it‚Äôs all done you should see this page:</p>



<figure><img data-opt-src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-wGkLsxEn/w:1024/h:396/q:auto/https://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApp-Step6.png" src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-wGkLsxEn/w:1024/h:396/q:eco/https://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApp-Step6.png" alt=""></figure>



<p>Click ‚Äú<strong>Go to resource</strong>‚Äù to go to the resource page for your new Static Web App. On the Overview page, you will see a link to your web app.</p>



<figure><img data-opt-src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-Qm6DVqDp/w:1024/h:557/q:auto/https://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApp-Step7.png" src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-Qm6DVqDp/w:1024/h:557/q:eco/https://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApp-Step7.png" alt=""></figure>



<p>Click on ‚Äú<strong>GitHub Action runs</strong>‚Äù to go over to your GitHub repo and view the status of your deploy Action. You should see a new Action named ‚Äúci: add Azure Static Web Apps workflow file‚Äù. It should take about two minutes to run.</p>



<figure><img data-opt-src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-kFUvxlms/w:1024/h:514/q:auto/https://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApp-Step8.png" src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-kFUvxlms/w:1024/h:514/q:eco/https://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApp-Step8.png" alt=""></figure>



<p><strong>Switch </strong>to the Code tab and see that a new Action file was added to your repo. This is what tells GitHub to automatically build and deploy your app to Azure Static Web Apps.</p>



<figure><img data-opt-src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-zPPlOYEK/w:956/h:1024/q:auto/https://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApp-Step9.png" src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-zPPlOYEK/w:956/h:1024/q:eco/https://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApp-Step9.png" alt=""></figure>



<h3>Bring Up Your Static Web App</h3>



<p>It‚Äôs time to bring up our web site on Azure Static Web Apps! </p>



<p>Go back to Azure Portal and <strong>click </strong>on the URL to your app to bring it up. The below screenshot shows my app now running on Azure Static Web Apps with its own unique secure URL.</p>



<figure><img data-opt-src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-h7grbqMq/w:952/h:1024/q:auto/https://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApp-Step10.png" src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-h7grbqMq/w:952/h:1024/q:eco/https://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApp-Step10.png" alt=""></figure>



<h2>Custom Domain Name</h2>



<p>Adding a custom domain name is pretty straightforward. On Azure Portal, go to the home page of your Static Web App, and click on ‚Äú<strong>Custom domains</strong>‚Äú, then <strong>Add</strong>.</p>



<p>On the ‚Äú<strong>Add custom domain</strong>‚Äù page, note the Azure host name for your site. You will need to create a DNS CNAME record to point your custom domain to that Azure host name. The specifics of this part depends on your domain registrar or web hosting provider. For me, the domain name chinhdo.com is hosted on Pair Networks so I went to their control panel and created there CNAME record there.</p>



<figure><img data-opt-src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-83zk-6Ah/w:auto/h:auto/q:auto/https://www.chinhdo.com/wp-content/uploads/2020/05/image-4.png" src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-83zk-6Ah/w:auto/h:auto/q:eco/https://www.chinhdo.com/wp-content/uploads/2020/05/image-4.png" alt=""></figure>



<p>After you have created your DNS CNAME record, go back to Azure Portal and paste your custom domain into the ‚Äú<strong>Custom domain</strong>‚Äù box, then click <strong>Validate</strong>.</p>



<p>Depending on your DNS settings it can take up to 48 hours for a new DNS record to propagate. In practice it should not take more than an hour. In my case it took about 15 minutes. If you get an error in the next step, just wait some time and try again.</p>



<p>After you get the ‚Äú<strong>Validation succeeded</strong>‚Äù message, click <strong>Add</strong> to add your custom domain to your Static Web App. This step took about one minute for me </p>



<figure><img data-opt-src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-DRqV_zyx/w:1024/h:793/q:auto/https://www.chinhdo.com/wp-content/uploads/2020/05/image-8.png" src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-DRqV_zyx/w:1024/h:793/q:eco/https://www.chinhdo.com/wp-content/uploads/2020/05/image-8.png" alt=""></figure>



<p>And now I am able to get to the web site via the custom domain name <a href="https://programmers-toolbox.chinhdo.com/">https://programmers-toolbox.chinhdo.com</a>:</p>



<figure><img data-opt-src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-_C6j2K4Q/w:1024/h:950/q:auto/https://www.chinhdo.com/wp-content/uploads/2020/05/image-9.png" src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-_C6j2K4Q/w:1024/h:950/q:eco/https://www.chinhdo.com/wp-content/uploads/2020/05/image-9.png" alt=""></figure>



<h2>Troubleshooting Tips</h2>



<p>I did run into one problem with a test site. The initial deployment for it did not happen automatically. I verified that the *.yml file was created but the Action never got executed. I was able to get around that by pushing a ‚Äúdummy‚Äù change to the repository.</p>



<h2>Game Changer?</h2>



<p>Azure Static Web Apps looks to be a game changer. You are getting important features like SSL, dynamic scaling, global distribution, and GitHub deployment all in one easy-to-use package. Once configured, deploying your changes is as simple as pushing code to your GitHub repository. In fact I have deployed several new versions of the app over the past few days and it worked perfectly fine each time.</p>



<p>If cost is reasonable, I would definitely use it on a permanent basis for my single-page/static sites. Currently Azure Static Web Apps is in preview and is free, but things may change after it goes out of preview.</p>



<p>What do you think about Azure Static Web Apps? I would love to hear your thoughts. Let me know here in the Comments section or on <a href="https://twitter.com/chinhdo">Twitter</a>!</p>



<figure><img data-opt-src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-w2Cv2nI5/w:auto/h:auto/q:auto/http://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApps2.jpg" src="https://mlvkn2cgobrp.i.optimole.com/UN1ds0o-w2Cv2nI5/w:auto/h:auto/q:eco/http://www.chinhdo.com/wp-content/uploads/2020/05/AzureStaticWebApps2.jpg" alt="Azure Static Web Apps"></figure>
</div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs" /></noscript>
</body>
</html>
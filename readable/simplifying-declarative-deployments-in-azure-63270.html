<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Simplifying declarative deployments in Azure - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Simplifying declarative deployments in Azure - linksfor.dev(s)"/>
    <meta property="article:author" content="Mark Russinovich&#xA;            Chief Technology Officer, Microsoft Azure"/>
    <meta property="og:description" content="Azure provides customers a simple and intuitive way to declaratively provision and manage infrastructure through Azure Resource Manager (ARM) Templates."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://azure.microsoft.com/en-us/blog/simplifying-declarative-deployments-in-azure/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Simplifying declarative deployments in Azure</title>
<div class="readable">
        <h1>Simplifying declarative deployments in Azure</h1>
            <div>by Mark Russinovich&#xA;            Chief Technology Officer, Microsoft Azure</div>
            <div>Reading time: 6-8 minutes</div>
        <div>Posted here: 22 Jun 2020</div>
        <p><a href="https://azure.microsoft.com/en-us/blog/simplifying-declarative-deployments-in-azure/">https://azure.microsoft.com/en-us/blog/simplifying-declarative-deployments-in-azure/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div lang="en">
                        <p>Azure provides customers a simple and intuitive way to declaratively provision and manage infrastructure through Azure Resource Manager (ARM) templates. You can describe your entire Azure environment using template language, and then use your favorite CI/CD or scripting tool to stand up this environment in minutes. The ARM template language takes the form of JSON and is a direct representation of the resource schema. Which means you can create any Azure resource using an ARM Template from day one and configure any setting on the resources. Using ARM templates, you can describe the resources needed to make up the environment in a declarative, parameterized fashion. Because the ARM templates are declarative, you need only specify what you want, and Azure Resource Manager will figure out the rest.</p>

<p>Over the last couple of months, we have renewed our focus in ARM template deployments with a focus on addressing some of the key challenges shared by our customers. Today, we’re sharing some of the investments we’ve made to address some of these challenges.</p>

<h2>Simplified authoring experience with Visual Studio Code</h2>

<p>Our newest users have shared that their first time authoring and editing an ARM template from scratch can be intimidating. We have simplified the getting started experience by enabling you to create the resources you need in the Azure Portal and exporting an ARM template that you can reuse. We also have a <a href="https://azure.microsoft.com/en-us/resources/templates/" target="_blank" data-event="page-clicked-link" data-bi-id="page-clicked-link" data-bi-an="body" data-bi-tn="undefined">template Quickstart gallery</a> of over 800 sample templates to provision resources. But now we have taken things a step further for you.</p>

<p>With the new <a href="https://marketplace.visualstudio.com/items?itemName=msazurermtools.azurerm-vscode-tools" target="_blank" data-event="page-clicked-link" data-bi-id="page-clicked-link" data-bi-an="body" data-bi-tn="undefined">Azure Resource Manager (ARM) Tools in Visual Studio Code</a>, we've added support for snippets (pre-created resource definitions), IntelliSense, colorization, ARM template outline, and comments. With comments support in ARM templates, you can deploy any template with comments using CLI, PowerShell, and Azure portal, and it will just work. Here is a <a href="https://aka.ms/arm-tools-intro" target="_blank" data-event="page-clicked-link" data-bi-id="page-clicked-link" data-bi-an="body" data-bi-tn="undefined">short video</a> on the new ARM template authoring experience in VS Code.</p>

<h2>What-if: Pre-deployment impact analysis</h2>

<p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/98f5d354-5aff-4adc-b637-ff5eac95012f.png" data-event="page-clicked-link" data-bi-id="page-clicked-link" data-bi-an="body" data-bi-tn="undefined"><img alt="Picture2" height="332" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/89c5a751-67c5-43bf-9fa6-22eee85cddbf.png" title="Picture2" width="530"></a>Our customers often need to assess the impact of deployment to an environment before submitting any changes to the deployed resources. With new what-if features in Azure, customers can do pre-deployment assessments to determine what resources will be created, updated, or deleted, including any resource property changes. The what-if command does a real-time check of the current state of the environment and eliminates the need to manage any state. <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/templates/template-deploy-what-if" target="_blank" data-event="page-clicked-link" data-bi-id="page-clicked-link" data-bi-an="body" data-bi-tn="undefined">Get started with what-if here</a>. While what-if is in preview, please let us know about issues and feature requests in our <a href="https://aka.ms/whatifissues" target="_blank" data-event="page-clicked-link" data-bi-id="page-clicked-link" data-bi-an="body" data-bi-tn="undefined">GitHub repo</a>.</p>

<h2>Deployment scripts: completing the ‘last mile’ scenarios</h2>

<p>There are often scenarios where customers need to run custom script code in an ARM template deployment to complete their environment setup. These scripts that previously required a step outside of a template deployment can now be executed inside of a template deployment using the deploymentScript resource. The new deploymentScript resource will execute any PowerShell or bash script as part of your template deployment. This script can be included as part of your ARM template or referenced from an external source. Deployment scripts now give you the ability to complete your end-to-end environment setup in a single ARM template. Learn more about deployment scripts <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/templates/deployment-script-template?tabs=CLI" target="_blank" data-event="page-clicked-link" data-bi-id="page-clicked-link" data-bi-an="body" data-bi-tn="undefined">with this documentation</a>. If there are certain Azure resource actions not exposed in our APIs that you would like to see surfaced natively in our control plane, please <a href="https://feedback.azure.com/forums/281804-azure-resource-manager" target="_blank" data-event="page-clicked-link" data-bi-id="page-clicked-link" data-bi-an="body" data-bi-tn="undefined">file your request here</a>.</p>

<h2>Management group and subscription provisioning at scale</h2>

<p>As an organization expands its use of Azure, there are often conversations about the need to create a management group (MG) hierarchy (grouping construct) and Azure Subscriptions to ensure separation of environments, applications, billing, or security. Customers need a consistent and declarative way to provision management group and subscriptions to save time and resources. With the new tenant and MG deployment APIs, we now support the provisioning of MGs and subscriptions using ARM templates. This enables you to automate the setup of your entire estate and the associated infrastructure resources in a single ARM template. Read more about this and get <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/templates/deploy-to-subscription" target="_blank" data-event="page-clicked-link" data-bi-id="page-clicked-link" data-bi-an="body" data-bi-tn="undefined">sample templates here</a>. Additionally, we now <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/tag-resources#apply-tags-to-resource-groups-or-subscriptions" target="_blank" data-event="page-clicked-link" data-bi-id="page-clicked-link" data-bi-an="body" data-bi-tn="undefined">support tagging of subscriptions</a>, removed the <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/templates/deployment-history-deletions?tabs=azure-powershell" target="_blank" data-event="page-clicked-link" data-bi-id="page-clicked-link" data-bi-an="body" data-bi-tn="undefined">800 deployments</a> per resource group limit, increased the limit of the number of resource groups per deployment to 800, and increased the number of subscriptions per Enterprise Agreement (EA) account to 2000 enabling you to provision and manage at scale.</p>

<p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/d9b67a1b-d2dd-4510-892d-eb1fa545aa06.png" data-event="page-clicked-link" data-bi-id="page-clicked-link" data-bi-an="body" data-bi-tn="undefined"><img alt="ARM1" height="212" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/577d329a-a5b7-4a9a-8ac0-c5b2937ccca9.png" title="ARM1" width="1128"></a></p>

<h2>Continued focus on quality and reliability</h2>

<p>Quality and reliability are at the forefront of everything we do at Microsoft. This is an area where we have continued our focus, starting with improving the quality of our schemas and having schema coverage for all resources. The benefits of this are seen in the improved authoring experience and template export capabilities. We are diligently working to improve our error messages and enhance the quality of our pre-flight validation to catch issues before you deploy. We have also invested heavily in improving our documentation by publishing all the API versions to template references and added template snippets to resource documentation.</p>

<p>To help with testing your ARM Template code we open sourced the <a href="https://github.com/Azure/arm-ttk" data-event="page-clicked-link" data-bi-id="page-clicked-link" data-bi-an="body" data-bi-tn="undefined">ARM Template Toolkit</a> which we use internally at Microsoft to ensure our ARM Templates follow best practices. Lastly, we recognize speed matters and we have made significant improvements to reduce our deployment times for large-scale deployments by roughly 75 percent.</p>

<h2>The future of Infrastructure as Code with Azure Resource Manager templates</h2>

<p>We have just begun our journey on enhancing ARM template deployments and the teams are consciously working hard to address current gaps and innovating for the future. You can hear about some of our future investments which we shared at the recent <a href="https://youtu.be/UaVCNpD3pvg?t=718" data-event="page-clicked-link" data-bi-id="page-clicked-link" data-bi-an="body" data-bi-tn="undefined">Microsoft Build 2020 conference</a>.</p>

<p>We would love your continued feedback on ARM deployments. If you are interested in deeper conversations with the engineering team, please join our <a href="https://www.surveymonkey.com/r/ARMMEET" target="_blank" data-event="page-clicked-link" data-bi-id="page-clicked-link" data-bi-an="body" data-bi-tn="undefined">Deployments and Governance Yammer group</a>.</p>

                    </div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Developing in the Windows Subsystem for Linux with Visual Studio Code -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>Developing in the Windows Subsystem for Linux with Visual Studio Code</h1><div><div class="col-sm-9 col-md-8 body"><p>The <strong>Visual Studio Code Remote - WSL</strong> extension lets you use the <a href="https://docs.microsoft.com/windows/wsl" class="external-link" target="_blank">Windows Subsystem for Linux (WSL)</a> as your full-time development environment right from VS Code. You can develop in a Linux-based environment, use Linux-specific toolchains and utilities, and run and debug your Linux-based applications all from the comfort of Windows.</p><p>The extension runs commands and other extensions directly in WSL so you can edit files located in WSL or the mounted Windows filesystem (for example <code>/mnt/c</code>) without worrying about pathing issues, binary compatibility, or other cross-OS challenges.</p><p><img src="/assets/docs/remote/wsl/architecture-wsl.png" alt="WSL Architecture"></p><p>This lets VS Code provide a <strong>local-quality development experience</strong> — including full IntelliSense (completions), code navigation, and debugging — <strong>regardless of where your code is hosted</strong>.</p><h2 id="_getting-started" data-needslink="_getting-started">Getting started</h2><h3 id="_installation" data-needslink="_installation">Installation</h3><p>To get started, you need to:</p><ol><li><p>Install the <a href="https://docs.microsoft.com/windows/wsl/install-win10" class="external-link" target="_blank">Windows Subsystem for Linux</a> along with your preferred Linux distribution.</p><blockquote><p><strong>Note:</strong> WSL 1 does have some <a href="#_known-limitations">known limitations</a> for certain types of development and WSL 2 support is <strong>experimental</strong>. Also, extensions installed in Alpine Linux may not work due to <code>glibc</code> dependencies in native code inside the extension. See the <a href="https://aka.ms/vscode-remote/linux" class="external-link" target="_blank">Remote Development and Linux</a> article for details.</p></blockquote></li><li><p>Install <a href="https://code.visualstudio.com/">Visual Studio Code</a> on the <strong>Windows</strong> side (not in WSL).</p><blockquote><p><strong>Note:</strong> When prompted to <strong>Select Additional Tasks</strong> during installation, be sure to check the <strong>Add to PATH</strong> option so you can easily open a folder in WSL using the <code>code</code> command.</p></blockquote></li><li><p>Install the <a href="https://aka.ms/vscode-remote/download/extension" class="external-link" target="_blank">Remote Development extension pack</a>.</p></li></ol><h3 id="_open-a-folder-in-wsl" data-needslink="_open-a-folder-in-wsl">Open a folder in WSL</h3><p>Opening a folder inside the Windows Subsystem for Linux in VS Code is very similar to opening up a Windows folder from the command prompt or PowerShell.</p><ol><li><p>Open a <strong>WSL terminal window</strong> (using the start menu item or by typing <code>wsl</code> from a command prompt / PowerShell).</p></li><li><p>Navigate to a folder you'd like to open in VS Code (including, but not limited to, Windows filesystem mounts like <code>/mnt/c</code>)</p></li><li><p>Type <strong><code>code .</code></strong> in the terminal. When doing this for the first time, you should see VS Code fetching components needed to run in WSL. This should only take a short while, and is only needed once.</p><blockquote><p><strong>Note:</strong> If this command does not work, you may need to restart your terminal or you may not have added VS Code to your path when it was installed.</p></blockquote></li><li><p>After a moment, a new VS Code window will appear, and you'll see a notification that VS Code is opening the folder in WSL.</p><p><img src="/assets/docs/remote/wsl/wsl-starting-notification.png" alt="WSL Starting notification"></p><p>VS Code will now continue to configure itself in WSL and keep you up to date as it makes progress.</p></li><li><p>Once finished, you now see a WSL indicator in the bottom left corner, and you'll be able to use VS Code as you would normally!</p><p><img src="/assets/docs/remote/wsl/wsl-statusbar-indicator.png" alt="WSL Status Bar Item"></p></li></ol><p>That's it! Any VS Code operations you perform in this window will be executed in the WSL environment, everything from editing and file operations, to debugging, using terminals, and more.</p><p>Alternatively, you can open a Remote WSL window directly from VS Code:</p><ol><li>Start VS Code.</li><li>Press <span class="keybinding">F1</span>, select <strong>Remote-WSL: New Window</strong> for the default distro or <strong>Remote-WSL: New Window using Distro</strong> for a specific distro.</li><li>Use the File menu to open your folder.</li></ol><p>If you already have a folder open, you can also use the <strong>Remote-WSL: Reopen in WSL</strong> command. You will be prompted which distro to use.</p><p>If you are in a WSL window and want to open the current input in a local window, use <strong>Remote-WSL: Reopen in Windows</strong>.</p><h2 id="_working-with-git" data-needslink="_working-with-git">Working with Git</h2><p>If you are working with the same repository in WSL and Windows, be sure to set up consistent line endings. See <a href="/docs/remote/troubleshooting#_resolving-git-line-ending-issues-in-containers-resulting-in-many-modified-files">tips and tricks</a> for details.</p><p>You can also avoid passwords by configuring WSL to use the Windows Git credential manager. See <a href="/docs/remote/troubleshooting#_sharing-git-credentials-between-windows-and-wsl">tips and tricks</a> to for details.</p><h2 id="_managing-extensions" data-needslink="_managing-extensions">Managing extensions</h2><p>VS Code runs extensions in one of two places: locally on the UI / client side, or in WSL. While extensions that affect the VS Code UI, like themes and snippets, are installed locally, most extensions will reside inside WSL.</p><p>If you install an extension from the Extensions view, it will automatically be installed in the correct location. Once installed, you can tell where an extension is installed based on the category grouping. There will be <strong>Local - Installed</strong> category and one for WSL.</p><p><img src="/assets/docs/remote/wsl/wsl-installed-remote-indicator.png" alt="Workspace Extension Category"></p><p><img src="/assets/docs/remote/wsl/wsl-local-installed-extensions.png" alt="Local Extension Category"></p><blockquote><p><strong>Note:</strong> If you are an extension author and your extension is not working properly or installs in the wrong place, see <a href="/api/advanced-topics/remote-extensions">Supporting Remote Development</a> for details.</p></blockquote><p>Local extensions that actually need to run remotely will appear <strong>Disabled</strong> in the <strong>Local - Installed</strong> category. Select <strong>Install</strong> to install an extension on your remote host.</p><p><img src="/assets/docs/remote/wsl/wsl-disabled-extensions.png" alt="Disabled Extensions w/Install Button"></p><p>You can also install all locally installed extensions inside WSL by going to the Extensions view and selecting <strong>Install Local Extensions in WSL: [Name]</strong> from the <strong>More Actions</strong> menu (...).</p><p><img src="/assets/docs/remote/wsl/install-all-extn-wsl.png" alt="Install all extensions"></p><h2 id="_opening-a-terminal-in-wsl" data-needslink="_opening-a-terminal-in-wsl">Opening a terminal in WSL</h2><p>Opening a terminal in WSL from VS Code is simple. Once folder is opened in WSL, <strong>any terminal window</strong> you open in VS Code (<strong>Terminal &gt; New Terminal</strong>) will automatically run in WSL rather than locally.</p><p>You can also use the <code>code</code> command line from this same terminal window to perform a number of operations such as opening a new file or folder in WSL. Type <code>code --help</code> to see what options are available from the command line.</p><p><img src="/assets/docs/remote/wsl/code-command-in-terminal.png" alt="Using the code CLI"></p><h2 id="_debugging-in-wsl" data-needslink="_debugging-in-wsl">Debugging in WSL</h2><p>Once you've opened a folder in WSL, you can use VS Code's debugger in the same way you would when running the application locally. For example, if you select a launch configuration in <code>launch.json</code> and start debugging (<span class="dynamic-keybinding" data-osx="F5" data-win="F5" data-linux="F5"><span class="keybinding">F5</span></span>), the application will start on remote host and attach the debugger to it.</p><p>See the <a href="/docs/editor/debugging">debugging</a> documentation for details on configuring VS Code's debugging features in <code>.vscode/launch.json</code>.</p><h2 id="_wsl-specific-settings" data-needslink="_wsl-specific-settings">WSL specific settings</h2><p>VS Code's local user settings are also reused when you have opened a folder in WSL. While this keeps your user experience consistent, you may want to vary some of these settings between your local machine and WSL. Fortunately, once you have connected to WSL, you can also set WSL specific settings by running the <strong>Preferences: Open Remote Settings</strong> command from the Command Palette (<span class="keybinding">F1</span>) or by selecting the <strong>Remote</strong> tab in the Settings editor. These will override any local settings you have in place whenever you open a folder in WSL.</p><h2 id="_advanced-environment-setup-script" data-needslink="_advanced-environment-setup-script">Advanced: Environment setup script</h2><p>When VS Code Remote is started in WSL, no shell startup scripts are run. This was done to avoid issues with startup scripts that are tuned for shells. If you want to run additional commands or modify the environment this can be done in a setup script <code>~/.vscode-server/server-env-setup</code> (Insiders: <code>~/.vscode-server-insiders/server-env-setup</code>). If present, the script is processed before the server is started.</p><p>The script needs to be a valid Bourne shell script. Be aware that an invalid script will prevent the server from starting up. If you end up with a script that prevents the server from starting, you will have to use a regular WSL shell and delete or rename the setup script.</p><p>Check the WSL log (Remote WSL: Open WSL Log) for output and errors.</p><h2 id="_known-limitations" data-needslink="_known-limitations">Known limitations</h2><p>This section contains a list of common know issues with WSL. The intent is not to provide a complete list of issues but to highlight some of the common problems seen with WSL.</p><p>See <a href="https://aka.ms/vscode-remote/wsl/issues" class="external-link" target="_blank">here for a list of active issues</a> related to WSL.</p><h3 id="_i-see-eaccess-permission-denied-error-trying-to-rename-a-folder-in-the-open-workspace" data-needslink="_i-see-eaccess-permission-denied-error-trying-to-rename-a-folder-in-the-open-workspace">I see EACCESS: permission denied error trying to rename a folder in the open workspace</h3><p>That's a known problem with the WSL file system implementation (<a href="https://github.com/Microsoft/WSL/issues/3395" class="external-link" target="_blank">Microsoft/WSL#3395</a>, <a href="https://github.com/Microsoft/WSL/issues/1956" class="external-link" target="_blank">Microsoft/WSL#1956</a>) caused by the file watcher active by VSCode. The issue will only be fixed in WSL 2.</p><p>To avoid the issue, set <code>remote.WSL.fileWatcher.polling</code> to true. However, polling based has a performance impact for large workspaces.</p><p>For large workspace you want to increase the polling interval: <code>remote.WSL.fileWatcher.pollingInterval</code> and control the folders that are watched: <code>files.watcherExclude</code>.</p><p><a href="https://docs.microsoft.com/windows/wsl/wsl2-index" class="external-link" target="_blank">WSL 2</a> does not have that file watcher problem is also not affected by the new setting.</p><h3 id="_golang-in-wsl" data-needslink="_golang-in-wsl">Golang in WSL</h3><h3 id="_nodejs-in-wsl" data-needslink="_nodejs-in-wsl">Node.js in WSL</h3><h3 id="_git-limitations" data-needslink="_git-limitations">Git limitations</h3><p>If you clone a Git repository using SSH and your SSH key has a passphrase, VS Code's pull and sync features may hang when running remotely. Either use an SSH key without a passphrase, clone using HTTPS, or run <code>git push</code> from the command line to work around the issue.</p><h3 id="_docker-extension-limitations" data-needslink="_docker-extension-limitations">Docker Extension limitations</h3><p>By default, the Docker extension will run remotely. Depending on how WSL is configured, this can prevent the extension from seeing local containers.</p><p>You can use one of the following solutions to resolve this problem:</p><h3 id="_extension-limitations" data-needslink="_extension-limitations">Extension limitations</h3><p>Many extensions will work in WSL without modification. However, in some cases, certain features may require changes. If you run into an extension issue, see <a href="/docs/remote/troubleshooting#_extension-tips">here for a summary of common problems and solutions</a> that you can mention to the extension author when reporting the issue.</p><p>In addition, some extensions installed in an WSL when using an Alpine Linux-based distribution may not work due to <code>glibc</code> dependencies in native code inside the extension. See the <a href="/docs/remote/linux">Remote Development with Linux</a> article for details.</p><h2 id="_common-questions" data-needslink="_common-questions">Common questions</h2><h3 id="_why-am-i-asked-to-change-the-default-distro" data-needslink="_why-am-i-asked-to-change-the-default-distro">Why am I asked to change the default distro?</h3><p>When using <strong>Remote-WSL: New Window using Distro</strong> and running on WSL older than Windows 10, May 2019 Update (version 1903) you will be asked to switch the <strong>default distribution</strong> as the WSL command can only work on the default distro as it does not support the <code>-d</code> option yet.</p><p>You can always manually switch the default distro by using <a href="https://docs.microsoft.com/windows/wsl/wsl-config" class="external-link" target="_blank">wslconfig.exe</a>.</p><p>For example:</p><pre class="shiki"><code><span>wslconfig /setdefault Ubuntu</span></code></pre><p>You can see which distributions you have installed using:</p><pre class="shiki"><code><span>wslconfig /l</span></code></pre><h3 id="_im-seeing-an-error-about-a-missing-library-or-dependency" data-needslink="_im-seeing-an-error-about-a-missing-library-or-dependency">I'm seeing an error about a missing library or dependency</h3><p>Some extensions rely on libraries not found in the vanilla install of certain WSL Linux distributions. You can add additional libraries into your Linux distribution by using its package manager.  For Ubuntu and Debian based distributions, run <code>sudo apt-get install &lt;package&gt;</code> to install the needed libraries. Check the documentation for your extension or the runtime that is mentioned for additional installation details.</p><h3 id="_what-are-the-connectivity-requirements-for-the-remote-wsl-extension" data-needslink="_what-are-the-connectivity-requirements-for-the-remote-wsl-extension">What are the connectivity requirements for the Remote - WSL extension?</h3><p>The Remote - WSL extension and VS Code Server require outbound HTTPS (port 443) connectivity to:</p><ul><li><code>update.code.visualstudio.com</code></li><li><code>marketplace.visualstudio.com</code></li><li><code>vscode.blob.core.windows.net</code></li><li><code>*.vo.msecnd.net</code> (Azure CDN)</li><li><code>*.gallerycdn.vsassets.io</code> (Azure CDN)</li></ul><p>Some extensions (like C#) download secondary dependencies from <code>download.microsoft.com</code> or <code>download.visualstudio.microsoft.com</code>. Others (like <a href="https://docs.microsoft.com/visualstudio/liveshare/reference/connectivity#requirements-for-connection-modes" class="external-link" target="_blank">Visual Studio Live Share</a>) may have additional connectivity requirements. Consult the extension's documentation for details if you run into trouble.</p><p>All other communication between the server and the VS Code client is accomplished through an random local TCP port. You can find a list of locations VS Code itself needs access to in the <a href="/docs/setup/network#_common-hostnames">network connections article</a>.</p><h3 id="_im-behind-a-proxy-and-have-connectivity-issues" data-needslink="_im-behind-a-proxy-and-have-connectivity-issues">I'm behind a proxy and have connectivity issues</h3><p>Proxy settings might be missing on either the Windows or the WSL side.</p><p>When a remote window is opened out of VSCode, the Remote - WSL extension tries to download the VSCode server on the Windows side. It therefore uses the Window side proxy configuration:</p><p>When the remote VSCode is started from a WSL terminal, the download is done using <code>wget</code> in the WSL distro. Proxy settings can be configured in:</p><p>Once the server is up and running the proxy settings on the <em>Remote</em> tab are used.</p><h3 id="_can-i-force-an-extension-to-run-locally-remotely-" data-needslink="_can-i-force-an-extension-to-run-locally-remotely-">Can I force an extension to run locally / remotely ?</h3><p>Extensions are typically designed and tested to either run locally or remotely, not both. However, if an extension supports it, you can force it to run in a particular location in your <code>settings.json</code> file.</p><p>For example, the setting below will force the Docker extension to run locally and Debugger for Chrome extension to run remotely instead of their defaults:</p><pre class="shiki"><code><span>"remote.extensionKind"</span><span>: {</span><span></span><span>"ms-azuretools.vscode-docker"</span><span>: [ </span><span>"ui"</span><span> ],</span><span></span><span>"msjsdiag.debugger-for-chrome"</span><span>: [ </span><span>"workspace"</span><span> ]</span><span>}</span></code></pre><p>A value of <code>"ui"</code> instead of <code>"workspace"</code> will force the extension to run on the local UI/client side instead. Typically, this should only be used for testing unless otherwise noted in the extension's documentation since it <strong>can break extensions</strong>. See the article on <a href="/api/advanced-topics/remote-extensions">Supporting Remote Development</a> for details.</p><h3 id="_as-an-extension-author-what-do-i-need-to-do" data-needslink="_as-an-extension-author-what-do-i-need-to-do">As an extension author, what do I need to do?</h3><p>The VS Code extension API abstracts away local/remote details so most extensions will work without modification. However, given extensions can use any node module or runtime they want, there are situations where adjustments may need to be made. We recommend you test your extension to be sure that no updates are required. See <a href="/api/advanced-topics/remote-extensions">Supporting Remote Development</a> for details.</p><h2 id="_questions-or-feedback" data-needslink="_questions-or-feedback">Questions or feedback</h2><p class="body-footer">2/5/2020</p></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
dotnet-tool-target.md -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
            <h1>
                    <span style="cursor: default" title="linksfor.dev(s) has been running for 1 year! :partypopper:">ðŸŽ‰</span>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
            </h1>
        <div class="readable">
    <h1>dotnet-tool-target.md</h1>
    <p>
by sayedihashimi <br />Reading time: 2 minutes    </p>
    <p><a href="https://gist.github.com/sayedihashimi/b2570698cc8cd02fe43be58e4e518042">https://gist.github.com/sayedihashimi/b2570698cc8cd02fe43be58e4e518042</a></p>
    <hr/>
    <div id="readability-page-1" class="page"><div id="file-dotnet-tool-target-md-readme">
    <article itemprop="text"><p>Add the target below to the project file for your dotnet core global tool. You can run this target to simplify
reinstalling the global tool. You can execute this target with <code>dotnet build -t:InstallTool</code>.</p>
<p>When this target is executed the following will happen (in this order):</p>
<ul>
<li>Project is packed into a NuGet package</li>
<li>Tool is uninstalled with <code>dotnet tool uninstall</code></li>
<li>Tool is installed with <code>dotnet tool install</code></li>
<li>Help is called on the tool just installed</li>
</ul>
<p>If you develop multiple versions you may want to edit the <code>Exec</code> calls below to add the version parameter.</p>
<div><pre><span><span>&lt;!--</span> call this target with dotnet build -t:InstallTool <span>--&gt;</span></span>
<span><span>&lt;!--</span> call this target with dotnet build -t:InstallTool <span>--&gt;</span></span>
&lt;<span>Target</span> <span>Name</span>=<span><span>"</span>InstallTool<span>"</span></span> <span>DependsOnTargets</span>=<span><span>"</span>Pack<span>"</span></span>&gt;
    &lt;<span>PropertyGroup</span>&gt;
      &lt;<span>_toolName</span>&gt;$(MSBuildProjectName)&lt;/<span>_toolName</span>&gt;
      &lt;<span>_toolName</span> <span>Condition</span>=<span><span>"</span>'$(ToolCommandName)' != '' <span>"</span></span>&gt;$(ToolCommandName)&lt;/<span>_toolName</span>&gt;
    &lt;/<span>PropertyGroup</span>&gt;
    &lt;<span>Exec</span> <span>Command</span>=<span><span>"</span>dotnet tool uninstall --global $(_toolName)<span>"</span></span> <span>IgnoreExitCode</span>=<span><span>"</span>true<span>"</span></span>/&gt;
    &lt;<span>Exec</span> <span>Command</span>=<span><span>"</span>dotnet tool install --global --add-source $(PackageOutputPath) $(_toolName)<span>"</span></span>/&gt;
    &lt;<span>Exec</span> <span>Command</span>=<span><span>"</span>$(ToolCommandName) --help<span>"</span></span> /&gt;
&lt;/<span>Target</span>&gt;</pre></div>
</article>
  </div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            let COLLECT_URL = "https://dna.buildstarted.com/t";
            let EVENT_URL = "https://dna.buildstarted.com/e";
            let SITE_ID = "linksfor.devs";
            let ENABLE_OUTLINK = true;
            let GLOBAL_VAR_NAME = "__dotnetlytics__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                let path = location.pathname;
                let referrer = document.referrer;
                let url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                fetch(url, { method: "GET" });
            };

            if (ENABLE_OUTLINK) {
                let intercept = async (e) => {
                    if (e.target.tagname === "a") {
                        let url = e.target.getattribute("href");
                        if (url) {
                            let path = location.pathname;
                            let referrer = document.referrer;
                            let url = EVENT_URL + "?siteid=" + SITE_ID + "&p=" + encodeuricomponent(path) + "&a=" + encodeuricomponent(url) + "&e=outgoing";
                            navigator.sendbeacon(url);
                        }
                    }
            
                    return true;
                };
            
                if (document.addeventlistener) {
                    document.addeventlistener("click", intercept);
                } else if (document.attachevent) {
                    document.attachevent("onclick", intercept);
                }
            }

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
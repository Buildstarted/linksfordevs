<!DOCTYPE html>
<html lang="en">
<head>
    <title>
ScalaUA - distage: Staged Dependency Injection - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="ScalaUA - distage: Staged Dependency Injection - linksfor.dev(s)"/>
    <meta property="article:author" content="7mind"/>
    <meta property="og:description" content="Many Scala developers nowadays consider using Dependency Injection frameworks an anti-pattern incompatible with modern FP settings. We argue that it&#x27;s just a c&#x2026;"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://www.slideshare.net/7mind/scalaua-distage-staged-dependency-injection"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - ScalaUA - distage: Staged Dependency Injection</title>
<div class="readable">
        <h1>ScalaUA - distage: Staged Dependency Injection</h1>
            <div>by 7mind</div>
            <div>Reading time: 16-20 minutes</div>
        <div>Posted here: 30 Mar 2019</div>
        <p><a href="https://www.slideshare.net/7mind/scalaua-distage-staged-dependency-injection">https://www.slideshare.net/7mind/scalaua-distage-staged-dependency-injection</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
        
        


      

        <p><span>Successfully reported this slideshow.</span>
  </p>


      
















<div id="slideview-container">
  

  <div>

    <div id="main-panel">


      

      <div itemscope="" itemtype="https://schema.org/MediaObject">


        <div>
          <meta itemprop="inLanguage" content="en">
          <meta itemprop="image" content="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-1-638.jpg?cb=1553938857">
          <meta itemprop="thumbnailUrl" content="https://cdn.slidesharecdn.com/ss_thumbnails/distage-scalaua-190330093438-thumbnail.jpg?cb=1553938857">
          <meta itemprop="embedURL" content="https://www.slideshare.net/slideshow/embed_code/key/q2vYycaynl6xYV">
          <meta itemprop="playerType" content="HTML5">
          <meta itemprop="interactionCount" content="UserComments:0">
          <meta itemprop="interactionCount" content="UserLikes:1">
          <meta itemprop="interactionCount" content="UserDownloads:11">
          <meta itemprop="interactionCount" content="UserPageVisits:762">
          <meta itemprop="interactionCount" content="UserPlays:762">
          <meta itemprop="interactionCount" content="UserPlusOnes:0" id="meta-google">


          

          <ul id="slideshow-actions">
            <li>
              
            </li>
              <li>
                
              </li>
              <li>
                
              </li>

            <!-- Report/Flag Content -->
            <li>
              <a data-dropdown="report-dropdown" aria-controls="report-dropdown" aria-expanded="false">
                <span>...</span></a>
              <span title="You have reported this as inappropriate">
                <i></i>
                <span aria-label="You have reported this as inappropriate"></span>
              </span>
              
            </li>
          </ul>


          <div itemprop="author" itemscope="" itemtype="https://schema.org/Organization">

            <p><a href="https://www.slideshare.net/7mind?utm_campaign=profiletracking&amp;utm_medium=sssite&amp;utm_source=ssslideview" title="7mind" itemprop="url">
                <img alt="7mind" itemprop="image" src="https://cdn.slidesharecdn.com/profile-photo-7mind-48x48.jpg?cb=1579037846">
              </a>
            </p>

            
          </div>

            

          <p>
            <small>
              Published on <time datetime="Mar 30, 2019" itemprop="datePublished">Mar 30, 2019</time>
            </small>
          </p>

            <div>
              <div data-ga-cat="bigfoot_slideview" data-ga-action="description>more">
                <p id="slideshow-description-paragraph">
                    Many Scala developers nowadays consider using Dependency Injection frameworks </p>
                
              </div>
            </div>


            



        </div>


        

            <div>
              
              <ol itemprop="text">
                    <li>
      1.
    distage
1/29
dist✪ge
Modern Staged Dependency Injection for Scala
Modular Functional Programming
with
Context Minimization
through
Garbage Collection
Septimal Mind Ltd
team@7mind.io
1 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-2-638.jpg?cb=1553938857" title="distage
The argument: Dependency Injection vs. Functional P..." target="_blank">
        2.
      </a>
    distage
The argument: Dependency Injection vs. Functional Programming 2/29
DI is outdated and doesn’t compose with FP?
Many Scala folks think that:
1. DI is heavy and slow
◮ “tests start longer than they run”
2. DI is unsafe
◮ “my program compiles but crashes at runtime after a huge delay”
3. DI doesn’t work for modern FP code
◮ “we cannot inject IO[ , ] into Repository[ [ , ]] ”
4. DI is full of magic and error-prone
◮ “I’ve read 80% of the 5000-page Spring manual but still don’t
understand why I need to put these 12 annotations here. I’ve tried
Guice but it failed with 10-megabyte stacktrace after ﬁve minutes
and 300 retries of database connection initialization”
2 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-3-638.jpg?cb=1553938857" title="distage
The argument: Dependency Injection vs. Functional P..." target="_blank">
        3.
      </a>
    distage
The argument: Dependency Injection vs. Functional Programming 3/29
TLDR
1 import distage._, scalaz.zio.IO
2
3 trait Repository[F[_, _]]
4 class ProductionRepository[F[_, _]] extends Repository[F]
5 class DummyRepository[F[_, _]] extends Repository[F]
6 class App[F[_, _]](repository: Repository[F]) { def run = ??? }
7
8 class MyAppProd[F[_, _]: TagKK] extends ModuleDef {
9 make[Repository[F]].from[ProductionRepository[F]]
10 make[App[F]]
11 }
12 class Main[F[_, _]: TagKK: BIO] extends App {
13 Injector()
14 .produceF[F[Throwable, ?]](
15 new MyAppProd[F], roots=Set(DIKey.get[App[F]])
16 ).use(_.get[App[F]].run)
17 }
18 object Main extends Main[IO]
3 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-4-638.jpg?cb=1553938857" title="distage
distage features 4/29
distage: overview
1. Staging:..." target="_blank">
        4.
      </a>
    distage
distage features 4/29
distage: overview
1. Staging: plan all the work before you do anything,
2. Garbage Collection: instantiate reachable instances only,
3. Higher-Kinded Types: inject typeclass instances, use parametricity,
4. Path-Dependent Types support,
5. Lifecycle and Resources: inject any cats.eﬀect.Resource[F, A],
6. Plan introspection: graphviz, text dump, dependency trees,
7. Plan rewriting,
8. Roles: multiple services in one process,
9. Dynamic Plugins1 and Testkit,
10. Circular Dependencies support,
11. Assisted Injection and Trait Augmentation2,
12. Automatic Sets: prepopulate sets with all instances of a class
1
Runtime with compile-time veriﬁcation
2
Runtime or compile-time generation
4 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-5-638.jpg?cb=1553938857" title="distage
distage features 5/29
Garbage Collection for better..." target="_blank">
        5.
      </a>
    distage
distage features 5/29
Garbage Collection for better and faster tests
1. Deﬁne all your test and production dependencies as a ﬂat list,
2. Put discrimination tags on test-speciﬁc deﬁnitions,
3. Only the instances required for your tests will be instantiated,
4. Creation takes milliseconds, not like in Spring,
5. ⇒ Signiﬁcant savings on test startup time.
6. You don’t need to setup your context, it’s done automatically by
Plugin Loader and Garbage Collector,
7. ⇒ Substantial savings on test setup boilerplate.
5 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-6-638.jpg?cb=1553938857" title="distage
distage features 6/29
Example: Garbage Collection a..." target="_blank">
        6.
      </a>
    distage
distage features 6/29
Example: Garbage Collection and tests
1 class ProductionRepository[F[_, _]] extends Repository[F]
2 class DummyRepository[F[_, _]] extends Repository[F]
3
4 class MyAppPlugin extends PluginDef {
5 make[Repository[IO]].from[ProductionRepository[IO]]
6 make[Repository[IO]].tagged("test").from[DummyRepository[IO]]
7 }
8 class RepoTest extends DistagePluginSpec {
9 "repository" must {
10 "work correctly" in diIO {
11 (repository: Repository[IO]) =&gt; // repository is GC root
12 // Repository is DummyRepository - "test" tag prioritized
13 // ProductionRepository will not be instantiated!
14 for { kv &lt;- randomIO[KeyValue]
15 _ &lt;- repository.put(kv)
16 kv2 &lt;- repository.get(kv.key)
17 } yield assert(kv == kv2)
18 }}}
6 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-7-638.jpg?cb=1553938857" title="distage
distage features 7/29
Garbage Collection for deploy..." target="_blank">
        7.
      </a>
    distage
distage features 7/29
Garbage Collection for deployment: ﬂexible monoliths
We may fuse Microservices with Monoliths keeping all their beneﬁts:
1. Develop services (Roles1) separately, even in multirepo,
2. Each Role is a Garbage Collection Root,
3. Build a single Docker image with multiple Roles in it,
4. Pass Roles you want to start as commandline parameters,
5. ⇒ higher computation density, savings on infrastructure,
6. ⇒ substantial development simpliﬁcation: full environment can be
started on a low-end machine with one command.
1 server1# docker run company/product +analytics
2 server2# docker run company/product +accounting +users
3 developer1# docker run company/product +*
4 developer2# docker run company/product --dummy-repositories +*
1
Previous slides on the subject: https://goo.gl/iaMt43
7 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-8-638.jpg?cb=1553938857" title="distage
distage features 8/29
Lifecycle
◮ Applications mana..." target="_blank">
        8.
      </a>
    distage
distage features 8/29
Lifecycle
◮ Applications manage a lot of global resources:
1. Connection pools, thread pools
2. Servers, external endpoints, databases
3. Conﬁgurations, metrics, heartbeats
4. External log sinks
◮ They have to be started and closed in integration tests,
◮ We shouldn’t set them up manually for every test,
◮ We want to create reusable components that correctly share a
single resource.
8 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-9-638.jpg?cb=1553938857" title="distage
distage features 9/29
Lifecycle: .fromResource
1. I..." target="_blank">
        9.
      </a>
    distage
distage features 9/29
Lifecycle: .fromResource
1. Inject any cats-eﬀect Resource
2. Global resources deallocate when the app or test ends
1 object App extends IOApp {
2 val blazeClientModule = new ModuleDef {
3 make[ExecutionContext].from(ExecutionContext.global)
4 addImplicit[Bracket[IO, Throwable]]
5
6 make[Client[IO]].fromResource { ec: ExecutionContext =&gt;
7 BlazeClientBuilder[IO](ec).resource
8 }}
9
10 def run(args: List[String]): IO[ExitCode] =
11 Injector().produceF[IO](blazeClientModule)
12 .use { // Client allocated
13 _.get[Client[IO]].expect[String]("https://google.com")
14 }.as(ExitCode.Success) // Client closed
15 }
9 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-10-638.jpg?cb=1553938857" title="distage
distage features 10/29
Eﬀectful creation: .fromEffe..." target="_blank">
        10.
      </a>
    distage
distage features 10/29
Eﬀectful creation: .fromEffect
Global mutable state must be created eﬀectfully, but doesn’t have to
be deallocated. e.g. a global parallelism limiter:
1 import distage._, import scalaz.zio._
2
3 case class UploadConfig(maxParallelUploads: Long)
4
5 class UploaderModule extends ModuleDef {
6 make[Semaphore].named("upload-limit").fromEffect {
7 conf: UploadConfig @ConfPath("myapp.uploads") =&gt;
8 Semaphore.make(conf.maxParallelUploads) }
9 make[Uploader]
10 }
11 class Uploader(limit: Semaphore @Id("upload-limit")) {
12 def upload(content: Content): IO[Throwable, Unit] =
13 limit.withPermit(...)
14 }
10 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-11-638.jpg?cb=1553938857" title="distage
distage features 11/29
Conﬁg support
distage has HO..." target="_blank">
        11.
      </a>
    distage
distage features 11/29
Conﬁg support
distage has HOCON conﬁguration extension.
1 case class HostPort(host: String, port: Int)
2
3 class HttpServer(@ConfPath("http.listen") listenOn: HostPort) {
4 // ...
5 }
The extension:
1. Enumerates all the missing references in a Plan,
2. Searches them for a speciﬁc @ConfPath annotation,
3. Tries to ﬁnd corresponding sections in conﬁg source,
4. Extends plan with conﬁg values,
5. ⇒ Conﬁg values are parsed before instantiation begins,
6. ⇒ Problems are shown quickly and all at once,
7. ⇒ Compile-time checker plugin validates conﬁg.
11 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-12-638.jpg?cb=1553938857" title="distage
distage features 12/29
Dynamic Plugins
Just drop yo..." target="_blank">
        12.
      </a>
    distage
distage features 12/29
Dynamic Plugins
Just drop your modules into your classpath:
1 class AccountingModule extends PluginDef {
2 make[AccountingService].from[AccountingServiceImpl]
3 // ...
4 }
Then you may pick up all the modules and build your context:
1 val plugins = new PluginLoaderDefaultImpl(
2 PluginConfig(Seq("com.company.plugins"))
3 ).load()
4 // ... pass loaded modules to Injector
1. Useful while you are prototyping your app,
2. In maintenance phase you may switch to static conﬁguration.
12 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-13-638.jpg?cb=1553938857" title="distage
distage features 13/29
Circular dependencies
1. Sup..." target="_blank">
        13.
      </a>
    distage
distage features 13/29
Circular dependencies
1. Supported via Proxies,
2. Cyclic by-name parameters (class C(param: =&gt; P)) will work
without run-time code-generation,
3. Circular dependency support can be disabled.
Limitations:
1. You cannot use an injected parameter immediately during
initialization,
2. You cannot have non-by-name circular dependencies with ﬁnal
classes,
13 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-14-638.jpg?cb=1553938857" title="distage
distage features 14/29
Trait Augmentation
1 trait U..." target="_blank">
        14.
      </a>
    distage
distage features 14/29
Trait Augmentation
1 trait UsersService {
2 protected def repository: UsersRepo
3
4 def add(user: User): Unit = {
5 repository.put(user.id, user)
6 }
7 }
We may bind this trait directly, without an implementation class:
1 make[UsersService]
1. Corresponding class will be generated1 by distage,
2. Abstract defs will be wired with values from the object graph,
1
both runtime and compile-time cogen supported
14 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-15-638.jpg?cb=1553938857" title="distage
distage features 15/29
Assisted Injection (Factory ..." target="_blank">
        15.
      </a>
    distage
distage features 15/29
Assisted Injection (Factory Methods)
1 class UserActor(sessionId: UUID, sessionRepo: SessionRepo)
2
3 trait ActorFactory {
4 def createActor(sessionId: UUID): UserActor
5 }
1. createActor is a factory method,
2. createActor will be generated by distage,
3. Abstract methods with parameters are treated as factory methods,
4. Non-invasive assisted injection: sessionId: UUID will be taken from
method parameter, sessionRepo: SessionRepo will be wired from
context,
5. Useful for Akka, lot more convenient than Guice,
6. Works in both runtime and compile-time.
15 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-16-638.jpg?cb=1553938857" title="distage
distage features 16/29
Extension: Automatic Sets
1...." target="_blank">
        16.
      </a>
    distage
distage features 16/29
Extension: Automatic Sets
1. All instances of type T (like AutoCloseable) as a Set[T],
2. Strong and Weak References:
◮ GC collects weak referenced members with no more references
Example: basic lifecycle support: (please use Resource bindings in real
apps!)
1 trait Resource {
2 def start(): Unit
3 def stop(): Unit
4 }
5 trait App { def main(): Unit }
6 locator.run { (resources: Set[Resource], app: App) =&gt;
7 try {
8 resources.foreach(_.start())
9 app.main()
10 } finally { resources.foreach(_.close()) }
11 }
16 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-17-638.jpg?cb=1553938857" title="distage
distage internals 17/29
How it works: Plans
distage..." target="_blank">
        17.
      </a>
    distage
distage internals 17/29
How it works: Plans
distage takes your bindings and then:
1. translates bindings into simple Turing-incomplete DSL (like
make , reference , etc.),
2. represents the DSL statements as Directed Acyclic Graph using
dependecy information and breaking circular dependencies if any,
3. resolves conﬂicts (one DAG node with several associated
operations),
4. performs garbage collection,
5. applies other transformations (like conﬁg reference resolution),
6. turns the DAG back into sequential form — a Plan — with
topological sorting.
7. ⇒ the Plan may be introspected, printed, executed in
compile-time by a code generator or executed in runtime.
17 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-18-638.jpg?cb=1553938857" title="distage
distage internals 18/29
Plan Introspection: example..." target="_blank">
        18.
      </a>
    distage
distage internals 18/29
Plan Introspection: example context
1 class Cluster
2 trait UsersService
3 trait AccountingService
4 trait UserRepo
5 trait AccountsRepo
6
7 class UserRepoImpl(cluster: Cluster) extends UserRepo
8 class AccountsRepoImpl(cluster: Cluster) extends AccountsRepo
9 class UserServiceImpl(userRepo: UserRepo) extends UsersService
10 class AccountingServiceImpl(accountsRepo: AccountsRepo)
11 extends AccountingService
12
13 class UsersApiImpl(service: UsersService
14 , accountsApi: AccountsApiImpl)
15 class AccountsApiImpl(service: AccountingService
16 , usersApi: UsersApiImpl) // circular dependency
17 class App(uapi: UsersApiImpl, aapi: AccountsApiImpl)
18 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-19-638.jpg?cb=1553938857" title="distage
distage internals 19/29
Plan Introspection: example..." target="_blank">
        19.
      </a>
    distage
distage internals 19/29
Plan Introspection: example bindings1
1 val definition = new ModuleDef {
2 make[Cluster]
3 make[UserRepo].from[UserRepoImpl]
4 make[AccountsRepo].from[AccountsRepoImpl]
5 make[UsersService].from[UserServiceImpl]
6 make[AccountingService].from[AccountingServiceImpl]
7 make[UsersApiImpl]
8 make[AccountsApiImpl]
9 make[App]
10 }
11 val injector = Injector()
12 val plan = injector.plan(definition)
1
Full code example: https://goo.gl/7ZwHfX
19 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-20-638.jpg?cb=1553938857" title="distage
distage internals 20/29
Plan Introspection: graphvi..." target="_blank">
        20.
      </a>
    distage
distage internals 20/29
Plan Introspection: graphviz dumps1
1
Generated automatically by GraphDumpObserver distage extension 20 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-21-638.jpg?cb=1553938857" title="distage
distage internals 21/29
Plan Introspection: plan du..." target="_blank">
        21.
      </a>
    distage
distage internals 21/29
Plan Introspection: plan dumps
1 println(plan.render) // look for the circular dependency!
21 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-22-638.jpg?cb=1553938857" title="distage
distage internals 22/29
Plan Introspection: depende..." target="_blank">
        22.
      </a>
    distage
distage internals 22/29
Plan Introspection: dependency trees
You may explore dependencies of a component:
1 val dependencies = plan.topology.dependencies
2 println(dependencies.tree(DIKey.get[AccountsApiImpl]))
Circular dependencies are marked with a circle symbol.
22 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-23-638.jpg?cb=1553938857" title="distage
distage internals 23/29
Compile-Time and Runtime DI..." target="_blank">
        23.
      </a>
    distage
distage internals 23/29
Compile-Time and Runtime DI
A Plan:
1 myRepository := create[MyRepository]()
2 myservice := create[MyService](myRepository)
May be interpreted as:
Code tree (compile-time):
1 val myRepository =
2 new MyRepository()
3 val myservice =
4 new MyService(myRepository)
Set of instances (runtime):
1 plan.foldLeft(Context.empty) {
2 case (ctx, op) =&gt;
3 ctx.withInstance(
4 op.key
5 , interpret(action)
6 )
7 }
23 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-24-638.jpg?cb=1553938857" title="distage
7mind stack 24/29
dist✪ge
7mind Stack
24 / 29
 " target="_blank">
        24.
      </a>
    distage
7mind stack 24/29
dist✪ge
7mind Stack
24 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-25-638.jpg?cb=1553938857" title="distage
7mind stack 25/29
distage: status and things to do
..." target="_blank">
        25.
      </a>
    distage
7mind stack 25/29
distage: status and things to do
distage 0.7:
1. is ready to use,
2. is in production for over 1 year,
3. has all runtime features available,
4. has all compile-time features available except for full compile-time
mode.
What’s next:
1. New Resource-based Roles API,
2. Scala.js support,
3. Compile-time Producer,
4. Isolated Classloaders for Roles (in future),
5. Check our GitHub: https://github.com/pshirshov/izumi-r2.
25 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-26-638.jpg?cb=1553938857" title="distage
7mind stack 26/29
distage is just a part of our sta..." target="_blank">
        26.
      </a>
    distage
7mind stack 26/29
distage is just a part of our stack
We have a vision backed by our tools:
1. Idealingua: transport and codec agnostic gRPC alternative with
rich modeling language,
2. LogStage: zero-cost structured logging framework,
3. Fusional Programming and Design guidelines. We love both FP
and OOP,
4. Continous Delivery guidelines for Role-based process,
5. Percept-Plan-Execute Generative Programming approach, abstract
machine and computational model. Addresses Project Planning
(see Operations Research). Examples: orchestration, build
systems.
Altogether these things already allowed us to signiﬁcantly reduce
development costs and delivery time for our client.
More slides to follow.
26 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-27-638.jpg?cb=1553938857" title="distage
7mind stack 27/29
You use Guice?
Switch to distage!..." target="_blank">
        27.
      </a>
    distage
7mind stack 27/29
You use Guice?
Switch to distage!
“Given its native support for type classes and higher-kinded types –
both features indispensable to functional programming – DI Stage is
one of the leading dependency injection libraries out there. Bonus
points for being built by a wicked-smart team that contributes to ZIO!”
–– John A. De Goes
27 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-28-638.jpg?cb=1553938857" title="distage
7mind stack 28/29
Teaser: LogStage
A simple logging..." target="_blank">
        28.
      </a>
    distage
7mind stack 28/29
Teaser: LogStage
A simple logging call . . .
1 log.info(s"$user logged in with $sessionId!")
May be rendered as text:
17:05:18 UserService.login user=John Doe logged in with
sessionId=DEADBEEF!
Or as structured JSON:
1 {
2 "user": "John Doe",
3 "sessionId": "DEADBEEF",
4 "_template": "$user logged in with $sessionId!",
5 "_location": "UserService.scala:265",
6 "_context": "UserService.login",
7 }
28 / 29
 
  </li>
  <li>
      <a href="https://image.slidesharecdn.com/distage-scalaua-190330093438/95/scalaua-distage-staged-dependency-injection-29-638.jpg?cb=1553938857" title="distage
7mind stack 29/29
Thank you for your attention
dist..." target="_blank">
        29.
      </a>
    distage
7mind stack 29/29
Thank you for your attention
distage website: https://izumi.7mind.io/
We’re looking for clients, contributors, adopters and colleagues ;)
About the author:
1. coding for 19 years, 12 years of hands-on commercial engineering
experience,
2. has been leading a cluster orchestration team in Yandex, “the
Russian Google”,
3. Created “Yandex Interstellar Spaceship” – an orchestration
solution to manage 50K+ physical machines across 6 datacenters,
4. Owns an Irish R&amp;D company, https://7mind.io,
5. Contact: team@7mind.io,
6. Github: https://github.com/pshirshov
7. Slides: https://github.com/7mind/slides/
29 / 29
 
  </li>

              </ol>
            </div>
      </div>
    </div>

    
  </div>
</div>










      

      

        
    </div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
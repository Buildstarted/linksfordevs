<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Announcing Entity Framework Core EFCore 5.0 Preview 6 | .NET Blog - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Announcing Entity Framework Core EFCore 5.0 Preview 6 | .NET Blog - linksfor.dev(s)"/>
    <meta property="article:author" content="https://facebook.com/cdaJeremyLikness"/>
    <meta property="og:description" content="Announcing the 6th preview release of Entity Framework Core EF Core 5.0. Learn about new features like split queries, a new &#x201C;index&#x201D; attribute, improved exceptions, and much more."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://devblogs.microsoft.com/dotnet/announcing-entity-framework-core-efcore-5-0-preview-6/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Announcing Entity Framework Core EFCore 5.0 Preview 6 | .NET Blog</title>
<div class="readable">
        <h1>Announcing Entity Framework Core EFCore 5.0 Preview 6 | .NET Blog</h1>
            <div>by https://facebook.com/cdaJeremyLikness</div>
            <div>Reading time: 14-17 minutes</div>
        <div>Posted here: 26 Jun 2020</div>
        <p><a href="https://devblogs.microsoft.com/dotnet/announcing-entity-framework-core-efcore-5-0-preview-6/">https://devblogs.microsoft.com/dotnet/announcing-entity-framework-core-efcore-5-0-preview-6/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="featured"><div><div><div><div><p><img src="https://devblogs.microsoft.com/dotnet/wp-content/uploads/sites/10/2018/10/Jeremy-Likness-150x150.jpg" width="58" height="58" alt="Jeremy Likness"></p><p>Jeremy</p></div></div></div><p>June 25th, 2020</p><p>Today, the Entity Framework Core team announces the sixth preview release of <a href="https://www.nuget.org/packages/Microsoft.EntityFrameworkCore/5.0.0-preview.6.20312.4" target="_blank">EF Core 5.0</a>. This release includes split queries for related collections, a new “index” attribute, improved exceptions related to query translations, IP address mapping, exposing transaction id for correlation, and much more.</p><h2 id="prerequisites">Prerequisites<a href="#prerequisites"></a></h2><p><strong>EF Core 5.0 will <em>not</em> run on .NET Standard 2.0 platforms, including .NET Framework.</strong></p><p>The previews of EF Core 5.0 require <a href="https://github.com/dotnet/standard/blob/master/docs/versions/netstandard2.1.md" target="_blank">.NET Standard 2.1</a>. This means that EF Core 5.0 will run on .NET Core 3.1 and does <em>not</em> require .NET 5. To summarize: EF Core 5.0 runs on <a href="https://docs.microsoft.com/dotnet/standard/net-standard#net-implementation-support" target="_blank">platforms that support .NET Standard 2.1</a>.</p><p><strong>The plan is to maintain .NET Standard 2.1 compatibility through the final release.</strong></p><h2 id="be-a-part-of-net-5">Be a part of .NET 5<a href="#be-a-part-of-net-5"></a></h2><p>The .NET documentation team is <a href="https://github.com/dotnet/docs/issues/18923" target="_blank">reorganizing .NET content</a> to better match the workloads you build with .NET. This includes a new <a href="https://github.com/dotnet/docs/issues/19029" target="_blank">.NET Data landing page</a> that will link out to data-related topics ranging from EF Core to APIs, Big Data, and Machine learning. The planning and execution will be done completely in the open on GitHub. This is your opportunity to help shape the hierarchy and content to best fit your needs as a .NET developer. We look forward to your contributions!</p><hr><h2 id="how-to-get-ef-core-5-0-previews">How to get EF Core 5.0 previews<a href="#how-to-get-ef-core-5-0-previews"></a></h2><p>EF Core is distributed exclusively as a set of NuGet packages.<br> For example, to add the SQL Server provider to your project, you can use the following command using the dotnet tool:</p><pre><code><span><span><span>dotnet</span></span></span><span><span> </span></span><span><span><span>add</span></span></span><span><span> </span></span><span><span><span>package</span></span></span><span><span> </span></span><span><span><span>Microsoft</span></span></span><span><span><span>.</span></span><span><span>EntityFrameworkCore</span></span></span><span><span><span>.</span></span><span><span>SqlServer</span></span></span><span><span> </span></span><span><span><span>--</span></span><span><span>version</span></span></span><span><span> </span></span><span><span>5</span></span><span><span><span>.0</span></span></span><span><span><span>.</span></span><span><span>0</span></span><span><span>-</span></span><span><span>preview</span></span><span><span>.</span></span><span><span>6.20312</span></span><span><span>.</span></span><span><span>4</span></span></span>
</code></pre><p>This following table links to the preview 6 versions of the EF Core packages and describes what they are used for.</p><p>We also published the 5.0 preview 6 release of the <a href="https://www.nuget.org/packages/Microsoft.Data.Sqlite.Core/5.0.0-preview.6.20312.4" target="_blank">Microsoft.Data.Sqlite.Core</a> provider for <a href="https://docs.microsoft.com/dotnet/framework/data/adonet/ado-net-overview" target="_blank">ADO.NET</a>.</p><h2 id="installing-the-ef-core-command-line-interface-cli-">Installing the EF Core Command Line Interface (CLI)<a href="#installing-the-ef-core-command-line-interface-cli-"></a></h2><p>As with EF Core 3.0 and 3.1, the EF Core CLI is no longer included in the .NET Core SDK. Before you can execute EF Core migration or scaffolding commands, you’ll have to install this package as either a global or local tool.</p><p><a href="https://devblogs.microsoft.com/dotnet/wp-content/uploads/sites/10/2020/06/dotnet-ef.jpg" data-featherlight="image"> <img src="https://devblogs.microsoft.com/dotnet/wp-content/uploads/sites/10/2020/06/dotnet-ef.jpg" alt="dotnet-ef"> </a></p><p>To install the preview tool globally, first uninstall any existing version with:</p><pre><code><span><span>dotnet tool </span></span><span><span><span>uninstall</span></span></span><span><span> </span></span>
</code></pre><p>Then install with:</p><pre><code><span><span> </span></span><span><span> </span></span><span><span> </span></span><span><span><span>-</span></span></span><span><span><span>-</span></span></span><span><span> </span></span><span><span><span>-</span></span></span><span><span> </span></span><span><span><span>-</span></span></span><span><span><span>-</span></span></span><span><span> </span></span><span><span><span>.</span></span></span><span><span><span>.</span></span></span><span><span><span>-</span></span></span>
</code></pre><p>It’s possible to use this new version of the EF Core CLI with projects that use older versions of the EF Core runtime.</p><hr><h2 id="what-s-new-in-ef-core-5-preview-6">What’s New in EF Core 5 Preview 6<a href="#what-s-new-in-ef-core-5-preview-6"></a></h2><p>We maintain documentation covering <a href="https://docs.microsoft.com/ef/core/what-is-new/ef-core-5.0/whatsnew" target="_blank">new features introduced into each preview</a>.</p><p>Some of the highlights from preview 6 are called out below. This preview also includes several bug fixes.</p><p>Starting with EF Core 3.0, EF Core always generates a single SQL query for each LINQ query. This ensures consistency of the data returned within the constraints of the transaction mode in use. However, this can become very slow when the query uses <code><span>Include</span></code> or a projection to bring back multiple related collections.</p><p>EF Core 5.0 now allows a single LINQ query including related collections to be split into multiple SQL queries. This can significantly improve performance, but can result in inconsistency in the results returned if the data changes between the two queries. Transactions can be used to mitigate this, at least within the constraints of the transaction mode in use.</p><h4 id="split-queries-with-include">Split queries with Include</h4><p>For example, consider a query that pulls in two levels of related collections using <code><span>Include</span></code>:</p><pre><code><span><span><span>var</span></span></span><span><span> artists </span></span><span><span>=</span></span><span><span> context</span></span><span><span>.</span></span><span><span>Artists</span></span><span><span>
    </span></span><span><span>.</span></span><span><span>Include</span></span><span><span>(</span></span><span><span><span><span>e</span></span></span><span><span> </span></span><span><span>=&gt;</span></span></span><span><span> e</span></span><span><span>.</span></span><span><span>Albums</span></span><span><span>).</span></span><span><span>ThenInclude</span></span><span><span>(</span></span><span><span><span><span>e</span></span></span><span><span> </span></span><span><span>=&gt;</span></span></span><span><span> e</span></span><span><span>.</span></span><span><span>Tags</span></span><span><span>)</span></span><span><span>
    </span></span><span><span>.</span></span><span><span>ToList</span></span><span><span>();</span></span></code></pre><p>By default, EF Core will generate the following SQL when using the SQLite provider:</p><pre><code><span><span><span>SELECT</span></span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>.</span></span><span><span><span>"Name"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"t0"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"t0"</span></span></span><span><span>.</span></span><span><span><span>"ArtistId"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"t0"</span></span></span><span><span>.</span></span><span><span><span>"Title"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"t0"</span></span></span><span><span>.</span></span><span><span><span>"Id0"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"t0"</span></span></span><span><span>.</span></span><span><span><span>"AlbumId"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"t0"</span></span></span><span><span>.</span></span><span><span><span>"Name"</span></span></span><span><span>
</span></span><span><span><span>FROM</span></span></span><span><span> </span></span><span><span><span>"Artists"</span></span></span><span><span> </span></span><span><span><span>AS</span></span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>
</span></span><span><span><span>LEFT</span></span></span><span><span> </span></span><span><span><span>JOIN</span></span></span><span><span> </span></span><span><span>(</span></span><span><span>
    </span></span><span><span><span>SELECT</span></span></span><span><span> </span></span><span><span><span>"a0"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"a0"</span></span></span><span><span>.</span></span><span><span><span>"ArtistId"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"a0"</span></span></span><span><span>.</span></span><span><span><span>"Title"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"t"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span> </span></span><span><span><span>AS</span></span></span><span><span> </span></span><span><span><span>"Id0"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"t"</span></span></span><span><span>.</span></span><span><span><span>"AlbumId"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"t"</span></span></span><span><span>.</span></span><span><span><span>"Name"</span></span></span><span><span>
    </span></span><span><span><span>FROM</span></span></span><span><span> </span></span><span><span><span>"Album"</span></span></span><span><span> </span></span><span><span><span>AS</span></span></span><span><span> </span></span><span><span><span>"a0"</span></span></span><span><span>
    </span></span><span><span><span>LEFT</span></span></span><span><span> </span></span><span><span><span>JOIN</span></span></span><span><span> </span></span><span><span><span>"Tag"</span></span></span><span><span> </span></span><span><span><span>AS</span></span></span><span><span> </span></span><span><span><span>"t"</span></span></span><span><span> </span></span><span><span><span>ON</span></span></span><span><span> </span></span><span><span><span>"a0"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span> </span></span><span><span>=</span></span><span><span> </span></span><span><span><span>"t"</span></span></span><span><span>.</span></span><span><span><span>"AlbumId"</span></span></span><span><span>
</span></span><span><span>)</span></span><span><span> </span></span><span><span><span>AS</span></span></span><span><span> </span></span><span><span><span>"t0"</span></span></span><span><span> </span></span><span><span><span>ON</span></span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span> </span></span><span><span>=</span></span><span><span> </span></span><span><span><span>"t0"</span></span></span><span><span>.</span></span><span><span><span>"ArtistId"</span></span></span><span><span>
</span></span><span><span><span>ORDER</span></span></span><span><span> </span></span><span><span><span>BY</span></span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"t0"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"t0"</span></span></span><span><span>.</span></span><span><span><span>"Id0"</span></span></span>
</code></pre><p>The new <code><span>AsSplitQuery</span></code> API can be used to change this behavior. For example:</p><pre><code><span><span><span>var</span></span></span><span><span> artists </span></span><span><span>=</span></span><span><span> context</span></span><span><span>.</span></span><span><span>Artists</span></span><span><span>
    </span></span><span><span>.</span></span><span><span>AsSplitQuery</span></span><span><span>()</span></span><span><span>
    </span></span><span><span>.</span></span><span><span>Include</span></span><span><span>(</span></span><span><span><span><span>e</span></span></span><span><span> </span></span><span><span>=&gt;</span></span></span><span><span> e</span></span><span><span>.</span></span><span><span>Albums</span></span><span><span>).</span></span><span><span>ThenInclude</span></span><span><span>(</span></span><span><span><span><span>e</span></span></span><span><span> </span></span><span><span>=&gt;</span></span></span><span><span> e</span></span><span><span>.</span></span><span><span>Tags</span></span><span><span>)</span></span><span><span>
    </span></span><span><span>.</span></span><span><span>ToList</span></span><span><span>();</span></span></code></pre><p>AsSplitQuery is available for all relational database providers and can be used anywhere in the query, just like AsNoTracking. EF Core will now generate the following three SQL queries:</p><pre><code><span><span><span>SELECT</span></span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>.</span></span><span><span><span>"Name"</span></span></span><span><span>
</span></span><span><span><span>FROM</span></span></span><span><span> </span></span><span><span><span>"Artists"</span></span></span><span><span> </span></span><span><span><span>AS</span></span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>
</span></span><span><span><span>ORDER</span></span></span><span><span> </span></span><span><span><span>BY</span></span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span>

</span></span><span><span><span>SELECT</span></span></span><span><span> </span></span><span><span><span>"a0"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"a0"</span></span></span><span><span>.</span></span><span><span><span>"ArtistId"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"a0"</span></span></span><span><span>.</span></span><span><span><span>"Title"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span>
</span></span><span><span><span>FROM</span></span></span><span><span> </span></span><span><span><span>"Artists"</span></span></span><span><span> </span></span><span><span><span>AS</span></span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>
</span></span><span><span><span>INNER</span></span></span><span><span> </span></span><span><span><span>JOIN</span></span></span><span><span> </span></span><span><span><span>"Album"</span></span></span><span><span> </span></span><span><span><span>AS</span></span></span><span><span> </span></span><span><span><span>"a0"</span></span></span><span><span> </span></span><span><span><span>ON</span></span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span> </span></span><span><span>=</span></span><span><span> </span></span><span><span><span>"a0"</span></span></span><span><span>.</span></span><span><span><span>"ArtistId"</span></span></span><span><span>
</span></span><span><span><span>ORDER</span></span></span><span><span> </span></span><span><span><span>BY</span></span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"a0"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span>

</span></span><span><span><span>SELECT</span></span></span><span><span> </span></span><span><span><span>"t"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"t"</span></span></span><span><span>.</span></span><span><span><span>"AlbumId"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"t"</span></span></span><span><span>.</span></span><span><span><span>"Name"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"a0"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span>
</span></span><span><span><span>FROM</span></span></span><span><span> </span></span><span><span><span>"Artists"</span></span></span><span><span> </span></span><span><span><span>AS</span></span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>
</span></span><span><span><span>INNER</span></span></span><span><span> </span></span><span><span><span>JOIN</span></span></span><span><span> </span></span><span><span><span>"Album"</span></span></span><span><span> </span></span><span><span><span>AS</span></span></span><span><span> </span></span><span><span><span>"a0"</span></span></span><span><span> </span></span><span><span><span>ON</span></span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span> </span></span><span><span>=</span></span><span><span> </span></span><span><span><span>"a0"</span></span></span><span><span>.</span></span><span><span><span>"ArtistId"</span></span></span><span><span>
</span></span><span><span><span>INNER</span></span></span><span><span> </span></span><span><span><span>JOIN</span></span></span><span><span> </span></span><span><span><span>"Tag"</span></span></span><span><span> </span></span><span><span><span>AS</span></span></span><span><span> </span></span><span><span><span>"t"</span></span></span><span><span> </span></span><span><span><span>ON</span></span></span><span><span> </span></span><span><span><span>"a0"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span> </span></span><span><span>=</span></span><span><span> </span></span><span><span><span>"t"</span></span></span><span><span>.</span></span><span><span><span>"AlbumId"</span></span></span><span><span>
</span></span><span><span><span>ORDER</span></span></span><span><span> </span></span><span><span><span>BY</span></span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"a0"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span>
</code></pre><p>All operations on the query root are supported. This includes OrderBy/Skip/Take, Join operations, FirstOrDefault and similar single result selecting operations.</p><p>Note that filtered Includes with OrderBy/Skip/Take are not supported in preview 6, but are available in the daily builds and will be included in preview 7.</p><h4 id="split-queries-with-collection-projections">Split queries with collection projections</h4><p><code><span>AsSplitQuery</span></code> can also be used when collections are loaded in projections. For example:</p><pre><code><span><span>context</span></span><span><span>.</span></span><span><span>Artists</span></span><span><span>
    </span></span><span><span>.</span></span><span><span>AsSplitQuery</span></span><span><span>()</span></span><span><span>
    </span></span><span><span>.</span></span><span><span>Select</span></span><span><span>(</span></span><span><span><span><span>e</span></span></span><span><span> </span></span><span><span>=&gt;</span></span></span><span><span> </span></span><span><span><span>new</span></span></span><span><span>
    </span></span><span><span>{</span></span><span><span>
        </span></span><span><span>Artist</span></span><span><span> </span></span><span><span>=</span></span><span><span> e</span></span><span><span>,</span></span><span><span>
        </span></span><span><span>Albums</span></span><span><span> </span></span><span><span>=</span></span><span><span> e</span></span><span><span>.</span></span><span><span>Albums</span></span><span><span>,</span></span><span><span>
    </span></span><span><span>}).</span></span><span><span>ToList</span></span><span><span>();</span></span></code></pre><p>This LINQ query generates the following two SQL queries when using the SQLite provider:</p><pre><code><span><span><span>SELECT</span></span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>.</span></span><span><span><span>"Name"</span></span></span><span><span>
</span></span><span><span><span>FROM</span></span></span><span><span> </span></span><span><span><span>"Artists"</span></span></span><span><span> </span></span><span><span><span>AS</span></span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>
</span></span><span><span><span>ORDER</span></span></span><span><span> </span></span><span><span><span>BY</span></span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span>

</span></span><span><span><span>SELECT</span></span></span><span><span> </span></span><span><span><span>"a0"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"a0"</span></span></span><span><span>.</span></span><span><span><span>"ArtistId"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"a0"</span></span></span><span><span>.</span></span><span><span><span>"Title"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span>
</span></span><span><span><span>FROM</span></span></span><span><span> </span></span><span><span><span>"Artists"</span></span></span><span><span> </span></span><span><span><span>AS</span></span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>
</span></span><span><span><span>INNER</span></span></span><span><span> </span></span><span><span><span>JOIN</span></span></span><span><span> </span></span><span><span><span>"Album"</span></span></span><span><span> </span></span><span><span><span>AS</span></span></span><span><span> </span></span><span><span><span>"a0"</span></span></span><span><span> </span></span><span><span><span>ON</span></span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span><span><span> </span></span><span><span>=</span></span><span><span> </span></span><span><span><span>"a0"</span></span></span><span><span>.</span></span><span><span><span>"ArtistId"</span></span></span><span><span>
</span></span><span><span><span>ORDER</span></span></span><span><span> </span></span><span><span><span>BY</span></span></span><span><span> </span></span><span><span><span>"a"</span></span></span><span><span>.</span></span><span><span><span>"Id"</span></span></span>
</code></pre><p>Note that only materialization of the collection is supported. Any composition after <code><span>e</span><span>.</span><span>Albums</span></code> in above case won’t result in a split query. Improvements in this area are tracked by <a href="https://github.com/dotnet/efcore/issues/21234" target="_blank">#21234</a>.</p><h3 id="indexattribute">IndexAttribute<a href="#indexattribute"></a></h3><p>The new IndexAttribute can be placed on an entity type to specify an index for a single column. For example:</p><pre><code><span><span>[</span></span><span><span>Index</span></span><span><span>(</span></span><span><span><span>nameof</span></span></span><span><span>(</span></span><span><span>FullName</span></span><span><span>),</span></span><span><span> </span></span><span><span>IsUnique</span></span><span><span> </span></span><span><span>=</span></span><span><span> </span></span><span><span><span>true</span></span></span><span><span>)]</span></span><span><span>
</span></span><span><span><span>public</span></span></span><span><span> </span></span><span><span><span>class</span></span></span><span><span> </span></span><span><span><span>User</span></span></span><span><span>
</span></span><span><span>{</span></span><span><span>
    </span></span><span><span><span>public</span></span></span><span><span> </span></span><span><span><span>int</span></span></span><span><span> </span></span><span><span>Id</span></span><span><span> </span></span><span><span>{</span></span><span><span> </span></span><span><span><span>get</span></span></span><span><span>;</span></span><span><span> </span></span><span><span><span>set</span></span></span><span><span>;</span></span><span><span> </span></span><span><span>}</span></span><span><span>

    </span></span><span><span>[</span></span><span><span>MaxLength</span></span><span><span>(</span></span><span><span><span>128</span></span></span><span><span>)]</span></span><span><span>
    </span></span><span><span><span>public</span></span></span><span><span> </span></span><span><span><span>string</span></span></span><span><span> </span></span><span><span>FullName</span></span><span><span> </span></span><span><span>{</span></span><span><span> </span></span><span><span><span>get</span></span></span><span><span>;</span></span><span><span> </span></span><span><span><span>set</span></span></span><span><span>;</span></span><span><span> </span></span><span><span>}</span></span><span><span>
</span></span><span><span>}</span></span></code></pre><p>For SQL Server, Migrations will then generate the following SQL:</p><pre><code><span><span><span>CREATE</span></span></span><span><span> </span></span><span><span><span>UNIQUE</span></span></span><span><span> </span></span><span><span><span>INDEX</span></span></span><span><span> </span></span><span><span>[</span></span><span><span>IX_Users_FullName</span></span><span><span>]</span></span><span><span>
    </span></span><span><span><span>ON</span></span></span><span><span> </span></span><span><span>[</span></span><span><span><span>Users</span></span></span><span><span>]</span></span><span><span> </span></span><span><span>([</span></span><span><span>FullName</span></span><span><span>])</span></span><span><span>
    </span></span><span><span><span>WHERE</span></span></span><span><span> </span></span><span><span>[</span></span><span><span>FullName</span></span><span><span>]</span></span><span><span> </span></span><span><span><span>IS</span></span></span><span><span> </span></span><span><span><span>NOT</span></span></span><span><span> </span></span><span><span><span>NULL</span></span></span><span><span>;</span></span></code></pre><p>IndexAttribute can also be used to specify an index spanning multiple columns. For example:</p><pre><code><span><span>[</span></span><span><span>Index</span></span><span><span>(</span></span><span><span><span>nameof</span></span></span><span><span>(</span></span><span><span>FirstName</span></span><span><span>),</span></span><span><span> </span></span><span><span><span>nameof</span></span></span><span><span>(</span></span><span><span>LastName</span></span><span><span>),</span></span><span><span> </span></span><span><span>IsUnique</span></span><span><span> </span></span><span><span>=</span></span><span><span> </span></span><span><span><span>true</span></span></span><span><span>)]</span></span><span><span>
</span></span><span><span><span>public</span></span></span><span><span> </span></span><span><span><span>class</span></span></span><span><span> </span></span><span><span><span>User</span></span></span><span><span>
</span></span><span><span>{</span></span><span><span>
    </span></span><span><span><span>public</span></span></span><span><span> </span></span><span><span><span>int</span></span></span><span><span> </span></span><span><span>Id</span></span><span><span> </span></span><span><span>{</span></span><span><span> </span></span><span><span><span>get</span></span></span><span><span>;</span></span><span><span> </span></span><span><span><span>set</span></span></span><span><span>;</span></span><span><span> </span></span><span><span>}</span></span><span><span>

    </span></span><span><span>[</span></span><span><span>MaxLength</span></span><span><span>(</span></span><span><span><span>64</span></span></span><span><span>)]</span></span><span><span>
    </span></span><span><span><span>public</span></span></span><span><span> </span></span><span><span><span>string</span></span></span><span><span> </span></span><span><span>FirstName</span></span><span><span> </span></span><span><span>{</span></span><span><span> </span></span><span><span><span>get</span></span></span><span><span>;</span></span><span><span> </span></span><span><span><span>set</span></span></span><span><span>;</span></span><span><span> </span></span><span><span>}</span></span><span><span>

    </span></span><span><span>[</span></span><span><span>MaxLength</span></span><span><span>(</span></span><span><span><span>64</span></span></span><span><span>)]</span></span><span><span>
    </span></span><span><span><span>public</span></span></span><span><span> </span></span><span><span><span>string</span></span></span><span><span> </span></span><span><span>LastName</span></span><span><span> </span></span><span><span>{</span></span><span><span> </span></span><span><span><span>get</span></span></span><span><span>;</span></span><span><span> </span></span><span><span><span>set</span></span></span><span><span>;</span></span><span><span> </span></span><span><span>}</span></span><span><span>
</span></span><span><span>}</span></span></code></pre><p>For SQL Server, this results in:</p><pre><code><span><span><span>CREATE</span></span></span><span><span> </span></span><span><span><span>UNIQUE</span></span></span><span><span> </span></span><span><span><span>INDEX</span></span></span><span><span> </span></span><span><span>[</span></span><span><span>IX_Users_FirstName_LastName</span></span><span><span>]</span></span><span><span>
    </span></span><span><span><span>ON</span></span></span><span><span> </span></span><span><span>[</span></span><span><span><span>Users</span></span></span><span><span>]</span></span><span><span> </span></span><span><span>([</span></span><span><span>FirstName</span></span><span><span>],</span></span><span><span> </span></span><span><span>[</span></span><span><span>LastName</span></span><span><span>])</span></span><span><span>
    </span></span><span><span><span>WHERE</span></span></span><span><span> </span></span><span><span>[</span></span><span><span>FirstName</span></span><span><span>]</span></span><span><span> </span></span><span><span><span>IS</span></span></span><span><span> </span></span><span><span><span>NOT</span></span></span><span><span> </span></span><span><span><span>NULL</span></span></span><span><span> </span></span><span><span><span>AND</span></span></span><span><span> </span></span><span><span>[</span></span><span><span>LastName</span></span><span><span>]</span></span><span><span> </span></span><span><span><span>IS</span></span></span><span><span> </span></span><span><span><span>NOT</span></span></span><span><span> </span></span><span><span><span>NULL</span></span></span><span><span>;</span></span></code></pre><p>Documentation is tracked by issue <a href="https://github.com/dotnet/EntityFramework.Docs/issues/2407" target="_blank">#2407</a>.</p><h3 id="improved-query-translation-exceptions">Improved query translation exceptions<a href="#improved-query-translation-exceptions"></a></h3><p>We are continuing to improve the exception messages generated when query translation fails. For example, this query uses the unmapped property <code><span>IsSigned</span></code>:</p><pre><code><span><span><span>var</span></span></span><span><span> artists </span></span><span><span>=</span></span><span><span> context</span></span><span><span>.</span></span><span><span>Artists</span></span><span><span>.</span></span><span><span>Where</span></span><span><span>(</span></span><span><span><span><span>e</span></span></span><span><span> </span></span><span><span>=&gt;</span></span></span><span><span> e</span></span><span><span>.</span></span><span><span>IsSigned</span></span><span><span>).</span></span><span><span>ToList</span></span><span><span>();</span></span></code></pre><p>EF Core will throw the following exception indicating that translation failed because <code><span>IsSigned</span></code> is not mapped:</p><blockquote><p>Unhandled exception. System.InvalidOperationException: The LINQ expression ‘DbSet()<br> .Where(a =&gt; a.IsSigned)’ could not be translated. Additional information: Translation of member ‘IsSigned’ on entity type ‘Artist’ failed. Possibly the specified member is not mapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to either AsEnumerable(), AsAsyncEnumerable(), ToList(), or ToListAsync(). See <a href="https://go.microsoft.com/fwlink/?linkid=2101038" target="_blank">https://go.microsoft.com/fwlink/?linkid=2101038</a> for more information.</p></blockquote><p>Similarly, better exception messages are now generated when attempting to translate string comparisons with culture-dependent semantics. For example, this query attempts to use <code><span>StringComparison</span><span>.</span><span>CurrentCulture</span></code>:</p><pre><code><span><span><span>var</span></span></span><span><span> artists </span></span><span><span>=</span></span><span><span> context</span></span><span><span>.</span></span><span><span>Artists</span></span><span><span>
    </span></span><span><span>.</span></span><span><span>Where</span></span><span><span>(</span></span><span><span><span><span>e</span></span></span><span><span> </span></span><span><span>=&gt;</span></span></span><span><span> e</span></span><span><span>.</span></span><span><span>Name</span></span><span><span>.</span></span><span><span>Equals</span></span><span><span>(</span></span><span><span><span>"The Unicorns"</span></span></span><span><span>,</span></span><span><span> </span></span><span><span>StringComparison</span></span><span><span>.</span></span><span><span>CurrentCulture</span></span><span><span>))</span></span><span><span>
    </span></span><span><span>.</span></span><span><span>ToList</span></span><span><span>();</span></span></code></pre><p>EF Core will now throw the following exception:</p><blockquote><p>Unhandled exception. System.InvalidOperationException: The LINQ expression ‘DbSet()<br> .Where(a =&gt; a.Name.Equals(<br> value: “The Unicorns”,<br> comparisonType: CurrentCulture))’ could not be translated. Additional information: Translation of ‘string.Equals’ method which takes ‘StringComparison’ argument is not supported. See <a href="https://go.microsoft.com/fwlink/?linkid=2129535" target="_blank">https://go.microsoft.com/fwlink/?linkid=2129535</a> for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to either AsEnumerable(), AsAsyncEnumerable(), ToList(), or ToListAsync(). See <a href="https://go.microsoft.com/fwlink/?linkid=2101038" target="_blank">https://go.microsoft.com/fwlink/?linkid=2101038</a> for more information.</p></blockquote><h3 id="specify-transaction-id">Specify transaction ID<a href="#specify-transaction-id"></a></h3><p>This feature was contributed from the community by <a href="https://github.com/Marusyk" target="_blank">@Marusyk</a>. Many thanks for the contribution!</p><p>EF Core exposes a transaction ID for correlation of transactions across calls. This is typically set by EF Core when a transaction is started. If the application starts the transaction instead, then this feature allows the application to explicitly set the transaction ID so it is correlated correctly everywhere it is used. For example:</p><pre><code><span><span>using</span></span><span><span> </span></span><span><span>(</span></span><span><span>context</span></span><span><span><span>.</span></span><span><span>Database</span></span></span><span><span><span>.</span></span><span><span>UseTransaction</span></span></span><span><span>(</span></span><span><span>myTransaction</span></span><span><span>,</span></span><span><span> myId</span></span><span><span>))</span></span><span><span>
</span></span><span><span>{</span></span><span><span>
   </span></span><span><span>...</span></span><span><span>
</span></span><span><span>}</span></span></code></pre><h3 id="ipaddress-mapping">IPAddress mapping<a href="#ipaddress-mapping"></a></h3><p>This feature was contributed from the community by <a href="https://github.com/ralmsdeveloper" target="_blank">@ralmsdeveloper</a>. Many thanks for the contribution!</p><p>The standard .NET <a href="https://docs.microsoft.com/dotnet/api/system.net.ipaddress" target="_blank">IPAddress class</a> is now automatically mapped to a string column for databases that do not already have native support. For example, consider mapping this entity type:</p><pre><code><span><span><span>public</span></span></span><span><span> </span></span><span><span><span>class</span></span></span><span><span> </span></span><span><span><span>Host</span></span></span><span><span>
</span></span><span><span>{</span></span><span><span>
    </span></span><span><span><span>public</span></span></span><span><span> </span></span><span><span><span>int</span></span></span><span><span> </span></span><span><span>Id</span></span><span><span> </span></span><span><span>{</span></span><span><span> </span></span><span><span><span>get</span></span></span><span><span>;</span></span><span><span> </span></span><span><span><span>set</span></span></span><span><span>;</span></span><span><span> </span></span><span><span>}</span></span><span><span>
    </span></span><span><span><span>public</span></span></span><span><span> </span></span><span><span>IPAddress</span></span><span><span> </span></span><span><span>Address</span></span><span><span> </span></span><span><span>{</span></span><span><span> </span></span><span><span><span>get</span></span></span><span><span>;</span></span><span><span> </span></span><span><span><span>set</span></span></span><span><span>;</span></span><span><span> </span></span><span><span>}</span></span><span><span>
</span></span><span><span>}</span></span></code></pre><p>On SQL Server, this will result in Migrations creating the following table:</p><pre><code><span><span><span>CREATE</span></span></span><span><span> </span></span><span><span><span>TABLE</span></span></span><span><span> </span></span><span><span>[</span></span><span><span>Host</span></span><span><span>]</span></span><span><span> </span></span><span><span>(</span></span><span><span>
    </span></span><span><span>[</span></span><span><span><span>Id</span></span></span><span><span>]</span></span><span><span> </span></span><span><span><span>int</span></span></span><span><span> </span></span><span><span><span>NOT</span></span></span><span><span> </span></span><span><span><span>NULL</span></span></span><span><span>,</span></span><span><span>
    </span></span><span><span>[</span></span><span><span>Address</span></span><span><span>]</span></span><span><span> </span></span><span><span><span>nvarchar</span></span></span><span><span>(</span></span><span><span><span>45</span></span></span><span><span>)</span></span><span><span> </span></span><span><span><span>NULL</span></span></span><span><span>,</span></span><span><span>
    </span></span><span><span><span>CONSTRAINT</span></span></span><span><span> </span></span><span><span>[</span></span><span><span>PK_Host</span></span><span><span>]</span></span><span><span> PRIMARY </span></span><span><span><span>KEY</span></span></span><span><span> </span></span><span><span>([</span></span><span><span><span>Id</span></span></span><span><span>]));</span></span></code></pre><p>Entities can then be added in the normal way:</p><pre><code><span><span><span>context</span></span></span><span><span>.</span></span><span><span><span>AddRange</span></span><span><span>(</span></span><span><span>
</span></span></span><span><span>    </span></span><span><span>new</span></span><span><span> </span></span><span><span>Host</span></span><span><span> </span></span><span><span>{</span></span><span><span> </span></span><span><span><span>Address</span></span><span><span> </span></span></span><span><span>=</span></span><span><span> </span></span><span><span>IPAddress</span></span><span><span>.</span></span><span><span>Parse</span></span><span><span>(</span></span><span><span><span>"127.0.0.1"</span></span></span><span><span>)},</span></span><span><span>
    </span></span><span><span>new</span></span><span><span> </span></span><span><span>Host</span></span><span><span> </span></span><span><span>{</span></span><span><span> </span></span><span><span><span>Address</span></span><span><span> </span></span></span><span><span>=</span></span><span><span> </span></span><span><span>IPAddress</span></span><span><span>.</span></span><span><span>Parse</span></span><span><span>(</span></span><span><span><span>"0000:0000:0000:0000:0000:0000:0000:0001"</span></span></span><span><span>)})</span></span>
</code></pre><p>And the resulting SQL will insert the normalized IPv4 or IPv6 address:</p><pre><code><span><span><span>Executed</span></span></span><span><span> </span></span><span><span>DbCommand</span></span><span><span> </span></span><span><span>(</span></span><span><span><span>14ms</span></span></span><span><span>)</span></span><span><span> </span></span><span><span>[</span></span><span><span>Parameters</span></span><span><span>=[</span></span><span><span><span>@p0</span></span></span><span><span>=</span></span><span><span><span>'1'</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>@p1</span></span></span><span><span>=</span></span><span><span><span>'127.0.0.1'</span></span></span><span><span> </span></span><span><span>(</span></span><span><span>Size</span></span><span><span> </span></span><span><span>=</span></span><span><span> </span></span><span><span><span>45</span></span></span><span><span>),</span></span><span><span> </span></span><span><span><span>@p2</span></span></span><span><span>=</span></span><span><span><span>'2'</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>@p3</span></span></span><span><span>=</span></span><span><span><span>'::1'</span></span></span><span><span> </span></span><span><span>(</span></span><span><span>Size</span></span><span><span> </span></span><span><span>=</span></span><span><span> </span></span><span><span><span>45</span></span></span><span><span>)],</span></span><span><span> </span></span><span><span>CommandType</span></span><span><span>=</span></span><span><span><span>'Text'</span></span></span><span><span>,</span></span><span><span> </span></span><span><span>CommandTimeout</span></span><span><span>=</span></span><span><span><span>'30'</span></span></span><span><span>]</span></span><span><span>
      SET NOCOUNT ON</span></span><span><span>;</span></span><span><span>
      </span></span><span><span><span>INSERT</span></span></span><span><span> INTO </span></span><span><span>[</span></span><span><span>Host</span></span><span><span>]</span></span><span><span> </span></span><span><span>([</span></span><span><span>Id</span></span><span><span>],</span></span><span><span> </span></span><span><span>[</span></span><span><span>Address</span></span><span><span>])</span></span><span><span>
      VALUES </span></span><span><span>(</span></span><span><span><span>@p0</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>@p1</span></span></span><span><span>),</span></span><span><span> </span></span><span><span>(</span></span><span><span><span>@p2</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>@p3</span></span></span><span><span>);</span></span></code></pre><h3 id="exclude-onconfiguring-when-scaffolding">Exclude OnConfiguring when scaffolding<a href="#exclude-onconfiguring-when-scaffolding"></a></h3><p>When a DbContext is scaffolded from an existing database, EF Core by default creates an OnConfiguring overload with a connection string so that the context is immediately usable. However, this is not useful if you already have a partial class with OnConfiguring, or if you are configuring the context some other way.</p><p>To address this, the scaffolding commands can now be instructed to ommit generation of OnConfiguring. For example:</p><pre><code><span><span>dotnet ef dbcontext scaffold </span></span><span><span><span>"Data Source=(localdb)\MSSQLLocalDB;Initial Catalog=Chinook"</span></span></span><span><span> </span></span><span><span>Microsoft</span></span><span><span><span>.</span></span><span><span>EntityFrameworkCore</span></span></span><span><span><span>.</span></span><span><span>SqlServer</span></span></span><span><span> </span></span><span><span>--</span></span><span><span>no</span></span><span><span>-</span></span><span><span>onconfiguring</span></span></code></pre><p>Or in the Package Manager Console:</p><pre><code><span><span>Scaffold</span></span><span><span>-</span></span><span><span>DbContext</span></span><span><span> </span></span><span><span><span>'Data Source=(localdb)\MSSQLLocalDB;Initial Catalog=Chinook'</span></span></span><span><span> </span></span><span><span>Microsoft</span></span><span><span><span>.</span></span><span><span>EntityFrameworkCore</span></span></span><span><span><span>.</span></span><span><span>SqlServer</span></span></span><span><span> </span></span><span><span>-</span></span><span><span>NoOnConfiguring</span></span></code></pre><p>Note that we recommend using <a href="https://docs.microsoft.com/ef/core/managing-schemas/scaffolding?tabs=vs#configuration-and-user-secrets" target="_blank">a named connection string and secure storage like User Secrets</a>.</p><h3 id="translations-for-firstordefault-on-strings">Translations for FirstOrDefault on strings<a href="#translations-for-firstordefault-on-strings"></a></h3><p>This feature was contributed from the community by <a href="https://github.com/dvoreckyaa" target="_blank">@dvoreckyaa</a>. Many thanks for the contribution!</p><p>FirstOrDefault and similar operators for characters in strings are now translated. For example, this LINQ query:</p><pre><code><span><span>context</span></span><span><span>.</span></span><span><span>Customers</span></span><span><span>.</span></span><span><span>Where</span></span><span><span>(</span></span><span><span><span><span>c</span></span></span><span><span> </span></span><span><span>=&gt;</span></span></span><span><span> c</span></span><span><span>.</span></span><span><span>ContactName</span></span><span><span>.</span></span><span><span>FirstOrDefault</span></span><span><span>()</span></span><span><span> </span></span><span><span>==</span></span><span><span> </span></span><span><span><span>'A'</span></span></span><span><span>).</span></span><span><span>ToList</span></span><span><span>();</span></span></code></pre><p>Will be translated to the following SQL when using SQL Server:</p><pre><code><span><span><span>SELECT</span></span></span><span><span> </span></span><span><span>[</span></span><span><span>c</span></span><span><span>].[</span></span><span><span><span>Id</span></span></span><span><span>],</span></span><span><span> </span></span><span><span>[</span></span><span><span>c</span></span><span><span>].[</span></span><span><span><span>ContactName</span></span></span><span><span>]</span></span><span><span>
</span></span><span><span><span>FROM</span></span></span><span><span> </span></span><span><span>[</span></span><span><span><span>Customer</span></span></span><span><span>]</span></span><span><span> </span></span><span><span><span>AS</span></span></span><span><span> </span></span><span><span>[</span></span><span><span>c</span></span><span><span>]</span></span><span><span>
</span></span><span><span><span>WHERE</span></span></span><span><span> </span></span><span><span><span>SUBSTRING</span></span></span><span><span>([</span></span><span><span>c</span></span><span><span>].[</span></span><span><span><span>ContactName</span></span></span><span><span>],</span></span><span><span> </span></span><span><span><span>1</span></span></span><span><span>,</span></span><span><span> </span></span><span><span><span>1</span></span></span><span><span>)</span></span><span><span> </span></span><span><span>=</span></span><span><span> </span></span><span><span><span>N</span></span></span><span><span><span>'A'</span></span></span>
</code></pre><h3 id="simplify-case-blocks">Simplify case blocks<a href="#simplify-case-blocks"></a></h3><p>EF Core now generates better queries with CASE blocks. For example, this LINQ query:</p><pre><code><span><span>context</span></span><span><span><span>.</span></span><span><span>Weapons</span></span></span><span><span>
    </span></span><span><span>.</span></span><span><span>OrderBy</span></span><span><span>(</span></span><span><span>w </span></span><span><span>=&gt;</span></span><span><span> w</span></span><span><span><span>.</span></span><span><span>Name</span></span></span><span><span><span>.</span></span><span><span>CompareTo</span></span></span><span><span>(</span></span><span><span><span>"Marcus' Lancer"</span></span></span><span><span>)</span></span><span><span> </span></span><span><span>==</span></span><span><span> </span></span><span><span><span>0</span></span></span><span><span>)</span></span><span><span>
    </span></span><span><span>.</span></span><span><span>ThenBy</span></span><span><span>(</span></span><span><span>w </span></span><span><span>=&gt;</span></span><span><span> w</span></span><span><span>.</span></span><span><span>Id</span></span><span><span>)</span></span></code></pre><p>Was on SQL Server formally translated to:</p><pre><code><span><span><span>SELECT</span></span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>].[</span></span><span><span><span>Id</span></span></span><span><span>],</span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>].[</span></span><span><span>AmmunitionType</span></span><span><span>],</span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>].[</span></span><span><span>IsAutomatic</span></span><span><span>],</span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>].[</span></span><span><span><span>Name</span></span></span><span><span>],</span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>].[</span></span><span><span>OwnerFullName</span></span><span><span>],</span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>].[</span></span><span><span>SynergyWithId</span></span><span><span>]</span></span><span><span>
</span></span><span><span><span>FROM</span></span></span><span><span> </span></span><span><span>[</span></span><span><span>Weapons</span></span><span><span>]</span></span><span><span> </span></span><span><span><span>AS</span></span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>]</span></span><span><span>
</span></span><span><span><span>ORDER</span></span></span><span><span> </span></span><span><span><span>BY</span></span></span><span><span> </span></span><span><span><span>CASE</span></span></span><span><span>
    </span></span><span><span><span>WHEN</span></span></span><span><span> </span></span><span><span>(</span></span><span><span><span>CASE</span></span></span><span><span>
        </span></span><span><span><span>WHEN</span></span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>].[</span></span><span><span><span>Name</span></span></span><span><span>]</span></span><span><span> </span></span><span><span>=</span></span><span><span> N</span></span><span><span><span>'Marcus'' Lancer'</span></span></span><span><span> </span></span><span><span><span>THEN</span></span></span><span><span> </span></span><span><span><span>0</span></span></span><span><span>
        </span></span><span><span><span>WHEN</span></span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>].[</span></span><span><span><span>Name</span></span></span><span><span>]</span></span><span><span> </span></span><span><span>&gt;</span></span><span><span> N</span></span><span><span><span>'Marcus'' Lancer'</span></span></span><span><span> </span></span><span><span><span>THEN</span></span></span><span><span> </span></span><span><span><span>1</span></span></span><span><span>
        </span></span><span><span><span>WHEN</span></span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>].[</span></span><span><span><span>Name</span></span></span><span><span>]</span></span><span><span> </span></span><span><span>&lt;</span></span><span><span> N</span></span><span><span><span>'Marcus'' Lancer'</span></span></span><span><span> </span></span><span><span><span>THEN</span></span></span><span><span> </span></span><span><span><span>-</span></span><span><span>1</span></span></span><span><span>
    </span></span><span><span><span>END</span></span></span><span><span> </span></span><span><span>=</span></span><span><span> </span></span><span><span><span>0</span></span></span><span><span>)</span></span><span><span> </span></span><span><span><span>AND</span></span></span><span><span> </span></span><span><span><span>CASE</span></span></span><span><span>
        </span></span><span><span><span>WHEN</span></span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>].[</span></span><span><span><span>Name</span></span></span><span><span>]</span></span><span><span> </span></span><span><span>=</span></span><span><span> N</span></span><span><span><span>'Marcus'' Lancer'</span></span></span><span><span> </span></span><span><span><span>THEN</span></span></span><span><span> </span></span><span><span><span>0</span></span></span><span><span>
        </span></span><span><span><span>WHEN</span></span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>].[</span></span><span><span><span>Name</span></span></span><span><span>]</span></span><span><span> </span></span><span><span>&gt;</span></span><span><span> N</span></span><span><span><span>'Marcus'' Lancer'</span></span></span><span><span> </span></span><span><span><span>THEN</span></span></span><span><span> </span></span><span><span><span>1</span></span></span><span><span>
        </span></span><span><span><span>WHEN</span></span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>].[</span></span><span><span><span>Name</span></span></span><span><span>]</span></span><span><span> </span></span><span><span>&lt;</span></span><span><span> N</span></span><span><span><span>'Marcus'' Lancer'</span></span></span><span><span> </span></span><span><span><span>THEN</span></span></span><span><span> </span></span><span><span><span>-</span></span><span><span>1</span></span></span><span><span>
    </span></span><span><span><span>END</span></span></span><span><span> </span></span><span><span><span>IS</span></span></span><span><span> </span></span><span><span><span>NOT</span></span></span><span><span> </span></span><span><span><span>NULL</span></span></span><span><span> </span></span><span><span><span>THEN</span></span></span><span><span> </span></span><span><span><span>CAST</span></span></span><span><span>(</span></span><span><span><span>1</span></span></span><span><span> </span></span><span><span><span>AS</span></span></span><span><span> </span></span><span><span><span>bit</span></span></span><span><span>)</span></span><span><span>
    </span></span><span><span><span>ELSE</span></span></span><span><span> </span></span><span><span><span>CAST</span></span></span><span><span>(</span></span><span><span><span>0</span></span></span><span><span> </span></span><span><span><span>AS</span></span></span><span><span> </span></span><span><span><span>bit</span></span></span><span><span>)</span></span><span><span>
</span></span><span><span><span>END</span></span></span><span><span>,</span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>].[</span></span><span><span><span>Id</span></span></span><span><span>]</span></span><span><span><span>");</span></span></span>
</code></pre><p>But is now translated to:</p><pre><code><span><span><span>SELECT</span></span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>].[</span></span><span><span><span>Id</span></span></span><span><span>],</span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>].[</span></span><span><span>AmmunitionType</span></span><span><span>],</span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>].[</span></span><span><span>IsAutomatic</span></span><span><span>],</span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>].[</span></span><span><span><span>Name</span></span></span><span><span>],</span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>].[</span></span><span><span>OwnerFullName</span></span><span><span>],</span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>].[</span></span><span><span>SynergyWithId</span></span><span><span>]</span></span><span><span>
</span></span><span><span><span>FROM</span></span></span><span><span> </span></span><span><span>[</span></span><span><span>Weapons</span></span><span><span>]</span></span><span><span> </span></span><span><span><span>AS</span></span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>]</span></span><span><span>
</span></span><span><span><span>ORDER</span></span></span><span><span> </span></span><span><span><span>BY</span></span></span><span><span> </span></span><span><span><span>CASE</span></span></span><span><span>
    </span></span><span><span><span>WHEN</span></span></span><span><span> </span></span><span><span>([</span></span><span><span>w</span></span><span><span>].[</span></span><span><span><span>Name</span></span></span><span><span>]</span></span><span><span> </span></span><span><span>=</span></span><span><span> N</span></span><span><span><span>'Marcus'' Lancer'</span></span></span><span><span>)</span></span><span><span> </span></span><span><span><span>AND</span></span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>].[</span></span><span><span><span>Name</span></span></span><span><span>]</span></span><span><span> </span></span><span><span><span>IS</span></span></span><span><span> </span></span><span><span><span>NOT</span></span></span><span><span> </span></span><span><span><span>NULL</span></span></span><span><span> </span></span><span><span><span>THEN</span></span></span><span><span> </span></span><span><span><span>CAST</span></span></span><span><span>(</span></span><span><span><span>1</span></span></span><span><span> </span></span><span><span><span>AS</span></span></span><span><span> </span></span><span><span><span>bit</span></span></span><span><span>)</span></span><span><span>
    </span></span><span><span><span>ELSE</span></span></span><span><span> </span></span><span><span><span>CAST</span></span></span><span><span>(</span></span><span><span><span>0</span></span></span><span><span> </span></span><span><span><span>AS</span></span></span><span><span> </span></span><span><span><span>bit</span></span></span><span><span>)</span></span><span><span>
</span></span><span><span><span>END</span></span></span><span><span>,</span></span><span><span> </span></span><span><span>[</span></span><span><span>w</span></span><span><span>].[</span></span><span><span><span>Id</span></span></span><span><span>]</span></span><span><span><span>");</span></span></span>
</code></pre><hr><h2 id="daily-builds">Daily builds<a href="#daily-builds"></a></h2><p>EF Core previews are aligned with .NET 5 previews. These previews tend to lag behind the latest work on EF Core. Consider using the <a href="https://github.com/aspnet/AspNetCore/blob/master/docs/DailyBuilds.md" target="_blank">daily builds</a> instead to get the most up-to-date EF Core features and bug fixes.</p><p>As with the previews, the daily builds do not require .NET 5; they can be used with GA/RTM release of .NET Core 3.1.</p><hr><h2 id="the-ef-core-community-standup">The EF Core Community Standup<a href="#the-ef-core-community-standup"></a></h2><p>The EF Core team is now live streaming every other Wednesday at 10am Pacific Time, 1pm Eastern Time, or 17:00 UTC. Join the stream to ask questions about the EF Core topic of your choice, including the latest preview release.</p><ul><li><a href="https://dotnet.microsoft.com/platform/community/standup" target="_blank">Visit the .NET Community Standup</a> page to preview upcoming shows and view recordings from past shows</li><li><a href="https://github.com/dotnet/efcore/discussions/21371" target="_blank">Suggest a guest or project, including your own</a> by posting to the linked discussion</li><li>You can also <a href="https://github.com/dotnet/efcore/discussions/21192" target="_blank">request an EF Core demo</a></li></ul><h2 id="documentation-and-feedback">Documentation and feedback<a href="#documentation-and-feedback"></a></h2><p>The starting point for all EF Core documentation is <a href="https://docs.microsoft.com/ef/" target="_blank">docs.microsoft.com/ef/</a>.</p><p>Please file issues found and any other feedback on the <a href="https://github.com/dotnet/efcore" target="_blank">dotnet/efcore GitHub repo</a>.</p><hr><h2 id="helpful-short-links">Helpful Short Links<a href="#helpful-short-links"></a></h2><p>The following short links are provided for easy reference and access.</p><p>Main documentation:<br> <a href="https://aka.ms/efdocs" target="_blank">https://aka.ms/efdocs</a></p><p>Issues and feature requests for EF Core:<br> <a href="https://aka.ms/efcorefeedback" target="_blank">https://aka.ms/efcorefeedback</a></p><p>Entity Framework Roadmap:<br> <a href="https://aka.ms/efroadmap" target="_blank">https://aka.ms/efroadmap</a></p><p>What’s new in EF Core 5.x?<br> <a href="https://aka.ms/efcore5" target="_blank">https://aka.ms/efcore5</a></p><hr><h2 id="thank-you-from-the-team">Thank you from the team<a href="#thank-you-from-the-team"></a></h2><p>A big thank you from the EF team to everyone who has used EF over the years!</p><hr><h2 id="thank-you-to-our-contributors-">Thank you to our contributors!<a href="#thank-you-to-our-contributors-"></a></h2><p>A big thank you to the following community members who have already contributed code or documentation to the EF Core 5 release! (List is in chronological order of first contribution to EF Core 5).</p></div></div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
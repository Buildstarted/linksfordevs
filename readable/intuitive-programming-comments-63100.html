<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Intuitive Programming - Comments - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Intuitive Programming - Comments - linksfor.dev(s)"/>
    <meta property="article:author" content="Share"/>
    <meta property="og:description" content="thoughts and experiences on engineering management, recruiting, managing performance and accelerating software development process."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://www.mikebz.com/2020/06/intuitive-programming-comments.html"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
	<div class="devring" style="background: #222">
		<div class="grid">
			<div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
				<span class="devring-title">devring.club</span>
				<a href="https://devring.club/site/1/previous" class="devring-previous">Previous</a>
				<a href="https://devring.club/random" class="devring-random">Random</a>
				<a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
			</div>
		</div>
	</div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Intuitive Programming - Comments</title>
<div class="readable">
        <h1>Intuitive Programming - Comments</h1>
            <div>by Share</div>
            <div>Reading time: 6-7 minutes</div>
        <div>Posted here: 18 Jun 2020</div>
        <p><a href="https://www.mikebz.com/2020/06/intuitive-programming-comments.html">https://www.mikebz.com/2020/06/intuitive-programming-comments.html</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
<h3>
Intuitive Programming - Comments
</h3>
</div><div>
<div id="post-body-3436103154839321013">
<p>Comments are a topic of vibrant discussion. &nbsp;Ever since programmers could leave some text in the program that was ignored by the machine the debate started: “what’s a good comment, what’s a bad comment, why comment?”</p><p>There are endless instructions to programmers that say many of the following things:</p><p><span>	</span>1)<span>	</span>Describe your function!</p><p><span>	</span>2)<span>	</span>Don’t write in the comment what you wrote in the code.</p><p><span>	</span>3)<span>	</span>Tell people why you are doing what you are doing.</p><p>What I think has been missing from this discourse is the audience for comments and through those audiences there is intent. &nbsp;The code is being read, skimmed or analyzed by people and tools. &nbsp;So what are the audiences and reading modes?</p><p><span>	</span>1)<span>	</span>Maintaining and enhancing the code</p><p><span>	</span>2)<span>	</span>Skimming through the entire module or file to figure out what the overall structure is</p><p><span>	</span>3)<span>	</span>Reviewing the test files to check out the test coverage and edge cases</p><p><span>	</span>4)<span>	</span>Seeing the docstrings of functions while being in a separate file altogether</p><p><span>	</span>5)<span>	</span>Reviewing the files for copyright and intellectual property</p><p><a href="https://1.bp.blogspot.com/-QCAvxi7xWwk/XuuVE6QO51I/AAAAAAAD8ig/XqA_ySQdpzIo4T6BjnSzNQ1Nh0PeHJ53wCK4BGAsYHg/s1034/Screen%2BShot%2B2020-06-18%2Bat%2B9.23.23%2BAM.png" imageanchor="1"><img data-original-height="514" data-original-width="1034" src="https://1.bp.blogspot.com/-QCAvxi7xWwk/XuuVE6QO51I/AAAAAAAD8ig/XqA_ySQdpzIo4T6BjnSzNQ1Nh0PeHJ53wCK4BGAsYHg/s320/Screen%2BShot%2B2020-06-18%2Bat%2B9.23.23%2BAM.png" width="320"></a>I believe the biggest problems in commenting recommendations happen when those&nbsp;intents are mixed up. For instance: when someone is fixing the code they really should read the code and not the comments, comments that just duplicate what the code is doing can only mislead someone in case the function evolves and gets refactored.</p><p>Here is what I believe are the best kind of comments for those different modes.</p><p><span>	</span>1)<span>	</span>Maintaining the code</p><p>When people are in maintenance mode, they need to read the code. &nbsp;A lot of the bugs happen because the initial implementation of the function has diverged and other side effects were introduced. &nbsp;Comments that duplicate the functionality only increase the chance of misleading someone about what the code is currently doing. &nbsp;Comments that duplicate what code next to them is doing also increase the amount of time it takes to read and update the functionality.</p><p>If there are hard or unintuitive things done in the code, it’s good to leave some commentary behind. &nbsp;This is where the “Why?” comments are so useful.</p><p># It turns this API doesn’t support more than 30 chunks at a time.</p><p># I am splitting up the stream into max number of chunks here to work around that.</p><p>2) Skimming through the entire module or a long file.</p><p>This is where the approach of not repeating yourself doesn’t quite work. &nbsp;If someone has to read many lines of code to understand the intent of a function, class or a big code block, it slows someone down. &nbsp;I find it very appropriate to write comments in files and blocks to give someone a high level map of what these files are for and most importantly what else should go in them. &nbsp;What we are optimizing for here is someone scanning through several thousand lines to find the right place to dig in, penalizing that person with the approach of making them read all the code is impractical.&nbsp;</p><p>3) Tests case documentation</p><p>When I look through a test file or a group of test files often times I am looking to see if a particular customer facing test case is covered. When we ask people to file a bug we ask them for steps and then we turn around so why not record those high level steps in the automated test? &nbsp;I also skim through a set of test cases to get a general understanding of what is covered with both negative and positive scenarios. &nbsp;A lot of people say that the test case name (which is generally 20-50 characters) should tell you what it does, in my experience it not enough text outside of simple unit tests. Here is an example of a test case outline that can save someone from reading 30-40 lines of code:</p><pre># Setup a new user with $100 in his wallet<br># User goes to the store<br># User buy a bottle of water<br># User checks out<br># Verify that user has has $98 left<br># Verify that the user a bottle of water in the bag</pre><p>The counter argument is that you can and should create test functions and help functions that will eventually make that test case look exactly like the set of steps above, but sometimes it’s impractical. &nbsp;In this case setting up a user with a wallet might need to be 10-15 lines of code and then other steps might be as well.</p><p>4) Function docstrings</p><p>A lot of modern editors have the power to help the programmer with auto complete as well as showing them a quick snippet of documentation for the function they are calling. &nbsp;If the document string (docstring) for the function is in the right place with the right format it’s very powerful and could be a big time saver. &nbsp;You are not making the person go navigate to your file and read what the function is about. &nbsp;There are tools out there that take docstrings and change them to a full blown documentation pages.</p><p>I think docstrings for public functions start paying dividends almost immediately and unless it’s a toy project you shouldn’t skip them. &nbsp;A good function documentation culture even on a medium size code base (50,000 lines of code+) is going to help people reuse functions and not look around.</p><p>5) Copyright and intellectual property</p><p>This is easy: if you are publishing your code for other people to reuse it’s important to tell them what strings (if any) are attached to that reuse. &nbsp;If you have ever gone through M&amp;A you know that people want to see that you own your IP and just having a copyright message up top is pretty helpful. &nbsp;This doesn’t take much effort and there are some automated tools that help you automatically insert that text.</p><p>In summary the real source of truth for the code is the code, but skillful comments can help people understand the bigger picture, reasons why some things are not obvious and skim through large bodies of code. &nbsp;You can be doing someone a huge favor by putting the comments into the code and help them speed up their understanding.</p>
</div>

</div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Animate Anything with Xamarin.Forms - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.min.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Animate Anything with Xamarin.Forms - linksfor.dev(s)"/>
    <meta property="article:author" content="https://www.facebook.com/motzcodes"/>
    <meta property="og:description" content="Use Custom Animations in Xamarin.Forms to construct advanced animations with just a few lines of code."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://montemagno.com/animate-anything-with-xamarin-forms/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1 style="margin: unset">
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Animate Anything with Xamarin.Forms</title>
<div class="readable">
        <h1>Animate Anything with Xamarin.Forms</h1>
            <div>by https://www.facebook.com/motzcodes</div>
            <div>Reading time: 3-4 minutes</div>
        <div>Posted here: 07 May 2020</div>
        <p><a href="https://montemagno.com/animate-anything-with-xamarin-forms/">https://montemagno.com/animate-anything-with-xamarin-forms/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>

        

		
    <section data-height="100" data-opacity="0.3">
        
        
	<header>
		<p><a href="https://montemagno.com/"><img src="https://montemagno.com/assets/img/logo_circle.png?v=d890c874c8" alt="James Montemagno"></a></p>
		<nav>
			
<ul>
		<li>
			<a href="https://montemagno.com/">Home</a>
		</li>
		<li>
			<a href="https://montemagno.com/about/">About</a>
		</li>
		<li>
			<a href="https://montemagno.com/speaking/">Speaking</a>
		</li>
		<li>
			<a href="https://montemagno.com/podcasts/">Podcasts</a>
		</li>
		<li>
			<a href="https://montemagno.com/my-apps/">Apps</a>
		</li>
		<li>
			<a href="https://montemagno.com/search/">Search</a>
		</li>
		<li>
			<a href="https://montemagno.com/subscribe/">Newsletter &amp; Feed</a>
		</li>
</ul>

			<ul>
				<li>
					<span>
						<svg>
							<use xlink:href="/assets/svg/icons.svg?v=d890c874c8#menu"></use>
						</svg>
					</span>
				</li>
			</ul>
		</nav>
	</header>
        <section>
            
            
        </section>
        
    </section>
		
			


		<section>
			<p>I have been building apps with Xamarin.Forms for nearly 6 years now! I love how it has evolved over the years, added new controls, new features, and simplified everything with Shell. While I think I can build pretty decent apps in general one thing that I have &nbsp;always struggled with is animations. The very first release of Xamarin.Forms had a <a href="https://docs.microsoft.com/xamarin/xamarin-forms/user-interface/animation/simple">built in animation system</a> to fade, move, and scale any of the controls. These are great and there have been several videos on how to use these:</p><figure><p><iframe width="480" height="270" src="https://www.youtube.com/embed/zIfz77Oerz4?feature=oembed" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p></figure><p>One thing that I always wanted.... was more control! On my <a href="https://twitch.tv/jamesmontemagno">Twitch stream</a> a few weeks ago I was trying to spin a little icon that looped when I was submitting a friend request and it was brought to my attention that there is a full animation system built in to do just about anything you want. </p><figure><img src="https://montemagno.com/content/images/2020/05/Animation-Play-with-Refresh-Rotating-on-Z-axis-looping.gif" alt="Animation-Play-with-Refresh-Rotating-on-Z-axis-looping.gif"></figure><p>To accomplish this, it requires a bit of code in the code behind using the <code>Animation</code> class.</p><pre><code><span><span>readonly</span></span> <span>Animation</span> rotation<span>;</span>
        

<span><span><span>public</span></span></span><span> </span><span><span><span>SubmitFriendRequestPage</span></span></span><span><span>(</span></span><span><span><span></span>)</span></span><span>
</span><span>{</span>
    
    rotation <span>=</span> <span><span>new</span></span> <span>Animation</span><span>(</span>v <span>=&gt;</span> LabelRotateIcon<span>.</span>Rotation <span>=</span> v<span>,</span> <span><span>0</span></span><span>,</span> <span><span>360</span></span><span>)</span><span>;</span>

    VM<span>.</span>PropertyChanged <span>+=</span> OnPropertyChanged<span>;</span>
<span>}</span></code></pre><p>Here we create a new custom <code>Animation</code>. It takes in a a callback to set any properties to a value that will be increased over time. The next two parameters are the start and stop values. So here I am saying start playing the animation with the rotation starting at 0 and then stop when you reach 360.</p><!--kg-card-begin: html--><section>
	
</section>

<section>
	
</section><!--kg-card-end: html--><p>Next, comes time to playing the animation, which I do when my <code>IsBusy</code> property changes. The <code>Animation</code> class allows you to name and check an animation at any time, which is very nifty. </p><pre><code><span><span><span><span>void</span></span></span></span><span> </span><span><span><span>OnPropertyChanged</span></span></span><span><span>(</span></span><span><span><span><span><span>object</span></span></span></span></span><span><span> sender</span></span><span><span><span>,</span></span></span><span><span> </span></span><span><span><span>PropertyChangedEventArgs</span></span></span><span><span> e</span></span><span><span>)</span></span><span>
</span><span>{</span>
    <span><span>if</span></span><span>(</span>e<span>.</span>PropertyName <span>==</span> <span><span>nameof</span></span><span>(</span>VM<span>.</span>IsBusy<span>)</span><span>)</span>
    <span>{</span>
        <span><span>if</span></span> <span>(</span><span>!</span>VM<span>.</span>IsBusy<span>)</span>
            <span><span>this</span></span><span>.</span><span>AbortAnimation</span><span>(</span><span><span>"rotate"</span></span><span>)</span><span>;</span>
        <span><span>else</span></span>
            rotation<span>.</span><span>Commit</span><span>(</span><span><span>this</span></span><span>,</span> <span><span>"rotate"</span></span><span>,</span> <span><span>16</span></span><span>,</span> <span><span>1000</span></span><span>,</span> Easing<span>.</span>Linear<span>,</span> <span>(</span>v<span>,</span> c<span>)</span> <span>=&gt;</span> 			LabelRotateIcon<span>.</span>Rotation <span>=</span> <span><span>0</span></span><span>,</span> <span>(</span><span>)</span> <span>=&gt;</span> <span><span>true</span></span><span>)</span><span>;</span>
    <span>}</span>
<span>}</span></code></pre><p>So, a few things happening here. First is <code>AbortAnimation</code>, which says hey if you are running "rotate" animation stop it. Next is <code>Commit</code> of the animation which will start it. Here I am saying the owner of the animation is the page, the name is "rotate", update very 16 milliseconds, run for 1000 milliseconds, and do linear easing on it. Now, the last two are functions are nice touches, the first is what to do when you finish (reset to 0) and then the last function is if you want to loop the animation! </p><p>That's it! Literally 3 lines of code to create, start, and stop the custom animation. For some reason I never new this existed even though there have been a bunch of really cool libraries built on top of is such as <a href="https://github.com/jsuarezruiz/Xamanimation">Xamanimation</a>.</p><p>To learn more about custom animations checkout the full <a href="https://docs.microsoft.com/xamarin/xamarin-forms/user-interface/animation/custom">documentation</a>!</p>
			
        	
	<section>
		
	</section>
	
	<section>
		
	</section>		</section>

		
	<section>

        

          
		
	</section>

		
		<section>
			<div>
				<div>
						<p><a href="https://montemagno.com/author/james-montemagno/">
							<img src="https://montemagno.com/content/images/size/w160/2017/08/JamesProfilePhoto.jpg" alt="James Montemagno">
						</a></p>
				</div>
				
					<p>Live, Love, Bike, and Code</p>
					
			</div>
		</section>

		
	<section>
		
	</section>
	
	<section>
		
	</section>
	<center>
			<p>
				Copyright © <a href="#">James Montemagno</a> 2020 <span>•</span> All rights reserved. <a href="https://montemagno.com/privacy/">Privacy Policy</a>
			</p>
	</center>
		



        
	

    </div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
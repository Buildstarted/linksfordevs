<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Announcing 8.0 for .NET Core 3.1 - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Announcing 8.0 for .NET Core 3.1 - linksfor.dev(s)"/>
    <meta property="og:description" content="If you&#x27;ve already create a new web project for .NET Core 3.0 or 3.1 you know that there are some differences between how these versions are configured in Startup.cs.&#xA0;This of course also applies to Piranha, so let&#x27;s take a look at what you need to do to upgrade your existing application."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="http://bit.ly/36b5ped"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
	<div class="devring" style="background: #222">
		<div class="grid">
			<div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
				<span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
				<a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
				<a href="https://devring.club/random" class="devring-random">Random</a>
				<a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
			</div>
		</div>
	</div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Announcing 8.0 for .NET Core 3.1</title>
<div class="readable">
        <h1>Announcing 8.0 for .NET Core 3.1</h1>
            <div>Reading time: 11-13 minutes</div>
        <div>Posted here: 05 Dec 2019</div>
        <p><a href="http://bit.ly/36b5ped">http://bit.ly/36b5ped</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
    <div>
        <div>
            
<h2>Migrating From Piranha 7</h2><p>If you've already create a new web project for .NET Core <code>3.0</code> or <code>3.1</code> you know that there are some differences between how these versions are configured in <code>Startup.cs.</code>&nbsp;This of course also applies to Piranha, so let's take a look at what you need to do to upgrade your existing application.</p><h3>Project File and References</h3><p>When upgrading to <code>netcoreapp3.1</code> one of the major differences is that all <code>ASP.NET</code> references are now included as <strong>Framework References</strong> and nuget references <code>ASP.NET</code>&nbsp;should be removed from your project. Let's take a look at the project file for the blog template as an example:</p>
        </div>
    </div>
    <div>
        <div>
            
    <h5>Piranha 7.1 for .NET Core 2.2</h5>
<pre><code><span>&lt;</span><span>Project</span> Sdk<span>=</span><span>"Microsoft.NET.Sdk.Web"</span><span>&gt;</span>

  <span>&lt;</span>PropertyGroup<span>&gt;</span>
    <span>&lt;</span>TargetFramework<span>&gt;</span>netcoreapp2<span>.</span><span>2</span><span>&lt;</span><span>/</span>TargetFramework<span>&gt;</span>
    <span>&lt;</span>AspNetCoreHostingModel<span>&gt;</span>InProcess<span>&lt;</span><span>/</span>AspNetCoreHostingModel<span>&gt;</span>
  <span>&lt;</span><span>/</span>PropertyGroup<span>&gt;</span>

  <span>&lt;</span>ItemGroup<span>&gt;</span>
    <span>&lt;</span><span>Folder</span> Include<span>=</span>"wwwroot\" <span>/</span><span>&gt;</span>
  <span>&lt;</span><span>/</span>ItemGroup<span>&gt;</span>

  <span>&lt;</span>ItemGroup<span>&gt;</span>
    <span>&lt;</span><span>PackageReference</span> Include<span>=</span><span>"Microsoft.AspNetCore.App"</span> <span>/</span><span>&gt;</span>
    <span>&lt;</span><span>PackageReference</span> Include<span>=</span><span>"Microsoft.EntityFrameworkCore.Sqlite"</span> Version<span>=</span><span>"2.2.4"</span> <span>/</span><span>&gt;</span>
    <span>&lt;</span><span>PackageReference</span> Include<span>=</span><span>"Piranha"</span> Version<span>=</span><span>"7.1.0"</span> <span>/</span><span>&gt;</span>
    <span>&lt;</span><span>PackageReference</span> Include<span>=</span><span>"Piranha.AspNetCore"</span> Version<span>=</span><span>"7.1.0"</span> <span>/</span><span>&gt;</span>
    <span>&lt;</span><span>PackageReference</span> Include<span>=</span><span>"Piranha.AspNetCore.Identity.SQLite"</span> Version<span>=</span><span>"7.1.0"</span> <span>/</span><span>&gt;</span>
    <span>&lt;</span><span>PackageReference</span> Include<span>=</span><span>"Piranha.AttributeBuilder"</span> Version<span>=</span><span>"7.1.0"</span> <span>/</span><span>&gt;</span>
    <span>&lt;</span><span>PackageReference</span> Include<span>=</span><span>"Piranha.Data.EF"</span> Version<span>=</span><span>"7.1.0"</span> <span>/</span><span>&gt;</span>
    <span>&lt;</span><span>PackageReference</span> Include<span>=</span><span>"Piranha.ImageSharp"</span> Version<span>=</span><span>"7.1.0-rc1"</span> <span>/</span><span>&gt;</span>
    <span>&lt;</span><span>PackageReference</span> Include<span>=</span><span>"Piranha.Local.FileStorage"</span> Version<span>=</span><span>"7.1.0"</span> <span>/</span><span>&gt;</span>
    <span>&lt;</span><span>PackageReference</span> Include<span>=</span><span>"Piranha.Manager"</span> Version<span>=</span><span>"7.1.0"</span> <span>/</span><span>&gt;</span>
    <span>&lt;</span><span>PackageReference</span> Include<span>=</span><span>"Piranha.Manager.TinyMCE"</span> Version<span>=</span><span>"7.1.0"</span> <span>/</span><span>&gt;</span>
  <span>&lt;</span><span>/</span>ItemGroup<span>&gt;</span>

<span>&lt;</span><span>/</span>Project<span>&gt;</span></code></pre>
        </div>
    </div>
    <div>
        <div>
            
    <h5>Piranha 8.0 for .NET Core 3.1</h5>
<pre><code><span>&lt;</span><span>Project</span> Sdk<span>=</span><span>"Microsoft.NET.Sdk.Web"</span><span>&gt;</span>

  <span>&lt;</span>PropertyGroup<span>&gt;</span>
    <span>&lt;</span>TargetFramework<span>&gt;</span>netcoreapp3<span>.</span><span>1</span><span>&lt;</span><span>/</span>TargetFramework<span>&gt;</span>
  <span>&lt;</span><span>/</span>PropertyGroup<span>&gt;</span>

  <span>&lt;</span>ItemGroup<span>&gt;</span>
    <span>&lt;</span><span>Folder</span> Include<span>=</span>"wwwroot\" <span>/</span><span>&gt;</span>
  <span>&lt;</span><span>/</span>ItemGroup<span>&gt;</span>

  <span>&lt;</span>ItemGroup<span>&gt;</span>
    <span>&lt;</span><span>PackageReference</span> Include<span>=</span><span>"Microsoft.EntityFrameworkCore.Sqlite"</span> Version<span>=</span><span>"3.1.0"</span> <span>/</span><span>&gt;</span>
    <span>&lt;</span><span>PackageReference</span> Include<span>=</span><span>"Piranha"</span> Version<span>=</span><span>"8.0.0"</span> <span>/</span><span>&gt;</span>
    <span>&lt;</span><span>PackageReference</span> Include<span>=</span><span>"Piranha.AspNetCore"</span> Version<span>=</span><span>"8.0.0"</span> <span>/</span><span>&gt;</span>
    <span>&lt;</span><span>PackageReference</span> Include<span>=</span><span>"Piranha.AspNetCore.Identity.SQLite"</span> Version<span>=</span><span>"8.0.0"</span> <span>/</span><span>&gt;</span>
    <span>&lt;</span><span>PackageReference</span> Include<span>=</span><span>"Piranha.AttributeBuilder"</span> Version<span>=</span><span>"8.0.0"</span> <span>/</span><span>&gt;</span>
    <span>&lt;</span><span>PackageReference</span> Include<span>=</span><span>"Piranha.Data.EF"</span> Version<span>=</span><span>"8.0.0"</span> <span>/</span><span>&gt;</span>
    <span>&lt;</span><span>PackageReference</span> Include<span>=</span><span>"Piranha.ImageSharp"</span> Version<span>=</span><span>"8.0.0-rc1"</span> <span>/</span><span>&gt;</span>
    <span>&lt;</span><span>PackageReference</span> Include<span>=</span><span>"Piranha.Local.FileStorage"</span> Version<span>=</span><span>"8.0.0"</span> <span>/</span><span>&gt;</span>
    <span>&lt;</span><span>PackageReference</span> Include<span>=</span><span>"Piranha.Manager"</span> Version<span>=</span><span>"8.0.0"</span> <span>/</span><span>&gt;</span>
    <span>&lt;</span><span>PackageReference</span> Include<span>=</span><span>"Piranha.Manager.TinyMCE"</span> Version<span>=</span><span>"8.0.0"</span> <span>/</span><span>&gt;</span>
  <span>&lt;</span><span>/</span>ItemGroup<span>&gt;</span>

<span>&lt;</span><span>/</span>Project<span>&gt;</span></code></pre>
        </div>
    </div>
    <div>
        <div>
            
<h3>Configure Services</h3><p>In <code>ConfigureServices</code> the main difference is how the <code>ASP.NET</code> services are added. <code>AddMvc</code> has now been split into separate methods for Razor Pages and MVC.</p>
        </div>
    </div>
    <div>
        <div>
            
    <h5>Piranha 7.1 for .NET Core 2.2</h5>
<pre><code><span>public</span> <span>void</span> <span>ConfigureServices</span><span>(</span><span>IServiceCollection</span> services<span>)</span>
<span>{</span>
    services<span>.</span><span>AddLocalization</span><span>(</span>options <span>=&gt;</span>
        options<span>.</span>ResourcesPath <span>=</span> <span>"Resources"</span>
    <span>)</span><span>;</span>
    services<span>.</span><span>AddMvc</span><span>(</span><span>)</span>
        <span>.</span><span>AddPiranhaManagerOptions</span><span>(</span><span>)</span>
        <span>.</span><span>SetCompatibilityVersion</span><span>(</span>CompatibilityVersion<span>.</span>Version_2_2<span>)</span><span>;</span>

    services<span>.</span><span>AddPiranha</span><span>(</span><span>)</span><span>;</span>
    services<span>.</span><span>AddPiranhaApplication</span><span>(</span><span>)</span><span>;</span>
    services<span>.</span><span>AddPiranhaFileStorage</span><span>(</span><span>)</span><span>;</span>
    services<span>.</span><span>AddPiranhaImageSharp</span><span>(</span><span>)</span><span>;</span>
    services<span>.</span><span>AddPiranhaManager</span><span>(</span><span>)</span><span>;</span>
    services<span>.</span><span>AddPiranhaTinyMCE</span><span>(</span><span>)</span><span>;</span>
    services<span>.</span><span>AddPiranhaMemoryCache</span><span>(</span><span>)</span><span>;</span>

    services<span>.</span><span>AddPiranhaEF</span><span>(</span>options <span>=&gt;</span>
        options<span>.</span><span>UseSqlite</span><span>(</span>Configuration<span>.</span><span>GetConnectionString</span><span>(</span><span>"piranha"</span><span>)</span><span>)</span><span>)</span><span>;</span>
    services<span>.</span><span><span>AddPiranhaIdentityWithSeed</span><span>&lt;</span><span>IdentitySQLiteDb</span><span>&gt;</span></span><span>(</span>options <span>=&gt;</span>
        options<span>.</span><span>UseSqlite</span><span>(</span>Configuration<span>.</span><span>GetConnectionString</span><span>(</span><span>"piranha"</span><span>)</span><span>)</span><span>)</span><span>;</span>
<span>}</span></code></pre>
        </div>
    </div>
    <div>
        <div>
            
    <h5>Piranha 8.0 for .NET Core 3.0</h5>
<pre><code><span>public</span> <span>void</span> <span>ConfigureServices</span><span>(</span><span>IServiceCollection</span> services<span>)</span>
<span>{</span>
    services<span>.</span><span>AddLocalization</span><span>(</span>options <span>=&gt;</span>
        options<span>.</span>ResourcesPath <span>=</span> <span>"Resources"</span>
    <span>)</span><span>;</span>
    services<span>.</span><span>AddControllersWithViews</span><span>(</span><span>)</span><span>;</span>
    services<span>.</span><span>AddRazorPages</span><span>(</span><span>)</span>
        <span>.</span><span>AddPiranhaManagerOptions</span><span>(</span><span>)</span><span>;</span>

    services<span>.</span><span>AddPiranha</span><span>(</span><span>)</span><span>;</span>
    services<span>.</span><span>AddPiranhaApplication</span><span>(</span><span>)</span><span>;</span>
    services<span>.</span><span>AddPiranhaFileStorage</span><span>(</span><span>)</span><span>;</span>
    services<span>.</span><span>AddPiranhaImageSharp</span><span>(</span><span>)</span><span>;</span>
    services<span>.</span><span>AddPiranhaManager</span><span>(</span><span>)</span><span>;</span>
    services<span>.</span><span>AddPiranhaTinyMCE</span><span>(</span><span>)</span><span>;</span>
    services<span>.</span><span>AddPiranhaMemoryCache</span><span>(</span><span>)</span><span>;</span>

    services<span>.</span><span>AddPiranhaEF</span><span>(</span>options <span>=&gt;</span>
        options<span>.</span><span>UseSqlite</span><span>(</span>Configuration<span>.</span><span>GetConnectionString</span><span>(</span><span>"piranha"</span><span>)</span><span>)</span><span>)</span><span>;</span>
    services<span>.</span><span><span>AddPiranhaIdentityWithSeed</span><span>&lt;</span><span>IdentitySQLiteDb</span><span>&gt;</span></span><span>(</span>options <span>=&gt;</span>
        options<span>.</span><span>UseSqlite</span><span>(</span>Configuration<span>.</span><span>GetConnectionString</span><span>(</span><span>"piranha"</span><span>)</span><span>)</span><span>)</span><span>;</span>
<span>}</span></code></pre>
        </div>
    </div>
    <div>
        <div>
            
<h3>Configure</h3><p>Again <code>UseMvc</code> has been split up into a number of components that needs to be registered differenctly. Pay attention to the order of the middleware, and especially to the position of the <strong>Authorization</strong> and <strong>Authentication</strong> components.</p>
        </div>
    </div>
    <div>
        <div>
            
    <h5>Piranha 7.1 for .NET Core 2.2</h5>
<pre><code><span>public</span> <span>void</span> <span>Configure</span><span>(</span><span>IApplicationBuilder</span> app<span>,</span> <span>IHostingEnvironment</span> env<span>,</span> <span>IApi</span> api<span>)</span>
<span>{</span>
    
    App<span>.</span><span>Init</span><span>(</span>api<span>)</span><span>;</span>

    
    App<span>.</span>CacheLevel <span>=</span> Piranha<span>.</span>Cache<span>.</span>CacheLevel<span>.</span>Basic<span>;</span>

    
    <span>var</span> pageTypeBuilder <span>=</span> <span>new</span> <span>Piranha<span>.</span>AttributeBuilder<span>.</span>PageTypeBuilder</span><span>(</span>api<span>)</span>
        <span>.</span><span>AddType</span><span>(</span><span>typeof</span><span>(</span>Models<span>.</span>BlogArchive<span>)</span><span>)</span>
        <span>.</span><span>AddType</span><span>(</span><span>typeof</span><span>(</span>Models<span>.</span>StandardPage<span>)</span><span>)</span><span>;</span>
    pageTypeBuilder<span>.</span><span>Build</span><span>(</span><span>)</span>
        <span>.</span><span>DeleteOrphans</span><span>(</span><span>)</span><span>;</span>
    <span>var</span> postTypeBuilder <span>=</span> <span>new</span> <span>Piranha<span>.</span>AttributeBuilder<span>.</span>PostTypeBuilder</span><span>(</span>api<span>)</span>
        <span>.</span><span>AddType</span><span>(</span><span>typeof</span><span>(</span>Models<span>.</span>BlogPost<span>)</span><span>)</span><span>;</span>
    postTypeBuilder<span>.</span><span>Build</span><span>(</span><span>)</span>
        <span>.</span><span>DeleteOrphans</span><span>(</span><span>)</span><span>;</span>

    
    EditorConfig<span>.</span><span>FromFile</span><span>(</span><span>"editorconfig.json"</span><span>)</span><span>;</span>

    
    app<span>.</span><span>UseStaticFiles</span><span>(</span><span>)</span><span>;</span>
    app<span>.</span><span>UseAuthentication</span><span>(</span><span>)</span><span>;</span>
    app<span>.</span><span>UsePiranha</span><span>(</span><span>)</span><span>;</span>
    app<span>.</span><span>UsePiranhaManager</span><span>(</span><span>)</span><span>;</span>
    app<span>.</span><span>UsePiranhaTinyMCE</span><span>(</span><span>)</span><span>;</span>
    app<span>.</span><span>UseMvc</span><span>(</span>routes <span>=&gt;</span>
    <span>{</span>
        routes<span>.</span><span>MapRoute</span><span>(</span>name<span>:</span> <span>"areaRoute"</span><span>,</span>
        template<span>:</span> <span>"{area:exists}/{controller}/{action}/{id?}"</span><span>,</span>
        defaults<span>:</span> <span>new</span> <span>{</span> controller <span>=</span> <span>"Home"</span><span>,</span> action <span>=</span> <span>"Index"</span> <span>}</span><span>)</span><span>;</span>

        routes<span>.</span><span>MapRoute</span><span>(</span>
        name<span>:</span> <span>"default"</span><span>,</span>
        template<span>:</span> <span>"{controller=home}/{action=index}/{id?}"</span><span>)</span><span>;</span>
    <span>}</span><span>)</span><span>;</span>
<span>}</span></code></pre>
        </div>
    </div>
    <div>
        <div>
            
    <h5>Piranha 8.0 for .NET Core 3.1</h5>
<pre><code><span>public</span> <span>void</span> <span>Configure</span><span>(</span><span>IApplicationBuilder</span> app<span>,</span> <span>IWebHostEnvironment</span> env<span>,</span> <span>IApi</span> api<span>)</span>
<span>{</span>
    
    App<span>.</span><span>Init</span><span>(</span>api<span>)</span><span>;</span>

    
    App<span>.</span>CacheLevel <span>=</span> Piranha<span>.</span>Cache<span>.</span>CacheLevel<span>.</span>Basic<span>;</span>

    
    <span>var</span> pageTypeBuilder <span>=</span> <span>new</span> <span>Piranha<span>.</span>AttributeBuilder<span>.</span>PageTypeBuilder</span><span>(</span>api<span>)</span>
        <span>.</span><span>AddType</span><span>(</span><span>typeof</span><span>(</span>Models<span>.</span>BlogArchive<span>)</span><span>)</span>
        <span>.</span><span>AddType</span><span>(</span><span>typeof</span><span>(</span>Models<span>.</span>StandardPage<span>)</span><span>)</span><span>;</span>
    pageTypeBuilder<span>.</span><span>Build</span><span>(</span><span>)</span>
        <span>.</span><span>DeleteOrphans</span><span>(</span><span>)</span><span>;</span>
    <span>var</span> postTypeBuilder <span>=</span> <span>new</span> <span>Piranha<span>.</span>AttributeBuilder<span>.</span>PostTypeBuilder</span><span>(</span>api<span>)</span>
        <span>.</span><span>AddType</span><span>(</span><span>typeof</span><span>(</span>Models<span>.</span>BlogPost<span>)</span><span>)</span><span>;</span>
    postTypeBuilder<span>.</span><span>Build</span><span>(</span><span>)</span>
        <span>.</span><span>DeleteOrphans</span><span>(</span><span>)</span><span>;</span>

    
    EditorConfig<span>.</span><span>FromFile</span><span>(</span><span>"editorconfig.json"</span><span>)</span><span>;</span>

    
    app<span>.</span><span>UseStaticFiles</span><span>(</span><span>)</span><span>;</span>
    app<span>.</span><span>UsePiranha</span><span>(</span><span>)</span><span>;</span>
    app<span>.</span><span>UseRouting</span><span>(</span><span>)</span><span>;</span>
    app<span>.</span><span>UseAuthentication</span><span>(</span><span>)</span><span>;</span>
    app<span>.</span><span>UseAuthorization</span><span>(</span><span>)</span><span>;</span>
    app<span>.</span><span>UsePiranhaIdentity</span><span>(</span><span>)</span><span>;</span>
    app<span>.</span><span>UsePiranhaManager</span><span>(</span><span>)</span><span>;</span>
    app<span>.</span><span>UsePiranhaTinyMCE</span><span>(</span><span>)</span><span>;</span>
    app<span>.</span><span>UseEndpoints</span><span>(</span>endpoints <span>=&gt;</span>
    <span>{</span>
        endpoints<span>.</span><span>MapControllerRoute</span><span>(</span>
        name<span>:</span> <span>"default"</span><span>,</span>
        pattern<span>:</span> <span>"{controller=Home}/{action=Index}/{id?}"</span><span>)</span><span>;</span>

        endpoints<span>.</span><span>MapPiranhaManager</span><span>(</span><span>)</span><span>;</span>
    <span>}</span><span>)</span><span>;</span>
<span>}</span></code></pre>
        </div>
    </div>
    <div>
        <div>
            
<h2>Introducing Simple Setup</h2><p>To help migration to this version, and future version we've decided a more simple way to setup Piranha if you're building an integrated web application (i.e. a traditional application with a server-generated client). This setup method abstracts the gritty details of setting up the application and does this for you. Let's again take a look at how setup for the Blog template would look like.</p>
        </div>
    </div>
    <div>
        <div>
            
    <h5>ConfigureServices</h5>
<pre><code><span>public</span> <span>void</span> <span>ConfigureServices</span><span>(</span><span>IServiceCollection</span> services<span>)</span>
<span>{</span>
    services<span>.</span><span>AddPiranha</span><span>(</span>options <span>=&gt;</span>
    <span>{</span>
        options<span>.</span><span>UseFileStorage</span><span>(</span><span>)</span><span>;</span>
        options<span>.</span><span>UseImageSharp</span><span>(</span><span>)</span><span>;</span>
        options<span>.</span><span>UseManager</span><span>(</span><span>)</span><span>;</span>
        options<span>.</span><span>UseTinyMCE</span><span>(</span><span>)</span><span>;</span>
        options<span>.</span><span>UseMemoryCache</span><span>(</span><span>)</span><span>;</span>
        options<span>.</span><span>UseEF</span><span>(</span>db <span>=&gt;</span>
            db<span>.</span><span>UseSqlite</span><span>(</span>Configuration<span>.</span><span>GetConnectionString</span><span>(</span><span>"piranha"</span><span>)</span><span>)</span><span>)</span><span>;</span>
        options<span>.</span><span><span>UseIdentityWithSeed</span><span>&lt;</span><span>IdentitySQLiteDb</span><span>&gt;</span></span><span>(</span>db <span>=&gt;</span>
            db<span>.</span><span>UseSqlite</span><span>(</span>Configuration<span>.</span><span>GetConnectionString</span><span>(</span><span>"piranha"</span><span>)</span><span>)</span><span>)</span><span>;</span>
    <span>}</span><span>)</span><span>;</span>
<span>}</span></code></pre>
        </div>
    </div>
    <div>
        <div>
            
<h5>Configure</h5><p>Besides packaging all of the <code>ASP.NET</code> setup we've also added a new <code>ContentTypeBuilder</code> that adds all Content Types in the specified Assemblies for you. You can even add multiple assemblies by add several calls to <code>AddAssembl</code></p>
        </div>
    </div>
    <div>
        <div>
            
<pre><code><span>public</span> <span>void</span> <span>Configure</span><span>(</span><span>IApplicationBuilder</span> app<span>,</span> <span>IWebHostEnvironment</span> env<span>,</span> <span>IApi</span> api<span>)</span>
<span>{</span>
    
    App<span>.</span><span>Init</span><span>(</span>api<span>)</span><span>;</span>

    
    App<span>.</span>CacheLevel <span>=</span> Piranha<span>.</span>Cache<span>.</span>CacheLevel<span>.</span>Basic<span>;</span>

    
    <span>new</span> <span>ContentTypeBuilder</span><span>(</span>api<span>)</span>
        <span>.</span><span>AddAssembly</span><span>(</span><span>typeof</span><span>(</span>Startup<span>)</span><span>.</span>Assembly<span>)</span>
        <span>.</span><span>Build</span><span>(</span><span>)</span>
        <span>.</span><span>DeleteOrphans</span><span>(</span><span>)</span><span>;</span>

    
    EditorConfig<span>.</span><span>FromFile</span><span>(</span><span>"editorconfig.json"</span><span>)</span><span>;</span>

    
    app<span>.</span><span>UsePiranha</span><span>(</span>options <span>=&gt;</span> 
    <span>{</span>
        options<span>.</span><span>UseManager</span><span>(</span><span>)</span><span>;</span>
        options<span>.</span><span>UseTinyMCE</span><span>(</span><span>)</span><span>;</span>
        options<span>.</span><span>UseIdentity</span><span>(</span><span>)</span><span>;</span>
    <span>}</span><span>)</span><span>;</span>
<span>}</span></code></pre>
        </div>
    </div>
    <div>
        <div>
            
<h2>Integrated Middleware</h2><p>We've also added a new <strong>Integrated</strong> Middleware component that is enabled when using <strong>Simple Setup</strong>. This middleware component replaces <strong>all of the existing</strong> Piranha middleware components and processes the entire request in one pass. The result is better performance and more failsafe routing behavior for the application.</p><p>This new middleware can be used without Simple Setup as well by replacing the following line:</p>
        </div>
    </div>
    <div>
        <div>
            
    <h5>Standard Pipeline</h5>
<pre><code>app<span>.</span><span>UsePiranha</span><span>(</span><span>)</span><span>;</span></code></pre>
        </div>
    </div>
    <div>
        <div>
            
    <h5>Integrated Pipeline</h5>
<pre><code>app<span>.</span>UseIntegratedPiranha</code></pre>
        </div>
    </div>
    <div>
        <div>
            
<h2>Archive Pages</h2><p>In our constant efforts to simplify things we will gradually remove the type <code>ArchivePage&lt;T&gt;</code> which has been marked as obsolete from this version. Archive Pages should now inherit from the <strong>same base class as regular pages</strong> and is instead marked as Archives with the <code>PageTypeAttribute</code>.</p><p>If you want a PostArchive Property on your Page just like before you add this manually, for example.</p>
        </div>
    </div>
    <div>
        <div>
            
    <h5>Archive Page in 7.1</h5>
<pre><code><span>[</span><span>PageType</span><span>(</span>Title <span>=</span> <span>"Blog archive"</span><span>,</span> UseBlocks <span>=</span> <span>false</span><span>)</span><span>]</span>
<span>public</span> <span>class</span> <span>BlogArchive</span> <span>:</span> <span>ArchivePage</span><span>&lt;</span>BlogArchive<span>&gt;</span>
<span>{</span>
<span>}</span></code></pre>
        </div>
    </div>
    <div>
        <div>
            
    <h5>Archive Page in 8.0</h5>
<pre><code><span>[</span><span>PageType</span><span>(</span>Title <span>=</span> <span>"Blog archive"</span><span>,</span> UseBlocks <span>=</span> <span>false</span><span>,</span> IsArchive <span>=</span> <span>true</span><span>)</span><span>]</span>
<span>public</span> <span>class</span> <span>BlogArchive</span> <span>:</span> <span>Page</span><span>&lt;</span>BlogArchive<span>&gt;</span>
<span>{</span>
    <span>public</span> PostArchive<span>&lt;</span>DynamicPost<span>&gt;</span> Archive <span>{</span> <span>get</span><span>;</span> <span>set</span><span>;</span> <span>}</span>
<span>}</span></code></pre>
        </div>
    </div>
    <div>
        <p>The reason for this is simply that the <strong>Archive</strong> is not populated when getting the Page model, and we want to give you the flexibility on how you handle your data model.</p>
    </div>
    <div>
        <div>
            
<h2>Wrapping Up<br data-mce-bogus="1"></h2><p>That's it folks, you can read more what is included in detail over at <a href="https://github.com/PiranhaCMS/piranha.core" target="_blank" rel="noopener" data-mce-href="https://github.com/PiranhaCMS/piranha.core">GitHub</a> by reading the <a href="https://github.com/PiranhaCMS/piranha.core/wiki/Changelog" target="_blank" rel="noopener" data-mce-href="https://github.com/PiranhaCMS/piranha.core/wiki/Changelog">Changelog</a>. We truly hope you enjoy this new version of Piranha CMS and continue to use it, because we have lot's of exiting new features coming up in the next releases!<br data-mce-bogus="1"></p><p>Over and out!<br data-mce-bogus="1"></p>
        </div>
    </div>
    
</div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Punycode - Wikipedia -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>Punycode - Wikipedia</h1><div><div class="mw-parser-output"><p><b>Punycode</b> is a representation of <a href="/wiki/Unicode" title="Unicode">Unicode</a> with the limited <a href="/wiki/ASCII" title="ASCII">ASCII</a> character subset used for Internet <a href="/wiki/Hostname" title="Hostname">hostnames</a>. Using Punycode, host names  containing Unicode characters are transcoded to a subset of ASCII consisting of letters, digits, and hyphen, which is called the Letter-Digit-Hyphen (LDH) subset.  For example, <i>München</i> (<a href="/wiki/German_language" title="German language">German</a> name for <a href="/wiki/Munich" title="Munich">Munich</a>) is encoded as <i>Mnchen-3ya</i>.
</p><p>While the <a href="/wiki/Domain_Name_System" title="Domain Name System">Domain Name System</a> (DNS) technically supports arbitrary sequences of octets in domain name labels, the DNS standards recommend the use of the LDH subset of ASCII conventionally used for host names, and require that string comparisons between DNS domain names should be case-insensitive. The Punycode syntax is a method of encoding strings containing Unicode characters, such as  <a href="/wiki/Internationalized_domain_name" title="Internationalized domain name">internationalized domain names</a> (IDNA), into the LDH subset of ASCII favored by DNS. It is specified in <a href="/wiki/IETF" class="mw-redirect" title="IETF">IETF</a><a href="/wiki/Request_for_Comments" title="Request for Comments">Request for Comments</a> 3492.<sup id="cite_ref-rfc3492_1-0" class="reference"><a href="#cite_note-rfc3492-1">[1]</a></sup></p><h2><span class="mw-headline" id="Encoding_procedure">Encoding procedure</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Punycode&amp;action=edit&amp;section=1" title="Edit section: Encoding procedure">edit</a><span class="mw-editsection-bracket">]</span></span></h2><p>As stated in <a class="external mw-magiclink-rfc" rel="nofollow" href="https://tools.ietf.org/html/rfc3492">RFC 3492</a>, "Punycode is an instance of a more general algorithm called <i>Bootstring</i>, which allows strings composed from a small set of 'basic' code points to uniquely represent any string of code points drawn from a larger set."  Punycode defines parameters for the general Bootstring algorithm to match the characteristics of Unicode text. This section demonstrates the procedure for Punycode encoding, using the example of the string "bücher" (<i>Bücher</i> is <a href="/wiki/German_language" title="German language">German</a> for <i>books</i>), which is translated into the label "bcher-kva".
</p><h3><span class="mw-headline" id="Separation_of_ASCII_characters">Separation of ASCII characters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Punycode&amp;action=edit&amp;section=2" title="Edit section: Separation of ASCII characters">edit</a><span class="mw-editsection-bracket">]</span></span></h3><p>First, all basic <a href="/wiki/ASCII" title="ASCII">ASCII</a> characters in the string are copied from input to output, skipping over any other characters. For example, "bücher" is copied to "bcher". If any characters were copied an ASCII hyphen is added to the output next (e.g., "bücher" → "bcher-"). Since it is a basic character, the ASCII hyphen may itself appear in the string before this additional character. However, the additional ASCII hyphen does not cause any ambiguity as no later part of the encoding process can introduce another ASCII hyphen; the last ASCII hyphen, if any, signifies the end of the basic characters.
</p><h3><span class="mw-headline" id="Encoding_of_non-ASCII_character_insertions_as_code_numbers">Encoding of non-ASCII character insertions as code numbers</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Punycode&amp;action=edit&amp;section=3" title="Edit section: Encoding of non-ASCII character insertions as code numbers">edit</a><span class="mw-editsection-bracket">]</span></span></h3><p>The next part of the encoding process first requires an understanding of the decoder, which is a <a href="/wiki/Finite-state_machine" title="Finite-state machine">finite-state machine</a> with two state variables <i>i</i> and <i>n</i>. <i>i</i> is an index into the string ranging from zero (representing a potential insertion at the start) to the current length of the extended string (representing a potential insertion at the end).
</p><p><i>i</i> starts at zero, and <i>n</i> starts at 128 (the first non-ASCII code point). The state progression is a <a href="/wiki/Monotonic_function" title="Monotonic function">monotonic function</a>. A state change either increments <i>i</i> or, if <i>i</i> is at its maximum, resets <i>i</i> to zero and increments <i>n</i> by 1, then goes back to incrementing <i>i</i> in the following state change. At each state change, either the code point denoted by <i>n</i> is inserted or it is not inserted.
</p><p>The code numbers generated by the encoder represent how many possibilities to skip before an insertion is made. There are six possible places to insert a character in the current string "bcher" (including before the first character and after the last one). There are 124 code points between the last one considered (127, the end of ASCII) and "ü" (code point 252). Also there is one position to insert a "ü" that needs to be skipped (at position zero before the 'b'). That is why it is necessary to tell the decoder to skip a total of (6 × 124) + 1 = 745 possible insertions before getting to the one required. Once the character is inserted there are now seven possible places to insert another character.
</p><h3><span class="mw-headline" id="Re-encoding_of_code_numbers_as_ASCII_sequences">Re-encoding of code numbers as ASCII sequences</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Punycode&amp;action=edit&amp;section=4" title="Edit section: Re-encoding of code numbers as ASCII sequences">edit</a><span class="mw-editsection-bracket">]</span></span></h3><p>Punycode uses <a href="/wiki/Numeral_system#Generalized_variable-length_integers" title="Numeral system">generalized variable-length integers</a> to represent these values. For example, this is how "kva" is used to represent the code number 745:
</p><blockquote><p>A number system with <a href="/wiki/Endianness#Detailed_description" title="Endianness">little-endian ordering</a> is used which allows variable-length codes without separate delimiters: a digit lower than a threshold value marks that it is the most-significant digit, hence the end of the number. The threshold value depends on the position in the number and also on previous insertions, to increase efficiency. Correspondingly the weights of the digits vary.
</p><p>In this case a number system with 36 symbols is used, with the <a href="/wiki/Case_sensitivity" title="Case sensitivity">case-insensitive</a> 'a' through 'z' equal to the decimal numbers 0 through 25, and '0' through '9' equal to the decimal numbers 26 through 35. Thus "kva", corresponds to the decimal number string "10 21 0".
</p></blockquote><p>To decode this string of symbols, the threshold starts out as 1 and the weight is 1. The first symbol is the units <a href="/wiki/Place_value" class="mw-redirect" title="Place value">place value</a>; 'k' (=10) with a weight of 1 equals 10. After this, the threshold value is adjusted.  For the sake of simplicity, let's assume it is now 2. The second symbol has a <a href="/wiki/Place_value" class="mw-redirect" title="Place value">place value</a> of 36 minus the previous threshold value, in this case, 35. Therefore, the sum of the first two symbols 'k' (=10) and 'v' (=21) is 10 × 1 + 21 × 35.  Since the second symbol is not less than the threshold value of 2, there is more to come.  The weight for the third symbol is the previous weight times 36 minus the new threshold value; 35 × 34. The third symbol in this example is 'a' (=0), which is less than 2, meaning that it is the last (most significant) part of the number. Therefore, "kva" represents the decimal number (10 × 1) + (21 × 35) + (0 × 35 × 34) = 745.
</p><p>The threshold itself is determined by an algorithm keeping it between 1 and 26 inclusive, meaning the last character of an encoding will always be alphabetic.  The case can then be used to provide information about the original case of the string.
</p><p>For the insertion of a second special character in "bücher", the first possibility is "büücher" with code "bcher-kvaa", the second "bücüher" with code "bcher-kvab", etc. After "bücherü" with code "bcher-kvae" comes "ýbücher" with code "bcher-kvaf" (different from "übücher" coded "bcher-jvab"), etc.
</p><p>To make the encoding and decoding algorithms simple, no attempt has been made to prevent some encoded values from encoding inadmissible Unicode values: however, these should be checked for and detected during decoding.
</p><p>Punycode is designed to work across all scripts, and to be self-optimizing by attempting to adapt to the character set ranges within the string as it operates. It is optimized for the case where the string is composed of zero or more ASCII characters and in addition characters from only one other script system, but will cope with any arbitrary Unicode string. Note that for DNS use, the domain name string is assumed to have been normalized using <a href="/wiki/Nameprep" title="Nameprep">Nameprep</a> and (for <a href="/wiki/Top-level_domain" title="Top-level domain">top-level domains</a>) filtered against an officially registered language table before being punycoded, and that the DNS protocol sets limits on the acceptable lengths of the output Punycode string.
</p><h2><span class="mw-headline" id="Internationalized_domain_names">Internationalized domain names</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Punycode&amp;action=edit&amp;section=5" title="Edit section: Internationalized domain names">edit</a><span class="mw-editsection-bracket">]</span></span></h2><p>To prevent non-international domain names containing hyphens from being accidentally interpreted as Punycode, international domain name Punycode sequences have a so-called ASCII Compatible Encoding (ACE) prefix, "xn--", prepended.<sup id="cite_ref-2" class="reference"><a href="#cite_note-2">[2]</a></sup>  Thus the domain name "bücher.tld" would be represented in ASCII as "xn--bcher-kva.tld".
</p><h2><span class="mw-headline" id="See_also">See also</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Punycode&amp;action=edit&amp;section=6" title="Edit section: See also">edit</a><span class="mw-editsection-bracket">]</span></span></h2><h2><span class="mw-headline" id="References">References</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Punycode&amp;action=edit&amp;section=7" title="Edit section: References">edit</a><span class="mw-editsection-bracket">]</span></span></h2><h2><span class="mw-headline" id="External_links">External links</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Punycode&amp;action=edit&amp;section=8" title="Edit section: External links">edit</a><span class="mw-editsection-bracket">]</span></span></h2></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Package websocket -
linksfor.dev(s)
    </title>
	<link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <h1>Package websocket</h1>
    <div class="container"> <p><code>import &quot;golang.org/x/net/websocket&quot;</code> </p><p>
Package websocket implements a client and server for the WebSocket protocol
as specified in <a href="http://tools.ietf.org/html/rfc6455">RFC 6455</a>.
</p>
<p>
This package currently lacks some features found in alternative
and more actively maintained WebSocket packages:
</p>
<pre><a href="https://godoc.org/github.com/gorilla/websocket">https://godoc.org/github.com/gorilla/websocket</a>
<a href="https://godoc.org/nhooyr.io/websocket">https://godoc.org/nhooyr.io/websocket</a></pre> <ul class="list-unstyled"> <li><a href="#pkg-constants">Constants</a></li> <li><a href="#pkg-variables">Variables</a></li> <li><a href="#Origin">func Origin(config *Config, req *http.Request) (*url.URL, error)</a></li> <li><a href="#Addr">type Addr</a></li> <ul> <li><a href="#Addr.Network">func (addr *Addr) Network() string</a></li> </ul> <li><a href="#Codec">type Codec</a></li> <li><a href="#Config">type Config</a></li> <ul> <li><a href="#NewConfig">func NewConfig(server, origin string) (config *Config, err error)</a></li> </ul> <li><a href="#Conn">type Conn</a></li> <li><a href="#DialError">type DialError</a></li> <ul> <li><a href="#DialError.Error">func (e *DialError) Error() string</a></li> </ul> <li><a href="#Handler">type Handler</a></li> <ul> <li><a href="#Handler.ServeHTTP">func (h Handler) ServeHTTP(w http.ResponseWriter, req *http.Request)</a></li> </ul> <li><a href="#ProtocolError">type ProtocolError</a></li> <ul> <li><a href="#ProtocolError.Error">func (err *ProtocolError) Error() string</a></li> </ul> <li><a href="#Server">type Server</a></li> <ul> <li><a href="#Server.ServeHTTP">func (s Server) ServeHTTP(w http.ResponseWriter, req *http.Request)</a></li> </ul> </ul> <h4 id="pkg-examples">Examples <a class="permalink" href="#pkg-examples">&#xB6;</a></h4> <h4 id="pkg-files"> <a href="https://github.com/golang/net/tree/master/websocket">Package Files</a> <a class="permalink" href="#pkg-files">&#xB6;</a>
</h4> <p><a href="https://github.com/golang/net/blob/master/websocket/client.go">client.go</a> <a href="https://github.com/golang/net/blob/master/websocket/dial.go">dial.go</a> <a href="https://github.com/golang/net/blob/master/websocket/hybi.go">hybi.go</a> <a href="https://github.com/golang/net/blob/master/websocket/server.go">server.go</a> <a href="https://github.com/golang/net/blob/master/websocket/websocket.go">websocket.go</a> </p> <h3 id="pkg-constants">Constants <a class="permalink" href="#pkg-constants">&#xB6;</a></h3> <div class="decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L29">&#x2756;</a><pre>const ( <span id="ProtocolVersionHybi13">ProtocolVersionHybi13</span> = 13 <span id="ProtocolVersionHybi">ProtocolVersionHybi</span> = <a href="#ProtocolVersionHybi13">ProtocolVersionHybi13</a> <span id="SupportedProtocolVersion">SupportedProtocolVersion</span> = &quot;13&quot; <span id="ContinuationFrame">ContinuationFrame</span> = 0 <span id="TextFrame">TextFrame</span> = 1 <span id="BinaryFrame">BinaryFrame</span> = 2 <span id="CloseFrame">CloseFrame</span> = 8 <span id="PingFrame">PingFrame</span> = 9 <span id="PongFrame">PongFrame</span> = 10 <span id="UnknownFrame">UnknownFrame</span> = 255 <span id="DefaultMaxPayloadBytes">DefaultMaxPayloadBytes</span> = 32 &lt;&lt; 20 <span class="com">// 32MB</span>
)</pre></div> <h3 id="pkg-variables">Variables <a class="permalink" href="#pkg-variables">&#xB6;</a></h3> <div class="decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L71">&#x2756;</a><pre>var <span id="ErrFrameTooLarge">ErrFrameTooLarge</span> = <a href="/errors">errors</a>.<a href="/errors#New">New</a>(&quot;websocket: frame payload size exceeds limit&quot;)</pre></div><p>
ErrFrameTooLarge is returned by Codec&apos;s Receive method if payload size
exceeds limit set by Conn.MaxPayloadBytes
</p>
<div class="decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L451">&#x2756;</a><pre>var <span id="JSON">JSON</span> = <a href="#Codec">Codec</a>{jsonMarshal, jsonUnmarshal}</pre></div><p>
JSON is a codec to send/receive JSON data in a frame from a WebSocket connection.
</p>
<p>
Trivial usage:
</p>
<pre>import &quot;websocket&quot;

type T struct {
	Msg string
	Count int
}

// receive JSON type T
var data T
websocket.JSON.Receive(ws, &amp;data)

// send JSON type T
websocket.JSON.Send(ws, data)
</pre>
<div class="decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L421">&#x2756;</a><pre>var <span id="Message">Message</span> = <a href="#Codec">Codec</a>{marshal, unmarshal}</pre></div><p>
Message is a codec to send/receive text/binary data in a frame on WebSocket connection.
To send/receive text frame, use string type.
To send/receive binary frame, use []byte type.
</p>
<p>
Trivial usage:
</p>
<pre>import &quot;websocket&quot;

// receive text frame
var message string
websocket.Message.Receive(ws, &amp;message)

// send text frame
message = &quot;hello&quot;
websocket.Message.Send(ws, message)

// receive binary frame
var data []byte
websocket.Message.Receive(ws, &amp;data)

// send binary frame
data = []byte{0, 1, 2}
websocket.Message.Send(ws, data)
</pre> <h3 id="Origin">func <a href="https://github.com/golang/net/blob/master/websocket/hybi.go#L539">Origin</a> <a class="permalink" href="#Origin">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Origin&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h3> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/hybi.go#L539">&#x2756;</a><pre>func Origin(config *<a href="#Config">Config</a>, req *<a href="/net/http">http</a>.<a href="/net/http#Request">Request</a>) (*<a href="/net/url">url</a>.<a href="/net/url#URL">URL</a>, <a href="/builtin#error">error</a>)</pre></div><p>
Origin parses the Origin header in req.
If the Origin header is not set, it returns nil and nil.
</p> <h3 id="Addr">type <a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L74">Addr</a> <a class="permalink" href="#Addr">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Addr&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h3> <div class="decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L74">&#x2756;</a><pre>type Addr struct { *<a href="/net/url">url</a>.<a href="/net/url#URL">URL</a>
}</pre></div><p>
Addr is an implementation of net.Addr for WebSocket.
</p> <h4 id="Addr.Network">func (*Addr) <a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L79">Network</a> <a class="permalink" href="#Addr.Network">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Addr%2FNetwork&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L79">&#x2756;</a><pre>func (addr *<a href="#Addr">Addr</a>) Network() <a href="/builtin#string">string</a></pre></div><p>
Network returns the network type for a WebSocket, &quot;websocket&quot;.
</p> <h3 id="Codec">type <a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L302">Codec</a> <a class="permalink" href="#Codec">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Codec&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h3> <div class="decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L302">&#x2756;</a><pre>type Codec struct { <span id="Codec.Marshal">Marshal</span> func(v interface{}) (data []<a href="/builtin#byte">byte</a>, payloadType <a href="/builtin#byte">byte</a>, err <a href="/builtin#error">error</a>) <span id="Codec.Unmarshal">Unmarshal</span> func(data []<a href="/builtin#byte">byte</a>, payloadType <a href="/builtin#byte">byte</a>, v interface{}) (err <a href="/builtin#error">error</a>)
}</pre></div><p>
Codec represents a symmetric pair of functions that implement a codec.
</p> <h4 id="Codec.Receive">func (Codec) <a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L330">Receive</a> <a class="permalink" href="#Codec.Receive">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Codec%2FReceive&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L330">&#x2756;</a><pre>func (cd <a href="#Codec">Codec</a>) Receive(ws *<a href="#Conn">Conn</a>, v interface{}) (err <a href="/builtin#error">error</a>)</pre></div><p>
Receive receives single frame from ws, unmarshaled by cd.Unmarshal and stores
in v. The whole frame payload is read to an in-memory buffer; max size of
payload is defined by ws.MaxPayloadBytes. If frame payload size exceeds
limit, ErrFrameTooLarge is returned; in this case frame is not read off wire
completely. The next call to Receive would read and discard leftover data of
previous oversized frame before processing next frame.
</p> <h4 id="Codec.Send">func (Codec) <a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L308">Send</a> <a class="permalink" href="#Codec.Send">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Codec%2FSend&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L308">&#x2756;</a><pre>func (cd <a href="#Codec">Codec</a>) Send(ws *<a href="#Conn">Conn</a>, v interface{}) (err <a href="/builtin#error">error</a>)</pre></div><p>
Send sends v marshaled by cd.Marshal as single frame to ws.
</p> <h3 id="Config">type <a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L82">Config</a> <a class="permalink" href="#Config">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Config&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h3> <div class="decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L82">&#x2756;</a><pre>type Config struct { <span class="com">// A WebSocket server address.</span> <span id="Config.Location">Location</span> *<a href="/net/url">url</a>.<a href="/net/url#URL">URL</a> <span class="com">// A Websocket client origin.</span> <span id="Config.Origin">Origin</span> *<a href="/net/url">url</a>.<a href="/net/url#URL">URL</a> <span class="com">// WebSocket subprotocols.</span> <span id="Config.Protocol">Protocol</span> []<a href="/builtin#string">string</a> <span class="com">// WebSocket protocol version.</span> <span id="Config.Version">Version</span> <a href="/builtin#int">int</a> <span class="com">// TLS config for secure WebSocket (wss).</span> <span id="Config.TlsConfig">TlsConfig</span> *<a href="/crypto/tls">tls</a>.<a href="/crypto/tls#Config">Config</a> <span class="com">// Additional header fields to be sent in WebSocket opening handshake.</span> <a href="/net/http">http</a>.<a href="/net/http#Header">Header</a> <span class="com">// Dialer used when opening websocket connections.</span> <span id="Config.Dialer">Dialer</span> *<a href="/net">net</a>.<a href="/net#Dialer">Dialer</a> <span class="com">// contains filtered or unexported fields</span>
}</pre></div><p>
Config is a WebSocket configuration
</p> <h4 id="NewConfig">func <a href="https://github.com/golang/net/blob/master/websocket/client.go#L26">NewConfig</a> <a class="permalink" href="#NewConfig">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=NewConfig&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/client.go#L26">&#x2756;</a><pre>func NewConfig(server, origin <a href="/builtin#string">string</a>) (config *<a href="#Config">Config</a>, err <a href="/builtin#error">error</a>)</pre></div><p>
NewConfig creates a new WebSocket config for client connection.
</p> <h3 id="Conn">type <a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L164">Conn</a> <a class="permalink" href="#Conn">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Conn&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h3> <div class="decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L164">&#x2756;</a><pre>type Conn struct { <span id="Conn.PayloadType">PayloadType</span> <a href="/builtin#byte">byte</a> <span class="com">// MaxPayloadBytes limits the size of frame payload received over Conn // by Codec&apos;s Receive method. If zero, DefaultMaxPayloadBytes is used.</span> <span id="Conn.MaxPayloadBytes">MaxPayloadBytes</span> <a href="/builtin#int">int</a> <span class="com">// contains filtered or unexported fields</span>
}</pre></div><p>
Conn represents a WebSocket connection.
</p>
<p>
Multiple goroutines may invoke methods on a Conn simultaneously.
</p> <h4 id="Dial">func <a href="https://github.com/golang/net/blob/master/websocket/client.go#L55">Dial</a> <a class="permalink" href="#Dial">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Dial&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/client.go#L55">&#x2756;</a><pre>func Dial(url_, protocol, origin <a href="/builtin#string">string</a>) (ws *<a href="#Conn">Conn</a>, err <a href="/builtin#error">error</a>)</pre></div><p>
Dial opens a new client connection to a WebSocket.
</p> <div class="panel-group"> <div class="panel panel-default" id="example-Dial"> <div id="ex-Dial" class="panel-collapse collapse"><div class="panel-body"> <p>
This example demonstrates a trivial client.
</p> <p>Code: <pre>
origin := &quot;http://localhost/&quot;
url := &quot;ws://localhost:12345/ws&quot;
ws, err := websocket.Dial(url, &quot;&quot;, origin)
if err != nil {
    log.Fatal(err)
}
if _, err := ws.Write([]byte(&quot;hello, world!\n&quot;)); err != nil {
    log.Fatal(err)
}
var msg = make([]byte, 512)
var n int
if n, err = ws.Read(msg); err != nil {
    log.Fatal(err)
}
fmt.Printf(&quot;Received: %s.\n&quot;, msg[:n])
</pre> </p></div></div> </div> </div> <h4 id="DialConfig">func <a href="https://github.com/golang/net/blob/master/websocket/client.go#L81">DialConfig</a> <a class="permalink" href="#DialConfig">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=DialConfig&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/client.go#L81">&#x2756;</a><pre>func DialConfig(config *<a href="#Config">Config</a>) (ws *<a href="#Conn">Conn</a>, err <a href="/builtin#error">error</a>)</pre></div><p>
DialConfig opens a new client connection to a WebSocket with a config.
</p> <h4 id="NewClient">func <a href="https://github.com/golang/net/blob/master/websocket/client.go#L42">NewClient</a> <a class="permalink" href="#NewClient">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=NewClient&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <p>
NewClient creates a new WebSocket client connection over rwc.
</p> <h4 id="Conn.Close">func (*Conn) <a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L235">Close</a> <a class="permalink" href="#Conn.Close">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Conn%2FClose&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L235">&#x2756;</a><pre>func (ws *<a href="#Conn">Conn</a>) Close() <a href="/builtin#error">error</a></pre></div><p>
Close implements the io.Closer interface.
</p> <h4 id="Conn.Config">func (*Conn) <a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L295">Config</a> <a class="permalink" href="#Conn.Config">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Conn%2FConfig&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L295">&#x2756;</a><pre>func (ws *<a href="#Conn">Conn</a>) Config() *<a href="#Config">Config</a></pre></div><p>
Config returns the WebSocket config.
</p> <h4 id="Conn.IsClientConn">func (*Conn) <a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L245">IsClientConn</a> <a class="permalink" href="#Conn.IsClientConn">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Conn%2FIsClientConn&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L245">&#x2756;</a><pre>func (ws *<a href="#Conn">Conn</a>) IsClientConn() <a href="/builtin#bool">bool</a></pre></div><p>
IsClientConn reports whether ws is a client-side connection.
</p> <h4 id="Conn.IsServerConn">func (*Conn) <a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L248">IsServerConn</a> <a class="permalink" href="#Conn.IsServerConn">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Conn%2FIsServerConn&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L248">&#x2756;</a><pre>func (ws *<a href="#Conn">Conn</a>) IsServerConn() <a href="/builtin#bool">bool</a></pre></div><p>
IsServerConn reports whether ws is a server-side connection.
</p> <h4 id="Conn.LocalAddr">func (*Conn) <a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L252">LocalAddr</a> <a class="permalink" href="#Conn.LocalAddr">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Conn%2FLocalAddr&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L252">&#x2756;</a><pre>func (ws *<a href="#Conn">Conn</a>) LocalAddr() <a href="/net">net</a>.<a href="/net#Addr">Addr</a></pre></div><p>
LocalAddr returns the WebSocket Origin for the connection for client, or
the WebSocket location for server.
</p> <h4 id="Conn.Read">func (*Conn) <a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L192">Read</a> <a class="permalink" href="#Conn.Read">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Conn%2FRead&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L192">&#x2756;</a><pre>func (ws *<a href="#Conn">Conn</a>) Read(msg []<a href="/builtin#byte">byte</a>) (n <a href="/builtin#int">int</a>, err <a href="/builtin#error">error</a>)</pre></div><p>
Read implements the io.Reader interface:
it reads data of a frame from the WebSocket connection.
if msg is not large enough for the frame data, it fills the msg and next Read
will read the rest of the frame data.
it reads Text frame or Binary frame.
</p> <h4 id="Conn.RemoteAddr">func (*Conn) <a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L261">RemoteAddr</a> <a class="permalink" href="#Conn.RemoteAddr">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Conn%2FRemoteAddr&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L261">&#x2756;</a><pre>func (ws *<a href="#Conn">Conn</a>) RemoteAddr() <a href="/net">net</a>.<a href="/net#Addr">Addr</a></pre></div><p>
RemoteAddr returns the WebSocket location for the connection for client, or
the Websocket Origin for server.
</p> <h4 id="Conn.Request">func (*Conn) <a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L299">Request</a> <a class="permalink" href="#Conn.Request">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Conn%2FRequest&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L299">&#x2756;</a><pre>func (ws *<a href="#Conn">Conn</a>) Request() *<a href="/net/http">http</a>.<a href="/net/http#Request">Request</a></pre></div><p>
Request returns the http request upgraded to the WebSocket.
It is nil for client side.
</p> <h4 id="Conn.SetDeadline">func (*Conn) <a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L271">SetDeadline</a> <a class="permalink" href="#Conn.SetDeadline">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Conn%2FSetDeadline&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L271">&#x2756;</a><pre>func (ws *<a href="#Conn">Conn</a>) SetDeadline(t <a href="/time">time</a>.<a href="/time#Time">Time</a>) <a href="/builtin#error">error</a></pre></div><p>
SetDeadline sets the connection&apos;s network read &amp; write deadlines.
</p> <h4 id="Conn.SetReadDeadline">func (*Conn) <a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L279">SetReadDeadline</a> <a class="permalink" href="#Conn.SetReadDeadline">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Conn%2FSetReadDeadline&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L279">&#x2756;</a><pre>func (ws *<a href="#Conn">Conn</a>) SetReadDeadline(t <a href="/time">time</a>.<a href="/time#Time">Time</a>) <a href="/builtin#error">error</a></pre></div><p>
SetReadDeadline sets the connection&apos;s network read deadline.
</p> <h4 id="Conn.SetWriteDeadline">func (*Conn) <a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L287">SetWriteDeadline</a> <a class="permalink" href="#Conn.SetWriteDeadline">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Conn%2FSetWriteDeadline&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L287">&#x2756;</a><pre>func (ws *<a href="#Conn">Conn</a>) SetWriteDeadline(t <a href="/time">time</a>.<a href="/time#Time">Time</a>) <a href="/builtin#error">error</a></pre></div><p>
SetWriteDeadline sets the connection&apos;s network write deadline.
</p> <h4 id="Conn.Write">func (*Conn) <a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L222">Write</a> <a class="permalink" href="#Conn.Write">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Conn%2FWrite&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L222">&#x2756;</a><pre>func (ws *<a href="#Conn">Conn</a>) Write(msg []<a href="/builtin#byte">byte</a>) (n <a href="/builtin#int">int</a>, err <a href="/builtin#error">error</a>)</pre></div><p>
Write implements the io.Writer interface:
it writes data as a frame to the WebSocket connection.
</p> <h3 id="DialError">type <a href="https://github.com/golang/net/blob/master/websocket/client.go#L16">DialError</a> <a class="permalink" href="#DialError">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=DialError&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h3> <div class="decl"><a href="https://github.com/golang/net/blob/master/websocket/client.go#L16">&#x2756;</a><pre>type DialError struct { *<a href="#Config">Config</a> <span id="DialError.Err">Err</span> <a href="/builtin#error">error</a>
}</pre></div><p>
DialError is an error that occurs while dialling a websocket server.
</p> <h4 id="DialError.Error">func (*DialError) <a href="https://github.com/golang/net/blob/master/websocket/client.go#L21">Error</a> <a class="permalink" href="#DialError.Error">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=DialError%2FError&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/client.go#L21">&#x2756;</a><pre>func (e *<a href="#DialError">DialError</a>) Error() <a href="/builtin#string">string</a></pre></div> <h3 id="Handler">type <a href="https://github.com/golang/net/blob/master/websocket/server.go#L99">Handler</a> <a class="permalink" href="#Handler">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Handler&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h3> <div class="decl"><a href="https://github.com/golang/net/blob/master/websocket/server.go#L99">&#x2756;</a><pre>type Handler func(*<a href="#Conn">Conn</a>)</pre></div><p>
Handler is a simple interface to a WebSocket browser client.
It checks if Origin header is valid URL by default.
You might want to verify websocket.Conn.Config().Origin in the func.
If you use Server instead of Handler, you could call websocket.Origin and
check the origin in your Handshake func. So, if you want to accept
non-browser clients, which do not send an Origin header, set a
Server.Handshake that does not check the origin.
</p> <div class="panel-group"> <div class="panel panel-default" id="example-Handler"> <div id="ex-Handler" class="panel-collapse collapse"><div class="panel-body"> <p>
This example demonstrates a trivial echo server.
</p> <p>Code: <pre>package main import ( &quot;io&quot; &quot;net/http&quot; &quot;golang.org/x/net/websocket&quot;
) <span class="com">// Echo the data received on the WebSocket.</span>
func EchoServer(ws *websocket.Conn) { io.Copy(ws, ws)
} <span class="com">// This example demonstrates a trivial echo server.</span>
func main() {
    http.Handle(&quot;/echo&quot;, websocket.Handler(EchoServer))
    err := http.ListenAndServe(&quot;:12345&quot;, nil)
    if err != nil {
        panic(&quot;ListenAndServe: &quot; + err.Error())
    }
}
</pre> </p></div></div> </div> </div> <h4 id="Handler.ServeHTTP">func (Handler) <a href="https://github.com/golang/net/blob/master/websocket/server.go#L110">ServeHTTP</a> <a class="permalink" href="#Handler.ServeHTTP">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Handler%2FServeHTTP&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/server.go#L110">&#x2756;</a><pre>func (h <a href="#Handler">Handler</a>) ServeHTTP(w <a href="/net/http">http</a>.<a href="/net/http#ResponseWriter">ResponseWriter</a>, req *<a href="/net/http">http</a>.<a href="/net/http#Request">Request</a>)</pre></div><p>
ServeHTTP implements the http.Handler interface for a WebSocket
</p> <h3 id="ProtocolError">type <a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L46">ProtocolError</a> <a class="permalink" href="#ProtocolError">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=ProtocolError&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h3> <div class="decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L46">&#x2756;</a><pre>type ProtocolError struct { <span id="ProtocolError.ErrorString">ErrorString</span> <a href="/builtin#string">string</a>
}</pre></div><p>
ProtocolError represents WebSocket protocol errors.
</p> <h4 id="ProtocolError.Error">func (*ProtocolError) <a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L50">Error</a> <a class="permalink" href="#ProtocolError.Error">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=ProtocolError%2FError&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/websocket.go#L50">&#x2756;</a><pre>func (err *<a href="#ProtocolError">ProtocolError</a>) Error() <a href="/builtin#string">string</a></pre></div> <h3 id="Server">type <a href="https://github.com/golang/net/blob/master/websocket/server.go#L55">Server</a> <a class="permalink" href="#Server">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Server&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h3> <div class="decl"><a href="https://github.com/golang/net/blob/master/websocket/server.go#L55">&#x2756;</a><pre>type Server struct { <span class="com">// Config is a WebSocket configuration for new WebSocket connection.</span> <a href="#Config">Config</a> <span class="com">// Handshake is an optional function in WebSocket handshake. // For example, you can check, or don&apos;t check Origin header. // Another example, you can select config.Protocol.</span> <span id="Server.Handshake">Handshake</span> func(*<a href="#Config">Config</a>, *<a href="/net/http">http</a>.<a href="/net/http#Request">Request</a>) <a href="/builtin#error">error</a> <span class="com">// Handler handles a WebSocket connection.</span> <a href="#Handler">Handler</a>
}</pre></div><p>
Server represents a server of a WebSocket.
</p> <h4 id="Server.ServeHTTP">func (Server) <a href="https://github.com/golang/net/blob/master/websocket/server.go#L69">ServeHTTP</a> <a class="permalink" href="#Server.ServeHTTP">&#xB6;</a> <a class="uses" href="https://sourcegraph.com/-/godoc/refs?def=Server%2FServeHTTP&amp;pkg=golang.org%2Fx%2Fnet%2Fwebsocket&amp;repo=golang.org%2Fx%2Fnet">Uses</a></h4> <div class="funcdecl decl"><a href="https://github.com/golang/net/blob/master/websocket/server.go#L69">&#x2756;</a><pre>func (s <a href="#Server">Server</a>) ServeHTTP(w <a href="/net/http">http</a>.<a href="/net/http#ResponseWriter">ResponseWriter</a>, req *<a href="/net/http">http</a>.<a href="/net/http#Request">Request</a>)</pre></div><p>
ServeHTTP implements the http.Handler interface for a WebSocket
</p> </div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2019 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
    </footer>
    
    <script>
        (function() {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function() {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) {}
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
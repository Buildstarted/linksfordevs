<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Plan for Entity Framework Core 5.0 - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Plan for Entity Framework Core 5.0 - linksfor.dev(s)"/>
    <meta property="article:author" content="ajcvickers"/>
    <meta property="og:description" content="As described in the planning process, we have gathered input from stakeholders into a tentative plan for the EF Core 5.0 release."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://docs.microsoft.com/en-us/ef/core/what-is-new/ef-core-5.0/plan"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="grid">
        <h1>
                <span style="cursor: default" title="linksfor.dev(s) has been running for 1 year! :partypopper:">ðŸŽ‰</span>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Plan for Entity Framework Core 5.0</title>
<div class="readable">
        <h1>Plan for Entity Framework Core 5.0</h1>
            <div>by ajcvickers</div>
            <div>Reading time: 11-14 minutes</div>
        <div>Posted here: 21 Feb 2020</div>
        <p><a href="https://docs.microsoft.com/en-us/ef/core/what-is-new/ef-core-5.0/plan">https://docs.microsoft.com/en-us/ef/core/what-is-new/ef-core-5.0/plan</a></p>
        <hr/>
<div id="readability-page-1" class="page">


	<div data-bi-name="body">

		<div>

			

			<section>
				<div>


				<div id="main-column">

					<main id="main" role="main" data-bi-name="content" lang="en-us" dir="ltr">



						

						<ul data-bi-name="page info" lang="en-us" dir="ltr">
							<li>
								<time role="presentation" datetime="2020-01-14T00:00:00.000Z" data-article-date-source="ms.date">01/14/2020</time>
							</li>
								<li>8 minutes to read</li>
							<li>
								<a href="https://github.com/dotnet/EntityFramework.Docs/blob/master/entity-framework/core/what-is-new/ef-core-5.0/plan.md" title="1 Contributor" aria-label="1 Contributor">
									<ul data-bi-name="contributors" aria-hidden="true">
												<li><img src="https://github.com/ajcvickers.png?size=32" data-src="https://github.com/ajcvickers.png?size=32" role="presentation"></li>
									</ul>
								</a>
							</li>

						</ul>

						<nav id="center-doc-outline" data-bi-name="intopic toc" role="navigation" aria-label="Article Outline">
							<h3>In this article</h3>
						<ol><li><a href="#themes">Themes</a></li><li><a href="#many-to-many-navigation-properties-aka-skip-navigations">Many-to-many navigation properties (a.k.a "skip navigations")</a></li><li><a href="#table-per-type-tpt-inheritance-mapping">Table-per-type (TPT) inheritance mapping</a></li><li><a href="#filtered-include">Filtered Include</a></li><li><a href="#rationalize-totable-toquery-toview-fromsql-etc">Rationalize ToTable, ToQuery, ToView, FromSql, etc.</a></li><li><a href="#general-query-enhancements">General query enhancements</a></li><li><a href="#migrations-and-deployment-experience">Migrations and deployment experience</a></li><li><a href="#ef-core-platforms-experience">EF Core platforms experience</a></li><li><a href="#performance">Performance</a></li><li><a href="#architecturalcontributor-documentation">Architectural/contributor documentation</a></li><li><a href="#microsoftdatasqlite-documentation">Microsoft.Data.Sqlite documentation</a></li><li><a href="#general-documentation">General documentation</a></li><li><a href="#fixing-bugs">Fixing bugs</a></li><li><a href="#small-enhancements">Small enhancements</a></li><li><a href="#below-the-line">Below-the-line</a></li><li><a href="#feedback">Feedback</a></li></ol></nav>


						<!-- <content> -->
							
<p>As described in the <a href="https://docs.microsoft.com/en-us/ef/core/what-is-new/release-planning" data-linktype="relative-path">planning process</a>, we have gathered input from stakeholders into a tentative plan for the EF Core 5.0 release.</p>
<div>
<p><span aria-hidden="true"></span> Important</p>
<p>This plan is still a work-in-progress. Nothing here is a commitment. This plan is a starting point that will evolve as we learn more. Some things not currently planned for 5.0 may get pulled in. Some things currently planned for 5.0 may get punted out.</p>
</div>
<h3 id="version-number-and-release-date">Version number and release date.<a href="#version-number-and-release-date" aria-labelledby="version-number-and-release-date"></a></h3>
<p>EF Core 5.0 is currently scheduled for release at <a href="https://devblogs.microsoft.com/dotnet/introducing-net-5/" data-linktype="external">the same time as .NET 5.0</a>. The version "5.0" was chosen to align with .NET 5.0.</p>
<h3 id="supported-platforms">Supported platforms<a href="#supported-platforms" aria-labelledby="supported-platforms"></a></h3>
<p>EF Core 5.0 is planned to run on any .NET 5.0 platform based on the <a href="https://devblogs.microsoft.com/dotnet/introducing-net-5/" data-linktype="external">convergence of these platforms to .NET Core</a>. What this means in terms of .NET Standard and the actual TFM used is still TBD.</p>
<p>EF Core 5.0 will not run on .NET Framework.</p>
<h3 id="breaking-changes">Breaking changes<a href="#breaking-changes" aria-labelledby="breaking-changes"></a></h3>
<p>EF Core 5.0 will contain some breaking changes, but these will be much less severe than was the case for EF Core 3.0. Our goal is to allow the vast majority of applications to update without breaking.</p>
<p>It is expected that there will be some breaking changes for database providers, especially around TPT support. However, we expect the work to update a provider for 5.0 will be less than was required to update for 3.0.</p>
<h2 id="themes">Themes<a href="#themes" aria-labelledby="themes"></a></h2>
<p>We have extracted a few major areas or themes which will form the basis for the large investments in EF Core 5.0.</p>
<h2 id="many-to-many-navigation-properties-aka-skip-navigations">Many-to-many navigation properties (a.k.a "skip navigations")<a href="#many-to-many-navigation-properties-aka-skip-navigations" aria-labelledby="many-to-many-navigation-properties-aka-skip-navigations"></a></h2>
<p>Lead developers: @smitpatel and @AndriySvyryd</p>
<p>Tracked by <a href="https://github.com/aspnet/EntityFrameworkCore/issues/19003" data-linktype="external">#19003</a></p>
<p>T-shirt size: L</p>
<p>Status: In-progress</p>
<p>Many-to-many is the most requested feature (~407 votes) on the GitHub backlog. Support for many-to-many relationships can be broken down into three major areas:</p>
<ul>
<li>Skip navigation properties. These allow the model to be used for queries, etc. without reference to the underlying join table entity.</li>
<li>Property-bag entity types. These allow a standard CLR type (e.g. <code>Dictionary</code>) to be used for entity instances such that an explicit CLR type is not needed for each entity type.</li>
<li>Sugar for easy configuration of many-to-many relationships.</li>
</ul>
<p>We believe that the most significant blocker for those wanting many-to-many support is not being able to use the "natural" relationships, without referring to the join table, in business logic such as queries. The join table entity type may still exist, but it should not get in the way of business logic. This is why we have chosen to tackle skip navigation properties for 5.0.</p>
<p>At this time the other parts of many-to-many are being pursued as a stretch goal for EF Core 5.0. This means they are not currently in the plan for 5.0, but if things go well we hope to pull them in.</p>
<h2 id="table-per-type-tpt-inheritance-mapping">Table-per-type (TPT) inheritance mapping<a href="#table-per-type-tpt-inheritance-mapping" aria-labelledby="table-per-type-tpt-inheritance-mapping"></a></h2>
<p>Lead developer: @AndriySvyryd</p>
<p>Tracked by <a href="https://github.com/aspnet/EntityFrameworkCore/issues/2266" data-linktype="external">#2266</a></p>
<p>T-shirt size: XL</p>
<p>Status: Not started</p>
<p>We're doing TPT because it is both a highly requested feature (~254 votes; 3rd overall) and because it requires some low-level changes that we feel are appropriate for the foundational nature of the overall .NET 5 plan. We expect this to result in breaking changes for database providers, although these should be much less severe than the changes required for 3.0.</p>
<h2 id="filtered-include">Filtered Include<a href="#filtered-include" aria-labelledby="filtered-include"></a></h2>
<p>Lead developer: @maumar</p>
<p>Tracked by <a href="https://github.com/aspnet/EntityFrameworkCore/issues/1833" data-linktype="external">#1833</a></p>
<p>T-shirt size: M</p>
<p>Status: Not started</p>
<p>Filtered Include is a highly-requested feature (~317 votes; 2nd overall) that isn't a huge amount of work, and that we believe will unblock or make easier many scenarios that currently require model-level filters or more complex queries.</p>
<h2 id="rationalize-totable-toquery-toview-fromsql-etc">Rationalize ToTable, ToQuery, ToView, FromSql, etc.<a href="#rationalize-totable-toquery-toview-fromsql-etc" aria-labelledby="rationalize-totable-toquery-toview-fromsql-etc"></a></h2>
<p>Lead developers: @maumar and @smitpatel</p>
<p>Tracked by <a href="https://github.com/aspnet/EntityFrameworkCore/issues/17270" data-linktype="external">#17270</a></p>
<p>T-shirt size: L</p>
<p>Status: Not started</p>
<p>We have made progress in previous releases towards supporting raw SQL, keyless types, and related areas. However, there are both gaps and inconsistencies in the way everything works together as a whole. The goal for 5.0 is to fix these and create a good experience for defining, migrating, and using different types of entities and their associated queries and database artifacts. This may also involve updates to the compiled query API.</p>
<p>Note that this item may result in some application-level breaking changes since some of the functionality we currently have is too permissive such that it can quickly lead people into pits of failure. We will likely end up blocking some of this functionality together with guidance on what to do instead.</p>
<h2 id="general-query-enhancements">General query enhancements<a href="#general-query-enhancements" aria-labelledby="general-query-enhancements"></a></h2>
<p>Lead developers: @smitpatel and @maumar</p>
<p>Tracked by <a href="https://github.com/dotnet/efcore/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+label%3Aarea-query+milestone%3A5.0.0+" data-linktype="external">issues labeled with <code>area-query</code> in the 5.0 milestone</a></p>
<p>T-shirt size: XL</p>
<p>Status: In-progress</p>
<p>The query translation code was extensively rewritten for EF Core 3.0. The query code is generally in a much more robust state because of this. For 5.0 we aren't planning on making major query changes, outside those needed to support TPT and skip navigation properties. However, there is still significant work needed to fix some technical debt left over from the 3.0 overhaul. We also plan to fix many bugs and implement small enhancements to further improve the overall query experience.</p>
<h2 id="migrations-and-deployment-experience">Migrations and deployment experience<a href="#migrations-and-deployment-experience" aria-labelledby="migrations-and-deployment-experience"></a></h2>
<p>Lead developers: @bricelam</p>
<p>Tracked by <a href="https://github.com/dotnet/efcore/issues/19587" data-linktype="external">#19587</a></p>
<p>T-shirt size: L</p>
<p>Status: In-progress</p>
<p>Currently, many developers migrate their databases at application startup time. This is easy but is not recommended because:</p>
<ul>
<li>Multiple threads/processes/servers may attempt to migrate the database concurrently</li>
<li>Applications may try to access inconsistent state while this is happening</li>
<li>Usually the database permissions to modify the schema should not be granted for application execution</li>
<li>Its hard to revert back to a clean state if something goes wrong</li>
</ul>
<p>We want to deliver a better experience here that allows an easy way to migrate the database at deployment time. This should:</p>
<ul>
<li>Work on Linux, Mac, and Windows</li>
<li>Be a good experience on the command line</li>
<li>Support scenarios with containers</li>
<li>Work with commonly used real-world deployment tools/flows</li>
<li>Integrate into at least Visual Studio</li>
</ul>
<p>The result is likely to be many small improvements in EF Core (for example, better Migrations on SQLite), together with guidance and longer-term collaborations with other teams to improve end-to-end experiences that go beyond just EF.</p>
<h2 id="ef-core-platforms-experience">EF Core platforms experience<a href="#ef-core-platforms-experience" aria-labelledby="ef-core-platforms-experience"></a></h2>
<p>Lead developers: @roji and @bricelam</p>
<p>Tracked by <a href="https://github.com/dotnet/efcore/issues/19588" data-linktype="external">#19588</a></p>
<p>T-shirt size: L</p>
<p>Status: Not started</p>
<p>We have good guidance for using EF Core in traditional MVC-like web applications. Guidance for other platforms and application models is either missing or out-of-date. For EF Core 5.0 we plan to investigate, improve, and document the experience of using EF Core with:</p>
<ul>
<li>Blazor</li>
<li>Xamarin, including using the AOT/linker story</li>
<li>WinForms/WPF/WinUI and possibly other U.I. frameworks</li>
</ul>
<p>This is likely to be many small improvements in EF Core, together with guidance and longer-term collaborations with other teams to improve end-to-end experiences that go beyond just EF.</p>
<p>Specific areas we plan to look at are:</p>
<ul>
<li>Deployment, including the experience for using EF tooling such as for Migrations</li>
<li>Application models, including Xamarin and Blazor, and probably others</li>
<li>SQLite experiences, including the spatial experience and table rebuilds</li>
<li>AOT and linking experiences</li>
<li>Diagnostics integration, including perf counters</li>
</ul>
<h2 id="performance">Performance<a href="#performance" aria-labelledby="performance"></a></h2>
<p>Lead developer: @roji</p>
<p>Tracked by <a href="https://github.com/dotnet/efcore/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+label%3Aarea-perf+milestone%3A5.0.0+" data-linktype="external">issues labeled with <code>area-perf</code> in the 5.0 milestone</a></p>
<p>T-shirt size: L</p>
<p>Status: In-progress</p>
<p>For EF Core we plan to improve our suite of performance benchmarks and make directed performance improvements to the runtime. In addition, we plan to complete the new ADO.NET batching API which was prototyped during the 3.0 release cycle. Also at the ADO.NET layer, we plan additional performance improvements to the Npgsql provider.</p>
<p>As part of this work we also plan to add ADO.NET/EF Core performance counters and other diagnostics as appropriate.</p>
<h2 id="architecturalcontributor-documentation">Architectural/contributor documentation<a href="#architecturalcontributor-documentation" aria-labelledby="architecturalcontributor-documentation"></a></h2>
<p>Lead documenter: @ajcvickers</p>
<p>Tracked by <a href="https://github.com/aspnet/EntityFramework.Docs/issues/1920" data-linktype="external">#1920</a></p>
<p>T-shirt size: L</p>
<p>Status: Not started</p>
<p>The idea here is to make it easier to understand what is going on in the internals of EF Core. This can be useful to anyone using EF Core, but the primary motivation is to make it easier for external people to:</p>
<ul>
<li>Contribute to the EF Core code</li>
<li>Create database providers</li>
<li>Build other extensions</li>
</ul>
<h2 id="microsoftdatasqlite-documentation">Microsoft.Data.Sqlite documentation<a href="#microsoftdatasqlite-documentation" aria-labelledby="microsoftdatasqlite-documentation"></a></h2>
<p>Lead documenter: @bricelam</p>
<p>Tracked by <a href="https://github.com/aspnet/EntityFramework.Docs/issues/1675" data-linktype="external">#1675</a></p>
<p>T-shirt size: M</p>
<p>Status: Completed. The new documentation is <a href="https://docs.microsoft.com/dotnet/standard/data/sqlite/?tabs=netcore-cli" data-linktype="external">live on the Microsoft docs site</a>.</p>
<p>The EF Team also owns the Microsoft.Data.Sqlite ADO.NET provider. We plan to fully document this provider as part of the 5.0 release.</p>
<h2 id="general-documentation">General documentation<a href="#general-documentation" aria-labelledby="general-documentation"></a></h2>
<p>Lead documenter: @ajcvickers</p>
<p>Tracked by <a href="https://github.com/aspnet/EntityFramework.Docs/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+milestone%3A5.0.0+" data-linktype="external">issues in the docs repo in the 5.0 milestone</a></p>
<p>T-shirt size: L</p>
<p>Status: In-progress</p>
<p>We are already in the process of updating documentation for the 3.0 and 3.1 releases. We are also working on:</p>
<ul>
<li>An overhaul of the getting started docs to make them more approachable/easier to follow</li>
<li>Reorganization of docs to make things easier to find and to add cross-references</li>
<li>Adding more details and clarifications to existing docs</li>
<li>Updating the samples and adding more examples</li>
</ul>
<h2 id="fixing-bugs">Fixing bugs<a href="#fixing-bugs" aria-labelledby="fixing-bugs"></a></h2>
<p>Tracked by <a href="https://github.com/dotnet/efcore/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+milestone%3A5.0.0+label%3Atype-bug+" data-linktype="external">issues labeled with <code>type-bug</code> in the 5.0 milestone</a></p>
<p>Developers: @roji, @maumar, @bricelam, @smitpatel, @AndriySvyryd, @ajcvickers</p>
<p>T-shirt size: L</p>
<p>Status: In-progress</p>
<p>At the time of writing, we have 135 bugs triaged to be fixed in the 5.0 release (with 62 already fixed), but there is significant overlap with the <em>General query enhancements</em> section above.</p>
<p>The incoming rate (issues that end up as work in a milestone) was about 23 issues per month over the course of the 3.0 release. Not all of these will need to be fixed in 5.0. As a rough estimate we plan to fix an additional 150 issues in the 5.0 time frame.</p>
<h2 id="small-enhancements">Small enhancements<a href="#small-enhancements" aria-labelledby="small-enhancements"></a></h2>
<p>Tracked by <a href="https://github.com/dotnet/efcore/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+milestone%3A5.0.0+label%3Atype-enhancement+" data-linktype="external">issues labeled with <code>type-enhancement</code> in the 5.0 milestone</a></p>
<p>Developers: @roji, @maumar, @bricelam, @smitpatel, @AndriySvyryd, @ajcvickers</p>
<p>T-shirt size: L</p>
<p>Status: In-progress</p>
<p>In addition to the bigger features outlined above, we also have many smaller improvements scheduled for 5.0 to fix "paper-cuts". Note that many of these enhancements are also covered by the more general themes outlined above.</p>
<h2 id="below-the-line">Below-the-line<a href="#below-the-line" aria-labelledby="below-the-line"></a></h2>
<p>Tracked by <a href="https://github.com/aspnet/EntityFrameworkCore/issues?q=is%3Aopen+is%3Aissue+label%3Aconsider-for-next-release" data-linktype="external">issues labeled with <code>consider-for-next-release</code></a></p>
<p>These are bug fixes and enhancements that are <strong>not</strong> currently scheduled for the 5.0 release, but we will look at as stretch goals depending on the progress made on the work above.</p>
<p>In addition, we always consider the <a href="https://github.com/dotnet/efcore/issues?q=is%3Aissue+is%3Aopen+sort%3Areactions-%2B1-desc" data-linktype="external">most voted issues</a> when planning. Cutting any of these issues from a release is always painful, but we do need a realistic plan for the resources we have.</p>
<h2 id="feedback">Feedback<a href="#feedback" aria-labelledby="feedback"></a></h2>
<p>Your feedback on planning is important. The best way to indicate the importance of an issue is to vote (thumbs-up) for that issue on GitHub. This data will then feed into the <a href="https://docs.microsoft.com/en-us/ef/core/what-is-new/release-planning" data-linktype="relative-path">planning process</a> for the next release.</p>

						<!-- </content> -->

						</main>

						<!-- recommended content page section -->

							<nav data-bi-name="recommendation-bottom" hidden="" id="recommended-content-center" aria-labelledby="recommended-content-center-title">
								<h3 id="recommended-content-center-title">Related Articles</h3>
							</nav>

						<!-- end recommended content page section -->

						<!-- rating mobile section -->
								
						<!-- end rating mobile section -->

						<!-- feedback section -->



<section data-bi-name="feedback-section">

	<h2 id="feedback">Feedback</h2>

	

	

	

	<div data-tab-group-independent="" hidden="" data-bi-name="tab-group">
		<ul role="tablist">
			<li role="presentation">
				<a href="#tabpanel-issues-open" role="tab" aria-controls="tabpanel-issues-open" data-tab="issues-open" data-bi-name="tab" aria-selected="true" tabindex="0"></a>
			</li>
			<li role="presentation">
				<a href="#tabpanel-issues-closed" role="tab" aria-controls="tabpanel-issues-closed" data-tab="issues-closed" data-bi-name="tab" aria-selected="false" tabindex="-1"></a>
			</li>
		</ul>
		<section id="tabpanel-issues-open" role="tabpanel" data-tab="issues-open">
			
			<ul aria-label="Open Issues"></ul>
		</section>
		<section id="tabpanel-issues-closed" role="tabpanel" data-tab="issues-closed" hidden="hidden" aria-hidden="true">
			<div>There are no closed issues</div>
			<ul aria-label="Closed Issues"></ul>
		</section>
	</div>
	
</section>

						<!-- end feedback section -->

						<!-- feedback report section -->
						<!-- end feedback report section -->

						
					</div>

					

					<!--end of div.columns -->
				</div>

			<!--end of .primary-holder -->
			</section>

			
		</div>

		<!--end of .mainContainer -->
	</div>

	

	

	


</div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
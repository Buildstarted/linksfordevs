<!DOCTYPE html>
<html lang="en">
<head>
    <title>
BlazorHelp Website &gt; Blog - Adding Charts To Server Side Blazor Using ChartJs.Blazor -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>BlazorHelp Website &gt; Blog - Adding Charts To Server Side Blazor Using ChartJs.Blazor</h1><div><div class="BlogBody"><acronym class="BlogPublished" title="11/10/2019 1:36 PM"><span class="BlogPubMonth"><span id="dnn_ctr382_MainView_ViewEntry_lblEntryMonth">Nov</span></span><span class="BlogPubDate"><span id="dnn_ctr382_MainView_ViewEntry_lblEntryDay">10</span></span></acronym><p class="BlogSubHead"><span class="blog_author"><span id="dnn_ctr382_MainView_ViewEntry_lblPostedBy">Written by:</span><span id="dnn_ctr382_MainView_ViewEntry_lblUserID">Michael Washington</span></span><br><span id="dnn_ctr382_MainView_ViewEntry_lblDateTime" class="BlogDate">11/10/2019 1:36 PM</span>&nbsp;
  <a id="dnn_ctr382_MainView_ViewEntry_lnkRss" href="http://blazorhelpwebsite.com/Blog/tabid/61/rssid/1/Default.aspx" target="_blank"><img id="dnn_ctr382_MainView_ViewEntry_lnkRssIcon" src="/desktopmodules/Blog/Images/feed-icon-12x12.gif" alt="RssIcon"></a></p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4363/Windows-Live-Writer-Adding-Charts-To-Server-Side-Blaz.Blazor_B92E-image_faef3b59-d662-47be-9792-2a10414fe282.png" width="730" height="435"></p><p>You can easily add charts to a <strong>Blazor</strong> application using <a href="https://github.com/mariusmuntean/ChartJs.Blazor">ChartJs.Blazor</a>. </p><p>To demonstrate this, we will add a chart to the <a href="https://github.com/ADefWebserver/FatSecretDataExporter">https://github.com/ADefWebserver/FatSecretDataExporter</a> project.</p><h1>Using ChartJs.Blazor</h1><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4363/Windows-Live-Writer-Adding-Charts-To-Server-Side-Blaz.Blazor_B92E-image_875c145d-661d-4df0-8a3c-e014a6c1a101.png" width="246" height="488"></p><p>We open the <a href="https://github.com/ADefWebserver/FatSecretDataExporter">Fat Secret Data Exporter</a> project in <strong>Visual Studio</strong> and <em>right-click</em> on the project node, and select <strong>Manage NuGet Packagesâ€¦</strong></p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4363/Windows-Live-Writer-Adding-Charts-To-Server-Side-Blaz.Blazor_B92E-image_671790d3-a421-4206-a207-3dfddb195fbd.png" width="691" height="282"></p><p>We search for and install the <em>ChartJs.Blazor</em><strong>NuGet</strong> package.</p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4363/Windows-Live-Writer-Adding-Charts-To-Server-Side-Blaz.Blazor_B92E-image_f7ef08d4-32e7-4bbe-9132-25946f93c748.png" width="271" height="428"></p><p>We open the<strong> Pages/_Host.cshtml</strong> file and add the following code in the <em>HTML body</em> tag:</p><pre><pre><span>&lt;</span><span>script</span><span>src</span>=<span>"_content/ChartJs.Blazor/moment-with-locales.min.js"</span></pre><pre><span>type</span>=<span>"text/javascript"</span><span>language</span>=<span>"javascript"</span><span>&gt;</span><span>&lt;/</span><span>script</span><span>&gt;</span></pre><pre></pre><pre><span>&lt;!-- Reference the included ChartJs javascript file. --&gt;</span></pre><pre><span>&lt;</span><span>script</span><span>src</span>=<span>"_content/ChartJs.Blazor/Chart.min.js"</span></pre><pre><span>type</span>=<span>"text/javascript"</span><span>language</span>=<span>"javascript"</span><span>&gt;</span><span>&lt;/</span><span>script</span><span>&gt;</span></pre><pre></pre><pre><span>&lt;!-- This is the glue between the C# code and the ChartJs charts --&gt;</span></pre><pre><span>&lt;</span><span>script</span><span>src</span>=<span>"_content/ChartJs.Blazor/ChartJsInterop.js"</span></pre><pre><span>type</span>=<span>"text/javascript"</span><span>language</span>=<span>"javascript"</span><span>&gt;</span><span>&lt;/</span><span>script</span><span>&gt;</span></pre><pre></pre><pre><span>&lt;!-- Some styling --&gt;</span></pre><pre><span>&lt;</span><span>link</span><span>rel</span>=<span>"stylesheet"</span><span>href</span>=<span>"_content/ChartJs.Blazor/ChartJSBlazor.css"</span><span>/&gt;</span></pre></pre><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4363/Windows-Live-Writer-Adding-Charts-To-Server-Side-Blaz.Blazor_B92E-image_66c0ccfa-6785-453b-8878-83d1f912885b.png" width="277" height="429"></p><p>Next, we open the <strong>GetData.razor</strong> page and add the following <em>using statements</em>:</p><pre><pre>@<span>using</span> ChartJs.Blazor.Charts
</pre><pre>@<span>using</span> ChartJs.Blazor.ChartJS
</pre><pre>@<span>using</span> ChartJs.Blazor.ChartJS.Common.Properties
</pre><pre>@<span>using</span> ChartJs.Blazor.ChartJS.Common.Enums
</pre><pre>@<span>using</span> ChartJs.Blazor.ChartJS.Common.Legends
</pre><pre>@<span>using</span> ChartJs.Blazor.ChartJS.Common.Axes
</pre><pre>@<span>using</span> ChartJs.Blazor.ChartJS.Common.Axes.Ticks
</pre><pre>@<span>using</span> ChartJs.Blazor.ChartJS.Common.Time
</pre><pre>@<span>using</span> ChartJs.Blazor.ChartJS.LineChart
</pre><pre>@<span>using</span> ChartJs.Blazor.Util</pre></pre><p>We add the following properties:</p><pre><pre>    LineConfig _lineConfig;
</pre><pre>    ChartJsLineChart _lineChartJs;
</pre><pre><span>private</span> LineDataset&lt;TimeTuple&lt;<span>int</span>&gt;&gt; _WeightDataSet;</pre></pre><p>To configure the chart, we add the following to the <strong>OnInitializedAsync()</strong> method:</p><pre><pre>        _lineConfig = <span>new</span> LineConfig
</pre><pre>        {
</pre><pre>            Options = <span>new</span> LineOptions
</pre><pre>            {
</pre><pre>                Responsive = <span>true</span>,
</pre><pre>                Title = <span>new</span> OptionsTitle
</pre><pre>                {
</pre><pre>                    Display = <span>true</span>,
</pre><pre>                    Text = "<span>Weight Chart</span>"
</pre><pre>                },
</pre><pre>                Legend = <span>new</span> Legend
</pre><pre>                {
</pre><pre>                    Display = <span>false</span></pre><pre>                },
</pre><pre>                Tooltips = <span>new</span> Tooltips
</pre><pre>                {
</pre><pre>                    Mode = InteractionMode.Nearest,
</pre><pre>                    Intersect = <span>false</span></pre><pre>                },
</pre><pre>                Scales = <span>new</span> Scales
</pre><pre>                {
</pre><pre>                    yAxes = <span>new</span> List&lt;CartesianAxis&gt;
</pre><pre>                    {
</pre><pre><span>new</span> LinearCartesianAxis
</pre><pre>                        {
</pre><pre>                            ScaleLabel = <span>new</span> ScaleLabel
</pre><pre>                            {
</pre><pre>                                LabelString = "<span>Weight</span>"
</pre><pre>                            }
</pre><pre>                        }
</pre><pre>                    },
</pre><pre>                    xAxes = <span>new</span> List&lt;CartesianAxis&gt;
</pre><pre>                    {
</pre><pre><span>new</span> TimeAxis
</pre><pre>                        {
</pre><pre>                            Distribution = TimeDistribution.Linear,
</pre><pre>                            Ticks = <span>new</span> TimeTicks
</pre><pre>                            {
</pre><pre>                                Source = TickSource.Data
</pre><pre>                            },
</pre><pre>                            Time = <span>new</span> TimeOptions
</pre><pre>                            {
</pre><pre>                                Unit = TimeMeasurement.Day,
</pre><pre>                                Round = TimeMeasurement.Day,
</pre><pre>                                TooltipFormat = "<span>MM.DD.YYYY</span>",
</pre><pre>                                DisplayFormats = TimeDisplayFormats.DE_CH
</pre><pre>                            },
</pre><pre>                            ScaleLabel = <span>new</span> ScaleLabel
</pre><pre>                            {
</pre><pre>                                LabelString = "<span>Date</span>"
</pre><pre>                            }
</pre><pre>                        }
</pre><pre>                    }
</pre><pre>                },
</pre><pre>                Hover = <span>new</span> LineOptionsHover
</pre><pre>                {
</pre><pre>                    Intersect = <span>true</span>,
</pre><pre>                    Mode = InteractionMode.Y
</pre><pre>                }
</pre><pre>            }
</pre><pre>        };</pre></pre><p>In the same method we define the dataset (<strong>_WeightDataSet</strong>) that will be used for the chart:</p><pre><pre>        _WeightDataSet = <span>new</span> LineDataset&lt;TimeTuple&lt;<span>int</span>&gt;&gt;
</pre><pre>        {
</pre><pre>            BackgroundColor = ColorUtil.FromDrawingColor(System.Drawing.Color.White),
</pre><pre>            BorderColor = ColorUtil.FromDrawingColor(System.Drawing.Color.Red),
</pre><pre>            Label = "<span>Weight per Day</span>",
</pre><pre>            Fill = <span>false</span>,
</pre><pre>            BorderWidth = 2,
</pre><pre>            PointRadius = 2,
</pre><pre>            PointBorderWidth = 2,
</pre><pre>            SteppedLine = SteppedLine.False,
</pre><pre>            Hidden = <span>false</span></pre><pre>        };</pre></pre><p>In the method that retrieves the data (into the <strong>colFatSecretWeightOutput</strong> collection), we use the following code to populate the <strong>_WeightDataSet</strong>:</p><pre><pre>    _WeightDataSet.AddRange(colFatSecretWeightOutput
</pre><pre>        .Select(p =&gt; <span>new</span> TimeTuple&lt;<span>int</span>&gt;(<span>new</span> Moment(p.Date), Convert.ToInt32(p.Weight))));
</pre><pre>    _lineConfig.Data.Datasets.Add(_WeightDataSet);
</pre><pre>    _lineChartJs.Update();</pre></pre><p>Finally, we use the following code, in the page markup, to display the chart:</p><pre><pre><span>&lt;</span><span>ChartJsLineChart</span></pre><pre>            @<span>ref</span>=<span>"_lineChartJs"</span></pre><pre><span>Config</span>=<span>"@_lineConfig"</span></pre><pre><span>Width</span>=<span>"100"</span></pre><pre><span>Height</span>=<span>"50"</span><span>/&gt;</span></pre></pre><p>You can see all the changes required to add the chart to the project in the <strong>GitHub</strong><em>changeset</em><a href="https://github.com/ADefWebserver/FatSecretDataExporter/commit/33e9362b4774b8a50d8fe277023dda1eb22ca98e">at this link</a>.</p><h1>Links</h1><p><strong><a href="https://github.com/mariusmuntean/ChartJs.Blazor">ChartJs.Blazor</a></strong></p><p><a href="https://www.nuget.org/packages/ChartJs.Blazor/">https://www.nuget.org/packages/ChartJs.Blazor/</a></p><p><a href="https://github.com/ADefWebserver/FatSecretDataExporter">https://github.com/ADefWebserver/FatSecretDataExporter</a></p><div id="dnn_ctr382_MainView_ViewEntry_pnlComments"><p><a href="#AddComment"><span id="dnn_ctr382_MainView_ViewEntry_lblComments" class="BlogComments">1 comment(s) so far...</span></a></p><br><table id="dnn_ctr382_MainView_ViewEntry_lstComments" cellspacing="0" width="100%"><tbody><tr><td><div id="dnn_ctr382_MainView_ViewEntry_lstComments_divBlogBubble_0" class="BlogBubble"><blockquote><p><span id="dnn_ctr382_MainView_ViewEntry_lstComments_lblTitle_0" class="NormalBold">Re: Adding Charts To Server Side Blazor Using ChartJs.Blazor</span></p><p>
       Hi Michael, thank you for your articles and samples.</p><p>It may be very useful if you can write article how to use SandDance framework on Blazor.<br>Regards,<br>Oleg.<br></p></blockquote><cite><span id="dnn_ctr382_MainView_ViewEntry_lstComments_lblUserName_0" class="NormalBold">By Win32nipuh on </span>
      &nbsp;
      <span id="dnn_ctr382_MainView_ViewEntry_lstComments_lblCommentDate_0" class="Normal">1/3/2020 4:42 AM</span></cite></div></td></tr></tbody></table></div></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
C&#x2B;&#x2B; with Visual Studio 2019 and Windows Subsystem for Linux (WSL) | C&#x2B;&#x2B; Team Blog - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="C&#x2B;&#x2B; with Visual Studio 2019 and Windows Subsystem for Linux (WSL) | C&#x2B;&#x2B; Team Blog - linksfor.dev(s)"/>
    <meta property="article:author" content="Erika SweetFollow Erika"/>
    <meta property="og:description" content="In Visual Studio 2019 version 16.1 Preview 3 we have added native support for using C&#x2B;&#x2B; with the Windows Subsystem for Linux (WSL). WSL lets you run a lightweight Linux environment directly on Windows, including most command-line tools, utilities, and applications."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://devblogs.microsoft.com/cppblog/c-with-visual-studio-2019-and-windows-subsystem-for-linux-wsl/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - C&#x2B;&#x2B; with Visual Studio 2019 and Windows Subsystem for Linux (WSL) | C&#x2B;&#x2B; Team Blog</title>
<div class="readable">
        <h1>C&#x2B;&#x2B; with Visual Studio 2019 and Windows Subsystem for Linux (WSL) | C&#x2B;&#x2B; Team Blog</h1>
            <div>by Erika SweetFollow Erika</div>
            <div>Reading time: 6-7 minutes</div>
        <div>Posted here: 10 May 2019</div>
        <p><a href="https://devblogs.microsoft.com/cppblog/c-with-visual-studio-2019-and-windows-subsystem-for-linux-wsl/">https://devblogs.microsoft.com/cppblog/c-with-visual-studio-2019-and-windows-subsystem-for-linux-wsl/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="featured"><div><div><div><div><p><img src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/04/IMG_1597-1-150x150.jpg" width="58" height="58" alt="Erika Sweet"></p><p>Erika</p></div></div></div><p>May 6th, 2019</p><p>In <a href="https://visualstudio.microsoft.com/vs/preview/" target="_blank">Visual Studio 2019 version 16.1 Preview 3</a> we have added native support for using C++ with the <a href="https://docs.microsoft.com/en-us/windows/wsl/about" target="_blank">Windows Subsystem for Linux (WSL)</a>. WSL lets you run a lightweight Linux environment directly on Windows, including most command-line tools, utilities, and applications. In Visual Studio you no longer need to <a href="https://devblogs.microsoft.com/cppblog/targeting-windows-subsystem-for-linux-from-visual-studio/">add a remote connection or configure SSH</a>&nbsp;in order to build and debug on your local WSL installation. This will save you time getting up and running in a Linux environment and eliminates the need to copy and maintain sources on a remote machine.&nbsp;In order to use our native support for WSL you will need to install the <a href="https://docs.microsoft.com/en-us/cpp/linux/download-install-and-setup-the-linux-development-workload?view=vs-2019" target="_blank">Linux Development with C++</a> workload in Visual Studio.</p><p>In this blog post, we’ll first look at how to set up WSL. We will then walk-through how to use it with a <a href="https://docs.microsoft.com/en-us/cpp/linux/cmake-linux-project?view=vs-2019" target="_blank">CMake project</a> and <a href="https://docs.microsoft.com/en-us/cpp/linux/configure-a-linux-project?view=vs-2019" target="_blank">MSBuild-based Linux project</a>. If you are just getting started with our native support for CMake, be sure to check out our <a href="https://docs.microsoft.com/en-us/cpp/build/cmake-projects-in-visual-studio?view=vs-2019" target="_blank">CMake Support in Visual Studio</a> introductory page too.</p><h3>Setting up WSL</h3><p>You can find details on <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10" target="_blank">how to install WSL</a> here, but the easiest way is to download your distro of choice (Ubuntu, Debian, etc.) from the Windows Store.</p><p>To configure your WSL installation to work with Visual Studio you need the following tools installed: gcc, gdb, make, rsync, and zip. You can install them on distros that use apt with this command:</p><p> <span id="crayon-5e39c8460af85006363263"><span>sudo apt install g++ gdb make rsync zip</span></span></p><p>The inclusion of rsync and zip allows Visual Studio to extract header files from your WSL instance to the Windows filesystem to use for IntelliSense. Due to the lack of visibility into the root file system of WSL from Windows, a local rsync copy is done inside WSL to copy the headers to a Windows visible location. This is a one-time operation that Visual Studio performs to <a href="https://devblogs.microsoft.com/cppblog/intellisense-for-remote-linux-headers/">configure IntelliSense for Linux connections</a>.</p><h3>Visual Studio CMake projects and WSL</h3><p>Let’s start by looking at a simple CMake project.</p><p>1. Start Visual Studio 2019 (version 16.1 or later) and create a new CMake project using the “CMake Project” template or open an existing one.</p><p>2. Navigate to the configuration drop-down menu and select “Manage Configurations…” This will open the CMake Settings Editor.</p><p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/Config_dropDown.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/Config_dropDown.png" alt="&quot;Manage Configurations...&quot;" width="478" height="136" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/Config_dropDown.png 478w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/Config_dropDown-300x85.png 300w" sizes="(max-width: 478px) 100vw, 478px"> </a><br> 3. Visual Studio creates an x64-Debug or x86-Debug configuration by default. You can add a new WSL configuration by clicking on the green plus sign above the configuration manager on the left-hand side of the editor.</p><p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/greenButton.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/greenButton.png" alt="Add a new connection" width="250" height="169"> </a><br> 4. Select a WSL-Debug configuration.</p><p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/addConfig.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/addConfig.png" alt="Select a WSL-Debug configuration" width="400" height="491" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/addConfig.png 452w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/addConfig-244x300.png 244w" sizes="(max-width: 400px) 100vw, 400px"> </a><br> 5. By default, Visual Studio will pick up on your <a href="https://docs.microsoft.com/en-us/windows/wsl/wsl-config#set-a-default-distribution" target="_blank">default WSL configuration</a>. If you have side-by-side installations of WSL, then you can specify which WSL executable Visual Studio should use by setting the “Path to WSL executable” property under the “General” section of the CMake Settings editor.</p><p>6. Save the editor (Ctrl + S)&nbsp;and select your WSL-Debug configuration as your active configuration using the configuration drop-down menu at the top of the page. This will start the cache generation of your WSL configuration.</p><p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/SelectWSL-1.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/SelectWSL-1.png" alt="Select WSL configuration" width="492" height="140" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/SelectWSL-1.png 492w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/SelectWSL-1-300x85.png 300w" sizes="(max-width: 492px) 100vw, 492px"> </a><br> 7. If you don’t have CMake on your WSL installation, then you will be prompted to automatically deploy a recent version of CMake from Visual Studio. If you are missing any other dependencies (gcc, gdb, make, rsync, zip) then see above for Setting up WSL.</p><p>8. In the Solution Explorer expand the project subfolder and in the .cpp file set a breakpoint in <span id="crayon-5e39c8460afa3193337553"><span>main()</span></span>&nbsp;.</p><p>9. In the launch bar change the launch target from “Current Document” to your project name.</p><p>10. Now click “Start” (Debug &gt; Start) or press F5. Your project will build, the executable will launch, and you will hit your breakpoint. You can see the output of your program (in this case, “Hello CMake”) in the Linux Console Window.</p><p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/LinuxConsole.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/LinuxConsole.png" alt="Debug program to see &quot;Hello CMake&quot;" width="932" height="570" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/LinuxConsole.png 932w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/LinuxConsole-300x183.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/LinuxConsole-768x470.png 768w" sizes="(max-width: 932px) 100vw, 932px"> </a></p><h3>Visual Studio MSBuild-based projects and WSL</h3><p>We also support using WSL from our MSBuild-based Linux projects in Visual Studio. Here are the steps for getting started.</p><p>1. Create a new Linux Console Application (you can filter platform by Linux and look for “Console App”) in Visual Studio 2019 version 16.1 or later or open an existing one.</p><p>2. Right-click on the project in the Solution Explorer and select “Properties” to open the Project Property Pages.</p><p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/word-image-5.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/word-image-5.png" alt="" width="500" height="587" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/word-image-5.png 671w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/word-image-5-255x300.png 255w" sizes="(max-width: 500px) 100vw, 500px"> </a></p><p>3. In the dialog that opens you will see the “General” property page. On this page, there is an option for “Platform Toolset.” Change this from “Remote_GCC_1_0” to “WSL_1_0.”</p><p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/word-image-6.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/word-image-6.png" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/word-image-6.png 622w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/word-image-6-300x80.png 300w" sizes="(max-width: 622px) 100vw, 622px"> </a></p><p>4. By default, Visual Studio will target the WSL installation that is <a href="https://docs.microsoft.com/en-us/windows/wsl/wsl-config#set-a-default-distribution" target="_blank">set as the default through wslconfig</a>. If you have side-by-side installations of WSL, then you can specify which WSL executable Visual Studio should use by setting the “WSL *.exe full path” option directly below “Platform Toolset.” Press OK.</p><p>5. Set a breakpoint in main.cpp and click “Start Debugging” (Debug &gt; Start Debugging). If you are missing any dependencies on your WSL installation (gcc, gdb, make, rsync, zip) then see above for Setting up WSL. You can see the output of your program in the Linux Console Window.</p><p><a href="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/word-image-7.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/word-image-7.png" srcset="https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/word-image-7.png 1063w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/word-image-7-300x161.png 300w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/word-image-7-768x413.png 768w, https://devblogs.microsoft.com/cppblog/wp-content/uploads/sites/9/2019/05/word-image-7-1024x550.png 1024w" sizes="(max-width: 1063px) 100vw, 1063px"> </a></p><h3>Give us your feedback!</h3><p>If you have feedback on WSL or anything regarding our Linux support in Visual Studio, we would love to hear from you. We can be reached via the comments below or via email (<a href="mailto:visualcpp@microsoft.com">visualcpp@microsoft.com</a>). If you encounter other problems with Visual Studio or MSVC or have a&nbsp;suggestion, you can use the&nbsp;<a href="https://docs.microsoft.com/en-us/visualstudio/ide/how-to-report-a-problem-with-visual-studio?view=vs-2019" target="_blank">Report a Problem</a>&nbsp;tool in Visual Studio or head over to&nbsp;<a href="https://developercommunity.visualstudio.com/spaces/8/index.html" target="_blank">Visual Studio Developer Community</a>. You can also find us on Twitter (<a href="https://twitter.com/visualc" target="_blank">@VisualC</a>) and (<a href="https://twitter.com/erikasweet_" target="_blank">@</a><a href="https://twitter.com/erikasweet_" target="_blank">erikasweet_</a>).</p><hr><h4>Coming soon…</h4><p>More announcements about AddressSanitizer integration for Linux projects, Code Analysis quick fixes, and Quick Info improvements are coming to the C++ Team Blog later this week. Stay tuned!</p></div></div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
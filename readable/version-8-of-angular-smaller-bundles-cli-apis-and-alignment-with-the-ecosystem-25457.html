<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Version 8 of Angular&#x200A;&#x2014;&#x200A;Smaller bundles, CLI APIs, and alignment with the ecosystem - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Version 8 of Angular&#x200A;&#x2014;&#x200A;Smaller bundles, CLI APIs, and alignment with the ecosystem - linksfor.dev(s)"/>
    <meta property="article:author" content="Stephen Fluin"/>
    <meta property="og:description" content="The 8.0.0 release of Angular is here! This is a major release spanning the entire platform, including the core framework, Angular Material&#x2026;"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://blog.angular.io/version-8-of-angular-smaller-bundles-cli-apis-and-alignment-with-the-ecosystem-af0261112a27"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
	<div class="devring" style="background: #222">
		<div class="grid">
			<div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
				<span class="devring-title">devring.club</span>
				<a href="https://devring.club/site/1/previous" class="devring-previous">Previous</a>
				<a href="https://devring.club/random" class="devring-random">Random</a>
				<a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
			</div>
		</div>
	</div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Version 8 of Angular&#x200A;&#x2014;&#x200A;Smaller bundles, CLI APIs, and alignment with the ecosystem</title>
<div class="readable">
        <h1>Version 8 of Angular&#x200A;&#x2014;&#x200A;Smaller bundles, CLI APIs, and alignment with the ecosystem</h1>
            <div>by Stephen Fluin</div>
            <div>Reading time: 6-7 minutes</div>
        <div>Posted here: 29 May 2019</div>
        <p><a href="https://blog.angular.io/version-8-of-angular-smaller-bundles-cli-apis-and-alignment-with-the-ecosystem-af0261112a27">https://blog.angular.io/version-8-of-angular-smaller-bundles-cli-apis-and-alignment-with-the-ecosystem-af0261112a27</a></p>
        <hr/>
<div id="readability-page-1" class="page"><section><div><div><div><div><div><div><p><a href="https://blog.angular.io/@stephenfluin?source=post_page-----af0261112a27----------------------" rel="noopener"><img alt="Stephen Fluin" src="https://miro.medium.com/fit/c/48/48/1*y_L34o3bW0QELQm1KOFMTw.jpeg" width="48" height="48"></a></p></div></div></div></div><p id="46b2" data-selectable-paragraph="">The 8.0.0 release of Angular is here! This is a major release spanning the entire platform, including the framework, Angular Material, and the CLI with synchronized major versions. This release improves application startup time on modern browsers, provides new APIs for tapping into the CLI, and aligns Angular to the ecosystem and more web standards.</p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/30/1*RAjXU6nFJ_LbUS5nH3acsQ.jpeg?q=20" width="1390" height="763" role="presentation"></p><p><img width="1390" height="763" role="presentation" src="https://miro.medium.com/max/1390/1*RAjXU6nFJ_LbUS5nH3acsQ.jpeg"></p></div></div></div></div><figcaption data-selectable-paragraph="">Photo by Angular TPM, Manu Murthy</figcaption></figure><p id="862d" data-selectable-paragraph="">Visit <a href="https://update.angular.io/" target="_blank" rel="noopener">update.angular.io</a> for detailed information and guidance. For most developers, one command should take care of this update:</p><p id="247f" data-selectable-paragraph=""><code>ng update @angular/cli @angular/core</code></p><p id="0ef8" data-selectable-paragraph=""><a href="https://web.dev/codelab-serve-modern-code" target="_blank" rel="noopener">Differential loading</a> is a process by which the browser chooses between modern or legacy JavaScript based on its own capabilities. We now take advantage of this by default by performing a modern build (es2015) and a legacy build (es5) of your application. When users load your application, they’ll automatically get the bundle they need.</p><p id="977a" data-selectable-paragraph="">If you use <code>ng update,</code> we update your <code>tsconfig.json</code>for you to take advantage of this. Our CLI looks at the <code>target</code> JS level in your <code>tsconfig.json</code> to determine whether or not to take advantage of Differential Loading.</p><figure><div></div></figure><p id="8968" data-selectable-paragraph="">When <code>target</code> is set to <code>es2015</code>, we generate and label two bundles.</p><p id="bf12" data-selectable-paragraph="">At runtime, the browser uses attributes on the script tag to load the right bundle.</p><p id="f0e7" data-selectable-paragraph=""><code>&lt;script type="module" src="…"&gt;</code> // Modern JS</p><p id="16fa" data-selectable-paragraph=""><code>&lt;script nomodule src="…"&gt;</code> // Legacy JS</p><p id="13a3" data-selectable-paragraph="">On <a href="https://angular.io/" target="_blank" rel="noopener">angular.io</a> we saved over 40kB of initial bundle size for modern browsers. From the community we’ve heard that applications generally save 7–20% of their bundle size, depending on the amount of modern JavaScript features they take advantage of.</p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/30/0*14n4CbwyOkp0uaO6?q=20" width="928" height="537" role="presentation"></p><p><img width="928" height="537" role="presentation"></p></div></div></div></div><figcaption data-selectable-paragraph="">The bundle size on angular.io shrunk by about 41Kb</figcaption></figure><p id="1a17" data-selectable-paragraph="">Learn more about <a href="https://v8.angular.io/guide/deployment#differential-loading" target="_blank" rel="noopener">differential loading</a>.</p><p id="e133" data-selectable-paragraph="">We highly recommend you lazily load parts of your application using the router. This is accomplished by using the <code>loadChildren</code> key in your route configuration.</p><p id="2abc" data-selectable-paragraph="">Previously this looked like:</p><p id="e60c" data-selectable-paragraph=""><code>{path: '/admin', loadChildren: './admin/admin.module#AdminModule'}</code></p><p id="a747" data-selectable-paragraph="">This syntax was custom to Angular and built into our toolchain. With version 8 we’re migrating to the industry standard <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import" target="_blank" rel="noopener">dynamic imports</a>.</p><p id="ec6f" data-selectable-paragraph="">Now this will look like:</p><p id="6d43" data-selectable-paragraph=""><code>{path: `/admin`, loadChildren: () =&gt; import(`./admin/admin.module`).then(m =&gt; m.AdminModule)}</code></p><p id="c99e" data-selectable-paragraph="">This will improve the support from editors like <a href="https://code.visualstudio.com/" target="_blank" rel="noopener">VSCode</a> and <a href="https://www.jetbrains.com/webstorm/" target="_blank" rel="noopener">WebStorm</a> who will now be able to understand and validate these imports for you.</p><p id="838d" data-selectable-paragraph="">If you use <code>ng update</code>, we’ll update your code automatically to use the new best practice.</p><p id="4d9b" data-selectable-paragraph="">In the same way that Schematics allow you to tap into <code>ng new</code> <code>ng generate</code> <code>ng add</code> and <code>ng update</code>, we’ve released new Builder APIs that allow you to tap into <code>ng build</code> <code>ng test</code> and <code>ng run</code> to perform processes like build and deployment.</p><p id="ef34" data-selectable-paragraph="">Check out <a target="_blank" rel="noopener" href="https://blog.angular.io/introducing-cli-builders-d012d4489f1b">our blog post on these new APIs</a>.</p><p id="aaf7" data-selectable-paragraph="">Or read <a href="https://v8.angular.io/guide/cli-builder" target="_blank" rel="noopener">the API documentation</a>.</p><p id="1c90" data-selectable-paragraph="">We’ve also been working with cloud providers to begin taking advantage of these APIs. Today you can try the latest version of <a href="https://github.com/angular/angularfire2" target="_blank" rel="noopener">AngularFire</a>, which adds a <code>deploy</code> command, making build &amp; deploy to Firebase easier than ever:</p><pre><span id="2315" data-selectable-paragraph="">ng add @angular/fire<br>ng run my-app:deploy</span></pre><p id="b2b3" data-selectable-paragraph="">Once installed, this deployment command will both build and deploy your application in the way recommended by AngularFire.</p><p id="8d7a" data-selectable-paragraph="">Previously developers using <a href="https://angular.io/guide/schematics" target="_blank" rel="noopener">Schematics</a> had to manually open and modify their <code>angular.json</code> to make changes to the workspace configuration. With 8.0, we’re introducing a new API to make it easier to read and modify this file.</p><p id="6dde" data-selectable-paragraph="">Read more about the available <a href="https://github.com/angular/angular-cli/blob/master/packages/angular_devkit/core/README.md#workspaces" target="_blank" rel="noopener">Workspace APIs</a>.</p><p id="4378" data-selectable-paragraph=""><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers" target="_blank" rel="noopener">Web workers</a> are a great way to speed up your application if you do any sort of cpu-intensive processing. Web workers allow you to offload work to a background thread, such as image or video manipulation. We use web workers on <a href="https://angular.io/" target="_blank" rel="noopener">angular.io</a> for in-app search indexing.</p><p id="cb3a" data-selectable-paragraph="">You can now generate new web workers from the CLI. To add a worker to your project, you can run:</p><p id="9a2f" data-selectable-paragraph=""><code>ng generate webWorker my-worker</code></p><p id="65f5" data-selectable-paragraph="">Once you have a web worker, you can use it normally in your application, and the CLI will be able to bundle and code split it correctly:</p><p id="4e01" data-selectable-paragraph=""><code>const worker = new Worker(`./my-worker.worker`, { type: `module` });</code></p><p id="fd01" data-selectable-paragraph="">Read more about <a href="https://v8.angular.io/guide/web-worker" target="_blank" rel="noopener">web workers in the Angular CLI</a>.</p><p id="6403" data-selectable-paragraph="">If you use the <a href="https://docs.angularjs.org/api/ng/service/$location" target="_blank" rel="noopener">$location service</a> in an AngularJS application, Angular now provides a <code>LocationUpgradeModule</code> that enables a unified location service that shifts responsibilities from the AngularJS <code>$location</code> service to the Angular <code>Location</code> Service. This should improve the lives of applications using <code>ngUpgrade</code> who need routing in both the AngularJS and Angular part of their application.</p><p id="6d31" data-selectable-paragraph="">Read more about the <a href="https://v8.angular.io/guide/upgrade#using-the-unified-angular-location-service" target="_blank" rel="noopener">Unified Angular Location Service</a>.</p><p id="eeac" data-selectable-paragraph="">We’ve also documented best practices around lazy loading parts of your AngularJS application from Angular, making it easier to migrate the most commonly used features first, and only loading AngularJS for a subset of your application.</p><p id="6f44" data-selectable-paragraph="">Read more about <a href="https://v8.angular.io/guide/upgrade#create-a-service-to-lazy-load-angularjs" target="_blank" rel="noopener">Lazy Loading AngularJS</a>.</p><p id="fd47" data-selectable-paragraph="">We are committed to maintaining Semantic Versioning and a high degree of stability even across major versions. For our public API, we are committed to supporting features for N+2 releases. This means that a feature that is deprecated in 8.1 will keep working in the following two major releases (9 and 10). For example, we are deprecating platform-webworker in version 8.</p><p id="64ca" data-selectable-paragraph="">We are making it easier to find deprecations and removals in Angular. For a comprehensive list of all deprecations, see the new <a href="https://v8.angular.io/guide/deprecations" target="_blank" rel="noopener">Deprecation Guide</a>.</p><p id="b3e2" data-selectable-paragraph="">We know there’s lots of excitement for our forthcoming opt-in previews. We’ll be providing individual updates on these next week on this blog, so stay tuned!</p><p id="1784" data-selectable-paragraph="">A special thanks to <a href="https://twitter.com/ManfredSteyer" target="_blank" rel="noopener">Manfred Steyer</a> for contributing to Differential Loading, <a href="https://twitter.com/phenomnominal" target="_blank" rel="noopener">Craig Spence</a> to Dynamic Import support, <a href="https://twitter.com/_developit" target="_blank" rel="noopener">Jason Miller</a> to Web Worker bundling support. This release was brought to you by 286 contributors:</p><figure><div></div></figure></div></div></section></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
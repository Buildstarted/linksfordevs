<!DOCTYPE html>
<html lang="en">
<head>
    <title>
How to Implement Azure Serverless with Blazor WebAssembly - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="How to Implement Azure Serverless with Blazor WebAssembly - linksfor.dev(s)"/>
    <meta property="article:author" content="Ankit Sharma&#xA;        Read more posts by this author."/>
    <meta property="og:description" content="Introduction&#xA;In this article, we will learn how to implement Azure serverless with Blazor web&#xA;assembly. And to do that, we will create an app that lists out some Frequently&#xA;Asked Questions (FAQ) on Covid-19. &#xA;&#xA;Here&#x27;s what we will cover:&#xA;&#xA; * We will create an Azure Cosmos DB which will act as our primary database to&#xA;   store questions and answers. &#xA; * We will use an Azure function app to fetch data from cosmos DB. &#xA; * We will deploy the function app to Azure to expose it globally via an API&#xA;   en"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://www.freecodecamp.org/news/how-to-implement-azure-serverless-with-blazor-web-assembly/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - How to Implement Azure Serverless with Blazor WebAssembly</title>
<div class="readable">
        <h1>How to Implement Azure Serverless with Blazor WebAssembly</h1>
            <div>by Ankit Sharma&#xA;        Read more posts by this author.</div>
            <div>Reading time: 21-27 minutes</div>
        <div>Posted here: 08 Jul 2020</div>
        <p><a href="https://www.freecodecamp.org/news/how-to-implement-azure-serverless-with-blazor-web-assembly/">https://www.freecodecamp.org/news/how-to-implement-azure-serverless-with-blazor-web-assembly/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
                    <h2 id="introduction"><strong>Introduction</strong></h2><p>In this article, we will learn how to implement Azure serverless with Blazor web assembly. And to do that, we will create an app that lists out some Frequently Asked Questions (FAQ) on Covid-19. </p><p>Here's what we will cover:</p><ul><li>We will create an Azure Cosmos DB which will act as our primary database to store questions and answers. </li><li>We will use an Azure function app to fetch data from cosmos DB. </li><li>We will deploy the function app to Azure to expose it globally via an API endpoint. </li><li>And lastly, we will consume the API in a Blazor web assembly app. </li></ul><p>The FAQs will be displayed in a card layout with the help of Bootstrap.</p><p>The Covid-19 FAQ app is deployed on Azure. See it in action at <a href="https://covid19-faq.azurewebsites.net/">https://covid19-faq.azurewebsites.net/</a></p><h2 id="what-is-a-serverless-architecture"><strong>What is a serverless architecture?</strong></h2><p>In traditional applications such as a 3-tier app, a client requests resources from the server, and the server processes the request and responds with the appropriate data.</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/ServerArchi.png"></figure><!--kg-card-end: image--><p>However, there are some issues with this architecture. We need a server running continuously. Even if there are no requests, the server is present 24X7, ready to process the request. Maintaining server availability is cost-intensive. </p><p>Another problem is scaling. If the traffic is huge, we need to scale out all the servers which can be a cumbersome process.</p><p>An effective solution to this problem is serverless web architecture. The client makes a request to a file storage account instead of a server. The storage account returns the <code>index.html</code> page along with some code that needs to be rendered on the browser. </p><p>Since there is no server to render the page, we are relying on the browser to render the page. All the logic to draw the element or update the element will run in the browser. We do not have any server on backend – we just have a storage account with a static asset.</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/ServerLessArchi.png"></figure><!--kg-card-end: image--><p>This is a cost-effective solution as we do not have any server, just some static files in a storage account. It is also very easy to scale out for heavy load websites.</p><h2 id="what-is-an-azure-function"><strong>What is an Azure function?</strong></h2><p>Making the browser run all the logic to render the page seems exciting, but it has some limitations. </p><p>We do not want the browser to make database calls. We need some part of our code to run on the server-side such as connecting to a database. </p><p>This is where Azure functions come in handy. In a serverless architecture, if we want some code to run the server-side, then we use an Azure function.</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/ServerLessArchiAZFunc.png"></figure><!--kg-card-end: image--><p>Azure functions are an event-driven serverless compute platform. You need to pay only when execution happens. They are also easy to scale. Hence, we get both the scaling and the cost benefits with Azure functions. </p><p>To learn more you can refer to the <a href="https://azure.microsoft.com/en-in/services/functions/" rel="noreferrer noopener">Azure function official docs</a>.</p><h2 id="why-should-you-use-azure-serverless"><strong>Why should you use Azure serverless?</strong></h2><p>An Azure serverless solution can add value to your product by minimizing the time and resources you spend on infrastructure-related requirements. </p><p>You can increase developer productivity, optimize resources and accelerate the time to market with the help of a fully managed, end-to-end Azure serverless solution.</p><p>To learn more, see the <a href="https://azure.microsoft.com/en-in/solutions/serverless/" rel="noreferrer noopener">Azure serverless official doc</a>.</p><h2 id="what-is-blazor"><strong>What is Blazor?</strong></h2><p>Blazor is a .NET web framework for creating client-side applications using C#/Razor and HTML. </p><p>Blazor runs in the browser with the help of <a href="http://webassembly.org/" rel="noreferrer noopener">WebAssembly</a>. It can simplify the process of creating a single page application (SPA). It also provides a full-stack web development experience using .NET.</p><p>Using .NET for developing Client-side application has multiple advantages:</p><ul><li>.NET offers a range of API and tools across all platforms that are stable and easy to use.</li><li>The modern languages such as C# and F# offer a lot of features that make programming easier and interesting for developers.</li><li>The availability of one of the best IDE in the form of Visual Studio provides a great .NET development experience across multiple platforms such as Windows, Linux, and macOS.</li><li>.NET provides features such as speed, performance, security, scalability, and reliability in web development that makes full-stack development easier.</li></ul><h2 id="why-should-you-use-blazor"><strong>Why should you use Blazor?</strong></h2><p>Blazor supports a wide array of features to make web development easier for us. Some of the prominent features of Blazor are:</p><ul><li><strong><strong>Component-based architecture</strong></strong>: Blazor provides us with a component-based architecture to create rich and composable UI.</li><li><strong><strong>Dependency injection</strong></strong>: This allows us to use services by injecting them into components.</li><li><strong><strong>Layouts</strong></strong>: We can share common UI elements (for example, menus) across pages using the layouts feature.</li><li><strong><strong>Routing</strong></strong>: We can redirect the client request from one component to another with the help of routing.</li><li><strong><strong>JavaScript interop</strong></strong>: This allows us to invoke a C# method from JavaScript, and we can call a JavaScript function or API from C# code.</li><li><strong><strong>Globalization and localization</strong></strong>: The application can be made accessible to users in multiple cultures and languages</li><li><strong><strong>Live reloading</strong></strong>: Live reloading of the app in the browser during development.</li><li><strong><strong>Deployment</strong></strong>: We can deploy the Blazor application on IIS and Azure Cloud.</li></ul><p>To learn more about Blazor, please refer to the <a href="http://blazor.net/" rel="noreferrer noopener">official Blazor docs</a>.</p><h2 id="prerequisites"><strong>Prerequisites</strong></h2><p>To get started with the application, we need to fulfill these prerequisites:</p><ul><li>An Azure subscription account. You can create a free Azure account at <a href="https://azure.microsoft.com/en-in/free/" rel="noreferrer noopener">https://azure.microsoft.com/en-in/free/</a></li><li>Install the latest version of Visual Studio 2019 from <a href="https://visualstudio.microsoft.com/downloads/" rel="noreferrer noopener">https://visualstudio.microsoft.com/downloads/</a></li></ul><p>While installing the VS 2019, please make sure you select the Azure development and ASP.NET and web development workload.</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/VSInstall.png"></figure><!--kg-card-end: image--><h2 id="source-code"><strong>Source Code</strong></h2><p>You can get the source code from <a href="https://github.com/AnkitSharma-007/azure-serverless-with-blazor">GitHub here</a>.</p><h2 id="create-azure-cosmos-db-account"><strong>Create Azure Cosmos DB account</strong></h2><p>Log in to the Azure portal and search for the “Azure Cosmos DB” in the search bar and click on the result. On the next screen, click on the Add button. </p><p>This will open a “Create Azure Cosmos DB Account” page. You need to fill in the required information to create your database. Refer to the image shown below:</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/CreateCosmosDBAccount.png"></figure><!--kg-card-end: image--><p>You can fill in the details like this:</p><ul><li><strong><strong>Subscription</strong></strong>: Select your Azure subscription name from the drop-down.</li><li><strong><strong>Resource Group</strong></strong>: Select an existing Resource Group or create a new one.</li><li><strong><strong>Account Name</strong></strong>: Enter a unique name for your Azure Cosmos DB account. The name can contain only lowercase letters, numbers, and the ‘-‘ character, and must be between 3 and 44 characters.</li><li><strong><strong>API</strong></strong>: Select Core (SQL)</li><li><strong><strong>Location</strong></strong>: Select a location to host your Azure Cosmos DB account.</li></ul><p>Keep the other fields to its default value and click on the “Review+ Create” button. In the next screen, review all your configurations and click on the “Create” button. After a few minutes, the Azure Cosmos DB account will be created. Click on “Go to resource” to navigate to the Azure Cosmos DB account page.</p><h2 id="set-up-the-database"><strong>Set up the Database</strong></h2><p>On the Azure Cosmos DB account page, click on “Data Explorer” on the left navigation, and then select “New Container”. Refer to the image shown below:</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/CreateContainer.png"></figure><!--kg-card-end: image--><p>An “Add Container” pane will open. You need to fill in the details to create a new container for your Azure Cosmos DB. Refer to the image shown below:</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/ConfigureContainer.png"></figure><!--kg-card-end: image--><p>You can fill in the details as indicated below.</p><ul><li><strong><strong>Database ID: </strong></strong>You can give any name to your database. Here I am using FAQDB.</li><li><strong><strong>Throughput: </strong></strong>Keep it at the default value of 400</li><li><strong><strong>Container ID: </strong></strong>Enter the name for your container. Here I am using FAQContainer.</li><li><strong><strong>Partition key: </strong></strong>The Partition key is used to automatically partition data among multiple servers for scalability. Put the value as “/id”.</li></ul><p>Click on the “OK” button to create the database.</p><h2 id="add-sample-data-to-the-cosmos-db"><strong>Add Sample data to the Cosmos DB</strong></h2><p>In the Data Explorer, expand the FAQDB database then expand the FAQContainer. Select Items, and then click on New Item on the top. An editor will open on the right side of the page. Refer to the image shown below:</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/AddItem.png"></figure><!--kg-card-end: image--><p>Put the following JSON data in the editor and click on the Save button at the top.</p><!--kg-card-begin: code--><pre><code><span>{</span>
    <span>"id"</span><span>:</span> <span>"1"</span><span>,</span>
    <span>"question"</span><span>:</span> <span>"What is corona virus?"</span><span>,</span>
    <span>"answer"</span><span>:</span> <span>"Corona viruses are a large family of viruses which may cause illness in animals or humans. The most recently discovered coronavirus causes coronavirus disease COVID-19."</span>
<span>}</span>
</code></pre><!--kg-card-end: code--><p>We have added a set of questions and answer along with a unique id.</p><p>Follow the process described above to insert five more sets of data.</p><!--kg-card-begin: code--><pre><code><span>{</span>
    <span>"id"</span><span>:</span> <span>"2"</span><span>,</span>
    <span>"question"</span><span>:</span> <span>"What is COVID-19?"</span><span>,</span>
    <span>"answer"</span><span>:</span> <span>"COVID-19 is the infectious disease caused by the most recently discovered corona virus. This new virus and disease were unknown before the outbreak began in Wuhan, China, in December 2019."</span>
<span>}</span>
<span>{</span>
    <span>"id"</span><span>:</span> <span>"3"</span><span>,</span>
    <span>"question"</span><span>:</span> <span>"What are the symptoms of COVID-19?"</span><span>,</span>
    <span>"answer"</span><span>:</span> <span>"The most common symptoms of COVID-19 are fever, tiredness, and dry cough. Some patients may have aches and pains, nasal congestion, runny nose, sore throat or diarrhea. These symptoms are usually mild and begin gradually. Some people become infected but don’t develop any symptoms and don't feel unwell."</span>
<span>}</span>
<span>{</span>
    <span>"id"</span><span>:</span> <span>"4"</span><span>,</span>
    <span>"question"</span><span>:</span> <span>"How does COVID-19 spread?"</span><span>,</span>
    <span>"answer"</span><span>:</span> <span>"People can catch COVID-19 from others who have the virus. The disease can spread from person to person through small droplets from the nose or mouth which are spread when a person with COVID-19 coughs or exhales. These droplets land on objects and surfaces around the person. Other people then catch COVID-19 by touching these objects or surfaces, then touching their eyes, nose or mouth."</span>
<span>}</span>
<span>{</span>
    <span>"id"</span><span>:</span> <span>"5"</span><span>,</span>
    <span>"question"</span><span>:</span> <span>"What can I do to protect myself and prevent the spread of disease?"</span><span>,</span>
    <span>"answer"</span><span>:</span> <span>"You can reduce your chances of being infected or spreading COVID-19 by taking some simple precaution. Regularly and thoroughly clean your hands with an alcoholbased hand rub or wash them with soap and water. Maintain at least 1 metre (3 feet) distance between yourself and anyone who is coughing or sneezing. Make sure you, and the people around you, follow good respiratory hygiene. This means covering your mouth and nose with your bent elbow or tissue when you cough or sneeze. Stay home if you feel unwell. If you have a fever, cough and difficulty breathing, seek medical attention and call in advance."</span>
<span>}</span>
<span>{</span>
    <span>"id"</span><span>:</span> <span>"6"</span><span>,</span>
    <span>"question"</span><span>:</span> <span>"Are antibiotics effective in preventing or treating the COVID-19?"</span><span>,</span>
    <span>"answer"</span><span>:</span> <span>"No. Antibiotics do not work against viruses, they only work on bacterial infections. COVID-19 is caused by a virus, so antibiotics do not work."</span>
<span>}</span>
</code></pre><!--kg-card-end: code--><h2 id="get-the-connection-string"><strong>Get the connection string</strong></h2><p>Click on “keys”<strong><strong> </strong></strong>on the left navigation, navigate to the “Read-write Keys” tab. The value under <code>PRIMARY CONNECTION STRING</code> is our required connection string. Refer to the image shown below:</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/CosmosDBContString.png"></figure><!--kg-card-end: image--><p>Make a note of the <code>PRIMARY CONNECTION STRING</code> value. We will use it in the latter part of this article, when we will access the Azure Cosmos DB from an Azure function.</p><h2 id="create-an-azure-function-app"><strong>Create an Azure function app</strong></h2><p>Open Visual Studio 2019, click on “Create a new project”. Search “Functions” in the search box. Select the Azure Functions template and click on Next. Refer to the image shown below:</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/CreateAzFunction.png"></figure><!--kg-card-end: image--><p>In “Configure your new project” window, enter a Project name as <code>FAQFunctionApp</code>. Click on the Create button. Refer to the image below:</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/CreateAzFunction_1.png"></figure><!--kg-card-end: image--><p>A new “Create a new Azure Function Application settings” window will open. Select “Azure Functions v3 (.NET Core)”from the dropdown at the top. Select the function template as “HTTP trigger”. Set the authorization level to “Anonymous” from the drop-down on the right. Click on the Create button to create the function project and HTTP trigger function. </p><p>Refer to the image shown below:</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/CreateAzFunction_2.png"></figure><!--kg-card-end: image--><h2 id="install-package-for-azure-cosmos-db"><strong>Install package for Azure Cosmos DB</strong></h2><p>To enable the Azure function App to bind to the Azure Cosmos DB, we need to install the <code>Microsoft.Azure.WebJobs.Extensions.CosmosDB</code> package. Navigate to Tools &gt;&gt; NuGet Package Manager &gt;&gt; Package Manager Console and run the following command:</p><!--kg-card-begin: code--><pre><code>Install-Package Microsoft.Azure.WebJobs.Extensions.CosmosDB
</code></pre><!--kg-card-end: code--><p>Refer to the image shown below.</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/InstallNuget.png"></figure><!--kg-card-end: image--><p>You can learn more about this package at the <a href="https://www.nuget.org/packages/Microsoft.Azure.WebJobs.Extensions.CosmosDB" rel="noreferrer noopener">NuGet gallery</a>.</p><h2 id="configure-the-azure-function-app"><strong>Configure the Azure Function App</strong></h2><p>The Azure function project contains a default file called <code>Function1.cs</code>. You can safely delete this file as we won’t be using this for our project.</p><p>Right-click on the <code>FAQFunctionApp</code> project and select Add &gt;&gt; New Folder. Name the folder as Models. Again, right-click on the Models folder and select Add &gt;&gt; Class to add a new class file. Put the name of your class as <code>FAQ.cs</code> and click Add.</p><p>Open <code><a href="https://github.com/AnkitSharma-007/azure-serverless-with-blazor/blob/master/FAQFunctionApp/FAQFunctionApp/Models/FAQ.cs">FAQ.cs</a></code> and put the following code inside it.</p><!--kg-card-begin: code--><pre><code>namespace FAQFunctionApp<span>.</span>Models
<span>{</span>
    class FAQ
    <span>{</span>
        public string Id <span>{</span> get<span>;</span> set<span>;</span> <span>}</span>
        public string Question <span>{</span> get<span>;</span> set<span>;</span> <span>}</span>
        public string Answer <span>{</span> get<span>;</span> set<span>;</span> <span>}</span>
    <span>}</span>
<span>}</span>
</code></pre><!--kg-card-end: code--><p>The class has the same structure as the JSON data we have inserted in the cosmos DB.</p><p>Right-click on the <code>FAQFunctionApp</code> project and select Add &gt;&gt; Class. Name your class as <code><a href="https://github.com/AnkitSharma-007/azure-serverless-with-blazor/blob/master/FAQFunctionApp/FAQFunctionApp/CovidFAQ.cs">CovidFAQ.cs</a></code>. Put the following code inside it.</p><!--kg-card-begin: code--><pre><code>using Microsoft<span>.</span>AspNetCore<span>.</span>Mvc<span>;</span>
using System<span>.</span>Collections<span>.</span>Generic<span>;</span>
using Microsoft<span>.</span>AspNetCore<span>.</span>Http<span>;</span>
using Microsoft<span>.</span>Extensions<span>.</span>Logging<span>;</span>
using Microsoft<span>.</span>Azure<span>.</span>WebJobs<span>;</span>
using FAQFunctionApp<span>.</span>Models<span>;</span>
using Microsoft<span>.</span>Azure<span>.</span>WebJobs<span>.</span>Extensions<span>.</span>Http<span>;</span>
using System<span>.</span>Threading<span>.</span>Tasks<span>;</span>

namespace FAQFunctionApp
<span>{</span>
    class CovidFAQ
    <span>{</span>
        <span>[</span><span>FunctionName</span><span>(</span><span>"covidFAQ"</span><span>)</span><span>]</span>
        public <span>static</span> async Task<span>&lt;</span>IActionResult<span>&gt;</span> <span>Run</span><span>(</span>
        <span>[</span><span>HttpTrigger</span><span>(</span>AuthorizationLevel<span>.</span>Anonymous<span>,</span> <span>"get"</span><span>,</span> Route <span>=</span> null<span>)</span><span>]</span> HttpRequest req<span>,</span>
        <span>[</span><span>CosmosDB</span><span>(</span>
            databaseName<span>:</span><span>"FAQDB"</span><span>,</span>
            collectionName<span>:</span><span>"FAQContainer"</span><span>,</span>
            ConnectionStringSetting <span>=</span> <span>"DBConnectionString"</span>
            <span>)</span><span>]</span> IEnumerable<span>&lt;</span>FAQ<span>&gt;</span> questionSet<span>,</span> 
        ILogger log<span>)</span>
        <span>{</span>
            log<span>.</span><span>LogInformation</span><span>(</span><span>"Data fetched from FAQContainer"</span><span>)</span><span>;</span>
            <span>return</span> new <span>OkObjectResult</span><span>(</span>questionSet<span>)</span><span>;</span>
        <span>}</span>
    <span>}</span>
<span>}</span>
</code></pre><!--kg-card-end: code--><p>We have created a class <code>CovidFAQ</code> and added an Azure function to it. The attribute <code>FunctionName</code> is used to specify the name of the function. We have used the <code>HttpTrigger</code> attribute which allows the function to be triggered via an HTTP call. The attribute <code>CosmosDB</code> is used to connect to the Azure Cosmos DB. We have defined three parameters for this attribute as described below:</p><ul><li><strong><strong>databaseName</strong></strong>: the name for the cosmos DB</li><li><strong><strong>collectionName</strong></strong>: the collecting inside the cosmos DB we want to access</li><li><strong><strong>ConnectionStringSetting</strong></strong>: the connection string to connect to Cosmos DB. We will configure it in the next section.</li></ul><p>We have decorated the parameter <code>questionSet</code>, which is of type <code>IEnumerable&lt;FAQ&gt;</code> with the <code>CosmosDB</code> attribute. When the app is executed, the parameter <code>questionSet</code> will be populated with the data from Cosmos DB. The function will return the data using a new instance of <code>OkObjectResult</code>.</p><h2 id="add-the-connection-string-to-the-azure-function"><strong>Add the connection string to the Azure Function</strong></h2><p>Remember the Azure cosmos DB connection string you noted earlier? Now we will configure it for our app. Open the <code>local.settings.json</code> file and add your connection string as shown below:</p><!--kg-card-begin: code--><pre><code><span>{</span>
  <span>"IsEncrypted"</span><span>:</span> <span>false</span><span>,</span>
  <span>"Values"</span><span>:</span> <span>{</span>
    <span>"AzureWebJobsStorage"</span><span>:</span> <span>"UseDevelopmentStorage=true"</span><span>,</span>
    <span>"FUNCTIONS_WORKER_RUNTIME"</span><span>:</span> <span>"dotnet"</span><span>,</span>
    <span>"DBConnectionString"</span><span>:</span> <span>"your connectionn string"</span>
  <span>}</span>
<span>}</span>
</code></pre><!--kg-card-end: code--><blockquote>The local.settings.json will not be published to Azure when we publish the Azure Function app. Therefore, we need to configure the connections string separately while publishing the app to Azure. We will see this in action in the latter part of this article.</blockquote><h2 id="test-the-azure-function-locally"><strong>Test the Azure Function locally</strong></h2><p>Press F5 to execute the function. Copy the URL of your function from the Azure Functions runtime output. Refer to the image shown below:</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/ExecuteLocal-1.png"></figure><!--kg-card-end: image--><p>Open the browser and paste the URL in the browser’s address bar. You can see the output as shown below:</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/ExecuteLocal-2.png"></figure><!--kg-card-end: image--><p>Here you can see the data we have inserted into our Azure Cosmos DB.</p><h2 id="publish-the-function-app-to-azure"><strong>Publish the Function app to Azure</strong></h2><p>We have successfully created the Function app, but it is still running in the localhost. Let’s publish the app to make it available globally.</p><p>Right-click on the <code>FAQFunctionApp</code> project and select Publish. Select the Publish target as Azure.</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/DeploytoAZ_1.png"></figure><!--kg-card-end: image--><p>Select the specific target as “Azure Function App (windows)”.</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/DeploytoAZ_2.png"></figure><!--kg-card-end: image--><p>In the next window, click on the “Create a new Azure Function…” button. A new Function App window will open. Refer to the image as shown below:</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/DeploytoAZ_3.png"></figure><!--kg-card-end: image--><p>You can fill in the details as indicated below:</p><ul><li><strong><strong>Name: </strong></strong>A globally unique name for your function app.</li><li><strong><strong>Subscription</strong></strong>: Select your Azure subscription name from the drop-down.</li><li><strong><strong>Resource Group</strong></strong>: Select an existing Resource Group or create a new one.</li><li><strong><strong>Plan Type</strong></strong>: Select Consumption. It will make sure that you pay only for executions of your functions app.</li><li><strong><strong>Location: </strong></strong>Select a location for your function.</li><li><strong><strong>Azure Storage</strong></strong>: Keep the default value.</li></ul><p>Click on the “Create” button to create the Function App and return to the previous window. Make sure the option “Run from package file” is checked. Click on the Finish button.</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/DeploytoAZ_4.png"></figure><!--kg-card-end: image--><p>Now you are at the Publish page. Click on the “Manage Azure App Service Settings” button.</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/ManageAZappSetting.png"></figure><!--kg-card-end: image--><p>You will see a “Application Settings” window as shown below:</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/SetConnString.png"></figure><!--kg-card-end: image--><p>At this point, we will configure the Remote value for the “DBConnectionString” key. This value is used when the app is deployed on Azure. Since the key for Local and Remote environment is the same in our case, click on the “Insert value from Local” button to copy the value from the Local field to the Remote field. Click on the OK button.</p><p>You are navigated back to the Publish page. We are done with all the configurations. Click on the Publish button to publish your Azure function app. After the app is published, get the site URL value, append <code>/api/covidFAQ</code> to it and open it in the browser. You can see the output as shown below.</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/ExecuteGlobally.png"></figure><!--kg-card-end: image--><p>This is the same dataset that we got while running the app locally. This proves that our serverless Azure function is deployed and able to access the Azure Cosmos DB successfully.</p><h2 id="enable-cors-for-the-azure-app-service"><strong>Enable CORS for the Azure app service</strong></h2><p>We will use the Function app in a Blazor UI project. To allow the Blazor app to access the Azure Function, we need to enable CORS for the Azure app service.</p><p>Open the Azure portal. Navigate to “All resources”. Here, you can see the App service which we have created while Publishing the app the in previous section. Click on the resource to navigate to the resource page. Click on CORS on the left navigation. A CORS details pane will open.</p><p>Now we have two options here:</p><ol><li>Enter the specific origin URL to allow them to make cross-origin calls.</li><li>Remove all origin URL from the list, and use “*” wildcard to allow all the URL to make cross-origin calls.</li></ol><p>We will use the second option for our app. Remove all the previously listed URL and enter a single entry as “*” wildcard. Click on the Save button at the top. Refer to the image shown below:</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/AZFuncCors.png"></figure><!--kg-card-end: image--><h2 id="create-the-blazor-web-assembly-project"><strong>Create the Blazor Web assembly project</strong></h2><p>Open Visual Studio 2019, click on “Create a new project”. Select “Blazor App” and click on the “Next” button. Refer to the image shown below:</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/CreateBlazorProj_1.png"></figure><!--kg-card-end: image--><p>On the “Configure your new project” window, put the project name as <code>FAQUIApp</code> and click on the “Create” button as shown in the image below:</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/CreateBlazorProj_2.png"></figure><!--kg-card-end: image--><p>On the “Create a new Blazor app” window, select the “Blazor WebAssmebly App” template. Click on the Create button to create the project. Refer to the image shown below:</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/CreateBlazorProj_3.png"></figure><!--kg-card-end: image--><p>To create a new razor component, right-click on the Pages folder, select Add &gt;&gt;Razor Component.An “Add New Item” dialog box will open, put the name of your component as <code>CovidFAQ.razor</code> and click on the Add button. Refer to the image shown below:</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/CreateRazorComp.png"></figure><!--kg-card-end: image--><p>Open <code><a href="https://github.com/AnkitSharma-007/azure-serverless-with-blazor/blob/master/FAQUIApp/FAQUIApp/Pages/CovidFAQ.razor">CovidFAQ.razor</a></code> and put the following code into it.</p><!--kg-card-begin: code--><pre><code>@page "/covidfaq"
@inject HttpClient Http

&lt;div class="d-flex justify-content-center"&gt;
    &lt;img src="../Images/COVID_banner.jpg" alt="Image" style="width:80%; height:300px" /&gt;
&lt;/div&gt;
&lt;br /&gt;
&lt;div class="d-flex justify-content-center"&gt;
    &lt;h1&gt;Frequently asked Questions on Covid-19&lt;/h1&gt;
&lt;/div&gt;
&lt;hr /&gt;

@if (questionList == null)
{
    &lt;p&gt;&lt;em&gt;Loading...&lt;/em&gt;&lt;/p&gt;
}
else
{
    @foreach (var question in questionList)
    {
        &lt;div class="card"&gt;
            &lt;h3 class="card-header"&gt;
                @question.Question
            &lt;/h3&gt;
            &lt;div class="card-body"&gt;
                &lt;p class="card-text"&gt;@question.Answer&lt;/p&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;br /&gt;
    }
}

@code {

    private FAQ[] questionList;

    protected override async Task OnInitializedAsync()
    {
        questionList = await Http.GetFromJsonAsync&lt;FAQ[]&gt;("https://faqfunctionapp20200611160123.azurewebsites.net/api/covidFAQ");
    }

    public class FAQ
    {
        public string Id { get; set; }
        public string Question { get; set; }
        public string Answer { get; set; }
    }
}
</code></pre><!--kg-card-end: code--><p>In the <code>@code</code> section, we have created a class called FAQ. The structure of this class is the same as that of the FAQ class we created earlier in the Azure function app<strong><strong>.</strong></strong> Inside the <code>OnInitializedAsync</code> method, we are hitting the API endpoint of our function app. The data returned from the API will be stored in a variable called <code>questionList</code> which is an array of type <code>FAQ</code>.</p><p>In the HTML section of the page, we have set a banner image at the top of the page. The image is available in the <code>/wwwroot/Images</code> folder. We will use a foreach loop to iterate over the <code>questionList</code> array and create a bootstrap card to display the question and answer.</p><p>The last step is to add the link of our CovidFAQ component in the navigation menu. Open <code><a href="https://github.com/AnkitSharma-007/azure-serverless-with-blazor/blob/master/FAQUIApp/FAQUIApp/Shared/NavMenu.razor#L15-L19">/Shared/NavMenu.razor</a></code> file and add the following code into it.</p><!--kg-card-begin: code--><pre><code><span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>"</span>nav-item px-3<span>"</span></span><span>&gt;</span></span>
  <span><span><span>&lt;</span>NavLink</span> <span>class</span><span><span>=</span><span>"</span>nav-link<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>covidfaq<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>span</span> <span>class</span><span><span>=</span><span>"</span>oi oi-plus<span>"</span></span> <span>aria-hidden</span><span><span>=</span><span>"</span>true<span>"</span></span><span>&gt;</span></span><span><span><span>&lt;/</span>span</span><span>&gt;</span></span> Covid FAQ
  <span><span><span>&lt;/</span>NavLink</span><span>&gt;</span></span>
<span><span><span>&lt;/</span>li</span><span>&gt;</span></span>
</code></pre><!--kg-card-end: code--><p>Remove the navigation links for Counter and Fetch-data components as they are not required for this application.</p><h2 id="execution-demo"><strong>Execution Demo</strong></h2><p>Press F5 to launch the app. Click on the Covid FAQ button on the nav menu on the left. You can see all the questions and answers in a beautiful card layout as shown below:</p><!--kg-card-begin: image--><figure><img src="https://www.freecodecamp.org/news/content/images/2020/07/BlazorExecution.png"></figure><!--kg-card-end: image--><p>You can also check the live app at <a href="https://covid19-faq.azurewebsites.net/">https://covid19-faq.azurewebsites.net/</a></p><h2 id="summary"><strong>Summary</strong></h2><p>In this article, we learned about serverless and its advantage over the traditional 3-tier web architecture. We also learned how the Azure function fits in serverless web architecture. </p><p>To demonstrate the practical implementation of these concepts, we have created a Covid-19 FAQ app using the Blazor web assembly and Azure serverless. The questions and answers are displayed in the card layout using Bootstrap. </p><p>We have used the Azure cosmos DB as the primary database to store the questions and answers for our FAQ app. An Azure function is used to fetch data from the cosmos DB. We deployed the function app on Azure to make it available globally via an API endpoint.</p><h2 id="see-also"><strong>See Also</strong></h2><ul><li><a href="https://ankitsharmablogs.com/optical-character-reader-using-blazor-and-computer-vision/">Optical Character Reader Using Blazor And Computer Vision</a></li><li><a href="https://ankitsharmablogs.com/multi-language-translator-using-blazor-and-azure-cognitive-services/">Multi-Language Translator Using Blazor And Azure Cognitive Services</a></li><li><a href="https://ankitsharmablogs.com/facebook-authentication-and-authorization-in-server-side-blazor-app/">Facebook Authentication And Authorization In Server-Side Blazor App</a></li><li><a href="https://ankitsharmablogs.com/continuous-deployment-for-angular-app-using-heroku-and-github/">Continuous Deployment For Angular App Using Heroku And GitHub</a></li><li><a href="https://ankitsharmablogs.com/google-authentication-and-authorization-in-server-side-blazor-app/">Google Authentication And Authorization In Server-Side Blazor App</a></li><li><a href="https://ankitsharmablogs.com/blazor-crud-using-google-cloud-firestore/">Blazor CRUD Using Google Cloud Firestore</a></li></ul><p>If you like the article, share with you friends. You can also connect with me on <a href="https://twitter.com/ankitsharma_007">Twitter</a> and <a href="https://www.linkedin.com/in/ankitsharma-007/">LinkedIn</a>.</p><p>Originally published at <a href="https://ankitsharmablogs.com/">https://ankitsharmablogs.com/</a></p>
                </div><p>
        Learn to code for free. freeCodeCamp's open source curriculum has helped more than 40,000 people get jobs as
        developers. <a href="https://www.freecodecamp.org/learn">Get started</a>
    </p></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs" /></noscript>
</body>
</html>
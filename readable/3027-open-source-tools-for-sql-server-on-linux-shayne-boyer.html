<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Open source tools for SQL Server on Linux - Shayne Boyer -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>Open source tools for SQL Server on Linux - Shayne Boyer</h1><div><div class="ac ae af ag ah cz aj ak"><p id="02f9" class="fm fn dc bk fo b fp fq fr fs ft fu fv fw fx fy fz cu">I am a sucker for a great tool and even better if it’s open source.</p><p id="9557" class="fm fn dc bk fo b fp fq fr fs ft fu fv fw fx fy fz cu">Recently, I wrote up a post on <a href="https://tattoocoder.com/why-should-we-care-about-containers-for-development/" class="at cg ga gb gc gd" target="_blank" rel="noopener nofollow">why we should care about containers</a> where I used SQL Server on Linux in a container and loaded some test data for an ASP.NET Core application in lieu of using a full database server.</p><p id="29c0" class="fm fn dc bk fo b fp fq fr fs ft fu fv fw fx fy fz cu"><a href="https://docs.microsoft.com/sql/linux/sql-server-linux-overview?view=sql-server-2017&amp;WT.mc_id=none-medium-shboyer" class="at cg ga gb gc gd" target="_blank" rel="noopener nofollow">SQL Server on Linux</a> has a built-in command line tool for connecting and executing commands against the database. However, each time you use it; it requires a login, password etc.</p><pre class="ge gf gg gh gi gj gk gl"><span id="40a0" class="gm gn dc bk go b eg gp gq r gr">/opt/mssql-tools/bin/sqlcmd -S localhost -d Names -U SA -P $SA_PASSWORD -I -Q "SELECT TOP 5 ID,FullName FROM Names;"</span></pre><h1 id="2de9" class="gs gn dc bk bj gt de gu dg gv gw gx gy gz ha hb hc">mssql-cli</h1><p id="e70b" class="fm fn dc bk fo b fp hd fr he ft hf fv hg fx hh fz cu">Introducing the <a href="https://github.com/dbcli/mssql-cli" class="at cg ga gb gc gd" target="_blank" rel="noopener nofollow">mssql-cli</a>, a new interactive and cross-platform CLI tool. This tool brings modern experiences to the command line including syntax highlighting, intellisense, multi-line mode, special commands, and many configuration settings. This is a huge upgrade over the interactive experience in sqlcmd.</p><figure class="ge gf gg gh gi hj cl cm paragraph-image"><h1 id="12be" class="gs gn dc bk bj gt de gu dg gv gw gx gy gz ha hb hc">Adding to a container</h1><p id="3a20" class="fm fn dc bk fo b fp hd fr he ft hf fv hg fx hh fz cu">In order to install the <strong class="fo ia">mssql-cli</strong> tool in my SQL Server on Linux container (Ubuntu 16.04), create a Dockerfile and use the instructions in the docs for Ubuntu 16.04.</p><pre class="ge gf gg gh gi gj gk gl"><span id="6c5f" class="gm gn dc bk go b eg gp gq r gr">FROM microsoft/mssql-server-linux:latest <br># Import the public repository <br>GPG keys RUN wget -qO- https://packages.microsoft.com/keys/microsoft.asc | apt-key add - </span><span id="e8b8" class="gm gn dc bk go b eg ib ic id ie if gq r gr"># Update the list of products <br>RUN apt-get update # install curl <br>RUN apt-get install curl -y </span><span id="8b56" class="gm gn dc bk go b eg ib ic id ie if gq r gr"># Register the Microsoft Ubuntu repository <br>RUN curl -o /etc/apt/sources.list.d/microsoft.list https://packages.microsoft.com/config/ubuntu/16.04/prod.list </span><span id="e2e2" class="gm gn dc bk go b eg ib ic id ie if gq r gr"># Update the list of products <br>RUN apt-get update </span><span id="3b1c" class="gm gn dc bk go b eg ib ic id ie if gq r gr"># Install mssql-cli <br>RUN apt-get install mssql-cli</span></pre><p id="6a8e" class="fm fn dc bk fo b fp fq fr fs ft fu fv fw fx fy fz cu">Build the and run the image.</p><pre class="ge gf gg gh gi gj gk gl"><span id="0e8e" class="gm gn dc bk go b eg gp gq r gr"># build the image and tag it sql1 <br>docker build -t sql1 . </span><span id="29ea" class="gm gn dc bk go b eg ib ic id ie if gq r gr"># run the image, accepting the EULA and setting the user/password for sa. <br># also used --name for ease instead of using ID <br>docker run -e 'ACCEPT_EULA=Y' -e 'SA_PASSWORD=!Passw0rd' -p 1433:1433 --name sql1 -d sql1</span></pre><p id="0ba0" class="fm fn dc bk fo b fp fq fr fs ft fu fv fw fx fy fz cu">Exec into the container and start <strong class="fo ia">mssql-cli</strong></p><pre class="ge gf gg gh gi gj gk gl"><span id="3f60" class="gm gn dc bk go b eg gp gq r gr">docker exec -it sql1 mssql-cli</span></pre><p id="6538" class="fm fn dc bk fo b fp fq fr fs ft fu fv fw fx fy fz cu">Upon start, you’ll be prompted for the username/password.</p><figure class="ge gf gg gh gi hj cl cm paragraph-image"><h1 id="2d73" class="gs gn dc bk bj gt de gu dg gv gw gx gy gz ha hb hc">SQL Operations Studio</h1><p id="9ec9" class="fm fn dc bk fo b fp hd fr he ft hf fv hg fx hh fz cu">If you prefer a GUI experience, <a href="https://docs.microsoft.com/sql/sql-operations-studio/what-is?view=sql-server-2017&amp;WT.mc_id=opensource-blog-shboyer" class="at cg ga gb gc gd" target="_blank" rel="noopener nofollow">SQL Operations Studio</a> is a new cross-platform and <a href="https://github.com/Microsoft/sqlopsstudio" class="at cg ga gb gc gd" target="_blank" rel="noopener nofollow">open source</a> database management tool that works with SQL Server, Azure SQL DB, and Azure SQL Data Warehouse.</p><p id="496b" class="fm fn dc bk fo b fp fq fr fs ft fu fv fw fx fy fz cu">Forked from VS Code, SQL Operations Studio uses many of the great editor features of VS Code while adding modern UI for interacting with SQL Server databases. In addition, there is an extensibility manager similar to VS Code so that DBAs and developers can choose the features they want.</p><h1 id="44b6" class="gs gn dc bk bj gt de gu dg gv gw gx gy gz ha hb hc">Connecting to a database</h1><p id="0387" class="fm fn dc bk fo b fp hd fr he ft hf fv hg fx hh fz cu">To connect to our docker container, the port 1433 is mapped to <strong class="fo ia">localhost:1433</strong>. Therefore, <strong class="fo ia">localhost</strong> is the server.</p><figure class="ge gf gg gh gi hj cl cm paragraph-image"><p id="cead" class="fm fn dc bk fo b fp fq fr fs ft fu fv fw fx fy fz cu">SQL Ops Studio has a ton of great capabilities beyond just running queries. You can <a href="https://docs.microsoft.com/sql/sql-operations-studio/insight-widgets?view=sql-server-2017&amp;WT.mc_id=opensource-blog-shboyer" class="at cg ga gb gc gd" target="_blank" rel="noopener nofollow">build awesome server and database management dashboards</a> too.</p><figure class="ge gf gg gh gi hj cl cm paragraph-image"><p id="8572" class="fm fn dc bk fo b fp fq fr fs ft fu fv fw fx fy fz cu">The code is open source, give it a try and provide feedback — <a href="https://github.com/Microsoft/sqlopsstudio" class="at cg ga gb gc gd" target="_blank" rel="noopener nofollow">https://github.com/Microsoft/sqlopsstudio</a></p></figure></figure></figure></figure></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
How to make a pretty prompt in Windows Terminal with Powerline, Nerd Fonts, Cascadia Code, WSL, and oh-my-posh -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>How to make a pretty prompt in Windows Terminal with Powerline, Nerd Fonts, Cascadia Code, WSL, and oh-my-posh</h1><div><div id="" class="containerInner blogBody"><p>I've blogged about <a href="https://www.hanselman.com/blog/PatchingTheNewCascadiaCodeToIncludePowerlineGlyphsAndOtherNerdFontsForTheWindowsTerminal.aspx">Patching the new Cascadia Code to include Powerline Glyphs and other Nerd Fonts for the Windows Terminal</a> but folks have asked very specifically, how do I make my prompt look like that?</p><h3>Step One - Get the Terminal</h3><p><a href="https://www.microsoft.com/en-us/p/windows-terminal-preview/9n0dx20hk701">Get Windows Terminal free from the Store</a>. You can also <a href="https://github.com/Microsoft/Terminal">get it from GitHub's releases</a> but I recommend the store because it'll stay up to date automatically.</p><p>Note that if you were an early adopter of the Windows Terminal and you've released updated beyond 0.5, I'd recommend you delete or zero-out your profiles.json and <a href="https://www.hanselman.com/blog/NowIsTheTimeToMakeAFreshNewWindowsTerminalProfilesjson.aspx">let the Terminal detect and automatically recreate your profiles.json</a>.</p><p></p><figure><img title="Lovely powerline in Windows Terminal" alt="Lovely powerline in Windows Terminal" src="https://www.hanselman.com/blog/content/binary/Windows-Live-Writer/63963d6f2af3_12BCC/image_e2447ddd-416e-4036-9584-e728455e6d9d.png" width="999" height="308"></figure><p></p><h3>Step Two for PowerShell - Posh-Git and Oh-My-Posh</h3><p>Per <a href="https://github.com/JanDeDobbeleer/oh-my-posh">these directions</a>, install Posh-Git and Oh-My-Posh. This also assumes you've <a href="https://git-scm.com/downloads">installed Git for Windows</a>.</p><pre class="brush: ps; gutter: false; toolbar: false; auto-links: false;">Install-Module posh-git -Scope CurrentUser<br>Install-Module oh-my-posh -Scope CurrentUser
</pre><p>Run these commands from PowerShell or PowerShell Core. I recommend <a href="https://github.com/PowerShell/PowerShell/releases">PowerShell 6.2.3 or above</a>. You can also use PowerShell on Linux too, so be aware. When you run Install-Module for the first time you'll get a warning that you're downloading and installing stuff from the internet so follow the prompts appropriately.</p><p>Also get <a href="https://docs.microsoft.com/en-us/powershell/module/psreadline/?view=powershell-6">PSReadline</a> if you're on PowerShell Core:</p><pre class="brush: ps; gutter: false; toolbar: false; auto-links: false;">Install-Module -Name PSReadLine -AllowPrerelease -Scope CurrentUser -Force -SkipPublisherCheck
</pre><p>Then run "notepad $PROFILE" and add these lines to the end:</p><pre class="brush: ps; gutter: false; toolbar: false; auto-links: false;">Import-Module posh-git<br>Import-Module oh-my-posh<br>Set-Theme Paradox
</pre><p>Now that word Paradox there is optional. It's <a href="https://github.com/JanDeDobbeleer/oh-my-posh#themes">actually the name of a theme and you can (and should!) pick the theme</a> that makes you happy and use that theme's name here. I like Agnoster, Paradox, or Fish, myself. Read more over here. <a href="https://github.com/JanDeDobbeleer/oh-my-posh">https://github.com/JanDeDobbeleer/oh-my-posh</a></p><h3>Step Two for Ubuntu/WSL</h3><p>There's a number of choices for Powerline or Powerline-like prompts from Ubuntu. I like Powerline-Go for it's easy defaults.</p><p>I just installed Go, then installed <a href="https://github.com/justjanne/powerline-go">powerline-go</a> with go get.</p><pre>sudo apt install golang-go<br>go get -u github.com/justjanne/powerline-go</pre><p>Add this to your ~/.bashrc. You may already have a GOPATH so be aware.</p><pre>GOPATH=$HOME/go<br>function _update_ps1() {<br>PS1="$($GOPATH/bin/powerline-go -error $?)"<br>}<br>if [ "$TERM" != "linux" ] &amp;&amp; [ -f "$GOPATH/bin/powerline-go" ]; then<br>PROMPT_COMMAND="_update_ps1; $PROMPT_COMMAND"<br>fi</pre><blockquote><p><strong>GOTCHA:</strong> If you are using WSL2, it'll be lightning fast with git prompts if your source code is in your Ubuntu/Linux mount, somewhere under ~/. However, if your source is under /mnt/c or /mnt anywhere, the git calls being made to populate the prompt are super slow. Be warned. Do your Linux source code/git work in the Linux filesystem for speed until WSL2 gets the file system faster under /mnt.</p></blockquote><p>At this point your Ubuntu/WSL prompt will look awesome as well!</p><figure><img title="Powerline in WSL" alt="Powerline in WSL" src="https://www.hanselman.com/blog/content/binary/Windows-Live-Writer/63963d6f2af3_12BCC/image_95572f40-e422-4f1d-b8ef-a038e37d08e4.png" width="999" height="188"></figure><p>Fonts look weird? Uh oh!</p><h3>Step Three - Get a better font</h3><p>If you do all this and you see squares and goofy symbols, it's likely that the font you're using doesn't have the advanced Powerline glyphs. Those glyphs are the ones that make this prompt look so cool!</p><figure><img title="Weird fonts" alt="Weird fonts" src="https://www.hanselman.com/blog/content/binary/Windows-Live-Writer/214125471cad_11603/image_47c8388e-a5ef-4326-b69c-e4b0a3cf73b5.png" width="999"></figure><p>At the time of this writing <a href="https://github.com/microsoft/cascadia-code/issues/10">there is active talk of getting Powerline and other Nerd Fonts into Cascadia Code</a>, the new font that ships with Windows Terminal. In the short term, you can get a forked version of Cascadia Code <a href="https://github.com/adam7/delugia-code/releases">called Delugia Code</a> and download that.</p><p>Then from within Windows Terminal, hit "Ctrl+," to edit your profile.json and change the "fontFace" of your profile or profiles to this:</p><pre class="brush: js; gutter: false; toolbar: false; auto-links: false;">"fontFace":  "Delugia Nerd Font",</pre><p>And that's it! </p><p>Remember also you can get lots of Nerd Fonts at <a href="https://www.nerdfonts.com/">https://www.nerdfonts.com/</a>, just make sure you get one (or generate one!) that includes the PowerLine Glyphs.</p><p>Have fun!</p><hr><p><strong>Sponsor: </strong>Suffering from a lack of clarity around software bugs? Give your customers the experience they deserve and expect with <a href="https://hnsl.mn/35RnwpW">error monitoring</a> from Raygun.com. Installs in minutes, try it today!</p></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
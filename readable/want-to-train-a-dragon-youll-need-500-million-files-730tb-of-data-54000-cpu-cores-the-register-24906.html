<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Want to train a dragon? You&#x27;ll need 500 million files, 730TB of data, 54,000 CPU cores... - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Want to train a dragon? You&#x27;ll need 500 million files, 730TB of data, 54,000 CPU cores... - linksfor.dev(s)"/>
    <meta property="article:author" content="24&#xA0;May&#xA0;2019&#xA0;at&#xA0;08:40"/>
    <meta property="og:description" content="DreamWorks picks Gremlin to weave digital marvels"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://www.theregister.co.uk/2019/05/24/dreamworks_data_pipeline/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Want to train a dragon? You&#x27;ll need 500 million files, 730TB of data, 54,000 CPU cores...</title>
<div class="readable">
        <h1>Want to train a dragon? You&#x27;ll need 500 million files, 730TB of data, 54,000 CPU cores...</h1>
            <div>by 24&#xA0;May&#xA0;2019&#xA0;at&#xA0;08:40</div>
            <div>Reading time: 5-7 minutes</div>
        <div>Posted here: 24 May 2019</div>
        <p><a href="https://www.theregister.co.uk/2019/05/24/dreamworks_data_pipeline/">https://www.theregister.co.uk/2019/05/24/dreamworks_data_pipeline/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
                
                
                <h2>DreamWorks picks Gremlin to weave digital marvels</h2>
                

                
                
                
    

                

                            <p><img src="https://regmedia.co.uk/2019/05/24/gremlin_shutterstock.jpg?x=442&amp;y=293&amp;crop=1" alt="gremlin" width="442" height="293">
            </p></div><div id="body">
                
                <p><strong>DataStax Accelerate</strong> Family favourite DreamWorks Animation has built a cloud platform powered by microservices that uses a graph database and Gremlin query language to guide the production of its films.</p>
                <p>This digital pipeline handles everything from early pre-visualisation to the final render and will be employed in its next feature. This setup has been tested at length – the software engineers created an entire fake show to make sure it can do the job. The architecture of the platform was discussed for the first time at the DataStax Accelerate conference in America's capital this week.</p>
                <p>3D animation has come a long way in the past two decades – the increasing <a target="_blank" rel="nofollow" href="https://youtu.be/Ap0NRJD-2ts">complexity of images</a> has pushed Hollywood to look for faster software and hardware. It may not be the first thing that comes to mind when you think about <i>Madagascar</i> or <i>Kung Fu Panda</i>, but these are technological, as much as they are artistic, achievements.</p>
                <p>"The workflow is massive," Doug Sherman, principal engineer at DreamWorks, told the audience. "There's just tons and tons of process, tons of files. So how do we capture all of that information?"</p>
                <h3>
  <span>Here there be dragons</span>
</h3>
                <p>The team was happy to furnish an example: the first <i>Shrek</i> film (2001) had a single dragon, involved 4.5 million files and 7TB of data, and required 2,000 CPUs.</p>
                <p>DreamWorks' latest <i>How To Train Your Dragon</i> instalment, released in February, featured 60,000 different dragons, involved 500 billion files and 730TB of data, and required 54,000 CPU cores to render it – all used at a time when the studio was releasing three films per year.</p>
                <p>"They take years to produce," Sherman said. "Seven to ten movies are being produced in any given year, so you have to multiply all of those numbers by ten.</p>
                <p>"A lot of television animation, a lot of studios that don't quite spend what DreamWorks spends, will shy away from more complicated stories because there's a lot of tech involved in telling those stories. We just go for it – insane or not."</p>
                
                <p>DreamWorks needed a way to track and manage the entire process of creating a film, linking different stages of production together. The studio chose to do this through DataStax Enterprise Graph, which is based on two open-source projects: Apache Cassandra, a NoSQL database originally developed at Facebook, and Apache TinkerPop, a graph computing framework supported by multiple database vendors.</p>
                <p>Graph databases are normally used to identify and analyse relationships between datapoints; at DreamWorks, the datapoints are the CGI assets like 3D models, lighting and rigs – the virtual bones that move the models. "This is the stuff that trades hands from one department to the next until the completion of the movie," Sherman said.</p>
                <p>"The whole reason we are talking about graph is because our script team, our simple way of doing these things, our brute-force methods were never going to scale – and we wanted to do more and more complexity. So we looked to microservices.</p>
                <p>"Because those designs play very well to cloud, we are positioned much better than we have been in the past to handle the times when India decides they want to help us on some things, and the China studio wants to collaborate – the software which wasn't compatible with this way of working is now compatible, because it is containerized and distributed."</p>
                <h3>
  <span>Yum yum</span>
</h3>
                <p>One of the most important elements of DreamWorks' technology stack is Gremlin – a <a target="_blank" rel="nofollow" href="https://arxiv.org/abs/1508.03843">relatively new</a> graph traversal language that sits at the core of TinkerPop and essentially serves the same purpose that SQL does in relational databases.</p>
                <p>"Gremlin has a steep, steep learning curve – it's very complicated," Sean Fennell, senior software engineer at DreamWorks, said. "With that complicated learning curve comes power, but it took a long time to learn the right ways to access data, right ways to write data, and we're still working through a lot of these things.</p>
                <p>"Gremlin can do a lot more of the processing for us than any other query languages are able to do," he added.</p>
                <p>The DreamWorks team had no previous experience in graph databases, having historically relied on relational DBs, but it was brave enough to try – after hearing about how graph was applied at Netflix.</p>
                <p>"When we were building a proof of concept, we really wanted to work directly with production, we wanted to build something that was real – we didn't want to make a tinker toy in a box and hand it over to them," Fennell said. "We built a mock show. And in doing that we proved that yes, you can use graph for this purpose."</p>
                <p>"This is the heart of the machine – literally our entire process would be in this graph database. And it is – we're about to go live with this on our next feature," Sherman added. ®</p>
                
                <p>
                    <span>Sponsored: </span>
                    <a href="https://go.theregister.co.uk/tl/1889/-8120/detecting-cyber-attacks-as-a-small-to-medium-business?td=wptl1889">Detecting cyber attacks as a small to medium business</a>
                </p>
            </div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
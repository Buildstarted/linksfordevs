<!DOCTYPE html>
<html lang="en">
<head>
    <title>
braver-browser/braver-browser - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.min.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="braver-browser/braver-browser - linksfor.dev(s)"/>
    <meta property="og:description" content="Next generation Brave browser for macOS, Windows, Linux, Android. - braver-browser/braver-browser"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://github.com/braver-browser/braver-browser"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1 style="margin: unset">
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - braver-browser/braver-browser</title>
<div class="readable">
        <h1>braver-browser/braver-browser</h1>
            <div>Reading time: 5-6 minutes</div>
        <div>Posted here: 07 Jul 2020</div>
        <p><a href="https://github.com/braver-browser/braver-browser">https://github.com/braver-browser/braver-browser</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
    <p>
        This branch is 14 commits ahead, 137 commits behind brave:master.
    </p>
    
  </div><div id="readme">
    
        

      <div>
        <article itemprop="text"><p><a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/36a0fb4d36122682095d0ad0daec401f2211882e/68747470733a2f2f692e696d6775722e636f6d2f6650435a4b534a2e706e67"><img src="https://camo.githubusercontent.com/36a0fb4d36122682095d0ad0daec401f2211882e/68747470733a2f2f692e696d6775722e636f6d2f6650435a4b534a2e706e67" alt="Braver Browser" data-canonical-src="https://i.imgur.com/fPCZKSJ.png"></a></p>

<p>A non-profit community-maintained Brave browser without any adware or crypto tokens.</p>
<p><strong>Braver is still in progress. Braver is looking for contributors!</strong></p>
<p><a href="https://discord.gg/XMAyYA4" rel="nofollow">Join Braver on Discord</a></p>
<h2>Overview</h2>
<p>This repository holds the build tools needed to build the Braver desktop browser for macOS, Windows, and Linux.  In particular, it fetches and syncs code from the projects we define in <code>package.json</code> and <code>src/brave/DEPS</code>:</p>
<ul>
<li><a href="https://chromium.googlesource.com/chromium/src.git" rel="nofollow">Chromium</a>
<ul>
<li>Fetches code via <code>depot_tools</code>.</li>
<li>sets the branch for Chromium (ex: 65.0.3325.181).</li>
</ul>
</li>
<li><a href="https://github.com/braver-browser/braver-core">brave-core</a>
<ul>
<li>Mounted at <code>src/brave</code>.</li>
<li>Maintains patches for 3rd party Chromium code.</li>
</ul>
</li>
<li><a href="https://github.com/brave/adblock-rust">adblock-rust</a>
<ul>
<li>Implements Brave's ad-block engine.</li>
<li>Linked through <a href="https://github.com/brave/adblock-rust-ffi">brave/adblock-rust-ffi</a></li>
</ul>
</li>
</ul>
<h2>Contributing</h2>
<p>Please see the <a href="https://github.com/braver-browser/braver-browser/blob/master/CONTRIBUTING.md">contributing guidelines</a></p>
<p>Follow <a href="https://twitter.com/BraverBrowser" rel="nofollow">@braver</a> on Twitter for important news and announcements.</p>
<h2>Install prerequisites</h2>
<p>Follow the instructions for your platform:</p>
<ul>
<li><a href="https://github.com/brave/brave-browser/wiki/macOS-Development-Environment">macOS</a></li>
<li><a href="https://github.com/brave/brave-browser/wiki/Windows-Development-Environment">Windows</a></li>
<li><a href="https://github.com/brave/brave-browser/wiki/Linux-Development-Environment">Linux/Android</a></li>
</ul>
<h2>Clone and initialize the repo</h2>
<p>Once you have the prerequisites installed, you can get the code and initialize the build environment.</p>
<div><pre>git clone git@github.com:braver-browser/braver-browser.git
<span>cd</span> braver-browser
npm install

<span><span>#</span> this takes 30-45 minutes to run</span>
<span><span>#</span> the Chromium source is downloaded which has a large history</span>
npm run init

<span><span>#</span> if you'd like to run it faster without downloading Chromium's source history</span>
npm run init --no-history</pre></div>
<p>brave-core based android builds should use <code>npm run init -- --target_os=android --target_arch=arm</code> (or whatever cpu type you want to build for)</p>
<p>You can also set the target_os and target_arch for init and build using</p>
<pre><code>npm config set target_os android
npm config set target_arch arm
</code></pre>
<h2>Build Braver</h2>
<p>The default build type is component.</p>
<pre><code># start the component build compile
npm run build
</code></pre>
<p>To do a release build:</p>
<pre><code># start the release compile
npm run build Release
</code></pre>
<p>brave-core based android builds should use <code>npm run build -- --target_os=android --target_arch=arm</code> or set the npm config variables as specified above for <code>init</code></p>
<h3>Build Configurations</h3>
<p>Running a release build with <code>npm run build Release</code> can be very slow and use a lot of RAM especially on Linux with the Gold LLVM plugin.</p>
<p>To run a statically linked build (takes longer to build, but starts faster)</p>

<p>To run a debug build (Component build with is_debug=true)</p>

<p>You may also want to try [[using sccache|sccache-for-faster-builds]].</p>
<h2>Run Braver</h2>
<p>To start the build:</p>
<p><code>npm start [Release|Component|Static|Debug]</code></p>

<p><code>npm run sync -- [--force] [--init] [--create] [brave_core_ref]</code></p>
<p><strong>This will attempt to stash your local changes in brave-core, but it's safer to commit local changes before running this</strong></p>
<p><code>npm run sync</code> will (depending on the below flags):</p>
<ol>
<li><g-emoji alias="inbox_tray" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f4e5.png">üì•</g-emoji> Update sub-projects (chromium, brave-core) to latest commit of a git ref (e.g. tag or branch)</li>
<li><g-emoji alias="face_with_head_bandage" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f915.png">ü§ï</g-emoji> Apply patches</li>
<li><g-emoji alias="arrows_counterclockwise" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f504.png">üîÑ</g-emoji> Update gclient DEPS dependencies</li>
<li><g-emoji alias="fast_forward" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/23e9.png">‚è©</g-emoji> Run hooks (e.g. to perform <code>npm install</code> on child projects)</li>
</ol>
<table>
<thead>
<tr>
<th>flag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>[no flags]</code></td>
<td>updates chromium if needed and re-applies patches. If the chromium version did not change it will only re-apply patches that have changed. Will update child dependencies <strong>only if any project needed updating during this script run</strong> <br> **Use this if you want the script to manage keeping you up to date instead of pulling or switching branch manually. **</td>
</tr>
<tr>
<td><code>--create</code></td>
<td>when used with <code>brave_core_ref</code> it will create a branch if one does not already exist</td>
</tr>
<tr>
<td><code>--force</code></td>
<td>updates both <em>Chromium</em> and <em>brave-core</em> to the latest remote commit for the current brave-core branch and the <em>Chromium</em> ref specified in brave-browser/package.json (e.g. <code>master</code> or <code>74.0.0.103</code>). Will re-apply all patches. Will force update all child dependencies <br> **Use this if you're having trouble and want to force the branches back to a known state. **</td>
</tr>
<tr>
<td><code>--init</code></td>
<td>force update both <em>Chromium</em> and <em>brave-core</em> to the versions specified in brave-browser/package.json and force updates all dependent repos - same as <code>npm run init</code></td>
</tr>
</tbody>
</table>
<p>Run <code>npm run sync brave_core_ref</code> to checkout the specified <em>brave-core</em> ref and update all dependent repos including chromium if needed</p>
<h3>Scenarios</h3>
<h4>Create a new branch</h4>
<div><pre>brave-core<span>&gt;</span> git checkout -b branch_name</pre></div>
<p>or</p>
<div><pre>braver-browser<span>&gt;</span> npn run sync -- --create branch_name</pre></div>
<h3>Checkout an existing branch or tag</h3>
<div><pre>braver-core<span>&gt;</span> git fetch origin
braver-core<span>&gt;</span> git checkout [-b] branch_name
braver-core<span>&gt;</span> npm run sync
...Updating 2 patches...
...Updating child dependencies...
...Running hooks...</pre></div>
<p>or</p>
<div><pre>braver-browser<span>&gt;</span> npn run sync --create branch_name
...Updating 2 patches...
...Updating child dependencies...
...Running hooks...</pre></div>
<h3>Update the current branch to latest remote</h3>
<div><pre>braver-core<span>&gt;</span> git pull
braver-core<span>&gt;</span> npm run sync
...Updating 2 patches...
...Updating child dependencies...
...Running hooks...</pre></div>
<h4>Reset to latest braver-browser master, braver-core master and chromium</h4>
<div><pre>braver-browser<span>&gt;</span> git checkout master
braver-browser<span>&gt;</span> git pull
braver-browser<span>&gt;</span> npm run sync -- --init</pre></div>
<h4>When you know that DEPS didn't change, but .patch files did (quickest)</h4>
<div><pre>braver-core<span>&gt;</span> git checkout featureB
braver-core<span>&gt;</span> git pull
braver-browser<span>&gt;</span> npm run apply_patches
...Applying 2 patches...</pre></div>

<p>See <a href="https://github.com/braver-browser/braver-browser/wiki/Troubleshooting">Troubleshooting</a> for solutions to common problems.</p>
</article>
      </div>
  </div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Fabulous adventures in coding -
linksfor.dev(s)
    </title>
	<link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <h1>Fabulous adventures in coding</h1>
    <p id="content"> <article id="post-6648" class="post-6648 post type-post status-publish format-standard hentry category-uncategorized"> <div class="entry-content"> <p>While watching the first episode of the new Star Trek series just now I noticed a nice little Easter egg:</p>
<p><a href="https://ericlippert.files.wordpress.com/2020/01/picard.jpg"><img class="alignnone size-large wp-image-6649" src="https://ericlippert.files.wordpress.com/2020/01/picard.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2020/01/picard.jpg?w=584&amp;h=406 584w, https://ericlippert.files.wordpress.com/2020/01/picard.jpg?w=150&amp;h=104 150w, https://ericlippert.files.wordpress.com/2020/01/picard.jpg?w=300&amp;h=209 300w, https://ericlippert.files.wordpress.com/2020/01/picard.jpg?w=768&amp;h=534 768w, https://ericlippert.files.wordpress.com/2020/01/picard.jpg 867w" sizes="(max-width: 584px) 100vw, 584px"></a></p>
<p>Admiral Picard (retired) apparently has the same 1982 science fiction book club edition of The Complete Robot handy on his desk as I have on mine:</p>
<p><a href="https://ericlippert.files.wordpress.com/2020/01/20200124_000502.jpg"><img class="alignnone size-large wp-image-6651" src="https://ericlippert.files.wordpress.com/2020/01/20200124_000502.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2020/01/20200124_000502.jpg?w=584&amp;h=438 584w, https://ericlippert.files.wordpress.com/2020/01/20200124_000502.jpg?w=1168&amp;h=876 1168w, https://ericlippert.files.wordpress.com/2020/01/20200124_000502.jpg?w=150&amp;h=113 150w, https://ericlippert.files.wordpress.com/2020/01/20200124_000502.jpg?w=300&amp;h=225 300w, https://ericlippert.files.wordpress.com/2020/01/20200124_000502.jpg?w=768&amp;h=576 768w, https://ericlippert.files.wordpress.com/2020/01/20200124_000502.jpg?w=1024&amp;h=768 1024w" sizes="(max-width: 584px) 100vw, 584px"></a></p>
<p>though frankly, his copy seems to be in better shape than mine.</p>
<p>Anyone know what the book below it is?</p> <p>UPDATE: My friend Brian R has identified a likely candidate for the second book. It appears to be the Easton Press edition of The Three Musketeers:</p>
<p><img class="alignnone size-full wp-image-6655" src="https://ericlippert.files.wordpress.com/2020/01/1531750680401-2085b780c4dd6aa63d0e3c83faf6d11d10eb96c666772ad3ccf45e9a1158c23f1-e1579990160462.jpg?w=584" alt="1531750680401-2085b780c4dd6aa63d0e3c83faf6d11d10eb96c666772ad3ccf45e9a1158c23f[1]" srcset="https://ericlippert.files.wordpress.com/2020/01/1531750680401-2085b780c4dd6aa63d0e3c83faf6d11d10eb96c666772ad3ccf45e9a1158c23f1-e1579990160462.jpg?w=584 584w, https://ericlippert.files.wordpress.com/2020/01/1531750680401-2085b780c4dd6aa63d0e3c83faf6d11d10eb96c666772ad3ccf45e9a1158c23f1-e1579990160462.jpg?w=150 150w, https://ericlippert.files.wordpress.com/2020/01/1531750680401-2085b780c4dd6aa63d0e3c83faf6d11d10eb96c666772ad3ccf45e9a1158c23f1-e1579990160462.jpg?w=300 300w, https://ericlippert.files.wordpress.com/2020/01/1531750680401-2085b780c4dd6aa63d0e3c83faf6d11d10eb96c666772ad3ccf45e9a1158c23f1-e1579990160462.jpg?w=768 768w, https://ericlippert.files.wordpress.com/2020/01/1531750680401-2085b780c4dd6aa63d0e3c83faf6d11d10eb96c666772ad3ccf45e9a1158c23f1-e1579990160462.jpg 810w" sizes="(max-width: 584px) 100vw, 584px"></p> </div> </article> <article id="post-6609" class="post-6609 post type-post status-publish format-standard hentry category-uncategorized"> <div class="entry-content"> <p>One last post for this decade.</p>
<p>There has been some discussion on tech twitter lately on the subject of whether it is possible to be &#x201C;successful&#x201D; in the programming business without working long hours. I won&#x2019;t dignify the posts which started this conversation off &#x2014; firmly in the &#x201C;not possible&#x201D; camp &#x2014; with a link; you can find them easily enough I suspect.</p>
<p>My first thought upon seeing this discussion was &#x201C;<em>well that&#x2019;s just dumb</em>&#x201C;. The whole thing struck me as basically illogical for two reasons. First, because it was vague; &#x201C;success&#x201D; is relative to goals, and everyone has different goals. Second, because any universal statement like <em>&#x201C;the only way to achieve success in programming is by working long hours&#x201D;</em> can be refuted by a single counterexample and I am one! My career has been a success so far; I&#x2019;ve worked on interesting technology, mentored students, made friends along the way, and been well compensated. But I have always worked long hours very rarely; only a handful of times in 23 years.</p>
<p>Someone said something dumb on the internet, the false universal statement was<em> directly refuted</em> by me in a <em>devastatingly logical</em> manner just now, and we can all move on, right?</p>
<p>Well, no.</p>
<p>My refutation &#x2014; my personal, anecdotal refutation &#x2014; answers in the affirmative the question <em>&#x201C;Is it possible for any one computer programmer, anywhere in the world right now, to be successful without working long hours?&#x201D;</em> but that is not an interesting or relevant question. <em>My first thought was also pretty dumb.</em></p>
<p>Can we come up with some better questions? Let&#x2019;s give it a shot. I&#x2019;ll start with the personal and move to the general.</p> <p><em>We&#x2019;ve seen that long hours were not a <strong>necessary</strong> precondition to my success. What were the <strong>sufficient</strong> preconditions?</em></p>
<p>I was born into a middle-class, educated family in Canada. I had an excellent public education with teachers who were experts in their fields and genuinely cared about their students. I used family connections to get good high school jobs with strong mentors. Scholarships, internships, a supportive family and some talent for math allowed me to graduate from university with in-demand skills and no debt, with a <em>career</em> waiting for me, not just a <em>job.</em> I&#x2019;ve been in good health my whole life. When I had problems I had access to professionals who helped me, and who were largely paid by insurance.</p>
<p>Did I <em>work</em> throughout all of that? Sure! Was it always <em>easy</em>? No! But <strong>my privileged background enabled me to transform working reasonable hours at a desk into success.</strong></p>
<p>Now it is perhaps more clear why my &#x201C;refutation&#x201D; was so dumb, and that brings us to our next better question:</p> <p><em>If we subtract some of those privileges, does it become more and more likely that working long hours becomes a necessary precondition for success in our business?</em></p>
<p>If you&#x2019;re starting on a harder difficulty level &#x2014; starting from poverty, without industry or academic connections, if you&#x2019;re self-taught, if you&#x2019;re facing the headwinds of discrimination, prejudice or harassment, if you have legal or medical or financial or family problems to solve on top of work problems<em> &#x2014; there are not that many knobs you can turn</em> that increase your chance of success. It seems reasonable that &#x201C;work more hours&#x201D; is one of those knobs you can turn much more easily than &#x201C;get more industry contacts&#x201D;.</p>
<p>The original statement is maybe a little too strong, but what if we weaken it a bit? Maybe to something like &#x201C;<i>working long hours is a good idea in this business because it greatly increases your chances of success, particularly if you&#x2019;re facing a headwind.</i>&#x201D; What if we charitably read the original statement more like that?</p>
<p>This is a statement that might be true or it might be false. We could do research to find out &#x2014; and indeed, there is some research to suggest that there is <strong>not</strong> a clear causation between working more hours and being more successful. But the point here is that the weakened statement is at least <em>not immediately refutable.&#xA0;</em></p>
<p>This then leads us from a question about how the world <em>is</em> to how it <em>ought</em> to be, but I&#x2019;m going to come back to that one. Before that I want to dig in a bit more to the original statement, not from the point of view of <em>correctness</em>, or even <em>plausibility</em>, but from the point of view of<em> who benefits by making the statement</em>.</p> <p><em>Suppose we all take to heart the advice that we should be working longer to achieve success. Who benefits?</em></p>
<p>I don&#x2019;t know the people involved, and I don&#x2019;t like to impute motives to people I don&#x2019;t know. I encourage people to read charitably. <strong>But I am having a hard time believing the apologia I outlined in the preceding section was intended</strong>. The intended call to action here was not &#x201C;<em>let&#x2019;s all think about how structural issues in our economy and society incent workers from less privileged backgrounds to work longer hours for the same pay.</em>&#x201D; <em>Should</em> we think about that? Yes. But that was not the <em>point</em>. The point being made was a <em>lot</em> simpler.</p>
<p>The undeniable subtext to <em>&#x201C;you need to work crazy hours to succeed&#x201D;</em> is <em>&#x201C;anyone not achieving success has their laziness to blame; they should have worked harder, and you don&#x2019;t want to be like them, do you?&#x201D;</em></p>
<p><strong>That is propaganda.</strong> When you say the quiet part out loud, it sounds more like <em>&#x201C;the income of the idle rich depends on capturing the value produced by the labours of everyone else, so make sure you are always producing value that they can capture. Maybe they will let you see some of that value, someday.&#x201D;&#xA0;</em></p>
<p>Why would anyone choose to produce value to be confiscated by billionaires?<strong> Incentives matter and the powerful control the incentives.</strong> Success is the <em>carrot</em>; poverty and/or crippling debt is the <em>stick</em>.</p>
<p>Those afforded less privilege get more and more of the stick. <strong>If hard work and long hours could be consistently transformed into &#x201C;success&#x201D;, then my friends and family who are teachers, nurses, social workers and factory workers would be far more successful than I am. </strong>They definitely work both longer and harder than I do, but they have far less ability to transform that work into success.</p>
<p>That to me is the real reason to push back on the notion that <em>long hours and hard work are a necessary precondition of success</em>: not because it is <em>false</em> but because <strong>it is propaganda in service of weakening further the less privileged</strong>. <em>&#x201C;It is proper and desirable to weaken the already-weak in order to further strengthen the already-strong&#x201D;</em> is as good a working definition of &#x201C;evil&#x201D; as you&#x2019;re likely to find.</p>
<p>The original statement isn&#x2019;t helpful advice. It isn&#x2019;t a rueful commentary on disparity in the economy.<strong> It&#x2019;s a call to produce more profit now in return for little more than a vague promise of possible future success.&#xA0;</strong></p> <p><em>Should long hours be a precondition for success for anyone irrespective of their privileges?</em></p>
<p>First off, I would like to see a world where everyone started with a stable home, food on the table, a high quality education, and so on, and I believe we should be working towards that end as a society, and as a profession.</p>
<p>We&#x2019;re not there, and<em> I don&#x2019;t know how to get there</em>. Worse, there are powerful forces that prefer increasing disparities rather than reducing them.</p>
<p>Software is in many ways unique. It&#x2019;s the reification of algorithmic thought. It has effectively zero marginal costs. The industry is broad and affords contributions from people at many skill levels and often irrespective of location. The tools that we build amplify other&#x2019;s abilities. And we build better tools for the world when the builders reflect the diversity of that world.</p>
<p>I would much rather see a world in which<strong> anyone with the interest in this work could be as successful as I have been</strong>, than this world where the majority have to sacrifice extra time and energy in the service of profits they don&#x2019;t share in.</p>
<p>Achieving that will be hard, and like I said, I don&#x2019;t know how to effect a structural change of this magnitude. But we can at least start by recognizing propaganda when we see it, and calling it out.</p> <p>I hate to end the decade on my blog on such a down note, but 2020 is going to be hard for a lot of people, and we are all going to hear a <em>lot</em> of propaganda. Watch out for it, and don&#x2019;t be fooled by it.</p>
<p>If you&#x2019;re successful, that&#x2019;s great; I am very much in favour of success. <strong>See if you can use some of your success in 2020 to increase the chances for people who were not afforded all the privileges that turned your work into that success.</strong></p>
<p>Happy New Year all; I hope we all do good work that leads to success in the coming year. We&#x2019;ll pick up with some more fabulous adventures in coding in 2020.</p> <p>Thanks to my friend <a href="https://twitter.com/editorlisaquinn">@editorlisaquinn</a> for her invaluable assistance in helping me clarify my thoughts for this post.</p> </div> </article> <article id="post-6585" class="post-6585 post type-post status-publish format-standard hentry category-uncategorized tag-fixing_random"> <div class="entry-content"> <p>You might recall that before my immensely long series on ways we could make C# a probabilistic programming language, I did a short series on how we can automatically computed the exact derivative in any direction of a real-valued function of any number of variables for a small cost, by using <a href="https://ericlippert.com/2019/01/07/dual-numbers-part-1/">dual numbers</a>. All we need is for the function we are computing to be computed by addition, subtraction, multiplication, division and exponentiation of functions whose derivatives are known, which is quite a lot of possible functions.</p>
<p>There is a reason why I did that topic before &#x201C;Fixing Random&#x201D;, but sadly I never got to the connection between differential calculus and sampling from an arbitrary distribution. I thought I might spend a couple of episodes sketching out how it is useful to use automatic differentiation when trying to sample from a distribution. I&#x2019;m not going to write the code; I&#x2019;ll just give some of the &#x201C;flavour&#x201D; of the algorithms.</p>
<p>Before I get into it, a quick refresher on the Metropolis algorithm. The algorithm is:</p>
<ul>
<li>We have a probability distribution function that takes a point and returns a double that is the &#x201C;probability weight&#x201D; of that point. The PDF need not be &#x201C;normalized&#x201D;; that is, the area under the curve need not add up to 1.0. We wish to generate a series of samples that conforms to this distribution.</li>
<li>We choose a random &#x201C;initial point&#x201D; as the <em>current</em> sample.</li>
<li>We randomly choose a <em>candidate</em> sample from some distribution based solely on the current sample.</li>
<li>If the candidate is higher weight than current, it becomes the new current and we yield the value as the sample.</li>
<li>If it is lower weight, then we take the ratio of candidate weight to current weight, which will be between 0.0 and 1.0. We flip an unfair coin with that probability of getting heads. Heads, we accept the candidate, tails we reject it and try again.</li>
<li>Repeat; choose a new candidate based on the new current.</li>
</ul>
<p>The Metropolis algorithm is straightforward and works, but it has a few problems.</p>
<ul>
<li><strong>How do we choose the initial point?</strong></li>
</ul>
<p>Since Metropolis is typically used to compute a posterior distribution after an observation, and we typically have the prior distribution in hand, we can use the prior distribution as our source of the initial point.</p>
<ul>
<li><strong>What if the initial point is accidentally in a low-probability region?</strong> We might produce a series of unlikely samples before we eventually get to a high-probability current point.</li>
</ul>
<p>We can solve this by &#x201C;burning&#x201D; &#x2014; discarding &#x2014; some number of initial samples; we waste computation cycles so we would like the number of samples it takes to get to<br>
&#x201C;convergence&#x201D; to the true distribution to be small. As we&#x2019;ll see, there are ways we can use automatic differentiation to help solve this problem.</p>
<ul>
<li><strong>What distribution should we use to choose the next candidate given the current sample?</strong></li>
</ul>
<p>This is a tricky problem. The examples I gave in this series were basically &#x201C;choose a new point by sampling from a normal distribution where the mean is the current point&#x201D;, which seems reasonable, but then you realize that the question has been begged. A normal distribution has two parameters: the mean and the standard deviation. The standard deviation corresponds to &#x201C;how big a step should we typically try?&#x201D;&#xA0; If the deviation is too large then we will step from high-probability regions to low-probability regions frequently, which means that we discard a lot of candidates, which wastes time. If it is too small then we get &#x201C;stuck&#x201D; in a high-probability region and produce a lot of samples close to each other, which is also bad.</p>
<p>Basically, we have a &#x201C;tuning parameter&#x201D; in the standard deviation and it is not obvious how to choose it to get the right combination of good performance and uncorrelated samples.</p>
<p>These last two problems lead us to ask an important question: <strong>is there information we can obtain from the weight function that helps us choose a consistently better candidate? </strong>That would lower the time to convergence and might also result in fewer rejections when we&#x2019;ve gotten to a high-probability region.</p>
<p>I&#x2019;m going to sketch out one such technique in this episode, and another in the next.</p>
<p>As I noted above, Metropolis is frequently used to sample points from a high-dimensional distribution; to make it easier to understand, I&#x2019;ll stick to one-dimensional cases here, but imagine that instead of a simple curve for our PDF, we have a complex multidimensional surface.</p>
<p>Let&#x2019;s use as our motivating example the mixture model from many episodes ago:</p>
<p><img class="alignnone size-full wp-image-6590" src="https://ericlippert.files.wordpress.com/2019/12/screen-shot-2019-12-10-at-12.18.08-pm.png?w=584" alt="Screen Shot 2019-12-10 at 12.18.08 PM.png" srcset="https://ericlippert.files.wordpress.com/2019/12/screen-shot-2019-12-10-at-12.18.08-pm.png?w=584 584w, https://ericlippert.files.wordpress.com/2019/12/screen-shot-2019-12-10-at-12.18.08-pm.png?w=150 150w, https://ericlippert.files.wordpress.com/2019/12/screen-shot-2019-12-10-at-12.18.08-pm.png?w=300 300w, https://ericlippert.files.wordpress.com/2019/12/screen-shot-2019-12-10-at-12.18.08-pm.png?w=768 768w, https://ericlippert.files.wordpress.com/2019/12/screen-shot-2019-12-10-at-12.18.08-pm.png?w=1024 1024w, https://ericlippert.files.wordpress.com/2019/12/screen-shot-2019-12-10-at-12.18.08-pm.png 1101w" sizes="(max-width: 584px) 100vw, 584px"></p>
<p>Of course we can sample from this distribution directly if we know that it is the sum of two normal distributions, but let&#x2019;s suppose that we don&#x2019;t know that. We just have a function which produces this weight.&#xA0; Let me annotate this function to say where we want to go next if the current sample is in a particular region.</p>
<p><img class="alignnone size-full wp-image-6592" src="https://ericlippert.files.wordpress.com/2019/12/annotated.jpg?w=584" alt="Annotated.jpg" srcset="https://ericlippert.files.wordpress.com/2019/12/annotated.jpg?w=584 584w, https://ericlippert.files.wordpress.com/2019/12/annotated.jpg?w=1166 1166w, https://ericlippert.files.wordpress.com/2019/12/annotated.jpg?w=150 150w, https://ericlippert.files.wordpress.com/2019/12/annotated.jpg?w=300 300w, https://ericlippert.files.wordpress.com/2019/12/annotated.jpg?w=768 768w, https://ericlippert.files.wordpress.com/2019/12/annotated.jpg?w=1024 1024w" sizes="(max-width: 584px) 100vw, 584px"></p>
<p>I said that we could use the derivative to help us, but it is very unclear from this diagram how the derivative helps:</p>
<ul>
<li>The derivative is small and positive in the region marked &#x201C;go hard right&#x201D; and in the immediate vicinity of the two peaks and one valley.</li>
<li>The derivative is large and positive in the &#x201C;slight right&#x201D; region and to the left of the tall peak.</li>
<li>The derivative is large and negative in the &#x201C;slight left&#x201D; region and on the right of the small peak.</li>
<li>The derivative is small and negative in the &#x201C;hard left&#x201D; region and in the immediate vicinity of the peaks and valley.</li>
</ul>
<p>No particular value for the derivative clearly identifies a region of interest. It seems like we cannot use the derivative to help us out here; what we really want is to move away from small-area regions and towards large-area regions.</p>
<p>Here&#x2019;s the trick.</p>
<p>Ready?</p>
<p>I&#x2019;m going to graph the <em>log</em> of the weight function below the weight function:</p>
<p><img class="alignnone size-full wp-image-6593" src="https://ericlippert.files.wordpress.com/2019/12/screen-shot-2019-12-10-at-12.44.39-pm.png?w=546" alt="Screen Shot 2019-12-10 at 12.44.39 PM.png" srcset="https://ericlippert.files.wordpress.com/2019/12/screen-shot-2019-12-10-at-12.44.39-pm.png 546w, https://ericlippert.files.wordpress.com/2019/12/screen-shot-2019-12-10-at-12.44.39-pm.png?w=141 141w, https://ericlippert.files.wordpress.com/2019/12/screen-shot-2019-12-10-at-12.44.39-pm.png?w=282 282w" sizes="(max-width: 546px) 100vw, 546px"></p>
<p><em>Now look at the slope of the log-weight</em>. It is very positive in the &#x201C;move hard right&#x201D; region, and becomes more and more positive the farther left we go! Similarly in the &#x201C;move hard left&#x201D; region; the slope of the log-weight is very negative, and becomes more negative to the right.</p>
<p>In the &#x201C;slight right&#x201D; and &#x201C;slight left&#x201D; regions, the slope becomes more moderate, and when we are in the &#x201C;stay around here&#x201D; region, the slope of the log-weight is close to zero.<em> This is what we want.</em></p>
<p>(ASIDE: Moreover, this is even more what we want because in realistic applications we often <em>already</em> have the log-weight function in hand, not the weight function. Log weights are convenient because you can represent arbitrarily small probabilities with &#x201C;normal sized&#x201D; numbers.)</p>
<p>We can then use this to modify our candidate proposal distribution as follows: rather than using a normal distribution centered on the <em>current</em> point to propose a candidate, <strong>we compute the derivative of the log of the weight function using dual numbers</strong>, and <em>we use the size and sign of the slope to tweak the center of the proposal distribution. </em></p>
<p>That is, if our current point is far to the left, we see that the slope of the log-weight is very positive, so we move our proposal distribution some amount to the right, and then we are more likely to get a candidate value that is in a higher-probability region. But if our current point is in the middle, the slope of the log-weight is close to zero so we make only a small adjustment to the proposal distribution.</p>
<p>(And again, I want to emphasize: realistically we would be doing this in a high-dimensional space, not a one-dimensional space. We would compute the <em>gradient</em> &#x2014; the direction in which the slope increases the most &#x2014; and head that direction.)</p>
<p>If you work out the math, which I will not do here, the difference is as follows. Suppose our non-normalized weight function is <em>p</em>.</p>
<ul>
<li>In the plain-vanilla proposal algorithm we would use as our candidate distribution a normal centered on <em>current</em> with standard deviation <em>s.</em></li>
<li>In our modified version we would use as our candidate distribution a normal centered on <em>current + (s / 2) * &#x2207;log(p(current))</em>, and standard deviation <em>s</em>.</li>
</ul>
<p>Even without the math to justify it, this should seem reasonable. The typical step in the vanilla algorithm is on the order of the standard deviation; we&#x2019;re making an adjustment towards the higher-probability region of about half a step if the slope is moderate, and a small number of steps if the slope is severe; the areas where the slope is severe are the most unlikely areas so we need to get out of them quickly.</p>
<p>If we do this, we end up doing more math on each step (to compute the log if we do not have it already, and the gradient) but <strong>we converge to the high-probability region much faster.</strong></p>
<p>If you&#x2019;ve been following along closely you might have noticed two issues that I seem to be ignoring.</p>
<p>First, we have not eliminated the need for the user to choose the tuning parameter <em>s</em>. Indeed, this only addresses one of the problems I identified earlier.</p>
<p>Second, the Metropolis algorithm requires for its correctness that the proposal distribution <em>not ever be biased in one particular direction! </em>But the whole <em>point</em> of this improvement is to bias the proposal towards the high-probability regions. Have I pulled a fast one here?</p>
<p>I have, but we can fix it. I mentioned in the original series that I would be discussing the Metropolis algorithm, which is the oldest and simplest version of this algorithm. In practice we use a variation on it called Metropolis-Hastings which adds a correction factor to allow non-symmetric proposal distributions.</p>
<p>The mechanism I&#x2019;ve sketched out today is called the <a href="https://en.wikipedia.org/wiki/Metropolis-adjusted_Langevin_algorithm">Metropolis Adjusted Langevin Algorithm</a> and it is quite interesting. It turns out that this technique of &#x201C;walk in the direction of the gradient plus a random offset&#x201D; is also how physicists model movements of particles in a viscous fluid where the particle is being jostled by random molecule-scale motions in the fluid. (That is, by Brownian motion.) It&#x2019;s nice to see that there is a physical interpretation in what would otherwise be a very abstract algorithm to produce samples.</p> <p><strong>Next time on FAIC:</strong> The fact that we have a connection to a real-world physical process here is somewhat inspiring. In the next episode I&#x2019;ll give a sketch of another technique that uses ideas from physics to improve the accuracy of a Metropolis process.</p> </div> </article> <article id="post-6577" class="post-6577 post type-post status-publish format-standard hentry category-uncategorized tag-fixing_random"> <div class="entry-content"> <p>Source code for this episode is <a href="https://github.com/ericlippert/probability/tree/bonus02">here</a>.</p> <p>Welcome to this special bonus episode of <em><a href="https://ericlippert.com/tag/fixing_random/">Fixing Random</a>,</em> the immensely long blog series where I discuss ways to add probabilistic programming features into C#. I ran into an interesting problem at work that pertains to the techniques that we discussed in this series, so I thought I might discuss it a bit today.</p>
<p>Let&#x2019;s suppose we have three forts, Fort Alpha, Fort Bravo and Fort Charlie at the base of a mountain. They are constantly passing messages back and forth by carrier pigeon. Alpha and Charlie are too far apart to fly a pigeon directly, so messages from Alpha to Charlie first go from Alpha to Bravo, and then on from Bravo to Charlie. (Similarly. messages from Charlie to Alpha go via Bravo, but we&#x2019;ll not worry about that direction for the purposes of this discussion.)</p>
<p>Carrier pigeons are of course an unreliable mechanism for passing messages, so let&#x2019;s model this as a Bernoulli process; every time we send a message from Alpha to Bravo, or Bravo to Charlie, we flip an unfair coin. Heads, the bird gets through, tails it gets lost along the way.</p>
<p>From this we can predict the reliability of passing a message from Alpha to Charlie via Bravo; the probability of failure is the probability that A-B fails or B-C fails (or both). Equivalently, the probability of success is the probability of A-B succeeding and B-C succeeding. This is just straightforward, basic probability; if the probability of success from A-B is, say, 95% and B-C is 96%, then the probability of success from A to C is their product, around 91%.</p> <p><strong>Aside:</strong> Note that I am assuming in this article that pigeons are passing from Bravo to Charlie even if a pigeon failed to arrive from Alpha; I&#x2019;m <em>not</em> trying to model in this system constraints like &#x201C;pigeons only fly from Bravo to Charlie when one arrived from Alpha&#x201D;.</p> <p>Now let&#x2019;s add an extra bit of business.</p>
<p>We have an observer on the mountaintop at Fort Delta overlooking Alpha, Bravo and Charlie. Delta has some high-power binoculars and is recording carrier pigeon traffic from Alpha to Bravo and Bravo to Charlie. But here&#x2019;s the thing: Delta is an unreliable observer, because observing carrier pigeons from a mountaintop is inherently error-prone; <i>sometimes Delta will fail to see a pigeon. </i>Let&#x2019;s say that 98% of the time, Delta observes a pigeon that is there, and Delta never observes a pigeon that is not there.</p>
<p>Every so often, Delta issues a report: either &#x201C;<em>the channel from Alpha to Charlie is healthy</em>&#x201D; if Delta has observed a pigeon making it from Alpha to Bravo <em>and</em> also a pigeon making it from Bravo to Charlie. But if Delta has just failed to observe either a pigeon going from Alpha to Bravo, <em>or</em> a pigeon going from Bravo to Charlie, then Delta issues a report saying &#x201C;<em>the channel from Alpha to Charlie is unhealthy</em>&#x201C;.</p>
<p>The question now is: suppose Delta issues a report that the Alpha-Charlie channel is unhealthy. <i>What is the probability that a pigeon failed to get from Alpha to Bravo, and what is the probability that a pigeon failed to get from Bravo to Charlie?</i> Each is surely much higher than the 5-ish percent chance that is our prior.</p>
<p>We can use the gear we developed in the early part of my Fixing Random series to answer this question definitively, but before we do, <strong>make a prediction. </strong>If you recall <a href="https://ericlippert.com/2019/03/25/fixing-random-part-16/">episode 16</a>, you&#x2019;ll remember that you can have a 99% accurate test but the posterior probability of having the disease that the test diagnoses is only 50% when you test positive;<em> this is a variation on that scenario.</em></p>
<p>Rather than defining multiple enumerated types as I did in earlier episodes, or even using bools, let&#x2019;s just come up with a straightforward numeric encoding. We&#x2019;ll say that <strong>1</strong> represents &#x201C;a pigeon failed to make the journey&#x201D;, and <strong>0</strong> means &#x201C;a pigeon successfully made the journey&#x201D; &#x2014; if that seems backwards to you, I agree but it will make sense in a minute.</p>
<p>Similarly, we&#x2019;ll say that <strong>1</strong> represents &#x201C;Delta&#x2019;s attempt to observe a pigeon has failed&#x201D;, and <strong>0</strong> as success, and finally, that <strong>1</strong> represents Delta making the report &#x201C;the channel is unhealthy&#x201D; and <strong>0</strong> represents &#x201C;the channel is healthy&#x201D;.</p>
<p>The reason I&#x2019;m using <strong>1</strong> in all these cases to mean &#x201C;something failed&#x201D; is because I want to use <strong>OR</strong> to get the final result. Let&#x2019;s build our model:</p>
<pre>var ab = Bernoulli.Distribution(95, 5);
var bc = Bernoulli.Distribution(96, 4);
var d = Bernoulli.Distribution(98, 2);</pre>
<ul>
<li>5% of the time <code>ab</code> reports <strong>1</strong>: the pigeon failed to get through.</li>
<li>4% of the time, <code>bc</code>reports <strong>1</strong>: the pigeon failed to get through.</li>
<li>2% of the time, <code>d</code> reports <strong>1</strong>: it fails to see a pigeon that is there.</li>
</ul>
<p>Now we can ask and answer our question about the posterior: what do we know about the posterior distribution of pigeons making it from Alpha to Bravo and Bravo to Charlie? We&#x2019;ll sample from <code>ab</code> and <code>bc</code> once to find out if a pigeon failed to get through, and then ask whether Delta failed to observe the pigeons.</p>
<p>What is the condition that causes Delta to report that the channel is unhealthy?</p>
<ul>
<li>the pigeon from Alpha to Bravo failed, OR</li>
<li>the pigeon from Bravo to Charlie failed, OR</li>
<li>Delta failed to observe Alpha&#x2019;s pigeon, OR</li>
<li>Delta failed to observe Bravo&#x2019;s pigeon.</li>
</ul>
<p>We observe that Delta reports that the channel is unhealthy, so we&#x2019;ll add a <strong>where</strong> clause to condition the result, and then print out the resulting posterior joint probability:</p>
<pre>var result = from pab in ab
 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;from pbc in bc
 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; from oab in d
 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;from obc in d
 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; let report = pab | pbc | oab | obc
 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;where report == 1
 &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;select (pab, pbc);
Console.WriteLine(result.ShowWeights());</pre>
<p>This is one of several possible variations on the &#x201C;<strong>noisy OR distribution</strong>&#x201D; &#x2014; that is, the distribution that we get when we <strong>OR</strong> together a bunch of random Boolean quantities, but where the <strong>OR</strong> operation itself has some probabilistic &#x201C;noise&#x201D; attached to it.</p> <p><strong>Aside:</strong> That&#x2019;s why I wanted to express this in terms of OR-ing together quantities; of course we can always turn this into a &#x201C;noisy AND&#x201D; by doing the appropriate arithmetic, but typically this distribution is called &#x201C;noisy OR&#x201D;.</p> <p>We get these results:</p>
<pre>(0, 0):11286&#xA0;   -- about 29%
(0, 1):11875&#xA0;   -- about 30%
(1, 0):15000    -- about 39%
(1, 1):625&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; -- less than 2%</pre>
<p>Remember that <strong>(0, 0)</strong> means that pigeons <em>did</em> make it from Alpha to Bravo and from Bravo to Charlie; in every other case we had at least one failure.</p>
<p>It should not be too surprising that <strong>(1, 1)</strong> &#x2014; both the Alpha and Bravo pigeons failed simultaneously &#x2014; is the rarest case because after all, that happens less than 9% of the cases overall, so it certainly should happen in some smaller percentage of the &#x201C;unhealthy report&#x201D; cases.</p>
<p>But the possibly surprising result is: when Delta reports a failure, there is a 29% chance that this is a false positive report of failure, and in fact it is almost as likely to be a false positive as it is to be a dropped packet, I mean <em>lost&#xA0;pigeon</em>, between Bravo and Charlie!</p>
<p>Put another way, if you get an &#x201C;unhealthy&#x201D; report, 3 times out of 10, the report is wrong and you&#x2019;ll be chasing a wild goose. Just as we saw with false positives for tests for diseases, <em>if the test failure rate is close to the disease rate of the population, then false positives make up a huge percentage of all positives.</em></p>
<p>My slip-up there of course illuminates what you figured out long ago; all of this whimsy about forts and pigeons and mountains is just a silly analogy. Of course what we really have is not three forts connected by two carrier pigeon routes, but ten thousand machines and hundreds of routers in a data center connected by network cabling in a known topology. Instead of pigeons we have trillions of packets. Instead of an observer in a fort on a mountaintop, we have special supervising software or hardware that is trying to detect failures in the network so that they can be diagnosed and fixed. Since the failure detection system is itself part of the network, it <i>also</i> is unreliable, which introduces &#x201C;noise&#x201D; into the system.</p>
<p>The real question at hand is: given prior probabilities on the reliability of each part of the system including the reporting system itself, <i>what are the most likely posterior probabilities that explain a report that some part of the network is unhealthy</i>?</p>
<p>This is a highly practical and interesting question to answer because it means that network engineers can quickly narrow down the list of possible faulty components given a failure report to the most likely culprits.&#xA0; <b>The power of probabilistic extensions in programming languages is that we now have the tools that we need to concisely express both those models and the observations that we need explanations for, and then generate the answers automatically.</b></p>
<p>Of course I have just given some of the flavor of this problem space and I&#x2019;m sure you can imagine a dozen ways to make the problem more interesting:</p>
<ul>
<li>what if instead of a coin flip that represent &#x201C;dropped&#x201D; or &#x201C;delivered&#x201D; on a packet, we had a more complex distribution on every edge of the network topology graph &#x2014; say, representing average throughput?</li>
<li>How does moving to a system with continuous probabilities change our analysis and the cost of producing that analysis?</li>
<li>And so on.</li>
</ul>
<p>We can use the more complex tools I developed in my series, like the Metropolis method, to solve these harder problems; however, I think I&#x2019;ll leave it at that for now.</p> </div> </article> <article id="post-6544" class="post-6544 post type-post status-publish format-standard hentry category-uncategorized"> <div class="entry-content"> <p>My friend Larry from the previous episode mentioned to me that a group of several male and female belted kingfishers had been spotted at the river; I&#x2019;d never seen kingfishers at our little river before and I wanted to get a good photo of these lovely birds.</p>
<p>Unlike our other local waterfowl that are willing to approach humans and dive from the water surface &#x2014; cormorants, gulls, mallards, mergansers, loons and the like &#x2014; kingfishers are skittish and dive at speed from the trees; they&#x2019;re fast and hard to get in focus. My first several attempts ended up like this. (Click on photos for larger versions.)</p>
<p><a href="https://ericlippert.files.wordpress.com/2019/08/img_3616.jpg"><img class="alignnone size-large wp-image-6547" src="https://ericlippert.files.wordpress.com/2019/08/img_3616.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2019/08/img_3616.jpg?w=584&amp;h=389 584w, https://ericlippert.files.wordpress.com/2019/08/img_3616.jpg?w=1168&amp;h=778 1168w, https://ericlippert.files.wordpress.com/2019/08/img_3616.jpg?w=150&amp;h=100 150w, https://ericlippert.files.wordpress.com/2019/08/img_3616.jpg?w=300&amp;h=200 300w, https://ericlippert.files.wordpress.com/2019/08/img_3616.jpg?w=768&amp;h=512 768w, https://ericlippert.files.wordpress.com/2019/08/img_3616.jpg?w=1024&amp;h=683 1024w" sizes="(max-width: 584px) 100vw, 584px"></a></p>
<p>and this</p>
<p><a href="https://ericlippert.files.wordpress.com/2019/08/img_7688.jpg"><img class="alignnone size-large wp-image-6549" src="https://ericlippert.files.wordpress.com/2019/08/img_7688.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2019/08/img_7688.jpg?w=584&amp;h=389 584w, https://ericlippert.files.wordpress.com/2019/08/img_7688.jpg?w=1168&amp;h=778 1168w, https://ericlippert.files.wordpress.com/2019/08/img_7688.jpg?w=150&amp;h=100 150w, https://ericlippert.files.wordpress.com/2019/08/img_7688.jpg?w=300&amp;h=200 300w, https://ericlippert.files.wordpress.com/2019/08/img_7688.jpg?w=768&amp;h=512 768w, https://ericlippert.files.wordpress.com/2019/08/img_7688.jpg?w=1024&amp;h=682 1024w" sizes="(max-width: 584px) 100vw, 584px"></a></p>
<p>Not terrible for a first attempt, but I wanted to get a nice sharp closeup. I tried for two weeks and did not manage to get anything better, which was quite frustrating. So I decided that on my last day of vacation I would get up at 6 AM and take a kayak up the river just after sunrise. I figured if I was slow and careful I might be able to get closer.</p>
<p>Sure enough, I immediately saw a bird, but of course it saw me and took off upriver:</p>
<p><a href="https://ericlippert.files.wordpress.com/2019/08/img_8060.jpg"><img class="alignnone size-large wp-image-6552" src="https://ericlippert.files.wordpress.com/2019/08/img_8060.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2019/08/img_8060.jpg?w=584&amp;h=389 584w, https://ericlippert.files.wordpress.com/2019/08/img_8060.jpg?w=1168&amp;h=778 1168w, https://ericlippert.files.wordpress.com/2019/08/img_8060.jpg?w=150&amp;h=100 150w, https://ericlippert.files.wordpress.com/2019/08/img_8060.jpg?w=300&amp;h=200 300w, https://ericlippert.files.wordpress.com/2019/08/img_8060.jpg?w=768&amp;h=512 768w, https://ericlippert.files.wordpress.com/2019/08/img_8060.jpg?w=1024&amp;h=683 1024w" sizes="(max-width: 584px) 100vw, 584px"></a></p>
<p>It stopped in a tree, again just far enough away that I could not get a good shot:</p>
<p><a href="https://ericlippert.files.wordpress.com/2019/08/img_8070.jpg"><img class="alignnone size-large wp-image-6554" src="https://ericlippert.files.wordpress.com/2019/08/img_8070.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2019/08/img_8070.jpg?w=584&amp;h=389 584w, https://ericlippert.files.wordpress.com/2019/08/img_8070.jpg?w=1168&amp;h=778 1168w, https://ericlippert.files.wordpress.com/2019/08/img_8070.jpg?w=150&amp;h=100 150w, https://ericlippert.files.wordpress.com/2019/08/img_8070.jpg?w=300&amp;h=200 300w, https://ericlippert.files.wordpress.com/2019/08/img_8070.jpg?w=768&amp;h=512 768w, https://ericlippert.files.wordpress.com/2019/08/img_8070.jpg?w=1024&amp;h=683 1024w" sizes="(max-width: 584px) 100vw, 584px"></a></p>
<p>And then took off again when I got close:</p>
<p><a href="https://ericlippert.files.wordpress.com/2019/08/img_8085.jpg"><img class="alignnone size-large wp-image-6555" src="https://ericlippert.files.wordpress.com/2019/08/img_8085.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2019/08/img_8085.jpg?w=584&amp;h=389 584w, https://ericlippert.files.wordpress.com/2019/08/img_8085.jpg?w=1168&amp;h=778 1168w, https://ericlippert.files.wordpress.com/2019/08/img_8085.jpg?w=150&amp;h=100 150w, https://ericlippert.files.wordpress.com/2019/08/img_8085.jpg?w=300&amp;h=200 300w, https://ericlippert.files.wordpress.com/2019/08/img_8085.jpg?w=768&amp;h=512 768w, https://ericlippert.files.wordpress.com/2019/08/img_8085.jpg?w=1024&amp;h=683 1024w" sizes="(max-width: 584px) 100vw, 584px"></a></p>
<p>This repeated several times, always going up river. I got a lot of burry photos of the back side of the damn bird.</p>
<p>Finally we got to a point where I could not go any further; there were several trees fallen entirely across the river, and the bird was perched on one of them <em>with a branch in the way and in a deep shadow</em>. (The overall brightness of this image is because I overexposed it to try to get the detail of a dark bird in a shadow.)</p>
<p><a href="https://ericlippert.files.wordpress.com/2019/08/img_8099.jpg"><img class="alignnone size-large wp-image-6558" src="https://ericlippert.files.wordpress.com/2019/08/img_8099.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2019/08/img_8099.jpg?w=584&amp;h=389 584w, https://ericlippert.files.wordpress.com/2019/08/img_8099.jpg?w=1168&amp;h=778 1168w, https://ericlippert.files.wordpress.com/2019/08/img_8099.jpg?w=150&amp;h=100 150w, https://ericlippert.files.wordpress.com/2019/08/img_8099.jpg?w=300&amp;h=200 300w, https://ericlippert.files.wordpress.com/2019/08/img_8099.jpg?w=768&amp;h=512 768w, https://ericlippert.files.wordpress.com/2019/08/img_8099.jpg?w=1024&amp;h=683 1024w" sizes="(max-width: 584px) 100vw, 584px"></a></p>
<p>The sharp-eyed amongst you may have already noticed the larger problem here, but I did not. I very carefully and slowly paddled to where I could get an unobstructed view of the bird, and I finally got my close up&#x2026;</p>
<p><a href="https://ericlippert.files.wordpress.com/2019/08/img_8205.jpg"><img class="alignnone size-large wp-image-6560" src="https://ericlippert.files.wordpress.com/2019/08/img_8205.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2019/08/img_8205.jpg?w=584&amp;h=389 584w, https://ericlippert.files.wordpress.com/2019/08/img_8205.jpg?w=1168&amp;h=778 1168w, https://ericlippert.files.wordpress.com/2019/08/img_8205.jpg?w=150&amp;h=100 150w, https://ericlippert.files.wordpress.com/2019/08/img_8205.jpg?w=300&amp;h=200 300w, https://ericlippert.files.wordpress.com/2019/08/img_8205.jpg?w=768&amp;h=512 768w, https://ericlippert.files.wordpress.com/2019/08/img_8205.jpg?w=1024&amp;h=683 1024w" sizes="(max-width: 584px) 100vw, 584px"></a></p>
<p>&#x2026;<strong>OF A GREEN HERON.&#xA0; WHAT THE HECK.</strong></p>
<p>Now, don&#x2019;t get me wrong; I am happy that there is also a family of green herons living at the river, but where did the switch happen? When I reviewed the several hundred shots I&#x2019;d taken so far I discovered that in fact the bird I&#x2019;d seen originally was this bird:</p>
<p><a href="https://ericlippert.files.wordpress.com/2019/08/img_8033-e1565975528226.jpg"><img class="alignnone size-large wp-image-6564" src="https://ericlippert.files.wordpress.com/2019/08/img_8033-e1565975528226.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2019/08/img_8033-e1565975528226.jpg?w=584&amp;h=374 584w, https://ericlippert.files.wordpress.com/2019/08/img_8033-e1565975528226.jpg?w=1168&amp;h=748 1168w, https://ericlippert.files.wordpress.com/2019/08/img_8033-e1565975528226.jpg?w=150&amp;h=96 150w, https://ericlippert.files.wordpress.com/2019/08/img_8033-e1565975528226.jpg?w=300&amp;h=192 300w, https://ericlippert.files.wordpress.com/2019/08/img_8033-e1565975528226.jpg?w=768&amp;h=492 768w, https://ericlippert.files.wordpress.com/2019/08/img_8033-e1565975528226.jpg?w=1024&amp;h=656 1024w" sizes="(max-width: 584px) 100vw, 584px"></a></p>
<p>A green heron, and probably the same green heron.</p>
<p>I had actually been chasing at least two birds up the river. In fact I suspect I was actually chasing two green herons and a male kingfisher, but did not realize until much later that it was not all the same bird.</p>
<p>Since I could go no further I figured I would start over. I went back to the mouth of the river and there were a bunch of both males and females dive bombing each other; maybe for fun, maybe to settle some territorial dispute, I don&#x2019;t know. I watched that for a while and managed to get a few slightly better images:</p>
<p><a href="https://ericlippert.files.wordpress.com/2019/08/img_8230.jpg"><img class="alignnone size-large wp-image-6567" src="https://ericlippert.files.wordpress.com/2019/08/img_8230.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2019/08/img_8230.jpg?w=584&amp;h=389 584w, https://ericlippert.files.wordpress.com/2019/08/img_8230.jpg?w=150&amp;h=100 150w, https://ericlippert.files.wordpress.com/2019/08/img_8230.jpg?w=300&amp;h=200 300w, https://ericlippert.files.wordpress.com/2019/08/img_8230.jpg?w=768&amp;h=512 768w, https://ericlippert.files.wordpress.com/2019/08/img_8230.jpg?w=1024&amp;h=682 1024w, https://ericlippert.files.wordpress.com/2019/08/img_8230.jpg 1127w" sizes="(max-width: 584px) 100vw, 584px"></a><a href="https://ericlippert.files.wordpress.com/2019/08/img_8300.jpg"><img class="alignnone size-large wp-image-6568" src="https://ericlippert.files.wordpress.com/2019/08/img_8300.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2019/08/img_8300.jpg?w=584&amp;h=390 584w, https://ericlippert.files.wordpress.com/2019/08/img_8300.jpg?w=1168&amp;h=780 1168w, https://ericlippert.files.wordpress.com/2019/08/img_8300.jpg?w=150&amp;h=100 150w, https://ericlippert.files.wordpress.com/2019/08/img_8300.jpg?w=300&amp;h=200 300w, https://ericlippert.files.wordpress.com/2019/08/img_8300.jpg?w=768&amp;h=513 768w, https://ericlippert.files.wordpress.com/2019/08/img_8300.jpg?w=1024&amp;h=684 1024w" sizes="(max-width: 584px) 100vw, 584px"></a></p>
<p><a href="https://ericlippert.files.wordpress.com/2019/08/img_8287.jpg"><img class="alignnone size-large wp-image-6569" src="https://ericlippert.files.wordpress.com/2019/08/img_8287.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2019/08/img_8287.jpg?w=584&amp;h=390 584w, https://ericlippert.files.wordpress.com/2019/08/img_8287.jpg?w=150&amp;h=100 150w, https://ericlippert.files.wordpress.com/2019/08/img_8287.jpg?w=300&amp;h=200 300w, https://ericlippert.files.wordpress.com/2019/08/img_8287.jpg?w=768&amp;h=512 768w, https://ericlippert.files.wordpress.com/2019/08/img_8287.jpg?w=1024&amp;h=683 1024w, https://ericlippert.files.wordpress.com/2019/08/img_8287.jpg 1141w" sizes="(max-width: 584px) 100vw, 584px"></a></p>
<p>I think I can do better if I get the chance next year, but that will have to do for this year.</p> </div> </article> <article id="post-6530" class="post-6530 post type-post status-publish format-standard hentry category-uncategorized"> <div class="entry-content"> <p>I enjoy photographing dragonflies and damselflies; this year I got some pretty reasonable shots of common blue damselflies, white-faced meadowhawks, a twelve-spotted skimmer, and my favourite, ebony jewelwings. It can be hard to get these little guys in focus, but I am reasonably pleased with the results. (Click on the photos for larger versions.)</p>
<p><a href="https://ericlippert.files.wordpress.com/2019/08/img_1597.jpg"><img class="alignnone size-large wp-image-6532" src="https://ericlippert.files.wordpress.com/2019/08/img_1597.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2019/08/img_1597.jpg?w=584&amp;h=389 584w, https://ericlippert.files.wordpress.com/2019/08/img_1597.jpg?w=1168&amp;h=778 1168w, https://ericlippert.files.wordpress.com/2019/08/img_1597.jpg?w=150&amp;h=100 150w, https://ericlippert.files.wordpress.com/2019/08/img_1597.jpg?w=300&amp;h=200 300w, https://ericlippert.files.wordpress.com/2019/08/img_1597.jpg?w=768&amp;h=512 768w, https://ericlippert.files.wordpress.com/2019/08/img_1597.jpg?w=1024&amp;h=683 1024w" sizes="(max-width: 584px) 100vw, 584px"></a><br>
<a href="https://ericlippert.files.wordpress.com/2019/08/img_1650.jpg"><img class="alignnone size-large wp-image-6535" src="https://ericlippert.files.wordpress.com/2019/08/img_1650.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2019/08/img_1650.jpg?w=584&amp;h=389 584w, https://ericlippert.files.wordpress.com/2019/08/img_1650.jpg?w=1168&amp;h=778 1168w, https://ericlippert.files.wordpress.com/2019/08/img_1650.jpg?w=150&amp;h=100 150w, https://ericlippert.files.wordpress.com/2019/08/img_1650.jpg?w=300&amp;h=200 300w, https://ericlippert.files.wordpress.com/2019/08/img_1650.jpg?w=768&amp;h=512 768w, https://ericlippert.files.wordpress.com/2019/08/img_1650.jpg?w=1024&amp;h=683 1024w" sizes="(max-width: 584px) 100vw, 584px"></a><a href="https://ericlippert.files.wordpress.com/2019/08/img_3609.jpg"><img class="alignnone size-large wp-image-6536" src="https://ericlippert.files.wordpress.com/2019/08/img_3609.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2019/08/img_3609.jpg?w=584&amp;h=389 584w, https://ericlippert.files.wordpress.com/2019/08/img_3609.jpg?w=1168&amp;h=778 1168w, https://ericlippert.files.wordpress.com/2019/08/img_3609.jpg?w=150&amp;h=100 150w, https://ericlippert.files.wordpress.com/2019/08/img_3609.jpg?w=300&amp;h=200 300w, https://ericlippert.files.wordpress.com/2019/08/img_3609.jpg?w=768&amp;h=512 768w, https://ericlippert.files.wordpress.com/2019/08/img_3609.jpg?w=1024&amp;h=683 1024w" sizes="(max-width: 584px) 100vw, 584px"></a><a href="https://ericlippert.files.wordpress.com/2019/08/img_1630.jpg"><img class="alignnone size-large wp-image-6533" src="https://ericlippert.files.wordpress.com/2019/08/img_1630.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2019/08/img_1630.jpg?w=584&amp;h=876 584w, https://ericlippert.files.wordpress.com/2019/08/img_1630.jpg?w=1168&amp;h=1752 1168w, https://ericlippert.files.wordpress.com/2019/08/img_1630.jpg?w=100&amp;h=150 100w, https://ericlippert.files.wordpress.com/2019/08/img_1630.jpg?w=200&amp;h=300 200w, https://ericlippert.files.wordpress.com/2019/08/img_1630.jpg?w=768&amp;h=1152 768w, https://ericlippert.files.wordpress.com/2019/08/img_1630.jpg?w=683&amp;h=1024 683w" sizes="(max-width: 584px) 100vw, 584px"></a><br>
<a href="https://ericlippert.files.wordpress.com/2019/08/img_3622.jpg"><img class="alignnone size-large wp-image-6537" src="https://ericlippert.files.wordpress.com/2019/08/img_3622.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2019/08/img_3622.jpg?w=584&amp;h=389 584w, https://ericlippert.files.wordpress.com/2019/08/img_3622.jpg?w=1168&amp;h=778 1168w, https://ericlippert.files.wordpress.com/2019/08/img_3622.jpg?w=150&amp;h=100 150w, https://ericlippert.files.wordpress.com/2019/08/img_3622.jpg?w=300&amp;h=200 300w, https://ericlippert.files.wordpress.com/2019/08/img_3622.jpg?w=768&amp;h=512 768w, https://ericlippert.files.wordpress.com/2019/08/img_3622.jpg?w=1024&amp;h=683 1024w" sizes="(max-width: 584px) 100vw, 584px"></a><a href="https://ericlippert.files.wordpress.com/2019/08/img_6335.jpg"><img class="alignnone size-large wp-image-6538" src="https://ericlippert.files.wordpress.com/2019/08/img_6335.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2019/08/img_6335.jpg?w=584&amp;h=389 584w, https://ericlippert.files.wordpress.com/2019/08/img_6335.jpg?w=1168&amp;h=778 1168w, https://ericlippert.files.wordpress.com/2019/08/img_6335.jpg?w=150&amp;h=100 150w, https://ericlippert.files.wordpress.com/2019/08/img_6335.jpg?w=300&amp;h=200 300w, https://ericlippert.files.wordpress.com/2019/08/img_6335.jpg?w=768&amp;h=512 768w, https://ericlippert.files.wordpress.com/2019/08/img_6335.jpg?w=1024&amp;h=683 1024w" sizes="(max-width: 584px) 100vw, 584px"></a><a href="https://ericlippert.files.wordpress.com/2019/08/img_6355.jpg"><img class="alignnone size-large wp-image-6540" src="https://ericlippert.files.wordpress.com/2019/08/img_6355.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2019/08/img_6355.jpg?w=584&amp;h=389 584w, https://ericlippert.files.wordpress.com/2019/08/img_6355.jpg?w=1168&amp;h=778 1168w, https://ericlippert.files.wordpress.com/2019/08/img_6355.jpg?w=150&amp;h=100 150w, https://ericlippert.files.wordpress.com/2019/08/img_6355.jpg?w=300&amp;h=200 300w, https://ericlippert.files.wordpress.com/2019/08/img_6355.jpg?w=768&amp;h=512 768w, https://ericlippert.files.wordpress.com/2019/08/img_6355.jpg?w=1024&amp;h=683 1024w" sizes="(max-width: 584px) 100vw, 584px"></a><a href="https://ericlippert.files.wordpress.com/2019/08/img_6292.jpg"><img class="alignnone size-large wp-image-6541" src="https://ericlippert.files.wordpress.com/2019/08/img_6292.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2019/08/img_6292.jpg?w=584&amp;h=389 584w, https://ericlippert.files.wordpress.com/2019/08/img_6292.jpg?w=1168&amp;h=778 1168w, https://ericlippert.files.wordpress.com/2019/08/img_6292.jpg?w=150&amp;h=100 150w, https://ericlippert.files.wordpress.com/2019/08/img_6292.jpg?w=300&amp;h=200 300w, https://ericlippert.files.wordpress.com/2019/08/img_6292.jpg?w=768&amp;h=512 768w, https://ericlippert.files.wordpress.com/2019/08/img_6292.jpg?w=1024&amp;h=683 1024w" sizes="(max-width: 584px) 100vw, 584px"></a></p> </div> </article> <article id="post-6513" class="post-6513 post type-post status-publish format-standard hentry category-uncategorized"> <div class="entry-content"> <p>Today, I have a Mystery Of The Unknown for you to solve. Unlike most of the puzzlers on this blog, I don&#x2019;t know the answer.</p> <p>UPDATE: Mystery solved! See below.</p> <p>On August 4th at about 20 minutes past 10 PM Eastern Daylight Time I did this 30 second exposure. I am facing south. The bright object in the middle is Jupiter; the orange star below and to its right is Antares. What we have here is the International Space Station flying (from my perspective that night) through the &#x201C;head&#x201D; of the constellation of Scorpius from right to left. (Click on the images for a larger view.)</p>
<p><a href="https://ericlippert.files.wordpress.com/2019/08/img_3360.jpg"><img class="alignnone size-large wp-image-6515" src="https://ericlippert.files.wordpress.com/2019/08/img_3360.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2019/08/img_3360.jpg?w=584&amp;h=389 584w, https://ericlippert.files.wordpress.com/2019/08/img_3360.jpg?w=1168&amp;h=778 1168w, https://ericlippert.files.wordpress.com/2019/08/img_3360.jpg?w=150&amp;h=100 150w, https://ericlippert.files.wordpress.com/2019/08/img_3360.jpg?w=300&amp;h=200 300w, https://ericlippert.files.wordpress.com/2019/08/img_3360.jpg?w=768&amp;h=512 768w, https://ericlippert.files.wordpress.com/2019/08/img_3360.jpg?w=1024&amp;h=683 1024w" sizes="(max-width: 584px) 100vw, 584px"></a></p>
<p>I&#x2019;ve tweaked the levels in post slightly, for clarity, but basically this is the image I was hoping to get.</p>
<p>I then quickly shifted the camera over to point towards Sagittarius and did an identical 30 second exposure. Again, I&#x2019;ve tweaked the levels:</p>
<p><a href="https://ericlippert.files.wordpress.com/2019/08/img_3361.jpg"><img class="alignnone size-large wp-image-6519" src="https://ericlippert.files.wordpress.com/2019/08/img_3361.jpg?w=584" alt width="584" srcset="https://ericlippert.files.wordpress.com/2019/08/img_3361.jpg?w=584&amp;h=389 584w, https://ericlippert.files.wordpress.com/2019/08/img_3361.jpg?w=1168&amp;h=778 1168w, https://ericlippert.files.wordpress.com/2019/08/img_3361.jpg?w=150&amp;h=100 150w, https://ericlippert.files.wordpress.com/2019/08/img_3361.jpg?w=300&amp;h=200 300w, https://ericlippert.files.wordpress.com/2019/08/img_3361.jpg?w=768&amp;h=512 768w, https://ericlippert.files.wordpress.com/2019/08/img_3361.jpg?w=1024&amp;h=683 1024w" sizes="(max-width: 584px) 100vw, 584px"></a></p>
<p>And again the bright object is Jupiter. The triangle of stars in the middle of the very bottom of the image is the &#x201C;stinger&#x201D; of Scorpius. The M7 cluster to its left is slightly blocked by the tree, and you can see the &#x201C;lid of the teapot&#x201D; of Sagittarius following the line of the tree, with the Milky Way emerging as the steam from the teapot.</p>
<p>The ISS is still traveling right to left &#x2014; west to east &#x2014; and you can clearly see that the path is much shorter than the previous 30 second exposure because the left end of its travel is where it passed into the shadow of the earth; sunset comes later for the ISS because of its great altitude.</p>
<p>That is again exactly what I expected. The part that I am completely flummoxed by is: <strong>what are the two parallel tracks to the left of the ISS going north/south?!?</strong></p>
<ul>
<li>I took a third image after this one of the same part of the sky and there is no streak on it of any kind.</li>
<li>It could be a <strong>camera malfunction</strong> &#x2014; but I have never seen such a malfunction. <strong>UPDATE</strong>: My friend Larry was taking a long exposure at the same time and also captured this exact same streak, so it is definitely not a camera malfunction.</li>
<li>It could be an <strong>atmospheric phenomenon</strong>, like a jet contrail being lit up by something. But it does not look like any contrail or cloud I&#x2019;ve ever seen, and it does not show up in the third image.</li>
<li>It could be an <strong>airplane</strong>, but airplanes typically blink in long exposures, or can be seen to have both red and green lights. Also, if it were a single airplane then I would expect the parallel lines to start and end at the same place. And I would expect to see it in the third image.</li>
<li>It could be a <strong>pair of satellites in a polar orbit</strong>, but I checked a satellite tracking app and it identified nothing in that neighbourhood except the ISS at that time. (However, I only checked the one app; probably I should check another.) And those &#x201C;satellites&#x201D; seem to be in very similar orbits, which seems unlikely. <strong>UPDATE</strong>: My friend Gord, son of the aforementioned Larry, suggests that it may have been satellites in the Starlink constellation, which travel in pairs. This is now my best hypothesis. I&#x2019;ll see if I can get some data on Starlink orbits.</li>
<li>It could be a <strong>meteor that has split into two parts</strong> that are traveling parallel, and just happened to be in my shot as the ISS entered the shadow of the Earth. Which seems like an extremely unlikely coincidence. Yes, there is a lot of meteor activity in early August, but I&#x2019;m not buying it.</li>
</ul>
<p>I have never seen anything like this before. We genuinely have an Unidentified Flying Object here, in that there is some object which is flying but not identified; I rather doubt it is aliens.</p>
<p>Does anyone with more experience than me in photographing satellites have any insight into what I&#x2019;ve captured here?</p> <p>Mystery solved by my friend Gord:</p>
<p><img class="alignnone size-full wp-image-6528" src="https://ericlippert.files.wordpress.com/2019/08/68892302_10157302601249827_1858854170602242048_n.jpg?w=584" alt="68892302_10157302601249827_1858854170602242048_n.jpg" srcset="https://ericlippert.files.wordpress.com/2019/08/68892302_10157302601249827_1858854170602242048_n.jpg?w=584 584w, https://ericlippert.files.wordpress.com/2019/08/68892302_10157302601249827_1858854170602242048_n.jpg?w=150 150w, https://ericlippert.files.wordpress.com/2019/08/68892302_10157302601249827_1858854170602242048_n.jpg?w=300 300w, https://ericlippert.files.wordpress.com/2019/08/68892302_10157302601249827_1858854170602242048_n.jpg 751w" sizes="(max-width: 584px) 100vw, 584px"></p>
<p>The recent Starlink launch put a constellation of 60 satellites into a low orbit, and they&#x2019;re still all bunched up so it would be common to have two in frame at the same time. That orbit passed right over the Great Lakes region at 10:20 the night I took that exposure, and the direction corresponds as well. Thanks Gord!</p> </div> </article> </p>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
    </footer>
    
    <script>
        (function() {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function() {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) {}
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
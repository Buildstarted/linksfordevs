<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Super Simple Named Boolean Parameters - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.min.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Super Simple Named Boolean Parameters - linksfor.dev(s)"/>
    <meta property="article:author" content="on July 12, 2018&#xA;under c&#x2B;&#x2B;"/>
    <meta property="og:description" content="Personal blog and CV for Sy Brand"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://blog.tartanllama.xyz/simple-named-bools/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1 style="margin: unset">
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Super Simple Named Boolean Parameters</title>
<div class="readable">
        <h1>Super Simple Named Boolean Parameters</h1>
            <div>by on July 12, 2018&#xA;under c&#x2B;&#x2B;</div>
            <div>Reading time: 2-3 minutes</div>
        <div>Posted here: 27 Feb 2019</div>
        <p><a href="https://blog.tartanllama.xyz/simple-named-bools/">https://blog.tartanllama.xyz/simple-named-bools/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
<p><span itemprop="articleBody"><p>Quite often we come across interfaces with multiple boolean parameters, like this:</p>
<div><div><pre><code><span>cake</span> <span>make_cake</span> <span>(</span><span>bool</span> <span>with_dairy</span><span>,</span> <span>bool</span> <span>chocolate_sauce</span><span>,</span> <span>bool</span> <span>poison</span><span>);</span>
</code></pre></div></div>
<p>A call to this function might look like:</p>
<div><div><pre><code><span>auto</span> <span>c</span> <span>=</span> <span>make_cake</span><span>(</span><span>true</span><span>,</span> <span>true</span><span>,</span> <span>false</span><span>);</span>
</code></pre></div></div>
<p>Unfortunately, this is not very descriptive. We need to look at the declaration of the function to know what each of those <code>bool</code>s mean, and it would be <em>way</em> too easy to accidentally flip the wrong argument during maintainance and end up poisoning ourselves rather than having a chocolatey treat.</p>
<p>There are many solutions which people use, from just adding comments to each argument, to creating tagged types. I recently came across a very simple trick which I had not seen before:</p>

<p>Yep, it’s a macro which takes an argument and gets replaced by <code>true</code>. This may look strange, but it enables us to write this:</p>
<div><div><pre><code><span>auto</span> <span>c</span> <span>=</span> <span>make_cake</span><span>(</span><span>K</span><span>(</span><span>with_dairy</span><span>),</span> <span>!</span><span>K</span><span>(</span><span>chocolate_sauce</span><span>),</span> <span>!</span><span>K</span><span>(</span><span>poison</span><span>));</span>

<span>// or using `not` if you prefer
</span><span>auto</span> <span>c</span> <span>=</span> <span>make_cake</span><span>(</span><span>K</span><span>(</span><span>with_dairy</span><span>),</span> <span>not</span> <span>K</span><span>(</span><span>chocolate_sauce</span><span>),</span> <span>not</span> <span>K</span><span>(</span><span>poison</span><span>));</span>
</code></pre></div></div>
<p>Of course, it’s up to you whether you think using a macro for this kind of thing is worth it, or if you think that macro should have a name which is less likely to collide. There’s also the issue that this <em>looks</em> a bit like Python named parameters, where you can pass them in any order, but the order matters here. There are much better solutions when you own the interface, but for the times when you don’t, I think this is a neat trick to solve the issue in a low-overhead manner.</p>
<p>A guess I need to come up with a marketing name for this. Since we already have <a href="https://en.wikipedia.org/wiki/X_Macro">X Macros</a>, I hereby dub this trick “K Macros”.</p>
</span></p><p><small>
<i></i>
c++
</small>
</p>
</div><p>
I <i></i> feedback.<br>
Let me know what you think of this article on twitter <a href="https://www.twitter.com/TartanLlama">@TartanLlama</a> or leave a comment below!
</p></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Hosting Blazor WebAssembly app on GitHub Pages - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.min.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Hosting Blazor WebAssembly app on GitHub Pages - linksfor.dev(s)"/>
    <meta property="og:description" content="Credit cover image: Unsplash           &#x1F525; Blazor WebAssembly is a new framework that promises rich int..."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://dev.to/cirio/hosting-blazor-webassembly-app-on-github-pages-137k?signin=true"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1 style="margin: unset">
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Hosting Blazor WebAssembly app on GitHub Pages</title>
<div class="readable">
        <h1>Hosting Blazor WebAssembly app on GitHub Pages</h1>
            <div>Reading time: 6-7 minutes</div>
        <div>Posted here: 01 Jul 2020</div>
        <p><a href="https://dev.to/cirio/hosting-blazor-webassembly-app-on-github-pages-137k?signin=true">https://dev.to/cirio/hosting-blazor-webassembly-app-on-github-pages-137k?signin=true</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="main-title">
            <p><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--S9aPwfhA--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://thepracticaldev.s3.amazonaws.com/i/3gac10jyu3jv44cfzc43.png" width="1000" height="420" alt="Cover image for Hosting Blazor WebAssembly app on GitHub Pages">
            </p>

          
        </div><div data-article-id="232712" id="article-body">
          <p>Credit cover image: <a href="https://unsplash.com/photos/JNz9bQD3Oio">Unsplash</a></p>

<h3>
  <a name="fire-blazor-webassembly-is-a-new-framework-that-promises-rich-interactive-uis-using-c-instead-of-javascript-fire" href="#fire-blazor-webassembly-is-a-new-framework-that-promises-rich-interactive-uis-using-c-instead-of-javascript-fire">
  </a>
  ðŸ”¥ <strong>Blazor WebAssembly is a new framework that promises rich interactive UIs using C# instead of JavaScript.</strong> ðŸ”¥
</h3>

<p>At current, the framework is in preview for ASP.NET Core 3.1. When I read about it, I've decided to try a deploy of a basic project on Github Pages. </p>







<ul>
<li><a href="#setup-1">Setup</a></li>
<li><a href="#replaceindex-2">Edit Index.html</a></li>
<li><a href="#addjekyll-3">Add Jekyll file</a></li>
<li><a href="#add404page-4">Add 404 Page</a></li>
<li><a href="#updatebasepath-5">Update Base Path</a></li>
</ul>

<h3>
  <a name="initial-setup-hammer" href="#initial-setup-hammer">
  </a>
  <strong>Initial Setup</strong>: ðŸ”¨ <a name="setup-1"></a>
</h3>

<p>First of all, you must install the template. Run the following command in a command shell:<br>
</p>

<div><pre><code><span>
</span><span>dotnet</span><span> </span><span>new</span><span> </span><span>-i</span><span> </span><span>Microsoft.AspNetCore.Blazor.Templates::3.1.0-preview4.19579.2</span><span>

</span></code></pre></div>



<p>After that, we can use <em>blazorwasm</em> command to create our first Blazor WebAssembly App.<br>
</p>





<p>The project structure will be like this:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--MwKff-vZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/vqmtt9ymzerjwfseg9ms.PNG"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--MwKff-vZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/vqmtt9ymzerjwfseg9ms.PNG" alt="Alt Text" loading="lazy"></a></p>

<p>Finally, we can publish the project<br>
</p>

<div><pre><code><span>
</span><span>dotnet</span><span> </span><span>publish</span><span> </span><span>-c</span><span> </span><span>Release</span><span>

</span></code></pre></div>



<p>and view the output command on the path ~\publish\yourProject\dist_</p>

<h3>
  <a name="deploy-on-github-pages-pagefacingup" href="#deploy-on-github-pages-pagefacingup">
  </a>
  <strong>Deploy on GitHub Pages</strong>:  ðŸ“„
</h3>

<h4>
  <a name="1-replace-indexhtml-page" href="#1-replace-indexhtml-page">
  </a>
  1. <strong>Replace Index.html page</strong>   <a name="replaceindex-2"></a>
</h4>



<div><pre><code><span>&lt;!DOCTYPE html&gt;</span>
<span>&lt;html&gt;</span>
<span>&lt;head&gt;</span>
    <span>&lt;meta</span> <span>charset=</span><span>"utf-8"</span> <span>/&gt;</span>
    <span>&lt;meta</span> <span>name=</span><span>"viewport"</span> <span>content=</span><span>"width=device-width"</span> <span>/&gt;</span>
    <span>&lt;title&gt;</span>Blazor Pages<span>&lt;/title&gt;</span>
    <span>&lt;base</span> <span>href=</span><span>"/"</span> <span>/&gt;</span>
    <span>&lt;link</span> <span>href=</span><span>"css/bootstrap/bootstrap.min.css"</span> <span>rel=</span><span>"stylesheet"</span> <span>/&gt;</span>
    <span>&lt;link</span> <span>href=</span><span>"css/site.css"</span> <span>rel=</span><span>"stylesheet"</span> <span>/&gt;</span>
<span>&lt;/head&gt;</span>
<span>&lt;body&gt;</span>
    <span>&lt;app&gt;</span>Loading...<span>&lt;/app&gt;</span>

    <span>&lt;!-- Start Single Page Apps for GitHub Pages --&gt;</span>
    <span>&lt;script </span><span>type=</span><span>"text/javascript"</span><span>&gt;</span>
        <span>// Single Page Apps for GitHub Pages</span>
        <span>// https://github.com/rafrex/spa-github-pages</span>
        <span>// Copyright (c) 2016 Rafael Pedicini, licensed under the MIT License</span>
        <span>// ----------------------------------------------------------------------</span>
        <span>// This script checks to see if a redirect is present in the query string</span>
        <span>// and converts it back into the correct url and adds it to the</span>
        <span>// browser's history using window.history.replaceState(...),</span>
        <span>// which won't cause the browser to attempt to load the new url.</span>
        <span>// When the single page app is loaded further down in this file,</span>
        <span>// the correct url will be waiting in the browser's history for</span>
        <span>// the single page app to route accordingly.</span>
        <span>(</span><span>function</span><span>(</span><span>l</span><span>)</span> <span>{</span>
            <span>if</span> <span>(</span><span>l</span><span>.</span><span>search</span><span>)</span> <span>{</span>
                <span>var</span> <span>q</span> <span>=</span> <span>{};</span>
                <span>l</span><span>.</span><span>search</span><span>.</span><span>slice</span><span>(</span><span>1</span><span>).</span><span>split</span><span>(</span><span>'</span><span>&amp;</span><span>'</span><span>).</span><span>forEach</span><span>(</span><span>function</span><span>(</span><span>v</span><span>)</span> <span>{</span>
                    <span>var</span> <span>a</span> <span>=</span> <span>v</span><span>.</span><span>split</span><span>(</span><span>'</span><span>=</span><span>'</span><span>);</span>
                    <span>q</span><span>[</span><span>a</span><span>[</span><span>0</span><span>]]</span> <span>=</span> <span>a</span><span>.</span><span>slice</span><span>(</span><span>1</span><span>).</span><span>join</span><span>(</span><span>'</span><span>=</span><span>'</span><span>).</span><span>replace</span><span>(</span><span>/~and~/g</span><span>,</span> <span>'</span><span>&amp;</span><span>'</span><span>);</span>
                <span>});</span>
                <span>if</span> <span>(</span><span>q</span><span>.</span><span>p</span> <span>!==</span> <span>undefined</span><span>)</span> <span>{</span>
                    <span>window</span><span>.</span><span>history</span><span>.</span><span>replaceState</span><span>(</span><span>null</span><span>,</span> <span>null</span><span>,</span>
                        <span>l</span><span>.</span><span>pathname</span><span>.</span><span>slice</span><span>(</span><span>0</span><span>,</span> <span>-</span><span>1</span><span>)</span> <span>+</span> <span>(</span><span>q</span><span>.</span><span>p</span> <span>||</span> <span>''</span><span>)</span> <span>+</span>
                        <span>(</span><span>q</span><span>.</span><span>q</span> <span>?</span> <span>(</span><span>'</span><span>?</span><span>'</span> <span>+</span> <span>q</span><span>.</span><span>q</span><span>)</span> <span>:</span> <span>''</span><span>)</span> <span>+</span>
                        <span>l</span><span>.</span><span>hash</span>
                    <span>);</span>
                <span>}</span>
            <span>}</span>
        <span>}(</span><span>window</span><span>.</span><span>location</span><span>))</span>
    <span>&lt;/script&gt;</span>
    <span>&lt;!-- End Single Page Apps for GitHub Pages --&gt;</span>

    <span>&lt;div</span> <span>id=</span><span>"blazor-error-ui"</span><span>&gt;</span>
        An unhandled error has occurred.
        <span>&lt;a</span> <span>href=</span><span>""</span> <span>class=</span><span>"reload"</span><span>&gt;</span>Reload<span>&lt;/a&gt;</span>
        <span>&lt;a</span> <span>class=</span><span>"dismiss"</span><span>&gt;</span>ðŸ—™<span>&lt;/a&gt;</span>
    <span>&lt;/div&gt;</span>
    <span>&lt;script </span><span>src=</span><span>"_framework/blazor.webassembly.js"</span><span>&gt;&lt;/script&gt;</span>
<span>&lt;/body&gt;</span>
<span>&lt;/html&gt;</span>

</code></pre></div>



<h4>
  <a name="2-add-jekyll-file" href="#2-add-jekyll-file">
  </a>
  2. <strong>Add Jekyll file</strong>  <a name="addjekyll-3"></a>
</h4>

<p>GitHub Pages uses Jekyll to build Pages sites. Because of the way that Jekyll works, any files or folders that start with _, ., # or end with ~ are not built.</p>

<p>The result is that folders as <code>_framework_</code> , mandatory for a Blazor WebAssembly running project they aren't processed.</p>

<p>To solve it, you must create a .nojekyll file under root of published. <strong>This is quite important</strong> .</p>

<h4>
  <a name="3-add-404html-error-page" href="#3-add-404html-error-page">
  </a>
  3. <strong>Add 404.html Error Page</strong>   <a name="add404page-4"></a>
</h4>



<div><pre><code><span>&lt;!DOCTYPE html&gt;</span>
<span>&lt;html&gt;</span>
  <span>&lt;head&gt;</span>
    <span>&lt;meta</span> <span>charset=</span><span>"utf-8"</span><span>&gt;</span>
    <span>&lt;title&gt;</span>Single Page Apps for GitHub Pages<span>&lt;/title&gt;</span>
    <span>&lt;script </span><span>type=</span><span>"text/javascript"</span><span>&gt;</span>
      <span>// Single Page Apps for GitHub Pages</span>
      <span>// https://github.com/rafrex/spa-github-pages</span>
      <span>// Copyright (c) 2016 Rafael Pedicini, licensed under the MIT License</span>
      <span>// ----------------------------------------------------------------------</span>
      <span>// This script takes the current url and converts the path and query</span>
      <span>// string into just a query string, and then redirects the browser</span>
      <span>// to the new url with only a query string and hash fragment,</span>
      <span>// e.g. http://www.foo.tld/one/two?a=b&amp;c=d#qwe, becomes</span>
      <span>// http://www.foo.tld/?p=/one/two&amp;q=a=b~and~c=d#qwe</span>
      <span>// Note: this 404.html file must be at least 512 bytes for it to work</span>
      <span>// with Internet Explorer (it is currently &gt; 512 bytes)</span>
      <span>// If you're creating a Project Pages site and NOT using a custom domain,</span>
      <span>// then set segmentCount to 1 (enterprise users may need to set it to &gt; 1).</span>
      <span>// This way the code will only replace the route part of the path, and not</span>
      <span>// the real directory in which the app resides, for example:</span>
      <span>// https://username.github.io/repo-name/one/two?a=b&amp;c=d#qwe becomes</span>
      <span>// https://username.github.io/repo-name/?p=/one/two&amp;q=a=b~and~c=d#qwe</span>
      <span>// Otherwise, leave segmentCount as 0.</span>
      <span>var</span> <span>segmentCount</span> <span>=</span> <span>0</span><span>;</span>
      <span>var</span> <span>l</span> <span>=</span> <span>window</span><span>.</span><span>location</span><span>;</span>
      <span>l</span><span>.</span><span>replace</span><span>(</span>
        <span>l</span><span>.</span><span>protocol</span> <span>+</span> <span>'</span><span>//</span><span>'</span> <span>+</span> <span>l</span><span>.</span><span>hostname</span> <span>+</span> <span>(</span><span>l</span><span>.</span><span>port</span> <span>?</span> <span>'</span><span>:</span><span>'</span> <span>+</span> <span>l</span><span>.</span><span>port</span> <span>:</span> <span>''</span><span>)</span> <span>+</span>
        <span>l</span><span>.</span><span>pathname</span><span>.</span><span>split</span><span>(</span><span>'</span><span>/</span><span>'</span><span>).</span><span>slice</span><span>(</span><span>0</span><span>,</span> <span>1</span> <span>+</span> <span>segmentCount</span><span>).</span><span>join</span><span>(</span><span>'</span><span>/</span><span>'</span><span>)</span> <span>+</span> <span>'</span><span>/?p=/</span><span>'</span> <span>+</span>
        <span>l</span><span>.</span><span>pathname</span><span>.</span><span>slice</span><span>(</span><span>1</span><span>).</span><span>split</span><span>(</span><span>'</span><span>/</span><span>'</span><span>).</span><span>slice</span><span>(</span><span>segmentCount</span><span>).</span><span>join</span><span>(</span><span>'</span><span>/</span><span>'</span><span>).</span><span>replace</span><span>(</span><span>/&amp;/g</span><span>,</span> <span>'</span><span>~and~</span><span>'</span><span>)</span> <span>+</span>
        <span>(</span><span>l</span><span>.</span><span>search</span> <span>?</span> <span>'</span><span>&amp;q=</span><span>'</span> <span>+</span> <span>l</span><span>.</span><span>search</span><span>.</span><span>slice</span><span>(</span><span>1</span><span>).</span><span>replace</span><span>(</span><span>/&amp;/g</span><span>,</span> <span>'</span><span>~and~</span><span>'</span><span>)</span> <span>:</span> <span>''</span><span>)</span> <span>+</span>
        <span>l</span><span>.</span><span>hash</span>
      <span>);</span>
    <span>&lt;/script&gt;</span>
  <span>&lt;/head&gt;</span>
  <span>&lt;body&gt;</span>
  <span>&lt;/body&gt;</span>
<span>&lt;/html&gt;</span>
</code></pre></div>



<h4>
  <a name="3-update-base-path-on-indexhtml-page" href="#3-update-base-path-on-indexhtml-page">
  </a>
  3. Update base path on Index.html Page <a name="updatebasepath-5"></a>
</h4>

<p>The <code>&lt;base&gt;</code> url in index.html will need to be modified depending on where the project is deployed. If you have a repository with a structure like this:<br>
</p>

<div><pre><code>MyFirstBlazorApp
|
|
â””â”€â”€â”€index.html
â””â”€â”€â”€sample-data
â””â”€â”€â”€404.html
â””â”€â”€â”€_framework
...
...

</code></pre></div>



<p>you need to edit base tag as<br>
</p>

<div><pre><code>  ...
  ...
  <span>&lt;base</span> <span>href=</span><span>"/MyFirstBlazorApp/"</span> <span>/&gt;</span>
  ...
  ...
</code></pre></div>



<p>If deploying on the root level, set segmentCount = 0 in 404.html as well.</p>

<p>-- ðŸŽ‰ <strong>Enjoy with Blazor</strong> ðŸŽ‰ --</p>


        </div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
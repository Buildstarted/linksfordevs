<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Introduction to Svelte -
linksfor.dev(s)
    </title>
	<link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <style type="text/css">
        html {
            font-family: sans-serif;
            line-height: 1.15;
            -webkit-text-size-adjust: 100%;
            -webkit-tap-highlight-color: transparent;
            height: 100%;
        }

        *, ::after, ::before {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";
            font-size: 1rem;
            font-weight: 400;
            line-height: 1.5;
            color: #60656a;
            text-align: left;
            background-color: #323b44;
        }

        h1 {
            font-size: 6rem;
            font-weight: 300;
            line-height: 1.2;
            margin-top: 0;
            margin-bottom: 0.5rem;
            margin-bottom: 0.5rem
        }

        a {
            color: #007bff;
            color: #ccc;
            text-decoration: none;
            background-color: transparent;
            word-break: break-all;
        }

        .unseen a {
            font-weight: bold;
        }

        h3 {
            margin-top: 0;
            padding-top: 0;
            font-weight: normal;
        }

        .grid {
            -ms-flex-direction: column;
            flex-direction: column;
            width: 1024px;
            margin: 0 auto;
            flex: 1 0 auto;
        }

        .row {
            -ms-flex-direction: row;
            flex-direction: row;
            width: 100%;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            display: -ms-flexbox;
            display: flex;
        }

        .col {
            margin: 0 10px 0 10px;
            box-sizing: border-box;
            vertical-align: top;
        }

        .col-3-of-4, .col-6-of-8, .col-9-of-12 {
            width: calc(75% - 20px);
        }

        .col-1-of-4, .col-2-of-8, .col-3-of-12 {
            width: calc(25% - 20px);
        }

        @media (max-width:1023px) {
            /* big landscape tablets, laptops, and desktops */
            body {
                overflow-x: hidden;
            }

            main {
                width: 99%;
            }

            h1 {
                font-size: 50px;
            }
        }

        .text-right {
            text-align: right;
        }

        footer {
            left: 0;
            width: 100%;
            margin-top: 2em;
            padding: 50px 0;
            text-align: center;
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }

        .readable {
            color: #949ba2;
        }

        svg:not(:root).svg-inline--fa {
            color: #60656a;
            overflow: visible;
        }

        .svg-inline--fa.fa-w-12 {
            width: 0.75em;
        }

        svg:not(:root) {
            overflow: hidden;
        }

        .svg-inline--fa {
            display: inline-block;
            font-size: inherit;
            height: 1em;
            overflow: visible;
            vertical-align: -0.125em;
        }

        img {
            max-width: 100%;
        }

        .text-center {
            text-align: center;
        }

        .readable h1 {
            font-size: 2em;
        }
    </style>
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <h1>Introduction to Svelte</h1>
    <div class="entry-content"> <p><img src="https://daveceddia.com/images/intro-to-svelte.png" srcset="https://daveceddia.com/images/intro-to-svelte@2x.png 2x" alt="Introduction to Svelte"></p> <p>A few months ago, Svelte 3 was released.</p> <p>I tried it out, ran through their tutorial, and built a few small things. And I can honestly say that I think writing Svelte feels even <em>faster</em> and <em>easier</em> than React. Svelte gave me the same spark, the same feeling of &#x201C;wow!&#x201D; that I had with React.</p> <p>In this post I want to tell you a bit about Svelte, show you how it works with a few live example apps, and point you toward how to get started.</p> <h2 id="what-is-svelte">What is Svelte?</h2> <p>Svelte (some might say SvelteJS, but officially just &#x201C;Svelte&#x201D;), currently in its third revision, is a front end framework in the same vein as React, Vue.js, or Angular. It&#x2019;s similar in that it helps you paint pixels on a web page. It&#x2019;s different in a lot of other ways.</p> <h2 id="svelte-is-fast">Svelte is Fast</h2> <p>One of the first things I noticed about Svelte was how fast it is.</p> <p>The execution time is fast because Svelte surgically updates only the parts of the DOM that change. In contrast to React, Vue.js, and other Virtual DOM frameworks, Svelte doesn&#x2019;t use a virtual DOM.</p> <p>While VDOM frameworks are spending time rendering your components into an invisible tree before they commit changes to the real DOM, Svelte skips that middle step and goes straight for the update. Even though updating the DOM might be slow, Svelte can do it quickly because it knows exactly which elements changed (more on how that works in a minute).</p> <p>Svelte is also fast to develop in. In general, it seems like Svelte components tend to have less code than the equivalent React component. We&#x2019;ll see more examples in a bit, but here&#x2019;s Hello World in Svelte, for reference:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span> <span class="kd">let</span> <span class="nx">name</span> <span class="o">=</span> <span class="s2">&quot;World&quot;</span>
<span class="nt">&lt;/script&gt;</span> <span class="nt">&lt;h1&gt;</span>Hello {name}!<span class="nt">&lt;/h1&gt;</span>
</code></pre></div></div> <p>That&#x2019;s it! That&#x2019;s a <code class="highlighter-rouge">Hello</code> component. The variable <code class="highlighter-rouge">name</code> is declared in a regular old script tag. Then that variable can be used within the HTML below. It&#x2019;s <em>almost</em> just an HTML file.</p> <p>Here&#x2019;s a React <code class="highlighter-rouge">Hello</code> component for comparison:</p> <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="s1">&apos;react&apos;</span><span class="p">;</span> <span class="kd">const</span> <span class="nx">Hello</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="kd">let</span> <span class="nx">name</span> <span class="o">=</span> <span class="s2">&quot;World&quot;</span> <span class="k">return</span> <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello <span class="si">{</span><span class="nx">name</span><span class="si">}</span>!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;;</span>
<span class="p">}</span> <span class="k">export</span> <span class="k">default</span> <span class="nx">Hello</span><span class="p">;</span>
</code></pre></div></div> <p>Still pretty short, but with more special syntax to understand.</p> <h2 id="svelte-is-small">Svelte is Small</h2> <p>When a Svelte app is compiled, the resulting bundle size is <em>tiny</em> compared to most other popular frameworks.</p> <p>Here&#x2019;s that Hello World app, running on this very page:</p> <p>The <code class="highlighter-rouge">bundle.js</code> file for that app is <strong>2.3KB</strong>. And that <em>includes Svelte</em>! One JS file.</p> <p>That&#x2019;s smaller than the tiny + awesome <a href="https://preactjs.com/">Preact</a> React-compatible library, which starts at 3kb for just the library on its own. And the Hello React example above came out as 124KB of JS files after a build with Create React App.</p> <p>Okay, okay, that&#x2019;s not gzipped. Let me try that real quick&#x2026;</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">gzip</span> <span class="nt">-c</span> hello-svelte/public/bundle.js | <span class="nb">wc</span> <span class="nt">-c</span> 1190
<span class="nv">$ </span><span class="nb">gzip</span> <span class="nt">-c</span> hello-react/build/static/js/<span class="k">*</span>.js | <span class="nb">wc</span> <span class="nt">-c</span>
   38496
</code></pre></div></div> <p>That works out to 1.16KB vs. 37.6KB. After it&#x2019;s unzipped, the browser still has to parse the full 2.3KB vs. 124KB though. Tiny bundles are a big advantage for mobile.</p> <p>Another nice thing: the <code class="highlighter-rouge">node_modules</code> folder for this Hello World Svelte app totals only 29MB and 242 packages. Compare that to 204MB and 1017 packages for a fresh Create React App project.</p> <blockquote> <p>&#x201C;Yeah whatever Dave, those numbers don&#x2019;t matter. That&#x2019;s a contrived example.&#x201D;</p>
</blockquote> <p>Well, yes. Yes it is! <em>Of course</em> a large, real-world app will dwarf the size of the framework that powers it, whether that&#x2019;s 1k or 38k. That&#x2019;s the <em>baseline</em> though, and personally, I think starting with such at tiny+fast footprint is exciting.</p> <p>And even for larger apps, I think Svelte might have an ace up its sleeve because&#x2026;</p> <h2 id="svelte-is-compiled">Svelte is Compiled</h2> <p>The reason Svelte apps are so tiny is because Svelte, in addition to being a framework, is also a compiler.</p> <p>You&#x2019;re probably familiar with the process of running <code class="highlighter-rouge">yarn build</code> to compile a React project. It invokes Weback + Babel to bundle up your project files, minify them, add the <code class="highlighter-rouge">react</code> and <code class="highlighter-rouge">react-dom</code> libraries to the bundle, minify those, and produce a single output file (or maybe a few partial chunks).</p> <p>Svelte, by contrast, compiles itself out of the picture (mostly). Instead of the result being <code class="highlighter-rouge">(your app)</code> + <code class="highlighter-rouge">(the Svelte runtime)</code>, the result is <code class="highlighter-rouge">(your app that Svelte has taught how to run independently)</code>. Svelte bakes itself in, taking advantage of tree shaking from Rollup (or Webpack) to include only the parts of the framework that are used by your code.</p> <p>It&#x2019;s inverted from the way most (every?) other framework works. Most frameworks need to be present to actually start and run the app.</p> <p>Ok ok, enough talking about how fast/small/cool Svelte is. Let&#x2019;s try building something and see what the code looks like.</p> <p>We&#x2019;re gonna build this shopping list right there:</p> <div class="inline-svelte-app-cue">&#x261D;&#xFE0F; it&apos;s interactive, try it out!</div> <p>We&#x2019;ll be able to add things to the list, remove the mistakes, and check them off as you buy them.</p> <p>Here&#x2019;s our starting point, a hardcoded list of items to buy:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span> <span class="kd">let</span> <span class="nx">items</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="s2">&quot;Milk&quot;</span><span class="p">,</span> <span class="na">done</span><span class="p">:</span> <span class="kc">false</span> <span class="p">},</span> <span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="s2">&quot;Bread&quot;</span><span class="p">,</span> <span class="na">done</span><span class="p">:</span> <span class="kc">true</span> <span class="p">},</span> <span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="s2">&quot;Eggs&quot;</span><span class="p">,</span> <span class="na">done</span><span class="p">:</span> <span class="kc">false</span> <span class="p">}</span> <span class="p">];</span>
<span class="nt">&lt;/script&gt;</span> <span class="nt">&lt;div&gt;</span> <span class="nt">&lt;h1&gt;</span>Things to Buy<span class="nt">&lt;/h1&gt;</span> <span class="nt">&lt;ul&gt;</span> {#each items as item} <span class="nt">&lt;li&gt;</span>{item.name}<span class="nt">&lt;/li&gt;</span> {/each} <span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div> <p>At the top, there&#x2019;s a <code class="highlighter-rouge">&lt;script&gt;</code> tag, and at the bottom, some HTML markup. Every Svelte component can have a <code class="highlighter-rouge">&lt;script&gt;</code>, a <code class="highlighter-rouge">&lt;style&gt;</code>, and some markup.</p> <p>Within the <code class="highlighter-rouge">&lt;script&gt;</code> is regular JavaScript. Here we&#x2019;re defining an array called <code class="highlighter-rouge">items</code>, and that variable becomes available in the markup below.</p> <p>In the markup, you probably notice most of it looks like normal HTML, except this part:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{#each items as item} <span class="nt">&lt;li&gt;</span>{item.name}<span class="nt">&lt;/li&gt;</span>
{/each}
</code></pre></div></div> <p>This is Svelte&#x2019;s template syntax for rendering a list. For <code class="highlighter-rouge">#each</code> of the elements in the <code class="highlighter-rouge">items</code> array (call it <code class="highlighter-rouge">item</code>), render an <code class="highlighter-rouge">&lt;li&gt;</code> tag with the item&#x2019;s name in it.</p> <p>If you know React, the <code class="highlighter-rouge">{item.name}</code> will look familiar: it&#x2019;s a JavaScript expression within the template, and it works the same as it does in React. Svelte will evaluate the expression and insert the value into the <code class="highlighter-rouge">&lt;li&gt;</code>.</p> <p>Let&#x2019;s add another feature: removing items from the list. Here&#x2019;s the new code:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span> <span class="kd">let</span> <span class="nx">items</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="s2">&quot;Milk&quot;</span><span class="p">,</span> <span class="na">done</span><span class="p">:</span> <span class="kc">false</span> <span class="p">},</span> <span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="s2">&quot;Bread&quot;</span><span class="p">,</span> <span class="na">done</span><span class="p">:</span> <span class="kc">true</span> <span class="p">},</span> <span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="s2">&quot;Eggs&quot;</span><span class="p">,</span> <span class="na">done</span><span class="p">:</span> <span class="kc">false</span> <span class="p">}</span> <span class="p">];</span> <span class="kd">const</span> <span class="nx">remove</span> <span class="o">=</span> <span class="nx">item</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="nx">items</span> <span class="o">=</span> <span class="nx">items</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">i</span> <span class="o">=&gt;</span> <span class="nx">i</span> <span class="o">!==</span> <span class="nx">item</span><span class="p">);</span> <span class="p">};</span>
<span class="nt">&lt;/script&gt;</span> <span class="c">&lt;!-- ooh look, a style tag --&gt;</span>
<span class="nt">&lt;style&gt;</span> <span class="nt">li</span> <span class="nt">button</span> <span class="p">{</span> <span class="nl">border</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="nb">transparent</span><span class="p">;</span> <span class="nl">padding</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="p">}</span> <span class="nc">.done</span> <span class="nt">span</span> <span class="p">{</span> <span class="nl">opacity</span><span class="p">:</span> <span class="m">0.4</span><span class="p">;</span> <span class="p">}</span>
<span class="nt">&lt;/style&gt;</span> <span class="nt">&lt;div&gt;</span> <span class="nt">&lt;h1&gt;</span>Things to Buy<span class="nt">&lt;/h1&gt;</span> <span class="nt">&lt;ul&gt;</span> {#each items as item} <span class="nt">&lt;li&gt;</span> <span class="nt">&lt;span&gt;</span>{item.name}<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;button</span> <span class="na">on:click=</span><span class="s">{()</span> <span class="err">=</span><span class="nt">&gt;</span> remove(item)}&gt;&#x274C;<span class="nt">&lt;/button&gt;</span> <span class="nt">&lt;/li&gt;</span> {/each} <span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div> <p>We&#x2019;ve added a couple things here.</p> <p>First, we have a <code class="highlighter-rouge">remove</code> function inside our script now. It takes an item, filters the item out of the array, and, crucially, it <strong>reassigns the variable <code class="highlighter-rouge">items</code></strong>.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">remove</span> <span class="o">=</span> <span class="nx">item</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="nx">items</span> <span class="o">=</span> <span class="nx">items</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">i</span> <span class="o">=&gt;</span> <span class="nx">i</span> <span class="o">!==</span> <span class="nx">item</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div></div> <h2 id="svelte-is-reactive">Svelte is Reactive</h2> <p>When you reassign a variable, Svelte will re-render the parts of the template that use it.</p> <p>In the example above, the resassignment of <code class="highlighter-rouge">items</code> is what causes Svelte to re-render the list. If we had just pushed the item onto the list (<code class="highlighter-rouge">items.push(newThing)</code>), that wouldn&#x2019;t have had the same effect. It&#x2019;s gotta be <code class="highlighter-rouge">items = something</code> for Svelte to recompute. (it also notices assignments to properties, like <code class="highlighter-rouge">items[0] = thing</code> or <code class="highlighter-rouge">items.foo = 7</code>)</p> <p><img src="https://daveceddia.com/images/svelte-variables-highlighted.png" srcset="https://daveceddia.com/images/svelte-variables-highlighted.png 2x" alt="Svelte links variables with where they are used in the template"></p> <p>Svelte is a compiler, remember. That makes it able to inspect the relationships between the script and the template at compile time, and insert little bits of code that say &#x201C;Re-render everything related to <code class="highlighter-rouge">items</code> now.&#x201D; In fact, here&#x2019;s the actual compiled version of the <code class="highlighter-rouge">remove</code> function:</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">remove</span> <span class="o">=</span> <span class="nx">item</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="nx">$$invalidate</span><span class="p">(</span><span class="s1">&apos;items&apos;</span><span class="p">,</span> <span class="nx">items</span> <span class="o">=</span> <span class="nx">items</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">i</span> <span class="o">=&gt;</span> <span class="nx">i</span> <span class="o">!==</span> <span class="nx">item</span><span class="p">));</span>
<span class="p">};</span>
</code></pre></div></div> <p>You can see the resemblance to our original code, and how it&#x2019;s been wrapped with this <code class="highlighter-rouge">$$invalidate</code> function that tells Svelte to update. It&#x2019;s nice how readable the compiled code is.</p> <h2 id="event-handlers-start-with-on">Event Handlers Start With &#x2018;on:&#x2019;</h2> <p>We also added this button with a click handler:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;button</span> <span class="na">on:click=</span><span class="s">{()</span> <span class="err">=</span><span class="nt">&gt;</span> remove(item)}&gt; &#x274C;
<span class="nt">&lt;/button&gt;</span>
</code></pre></div></div> <p>Passing a function this way will look familiar if you&#x2019;re used to React, but the event handler syntax is a little different.</p> <p>All of Svelte&#x2019;s event handlers start with <code class="highlighter-rouge">on:</code> &#x2013; <code class="highlighter-rouge">on:click</code>, <code class="highlighter-rouge">on:mousemove</code>, <code class="highlighter-rouge">on:dblclick</code>, and so on. Svelte uses the standard all-lowercase DOM event names.</p> <h2 id="svelte-compiles-css-too">Svelte Compiles CSS, Too</h2> <p>The other thing we added to the code above was the <code class="highlighter-rouge">&lt;style&gt;</code> tag. Inside there you can write regular, plain old CSS.</p> <p>There&#x2019;s a twist, though: Svelte will compile the CSS with <strong>unique classnames</strong> that are scoped to this specific component. That means you can safely use generic selectors like <code class="highlighter-rouge">li</code> or <code class="highlighter-rouge">div</code> or <code class="highlighter-rouge">li button</code> without worrying that they will bleed out into the entire app and wreak havoc on your CSS specificity.</p> <ul> <li>here&#x2019;s a list</li> <li>on the same page as the Grocery List app up there</li> <li>and the styles don&#x2019;t conflict!</li>
</ul> <p>Speaking of CSS, we need to fix something.</p> <h2 id="dynamic-classes-with-svelte">Dynamic Classes with Svelte</h2> <p>You might&#x2019;ve noticed a bug in our app: one of the items is marked as &#x201C;done&#x201D;, yet it doesn&#x2019;t appear that way in the list. Let&#x2019;s apply the CSS class <code class="highlighter-rouge">done</code> to the completed items.</p> <p>Here&#x2019;s one way to do it&#x2026; if you&#x2019;re familar with React, this will look pretty normal:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{#each items as item} <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">{item.done</span> <span class="err">?</span> <span class="err">&apos;</span><span class="na">done</span><span class="err">&apos;</span> <span class="na">:</span> <span class="err">&apos;&apos;}</span><span class="nt">&gt;</span> <span class="nt">&lt;span&gt;</span>{item.name}<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;button</span> <span class="na">on:click=</span><span class="s">{()</span> <span class="err">=</span><span class="nt">&gt;</span> remove(item)}&gt;&#x274C;<span class="nt">&lt;/button&gt;</span> <span class="nt">&lt;/li&gt;</span>
{/each}
</code></pre></div></div> <p>Svelte uses regular old <code class="highlighter-rouge">class</code> for CSS classes (unlike React&#x2019;s <code class="highlighter-rouge">className</code>). Here we&#x2019;re writing a JS expression inside curly braces to compute the CSS class.</p> <p>There&#x2019;s a nicer way to do the same thing, though. Check this out:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{#each items as item} <span class="nt">&lt;li</span> <span class="na">class:done=</span><span class="s">{item.done}</span><span class="nt">&gt;</span> <span class="nt">&lt;span&gt;</span>{item.name}<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;button</span> <span class="na">on:click=</span><span class="s">{()</span> <span class="err">=</span><span class="nt">&gt;</span> remove(item)}&gt;&#x274C;<span class="nt">&lt;/button&gt;</span> <span class="nt">&lt;/li&gt;</span>
{/each}
</code></pre></div></div> <p>This bit, <code class="highlighter-rouge">class:done={item.done}</code>, is saying &#x201C;apply the class <code class="highlighter-rouge">done</code> if <code class="highlighter-rouge">item.done</code> is truthy&#x201D;.</p> <p>Svelte has a lot of these little niceities. They know we developers do this kind of thing all the time, so they added a shorthand for it. But it&#x2019;s also nice to be able to revert to the &#x201C;hard&#x201D; way if you need to do something special, or if you just forget the shorthand syntax.</p> <h2 id="svelte-detects-unused-css">Svelte Detects Unused CSS</h2> <p>A nice side effect of Svelte compiling the CSS is that it can determine if some of your CSS selectors are unused. In VSCode, it shows up as a yellow squiggly line right on the rule itself.</p> <p>In fact, as I was writing the code for this blog post, it helped me catch a bug. I wanted to dim the <code class="highlighter-rouge">{item.name}</code> when it was marked as &#x201C;done&#x201D;, and to do that I was gonna wrap it in a <code class="highlighter-rouge">span</code>. I forgot to add the tag, though, and wrote the CSS selector <code class="highlighter-rouge">.done span</code> to target the non-existent <code class="highlighter-rouge">span</code>. This is what I saw in the editor:</p> <p><img src="https://daveceddia.com/images/svelte-unused-css-warning.png" srcset="https://daveceddia.com/images/svelte-unused-css-warning.png 2x" alt="VSCode warning that a CSS selector is unused"></p> <p>And the same warning appeared in the Problems tab:</p> <p><img src="https://daveceddia.com/images/vscode-unused-css-selector.png" srcset="https://daveceddia.com/images/vscode-unused-css-selector.png 2x" alt="VSCode warning that a CSS selector is unused"></p> <p>It&#x2019;s nice to have the compiler watch out for like that. Unused CSS always seemed like a problem computers should be able to solve.</p> <h2 id="mark-items-as-done">Mark Items as Done</h2> <p>Let&#x2019;s add the ability to toggle an item&#x2019;s &#x201C;done&#x201D; status on or off. We&#x2019;ll add a checkbox.</p> <p>One way to do it is to write a change handler to synchronize the value as we&#x2019;d do in React:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">on:change=</span><span class="s">{e</span> <span class="err">=</span><span class="nt">&gt;</span> (item.done = e.target.checked)}
  checked={item.done} /&gt;
</code></pre></div></div> <p>A more <em>Svelte</em> way to write it is to use <code class="highlighter-rouge">bind</code>:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">bind:checked=</span><span class="s">{item.done}</span> <span class="nt">/&gt;</span>
</code></pre></div></div> <p>As you check and uncheck the box, the <code class="highlighter-rouge">bind:checked</code> will keep the checkbox in sync with the value of <code class="highlighter-rouge">item.done</code>. This is <strong>two-way binding</strong> and it&#x2019;ll look familiar if you&#x2019;ve used frameworks like Angular or Vue.</p> <h2 id="forms-and-inputs-and-preventdefault">Forms and Inputs and preventDefault</h2> <p>The one big thing still missing is the ability to add items to the list.</p> <p>We will need an input, a form around it (so that we can press Enter to add items), and a submit handler to add the item to the list. Here are the relevant new parts:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span> <span class="c1">// ... existing stuff here ...</span> <span class="c1">// new stuff:</span> <span class="kd">let</span> <span class="nx">name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span> <span class="kd">const</span> <span class="nx">addItem</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="nx">items</span> <span class="o">=</span> <span class="p">[</span> <span class="p">...</span><span class="nx">items</span><span class="p">,</span> <span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">(),</span> <span class="nx">name</span><span class="p">,</span> <span class="na">done</span><span class="p">:</span> <span class="kc">false</span> <span class="p">}</span> <span class="p">];</span> <span class="nx">name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span> <span class="p">};</span>
<span class="nt">&lt;/script&gt;</span> <span class="nt">&lt;form</span> <span class="na">on:submit</span><span class="err">|</span><span class="na">preventDefault=</span><span class="s">{addItem}</span><span class="nt">&gt;</span> <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>Add an item<span class="nt">&lt;/label&gt;</span> <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">&quot;name&quot;</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">bind:value=</span><span class="s">{name}</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre></div></div> <p>We&#x2019;ve got the <code class="highlighter-rouge">addItem</code> function to, well, add the new item to the list. Notice that it reassigns <code class="highlighter-rouge">items</code> instead of doing an <code class="highlighter-rouge">items.push()</code>, and then resets the name. Those changes will cause Svelte to update the relevant bits of UI.</p> <p>We haven&#x2019;t run across <code class="highlighter-rouge">on:submit</code> and <code class="highlighter-rouge">bind:value</code> yet, but they follow the same patterns we saw earlier. The <code class="highlighter-rouge">on:submit</code> calls the <code class="highlighter-rouge">addItem</code> function when you submit the form, and <code class="highlighter-rouge">bind:value={name}</code> keeps the string <code class="highlighter-rouge">name</code> in sync with the input.</p> <p>Another interesting bit of syntax is the <code class="highlighter-rouge">on:submit|preventDefault</code>. Svelte calls that an <strong>event modifier</strong> and it&#x2019;s just a nice shorthand to save us having to call <code class="highlighter-rouge">event.preventDefault()</code> inside our <code class="highlighter-rouge">addItem</code> function &#x2013; though we could just as easily write it that way, too:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span> <span class="kd">const</span> <span class="nx">addItem</span> <span class="o">=</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span> <span class="c1">// ... same stuff here ...</span> <span class="p">};</span>
<span class="nt">&lt;/script&gt;</span> <span class="nt">&lt;form</span> <span class="na">on:submit=</span><span class="s">{addItem}</span><span class="nt">&gt;</span> <span class="c">&lt;!-- same stuff here --&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre></div></div> <p>And with that, we&#x2019;ve finished the app. Here it is again so you can play around with it:</p> <div class="inline-svelte-app-cue">&#x261D;&#xFE0F; it&apos;s interactive, try it out!</div> <h2 id="where-to-learn-more">Where to Learn More</h2> <p>There&#x2019;s a ton more awesome stuff in Svelte that I didn&#x2019;t have space to cover here, like:</p> <ul> <li>creating more than one component&#x2026;</li> <li>passing props to components</li> <li>slots (they work like React&#x2019;s <code class="highlighter-rouge">children</code>)</li> <li>reactive statements to do things like &#x201C;recompute <code class="highlighter-rouge">name</code> when <code class="highlighter-rouge">firstName</code> or <code class="highlighter-rouge">lastName</code> change&#x201D; or &#x201C;print the <code class="highlighter-rouge">firstName</code> to the console when it changes&#x201D;</li> <li>the <code class="highlighter-rouge">{#await somePromise}</code> template block</li> <li>animations and transitions built in</li> <li>lifecycle methods like <code class="highlighter-rouge">onMount</code> and <code class="highlighter-rouge">onDestroy</code></li> <li>a Context API for passing data between components</li> <li>Reactive &#x201C;stores&#x201D; for global data</li>
</ul> <p>The official <a href="https://svelte.dev/tutorial/basics">Svelte tutorial</a> covers all of this and more, and the tutorial is great, with an interactive &#x201C;lesson&#x201D; for each concept. Definitely check that out.</p> <p>The Svelte site has a nice REPL for playing around in the browser. Here is <a href="https://svelte.dev/repl/9983c53df057451db328b94553b88202?version=3.6.8">the grocery list example</a> that we&#x2019;ve built, or you can <a href="https://svelte.dev/repl">start a new app at svelte.dev/repl</a>.</p> <p>It&#x2019;s still early days for Svelte, but I&#x2019;m excited to see where it goes.</p> <p>One more thing! The creator of Svelte, Rich Harris, gave an <em>excellent</em> talk called Rethinking Reactivity about the motivations behind Svelte and also a bunch of cool demos. Definitely check that out if you haven&#x2019;t seen it. Embedded here for your viewing pleasure:</p> <div class="video-embed"> <iframe width="560" height="315" src="https://www.youtube.com/embed/AdNJ3fydeao" class></iframe>
</div> <div> <div class="dc_form_container "> <div class="dc_success_msg"> Success! Now check your email. </div> </div> </div> <a href="http://disqus.com" class="dsq-brlink">comments powered by </a> </div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2019 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
    </footer>
    
</body>
</html>
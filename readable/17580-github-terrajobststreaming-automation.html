<!DOCTYPE html>
<html lang="en">
<head>
    <title>
GitHub - terrajobst/streaming-automation -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>GitHub - terrajobst/streaming-automation</h1><div><div id="" class="markdown-body entry-content p-5"><p><a href="https://terrajobst.visualstudio.com/streaming-automation/_build/latest?definitionId=16&amp;branchName=master" rel="nofollow"><img src="https://camo.githubusercontent.com/3b2a9a49a3a6d6732ffe46a60367df5d3da6b455/68747470733a2f2f74657272616a6f6273742e76697375616c73747564696f2e636f6d2f73747265616d696e672d6175746f6d6174696f6e2f5f617069732f6275696c642f7374617475732f74657272616a6f6273742e73747265616d696e672d6175746f6d6174696f6e3f6272616e63684e616d653d6d6173746572" alt="Build Status" data-canonical-src="https://terrajobst.visualstudio.com/streaming-automation/_apis/build/status/terrajobst.streaming-automation?branchName=master"></a></p><h2><a id="user-content-obs" class="anchor" aria-hidden="true" href="#obs"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>OBS</h2><p><a href="https://www.nuget.org/packages/Terrajobst.StreamingAutomation.Obs/" rel="nofollow"><img src="https://camo.githubusercontent.com/4aa8637dc0033fcb66e6c3d6985200a6d5355395/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f54657272616a6f6273742e53747265616d696e674175746f6d6174696f6e2e4f62732e737667" alt="nuget" data-canonical-src="https://img.shields.io/nuget/v/Terrajobst.StreamingAutomation.Obs.svg"></a></p><pre><code>dotnet add package Terrajobst.StreamingAutomation.Obs
</code></pre><p>This allows you to automate OBS Studio. In order to use it, you need to install
the <a href="https://gc-updates.elgato.com/windows/sd-update/final/download-website.php" rel="nofollow">Stream Deck</a> software. You don't have to have the Stream Deck connected to
your computer though.</p><p>For example, let's say you want to start your stream on a specific scene and
always want to record and stream, you'd write code like this:</p><div class="highlight highlight-source-cs"><pre><span class="pl-k">private</span><span class="pl-k">void</span><span class="pl-en">StartStreamButton_Click</span>(<span class="pl-k">object</span><span class="pl-smi">sender</span>, <span class="pl-en">EventArgs</span><span class="pl-smi">e</span>)
{
    <span class="pl-k">var</span><span class="pl-smi">sceneCollectionId</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>My Scene Collection<span class="pl-pds">"</span></span>;
    <span class="pl-k">var</span><span class="pl-smi">introSceneId</span><span class="pl-k">=</span><span class="pl-smi">sceneCollectionId</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">"</span>My Intro Scene<span class="pl-pds">"</span></span>;

    <span class="pl-k">var</span><span class="pl-smi">obsClient</span><span class="pl-k">=</span><span class="pl-k">await</span><span class="pl-smi">ObsClient</span>.<span class="pl-en">ConnectAsync</span>();
    <span class="pl-k">await</span><span class="pl-smi">obsClient</span>.<span class="pl-en">SelectSceneCollectionAsync</span>(<span class="pl-smi">sceneCollectionId</span>);
    <span class="pl-k">await</span><span class="pl-smi">obsClient</span>.<span class="pl-en">SelectSceneAsync</span>(<span class="pl-smi">introSceneId</span>);
    <span class="pl-k">await</span><span class="pl-smi">obsClient</span>.<span class="pl-en">StartRecordingAsync</span>();
    <span class="pl-k">await</span><span class="pl-smi">obsClient</span>.<span class="pl-en">StartStreamingAsync</span>();
}</pre></div><p>Similarly, when you want to end your stream by fading to black, you can write
code like this:</p><div class="highlight highlight-source-cs"><pre><span class="pl-k">private</span><span class="pl-k">void</span><span class="pl-en">StopStreamButton_Click</span>(<span class="pl-k">object</span><span class="pl-smi">sender</span>, <span class="pl-en">EventArgs</span><span class="pl-smi">e</span>)
{
    <span class="pl-k">var</span><span class="pl-smi">sceneCollectionId</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>My Scene Collection<span class="pl-pds">"</span></span>;
    <span class="pl-k">var</span><span class="pl-smi">blankSceneId</span><span class="pl-k">=</span><span class="pl-smi">sceneCollectionId</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">"</span>My Blank Scene<span class="pl-pds">"</span></span>;

    <span class="pl-k">var</span><span class="pl-smi">obsClient</span><span class="pl-k">=</span><span class="pl-k">await</span><span class="pl-smi">ObsClient</span>.<span class="pl-en">ConnectAsync</span>();

    <span class="pl-k">await</span><span class="pl-smi">obsClient</span>.<span class="pl-en">SelectSceneCollectionAsync</span>(<span class="pl-smi">sceneCollectionId</span>);
    <span class="pl-k">await</span><span class="pl-smi">obsClient</span>.<span class="pl-en">SelectSceneAsync</span>(<span class="pl-smi">blankSceneId</span>);

    <span class="pl-k">await</span><span class="pl-smi">Task</span>.<span class="pl-en">Delay</span>(<span class="pl-smi">TimeSpan</span>.<span class="pl-en">FromSeconds</span>(<span class="pl-c1">2</span>));

    <span class="pl-k">await</span><span class="pl-smi">obsClient</span>.<span class="pl-en">StopStreamingAsync</span>();
    <span class="pl-k">await</span><span class="pl-smi">obsClient</span>.<span class="pl-en">StopRecordingAsync</span>();
}</pre></div><h2><a id="user-content-youtube" class="anchor" aria-hidden="true" href="#youtube"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>YouTube</h2><p><a href="https://www.nuget.org/packages/Terrajobst.StreamingAutomation.YouTube/" rel="nofollow"><img src="https://camo.githubusercontent.com/6e627360c7d096658fc1403ea6355fb4467d5498/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f54657272616a6f6273742e53747265616d696e674175746f6d6174696f6e2e596f75547562652e737667" alt="nuget" data-canonical-src="https://img.shields.io/nuget/v/Terrajobst.StreamingAutomation.YouTube.svg"></a></p><pre><code>dotnet add package Terrajobst.StreamingAutomation.YouTube
</code></pre><p>After you started the OBS stream, you probably want to start the broad cast on a
streaming platform like YouTube. If you can use YouTube Stream Now, then
starting the broadcast explicitly isn't needed. But if you use multiple events,
you may need to start the event manually.</p><p>You can easily automate this like this:</p><div class="highlight highlight-source-cs"><pre><span class="pl-k">const</span><span class="pl-k">string</span><span class="pl-smi">youTubeClientId</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>&lt;Your YouTube Client ID<span class="pl-pds">"</span></span>;
<span class="pl-k">const</span><span class="pl-k">string</span><span class="pl-smi">youTubeClientSecret</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>&lt;Your YouTube Client Secrete<span class="pl-pds">"</span></span>;
<span class="pl-k">var</span><span class="pl-smi">youTubeClient</span><span class="pl-k">=</span><span class="pl-k">await</span><span class="pl-smi">YouTubeClient</span>.<span class="pl-en">ConnectAsync</span>(<span class="pl-smi">youTubeClientId</span>, <span class="pl-smi">youTubeClientSecret</span>);

<span class="pl-k">var</span><span class="pl-smi">upcomingEvents</span><span class="pl-k">=</span><span class="pl-k">await</span><span class="pl-smi">youTubeClient</span>.<span class="pl-en">GetUpcomingEvents</span>();
<span class="pl-k">var</span><span class="pl-smi">selectEvent</span><span class="pl-k">=</span><span class="pl-en">ChooseEvent</span>(<span class="pl-smi">upcomingEvents</span>);

<span class="pl-c"><span class="pl-c">//</span> Use OBS to start the stream</span><span class="pl-k">await</span><span class="pl-smi">Task</span>.<span class="pl-en">Delay</span>(<span class="pl-smi">TimeSpan</span>.<span class="pl-en">FromSeconds</span>(<span class="pl-c1">5</span>));

<span class="pl-c"><span class="pl-c">//</span> Start the broadcast on the YouTube side:</span><span class="pl-k">await</span><span class="pl-smi">youTubeClient</span>.<span class="pl-en">StartBroadcast</span>(<span class="pl-smi">selectEvent</span>.<span class="pl-smi">Id</span>);

<span class="pl-c"><span class="pl-c">//</span> To stop the broadcast, you'd call this method:</span><span class="pl-k">await</span><span class="pl-smi">youTubeClient</span>.<span class="pl-en">EndBroadcast</span>(<span class="pl-smi">selectEvent</span>.<span class="pl-smi">Id</span>);</pre></div></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
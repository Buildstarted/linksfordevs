<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Chipotle builds new website with .NET Core, Visual Studio Code, and TypeScript - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Chipotle builds new website with .NET Core, Visual Studio Code, and TypeScript - linksfor.dev(s)"/>
    <meta property="article:author" content="Mike Smith: Lead Software Developer"/>
    <meta property="og:description" content="Chipotle Mexican Grill is a longtime leader and innovator in the food industry. The company is committed to cultivating a better world by serving responsibly sourced, classically cooked, real food with wholesome ingredients&#x2014;and without artificial colors, flavors, or preservatives. As of September 30, 2019, Chipotle had more than 2,500 restaurants in the United States, Canada, the United Kingdom, France, and Germany, all of which are company owned and operated."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://customers.microsoft.com/en-us/story/787157-chipotle-retailers-azure"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
	<div class="devring" style="background: #222">
		<div class="grid">
			<div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
				<span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
				<a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
				<a href="https://devring.club/random" class="devring-random">Random</a>
				<a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
			</div>
		</div>
	</div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Chipotle builds new website with .NET Core, Visual Studio Code, and TypeScript</title>
<div class="readable">
        <h1>Chipotle builds new website with .NET Core, Visual Studio Code, and TypeScript</h1>
            <div>by Mike Smith: Lead Software Developer</div>
            <div>Reading time: 11-14 minutes</div>
        <div>Posted here: 24 Feb 2020</div>
        <p><a href="https://customers.microsoft.com/en-us/story/787157-chipotle-retailers-azure">https://customers.microsoft.com/en-us/story/787157-chipotle-retailers-azure</a></p>
        <hr/>
<div id="readability-page-1" class="page"><p>Chipotle Mexican Grill is a longtime leader and innovator in the food industry. The company is committed to cultivating a better world by serving responsibly sourced, classically cooked, real food with wholesome ingredients—and without artificial colors, flavors, or preservatives. As of September 30, 2019, Chipotle had more than 2,500 restaurants in the United States, Canada, the United Kingdom, France, and Germany, all of which are company owned and operated.</p><div><div><h3>Situation</h3><p>Steve Ells, founder and Executive Chairman, first opened Chipotle with a single restaurant in Denver, Colorado, in 1993. Some 25 years later, having grown nationwide, the company decided to move its corporate headquarters—including most software development—to Newport Beach, California.&nbsp;</p><p>For Mike Smith, a native Southern Californian who joined Chipotle as a Lead Software Developer soon after the move, the opportunity was too good to pass up. Few developers had followed the company from Denver to Newport Beach, which meant that Smith would get to build his own team. His first assignment: deliver an entirely new customer-facing website that would let the company be more agile in reaching out to and servicing Chipotle’s rapidly growing online customer base.</p><p>At the time, Chipotle had three different customer-facing websites, each with its own look and feel: a main website, one for online ordering, and one for catering. All were built on AngularJS and all content on the sites was hand-coded, including menus, pricing, and item availability. Even small changes required new code, followed by the necessary testing and deployment processes. What’s more, because the sites were self-hosted, Chipotle also had to devote resources to day-to-day operation of the three sites, as required to keep everything up and running smoothly.</p><p>The company decided to start over and build a new, unified web presence from scratch. The website would need to connect to existing back-end systems for ordering, preferences, authentication, and so on. It also had to integrate with the company’s recently purchased, cloud-based content management system, which drives menu content and item availability for displays in the company’s 2,500 stores.</p><h3>Solution</h3><p>Work on the new site began in April 2019, with the first task being to choose a new platform. From a requirements perspective, whatever Smith’s team delivered would need to support content changes in minutes or hours, without developer assistance. Menus and menu item availability would need to be configuration-driven and adjustable on the fly—as required to promptly address situations such as a local store running out of a menu item or ingredient.</p><p>“One vendor was steering us to build everything within the content management system, which seemed risky for many reasons—such as integration with existing back-end systems,” says Smith. “To ensure an agile architecture while delivering the richest and most responsive user experience, we decided on a <a href="https://docs.microsoft.com/en-us/dotnet/architecture/modern-web-apps-azure/choose-between-traditional-web-and-single-page-apps">single-page application pattern</a>, which dynamically rewrites the current web page as needed rather than loading an entire new set of pages from a server.”</p><h4><u>Assembling a tool set</u></h4><p>Next, Smith’s team had to choose a tool set with which to build its new web presence. Not only would it need to support the chosen application pattern, but it would also need to enable Smith’s small, newly formed team of four to hit the ground running—and meet the marketing team’s mandate to have the new site up and running in less than eight months.</p><p>Smith’s team chose a powerful combination of C#, TypeScript, .NET Core, and Microsoft Visual Studio Code, each of which brought some attractive benefits to the table:</p><ul><li>C#<strong>&nbsp;</strong>was already the company’s language of choice for existing back-end services and had proven its worth through language features like LINQ, generics, async/await, and <a href="https://docs.microsoft.com/en-us/nuget/what-is-nuget">NuGet</a> for sharing code. “Internally shared NuGet packages are great for code reusability, formalizing boundaries, and achieving consistency across teams,” says Smith.</li><li>Given the desire to use C#, the next decision was whether to use .NET or <a href="https://docs.microsoft.com/en-us/dotnet/core/">.NET Core</a>. “We chose .NET Core because it offered more options in terms of development platform and hosting options—like the flexibility to deploy Docker containers on Linux,” says Smith.</li><li>For client-side scripting, the team chose <a href="https://code.visualstudio.com/docs/languages/typescript">TypeScript</a>—a typed superset of JavaScript that includes features like object orientation and strong type checking. “TypeScript made it easy for JavaScript developers to come up to speed, enabling them to write similar code but with access to more language features and built-in compile-time safety,” explains Smith.</li><li>For an IDE, in keeping with its desire to stay as flexible as possible, the team chose <a href="https://code.visualstudio.com/docs/languages/typescript">Visual Studio Code</a>. “Visual Studio Code is a huge developer win,” says Smith. “We’re mostly using it for front-end development; we test in Safari on Macs, among other platforms, and being able to use the same IDE across devices makes the process seamless.”</li></ul><h4><u>Building a single-page app</u></h4><p>Having chosen a platform and tool set, Smith’s team began building a single-page app that could integrate with the company’s existing content management system and back-end services. Today, when customers go to <a href="https://chipotle.com/">chipotle.com</a>, the first page load is from the CDN for the content management system, which has a &lt;script&gt; tag with a source that points to <a href="https://azure.microsoft.com/en-us/services/cdn/">Azure Content Delivery Network</a>. The browser then requests the single web page (.js and .css files) for the app from Content Delivery Network, which is backed by<a href="https://azure.microsoft.com/en-us/services/storage/blobs/">&nbsp;Azure Blob storage</a>. The JavaScript on the page (<a href="https://code.visualstudio.com/docs/typescript/typescript-compiling">transpiled from TypeScript</a> within Visual Studio Code) drives the retrieval of text and images from the CDN for the company’s cloud-based content management system, which is requested via HTTP and returned as JSON. &nbsp;</p><p>Calls to back-end services (such as ordering, delivery, and account management and preferences) hit <a href="https://azure.microsoft.com/en-us/services/api-management">Azure API Management</a>, which gives Chipotle a single, easily managed endpoint and API gateway into its various back-end services and systems. With such functionality, other development teams at Chipotle can work to modernize the back-end services behind the gateway in a way that remains transparent to Smith’s front-end app. “API Management is great for ensuring consistency with our API interactions, enabling us to always know what exists where, behind a single URL,” says Smith. “There are lots of changes going on behind the API gateway, but we don’t need to worry about them.”</p><p>For example, a different team is working to replace some relational data stores with <a href="https://azure.microsoft.com/en-us/services/cosmos-db/">Azure Cosmos DB</a>. “Some of our data really lends itself to document storage versus relational, so switching to Azure Cosmos DB is a big win in terms of scalability, availability, and, down the road, geographic distribution,” Smith says. “As an example, with Azure Cosmos DB, we can literally store a customer’s order as a single, unstructured JSON document, instead of in 30 to 50 different relational tables. Azure Cosmos DB features like <a href="https://docs.microsoft.com/en-us/azure/cosmos-db/how-to-time-to-live">Time to Live</a> are also proving helpful, providing a convenient way to automatically delete an order that’s not completed within a certain amount of time.”</p><p>Other Azure services that play a role in the solution include:</p><ul><li><a href="https://azure.microsoft.com/en-us/services/cache/">Azure Cache for Redis</a>, which improves website performance by providing in-memory caching for certain information.</li><li><a href="https://azure.microsoft.com/en-us/services/event-hubs/">Azure Event Hubs</a>, which is used to collect telemetry and identify bottlenecks that have brought the company’s website down in the past.</li><li><a href="https://docs.microsoft.com/en-us/azure/azure-functions/">Azure Functions</a>, which runs event-triggered code in cases where a full-blown hosted service isn’t needed. For example, a serverless function is used to provide an API through which stores can adjust their local menus if they run out of an item.&nbsp;</li><li><a href="https://azure.microsoft.com/en-us/services/app-service/">Azure App Service</a>, which provides an auto-scaling hosting environment for each back-end service: order, tax, payment, and so on.</li><li><a href="https://azure.microsoft.com/en-us/services/key-vault/">Azure Key Vault</a>, which provides a means of safeguarding cryptographic keys and other secrets used by Chipotle’s cloud apps and services.</li></ul><h4><u>Looking forward</u></h4><p>With Chipotle’s website now in production, Smith’s team is following other Chipotle development teams in making the transition from Visual Studio Team Foundation Server 2017 to Azure DevOps. “It’ll be great to have our development infrastructure running on a fully managed service,” says Smith. “Builds will be faster, we won’t need to worry about things like uptime and reliability, and, after we’re all on Azure DevOps, we’ll have one less piece of internal IT infrastructure that we need to maintain.”</p><p>Some teams also are already moving to <a href="https://docs.microsoft.com/en-us/azure/app-service/environment/intro">Azure App Service Environment</a>, an App Service feature that provides a fully isolated and dedicated environment for running App Service apps at high scale with high security. “It all ties into scalability and our move from on-premises to the cloud,” explains Smith. “For example, with Azure App Configuration, we can make a change in one place and know that it will get propagated to wherever that change is needed.”</p><h3>Benefits</h3><p>Thanks to Chipotle’s choice of platform and tool set for its new web presence, Smith’s team was able to meet all functional requirements within the required timeframe. Marketers now can make changes to the site in minutes, including menu items and availability, while developers are freed to focus on making the site richer in other ways. Best of all, because most everything is running on Azure, Chipotle no longer needs to worry about operational issues such as maintenance, patching, availability, and scalability.</p><h4><u>Superior developer productivity</u></h4><p>With a rich tool set, Smith’s small team was able to get a lot done in just seven months. Similarly, maintaining the company’s web presence will be much easier moving forward. “TypeScript makes code maintenance much easier,” says Smith. “And Visual Studio Code provides great productivity—it loads quickly, runs smoothly on Windows computers and Macs, and lets us use the same IDE across different platforms. The Visual Studio Code community has also proven its worth, providing access to a number of extensions that make coding even easier.”</p><h4><u>Extensive prebuilt functionality</u></h4><p>Prebuilt Azure services further reduced the work required of Smith’s team, enabling them to stay focused on what they wanted the website to do instead of all the implementation details. Azure Key Vault is a prime example. “Imagine you’re tasked with improving the DevOps process to properly store configuration secrets,” says Smith. “Where do you start? What tools and products do you use? A quick online search directed me to a tutorial on Key Vault. In less than 20 minutes, I had a working prototype in .NET Core, deployed to Azure, with permissions properly set up—and I never even had to open the Azure portal. Instead of spending a lot of time debating theories and approaches with no prior experience to rely on, we had a working demo ready to drive decision making in minutes.”</p><h4><u>Built-in scalability and reliability</u></h4><p>With everything now running in the cloud, on fully managed Azure services, Chipotle’s technical team can rest easy knowing it won’t need to worry about day-to-day operations, backups, maintenance, patching, and so on. Similarly, as traffic on the new site continues to grow, the company can easily handle an increase in customers without having to worry about performance or scalability. “Our move to .NET Core, Visual Studio Code, TypeScript, and Azure services worked out just like we had planned,” says Smith. “Our new website makes us much more agile in supporting Chipotle’s primary mission: bringing people responsibly sourced, classically cooked, real food, with wholesome ingredients.”</p></div></div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
~rabbits/orca - sourcehut git - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.min.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="~rabbits/orca - sourcehut git - linksfor.dev(s)"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://git.sr.ht/~rabbits/orca"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1 style="margin: unset">
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - ~rabbits/orca - sourcehut git</title>
<div class="readable">
        <h1>~rabbits/orca - sourcehut git</h1>
            <div>Reading time: 7-8 minutes</div>
        <div>Posted here: 09 May 2020</div>
        <p><a href="https://git.sr.ht/~rabbits/orca">https://git.sr.ht/~rabbits/orca</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="readme">
    <div>
      <div>
<h2 id="orc">
            ORCΛ
        </h2>
<p><img src="https://100r.co/media/content/tools/orca/logo.jpg" width="600"></p>
<p><a href="https://100r.co/site/orca.html" rel="nofollow noopener">Orca</a> is an <a href="https://en.wikipedia.org/wiki/Esoteric_programming_language" rel="nofollow noopener">esoteric programming language</a> designed to quickly create procedural sequencers, in which every letter of the alphabet is an operation, where lowercase letters operate on bang, uppercase letters operate each frame. </p>
<p>This application <strong>is not a synthesizer, but a flexible livecoding environment</strong> capable of sending MIDI, OSC &amp; UDP to your audio/visual interfaces, like Ableton, Renoise, VCV Rack or SuperCollider. </p>
<p>The livecoding environment for the C implementation runs in a terminal. It's designed to be power efficient. It can handle large files, even if your terminal is small. If you need <strong>help</strong>, visit the <a href="https://talk.lurk.org/channel/orca" rel="nofollow noopener">chatroom</a> or the <a href="https://llllllll.co/t/orca-live-coding-tool/17689" rel="nofollow noopener">forum</a>.</p>
<p><img src="https://100r.co/media/content/tools/orca/terminal.jpg" width="600"></p>
<h3 id="install-amp-run">
            Install &amp; Run
        </h3>
<div><pre><span></span>sudo apt-get install git libncurses5-dev libncursesw5-dev libportmidi-dev
git clone https://git.sr.ht/~rabbits/orca
<span>cd</span> Orca-c
make          <span># Compile orca</span>
build/orca    <span># Run orca</span>
</pre></div>
<h3 id="select-midi-device">
            Select Midi Device
        </h3>
<p>To choose your MIDI output device, press <code>F1</code> (or <code>Ctrl+D</code>) to open the main menu, and then select <code>MIDI Output...</code></p>
<pre><code>┌ ORCA ──────────────┐┌ PortMidi Device Selection ─────┐
│   New              ││ &gt; [*] #0 - Midi Through Port-0 │
│   Open...          ││   [ ] #2 - ES1371              │
│   Save             │└────────────────────────────────┘
│   Save As...       │
│                    │
│   Set BPM...       │
│   Set Grid Size... │
│   Auto-fit Grid    │
│                    │
│ &gt; MIDI Output...   │
│                    │
│   Controls...      │
│   Operators...     │
│   About...         │
│                    │
│   Quit             │
└────────────────────┘</code></pre>
<h3 id="prerequisites">
            Prerequisites
        </h3>
<p>Core library: A C99 compiler (no VLAs required), plus enough libc for <code>malloc</code>, <code>realloc</code>, <code>free</code>, <code>memcpy</code>, <code>memset</code>, and <code>memmove</code>. (Also, <code>#pragma once</code> must be supported.)</p>
<p>Command-line interpreter: The above, plus POSIX, and enough libc for the common string operations (<code>strlen</code>, <code>strcmp</code>, etc.)</p>
<p>Livecoding terminal UI: The above, plus ncurses (or compatible curses library), and floating point support (for timing.) Optionally, PortMidi can be used to enable direct MIDI output.</p>
<h3 id="build">
            Build
        </h3>
<p>The build script, called simply <code>tool</code>, is written in <code>bash</code>. It should work with <code>gcc</code> (including the <code>musl-gcc</code> wrapper), <code>tcc</code>, and <code>clang</code>, and will automatically detect your compiler. You can manually specify a compiler with the <code>-c</code> option.</p>
<p>Currently known to build on macOS (<code>gcc</code>, <code>clang</code>, <code>tcc</code>) and Linux (<code>gcc</code>, <code>musl-gcc</code>, <code>tcc</code>, and <code>clang</code>, optionally with <code>LLD</code>), and Windows via cygwin or WSL (<code>gcc</code> or <code>clang</code>, <code>tcc</code> untested).</p>
<p>There is a fire-and-forget <code>make</code> wrapper around the build script.</p>
<p>PortMidi is an optional dependency. It can be enabled by adding the option <code>--portmidi</code> when running the <code>tool</code> build script.</p>
<p>Mouse awareness can be disabled by adding the <code>--no-mouse</code> option.</p>
<h4 id="build-using-the-codetoolcode-build-script">
            Build using the <code>tool</code> build script
        </h4>
<p>Run <code>./tool help</code> to see usage info. Examples:</p>
<div><pre><span></span>./tool build -c clang-7 --portmidi orca
    <span># Build the livecoding environment with a compiler</span>
    <span># named clang-7, with optimizations enabled, and</span>
    <span># with PortMidi enabled for MIDI output.</span>
    <span># Binary placed at build/orca</span>

./tool build -d orca
    <span># Debug build of the livecoding environment.</span>
    <span># Binary placed at build/debug/orca</span>

./tool build -d cli
    <span># Debug build of the headless CLI interpreter.</span>
    <span># Binary placed at build/debug/cli</span>

./tool clean
    <span># Same as make clean. Removes build/</span>
</pre></div>
<h4 id="build-using-the-codemakecode-wrapper">
            Build using the <code>make</code> wrapper
        </h4>
<div><pre><span></span>make release    <span># optimized build, binary placed at build/orca</span>
make debug      <span># debugging build, binary placed at build/debug/orca</span>
make clean      <span># removes build/</span>
</pre></div>
<p>The <code>make</code> wrapper will enable <code>--portmidi</code> by default. If you run the <code>tool</code> build script on its own, <code>--portmidi</code> is not enabled by default.</p>
<h3 id="codeorcacode-livecoding-environment-usage">
<code>orca</code> Livecoding Environment Usage
        </h3>
<pre><code>Usage: orca [options] [file]

General options:
    --undo-limit &lt;number&gt;  Set the maximum number of undo steps.
                           If you plan to work with large files,
                           set this to a low number.
                           Default: 100
    --initial-size &lt;nxn&gt;   When creating a new grid file, use these
                           starting dimensions.
    --bpm &lt;number&gt;         Set the tempo (beats per minute).
                           Default: 120
    --seed &lt;number&gt;        Set the seed for the random function.
                           Default: 1
    -h or --help           Print this message and exit.

OSC/MIDI options:
    --strict-timing
        Reduce the timing jitter of outgoing MIDI and OSC messages.
        Uses more CPU time.

    --osc-midi-bidule &lt;path&gt;
        Set MIDI to be sent via OSC formatted for Plogue Bidule.
        The path argument is the path of the Plogue OSC MIDI device.
        Example: /OSC_MIDI_0/MIDI</code></pre>
<h4 id="example-build-and-run-codeorcacode-liveocding-environment-with-midi-output">
            Example: build and run <code>orca</code> liveocding environment with MIDI output
        </h4>
<div><pre><span></span>$ ./tool build --portmidi orca           <span># compile orca using build script</span>
$ build/orca                             <span># run orca</span>
</pre></div>
<h4 id="codeorcacode-livecoding-environment-controls">
<code>orca</code> Livecoding Environment Controls
        </h4>
<pre><code>┌ Controls ───────────────────────────────────────────┐
│           Ctrl+Q  Quit                              │
│       Arrow Keys  Move Cursor                       │
│     Ctrl+D or F1  Open Main Menu                    │
│   0-9, A-Z, a-z,  Insert Character                  │
│    ! : % / = # *                                    │
│         Spacebar  Play/Pause                        │
│ Ctrl+Z or Ctrl+U  Undo                              │
│           Ctrl+X  Cut                               │
│           Ctrl+C  Copy                              │
│           Ctrl+V  Paste                             │
│           Ctrl+S  Save                              │
│           Ctrl+F  Frame Step Forward                │
│ Ctrl+I or Insert  Append/Overwrite Mode             │
│        ' (quote)  Rectangle Selection Mode          │
│ Shift+Arrow Keys  Adjust Rectangle Selection        │
│   Alt+Arrow Keys  Slide Selection                   │
│   ` (grave) or ~  Slide Selection Mode              │
│           Escape  Return to Normal Mode or Deselect │
│          ( and )  Resize Grid (Horizontal)          │
│          _ and +  Resize Grid (Vertical)            │
│          [ and ]  Adjust Grid Rulers (Horizontal)   │
│          { and }  Adjust Grid Rulers (Vertical)     │
│          &lt; and &gt;  Adjust BPM                        │
│                ?  Controls (this message)           │
└─────────────────────────────────────────────────────┘</code></pre>
<h3 id="codeclicode-command-line-interface-interpreter">
<code>cli</code> command-line interface interpreter
        </h3>
<p>The CLI (<code>cli</code> binary) reads from a file and runs the orca simulation for 1 timestep (default) or a specified number (<code>-t</code> option) and writes the resulting state of the grid to stdout.</p>
<div><pre><span></span>cli <span>[</span>-t timesteps<span>]</span> infile
</pre></div>
<p>You can also make <code>cli</code> read from stdin:
<code>sh
echo -e "...
a34
..." | cli /dev/stdin
</code></p>
</div>
    </div>
  </div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
 The Continuous Integration Check-In Dance | Gary Woodfine - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content=" The Continuous Integration Check-In Dance | Gary Woodfine - linksfor.dev(s)"/>
    <meta property="article:author" content="Gary Woodfine"/>
    <meta property="og:description" content="developing software and working with a build or integration server, there are certain conventions that one should follow when making updates to the shared codebase"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://garywoodfine.com/the-continuous-integration-check-in-dance/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
	<div class="devring" style="background: #222">
		<div class="grid">
			<div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
				<span class="devring-title">devring.club</span>
				<a href="https://devring.club/site/1/previous" class="devring-previous">Previous</a>
				<a href="https://devring.club/random" class="devring-random">Random</a>
				<a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
			</div>
		</div>
	</div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) -  The Continuous Integration Check-In Dance | Gary Woodfine</title>
<div class="readable">
        <h1> The Continuous Integration Check-In Dance | Gary Woodfine</h1>
            <div>by Gary Woodfine</div>
            <div>Reading time: 9-12 minutes</div>
        <div>Posted here: 18 Jun 2020</div>
        <p><a href="https://garywoodfine.com/the-continuous-integration-check-in-dance/">https://garywoodfine.com/the-continuous-integration-check-in-dance/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
<p>Continuous Integration (CI) is a development practice that requires developers to integrate code into a shared repository several times a day. Each check-in is then verified by an automated build, allowing teams to detect problems early.</p>



<p>The CI process is generally comprised of automatic tools that assert the new code’s correctness before integration. A <a rel="noreferrer noopener" href="https://geekiam.co.uk/learn-the-basics-of-version-control-to-become-a-master/" target="_blank">source code version control</a> system is the crux of the CI process. The version control system is also supplemented with other checks like automated code quality tests, syntax style review tools, and more. </p>



<p>CI is a valuable and well-established practice in modern, high performance software engineering organizations helping to scale up headcount and delivery output of engineering teams .&nbsp;</p>




<p>Introducing CI enables software developers to work independently on features in parallel. Upon completion they are ready to merge these features into the end product.</p>



<p>CI is generally used alongside an agile software development workflow. An organisation will compile list of tasks that comprise a product road-map. These tasks are then distributed amongst software engineering team members for delivery. Using CI enables these software development tasks to be developed independently and in parallel amongst the assigned developers. </p>



<p>Once one of theses tasks is complete, a developer will introduce that new work to the CI system to be integrated with the rest of the project.  The CI process is a mechanism to find and eliminate problems from code changes&nbsp;as early as possible.&nbsp; </p>



<p>In <a rel="noreferrer noopener" href="https://amzn.to/37xHrM6" target="_blank">The Pragmatic Programmer: your journey to mastery, 20th Anniversary Edition (2nd Edition) </a>  there is a discussion of what leads to what is known as <em>Software Entropy</em> or as us developers tend to call <em>Software rot</em>, and how developers and teams should ensure that every developer should be responsible and take proactive steps to ensure that software rot does not start to sneak  into their projects.</p>



<blockquote><p>Quality is a team issue. The most diligent developer placed on a team that just doesn’t care will find it difficult to maintain the enthusiasm needed to fix niggling problems. The problem is further exacerbated if the team actively discourages the developer from spending time on these fixes.</p><cite><a href="https://amzn.to/2YDUmba" target="_blank" rel="noreferrer noopener">The Pragmatic Programmer: your journey to mastery</a></cite></blockquote>



<div>
<p><a href="https://www.amazon.com/Pragmatic-Programmer-journey-mastery-Anniversary/dp/0135957052/ref=as_li_ss_il?_encoding=UTF8&amp;qid=1592339067&amp;sr=8-1&amp;linkCode=li3&amp;tag=threenine05-20&amp;linkId=5d716af69ea0a575aa04e215c123db87&amp;language=en_US" target="_blank" rel="noopener noreferrer" data-amzn-asin="0135957052"><img src="https://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;ASIN=0135957052&amp;Format=_SL250_&amp;ID=AsinImage&amp;MarketPlace=US&amp;ServiceVersion=20070822&amp;WS=1&amp;tag=threenine05-20&amp;language=en_US"></a><img src="https://ir-na.amazon-adsystem.com/e/ir?t=threenine05-20&amp;language=en_US&amp;l=li3&amp;o=1&amp;a=0135957052" width="1" height="1" alt="">
</p>




</div>



<p>Team members should integrate their work frequently, usually each person integrates at least daily – leading to multiple integrations per day. Each integration is verified by an <strong>automated build including tests to detect integration errors as quickly as possibl</strong>e.   I personally prefer to make use of <a rel="noreferrer noopener" href="https://www.jetbrains.com/teamcity/" target="_blank">TeamCity by Jetbrains </a> a free and powerful enterprise lever Continuous Integration and Continuous Deployment server.</p>







<p>Many teams find that this approach leads to significantly reduced integration problems and allows a team to develop cohesive software more rapidly.&nbsp;</p>



<p>The key for developers to be able to get the most out of CI without  it causing to much friction&nbsp;is to be disciplined about their <em>Check In Dance</em>.</p>



<h3>What is a Check-in Dance ?</h3>



<p>The basic set best practice steps developers should undertake for effective CI is to perform the integration on a developer workstation before committing code  to Version Control and ultimately to the build and deployment pipeline.&nbsp;</p>



<ol><li>Inform the team a change is coming, typically done by raising a Pull Request (PR).</li><li>Get the latest code from source control.&nbsp;</li><li>Merge on any conflicts.</li><li>Run the build and Unit Tests locally and fix any problems found.</li><li>Commit the changes to source control.</li><li>Stop coding until the build passes.</li><li>If the build breaks, drop everything else and fix the build.</li></ol>



<p>A software development team will typically have some kind of process they will require member to follow when it comes to Raising PR’s etc. and this will almost always be primarily dictated by their Ticketing, Project Management and <a rel="noreferrer noopener" href="https://geekiam.co.uk/learn-the-basics-of-version-control-to-become-a-master/" target="_blank">Version Control Systems</a> of choice, therefore how steps 1 to 3 are conducted may always be up to the team.</p>



<p>Steps 5 to 7 are also typically managed by a mix of the the chosen CI/CD and the version control system.  Which typically leaves step 4 to be responsibility of the Developer.  This also the step that more than likely adds the most friction for developers. </p>



<p>Over the years, I have developed many Bash and other types of scripts to automate it.  However, I have for the past few years specifically for C# .net core projects taking to use Cake, to automate this task for me.</p>




<p>One of the primary reasons I like using Cake, is that I can also use exactly the same script as my Build Script on my CI/CD server.  Therefore ensuring that my Development Process and Build Process use the same script.</p>



<h3>What is Cake </h3>



<p>Cake (C# Make) is a cross-platform build automation system with a C# DSL for tasks such as compiling code, copying files and folders, running unit tests, compressing files and building NuGet packages.</p>







<h3>How to use Cake to automate your Check-in Dance</h3>



<p>I make use of Cake and TeamCity in my <a rel="noreferrer noopener" href="https://github.com/threenine/Threenine.Data" target="_blank">Threenine.Data – Generic Repository for EF Core</a> and in the source code you will find a typical example of a <code>build.cake</code> I write to build my projects and run my Unit Tests.</p>



<figure><div>

</div></figure>



<p>I have previously posted <a rel="noreferrer noopener" href="https://garywoodfine.com/how-to-write-a-cake-build-script-for-asp-net-core-project/" target="_blank">How to write a Cake Build script for ASP.net core project</a> and despite the post being a few years old many of the principles still apply.  In developing Threenine.Data is just merely expanded on the basic build script.</p>



<p>These days I mostly use <a rel="noreferrer noopener" href="https://www.jetbrains.com/rider/" target="_blank">Jetbrains Rider</a> as my Integrated Development Environment (IDE) of choice for all my .net core projects, and you’ll notice that my <code>build.cake</code> and <code>build.sh</code> files are in the root of my project or solution folder</p>



<figure><img src="https://i0.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-1.png?fit=1024%2C610&amp;ssl=1" alt="" srcset="https://i0.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-1.png?w=1406&amp;ssl=1 1406w, https://i0.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-1.png?resize=300%2C179&amp;ssl=1 300w, https://i0.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-1.png?resize=1024%2C610&amp;ssl=1 1024w, https://i0.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-1.png?resize=768%2C457&amp;ssl=1 768w" sizes="(max-width: 1200px) 100vw, 1200px"></figure>



<p>This enables me to make use of the terminal window and run the <code>./build.sh</code> to execute my build script and run all my unit tests in my project to ensure my code, compiles, builds and tests are run to verify my changes and the project is ready to commit.</p>



<div><figure><img src="https://i0.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-2.png?w=1200&amp;ssl=1" alt="" srcset="https://i0.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-2.png?w=445&amp;ssl=1 445w, https://i0.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-2.png?resize=229%2C300&amp;ssl=1 229w" sizes="(max-width: 445px) 100vw, 445px" width="445" height="583"></figure></div>




<p>A handy feature of Jetbrains Rider is that it enables other developers to develop plugins for the IDE to extend functionality, and Anna Dolbina has developed the really handy <a rel="noreferrer noopener" href="https://plugins.jetbrains.com/plugin/13237-cakeintegration" target="_blank">CakeIntegration</a> plugin, that lists all the Cake tasks in a tool window. These tasks can be launched by double-click, and Cake output will appear in the console.</p>



<figure><img src="https://i0.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-3.png?w=1200&amp;ssl=1" alt="" srcset="https://i0.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-3.png?w=849&amp;ssl=1 849w, https://i0.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-3.png?resize=300%2C293&amp;ssl=1 300w, https://i0.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-3.png?resize=768%2C750&amp;ssl=1 768w" sizes="(max-width: 849px) 100vw, 849px" width="764" height="746"></figure>



<h3>Unit Test Coverage</h3>



<p>A great future of <a rel="noreferrer noopener" href="https://www.jetbrains.com/rider/" target="_blank">Jetbrains Rider</a> that I really like is the built in <em><strong>Unit Test Coverage</strong></em> which provides a really great visual aid and illustration of where I need to focus my attention to implement Unit Tests.</p>



<figure><img src="https://i2.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-4.png?w=1200&amp;ssl=1" alt="" srcset="https://i2.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-4.png?w=707&amp;ssl=1 707w, https://i2.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-4.png?resize=284%2C300&amp;ssl=1 284w" sizes="(max-width: 707px) 100vw, 707px" width="707" height="748"></figure>



<p>As discussed in Pragmatic Programmer,  I usually don’t exactly follow the mantra of Test Driven Development, and always write my tests first then code to implement.  On occasions, I don’t always write tests, however I do always try write my code so that it is easily testable by attempting as much as possible to follow Agile coding with design patterns and SOLID principles, defined in <a rel="noreferrer noopener" href="https://amzn.to/3e9H4dd" target="_blank">Adaptive Code</a></p>







<h3>Build Server Integration</h3>



<p>As I mentioned previously we prefer to use TeamCity Ci/CD for our build server, we have used it for years and it works really well.  We also predominantly use JetBrains based IDE’s for all our development, We use Rider, PHPStorm, WebStorm, PyCharm, Goland, RubyMine and IntelliJ.  As result, TeamCity is able to easily integrate and Jetbrains provide a great plugin, which helps a lot of time finding failing builds on different feature branches on TeamCity. Also triggering release-builds from IDE. </p>




<p>using the plugin, I am able to easily monitor the status of my build, and take any actions required should the build fail, without ever leaving my IDE.</p>



<figure><img src="https://i0.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-5.png?fit=1024%2C296&amp;ssl=1" alt="" srcset="https://i0.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-5.png?w=1715&amp;ssl=1 1715w, https://i0.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-5.png?resize=300%2C87&amp;ssl=1 300w, https://i0.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-5.png?resize=1024%2C296&amp;ssl=1 1024w, https://i0.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-5.png?resize=768%2C222&amp;ssl=1 768w, https://i0.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-5.png?resize=1536%2C443&amp;ssl=1 1536w" sizes="(max-width: 1200px) 100vw, 1200px"></figure>



<h3>Project Management</h3>



<p>We also make heavy use of the Jetbrains YouTrack and Space for all our project management and as you may suspect there are great plugins available to remove the friction of using these tools from within our IDE’s. So Developers never have to leave their IDE’s to update tickets and status of the  feature they are working on.</p>



<figure><img src="https://i1.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-6.png?fit=1024%2C277&amp;ssl=1" alt="" srcset="https://i1.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-6.png?w=1709&amp;ssl=1 1709w, https://i1.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-6.png?resize=300%2C81&amp;ssl=1 300w, https://i1.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-6.png?resize=1024%2C277&amp;ssl=1 1024w, https://i1.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-6.png?resize=768%2C208&amp;ssl=1 768w, https://i1.wp.com/garywoodfine.com/wp-content/uploads/2020/06/image-6.png?resize=1536%2C415&amp;ssl=1 1536w" sizes="(max-width: 1200px) 100vw, 1200px"></figure>



<h3>Conclusion</h3>



<p>Using this approach I am able to quickly and easily run the Build &amp; Test elements of of my project prior to check in dance, which significantly reduces the risk of breaking the build, as I am using exactly the same build script and test script on my local machine that is being used on the build server, so I at least have some consistency.</p>



<p>Building an application that can be deployed at any time, you will find that it’s no longer a big deal to try and get ready for a deployment.  Having the ability to run a single script or click a single button to deploy the code to a staging and/or production environment. </p>



<p>Increased confidence in deployments, you should be able to deploy more frequently, resulting in a tighter feedback loop and more value being delivered more rapidly, as well as issues from the field coming in much closer to when the code that caused them was written (making bugs easier to reproduce and correct).</p>





                         <div><ul> <li><a href="#abh_about">About</a></li> <li><a href="#abh_posts">Latest Posts</a></li></ul><div><section itemscope="" itemprop="author" itemtype="http://schema.org/Person"><p><a href="https://threenine.co.uk/" target="_blank" title="Gary Woodfine" rel="nofollow"> <img alt="" src="https://secure.gravatar.com/avatar/f22fb6b42c39ec3a0483282ed2dfa332?s=250&amp;r=g" srcset="https://secure.gravatar.com/avatar/f22fb6b42c39ec3a0483282ed2dfa332?s=500&amp;r=g 2x" height="250" width="250"></a> </p><div><p><span>Technical Director</span> at <span><a href="https://denizon.com/" target="_blank">Denizon</a></span></p><div itemprop="description"><p>Gary is Technical Director at Denizon, an independent software vendor specialising in IoT, Field Service and associated managed services,enabling customers to be efficient, productive, secure and scalable in a way which helps them address and reduce their ecological impact. </p><p>Denizon's product line successfully integrate IoT, Artificial Intelligence and Blockchain technology to enable efficient, productive, secure and scalable solutions to help organisations address increasing energy demands, ecological impact and Health &amp; Safety concerns of their staff.</p></div></div> </section><section><p><a href="https://threenine.co.uk/" target="_blank" title="Gary Woodfine" rel="nofollow"><img alt="" src="https://secure.gravatar.com/avatar/f22fb6b42c39ec3a0483282ed2dfa332?s=250&amp;r=g" srcset="https://secure.gravatar.com/avatar/f22fb6b42c39ec3a0483282ed2dfa332?s=500&amp;r=g 2x" height="250" width="250"></a></p><div><p>Latest posts by Gary Woodfine <span>(<a href="https://garywoodfine.com/author/woody/">see all</a>)</span></p></div> </section></div> </div><!-- AI CONTENT END 1 -->
</div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
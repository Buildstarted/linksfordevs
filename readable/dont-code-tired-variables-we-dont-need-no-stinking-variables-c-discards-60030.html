<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Don&#x27;t Code Tired | Variables? We Don&#x2019;t Need No Stinking Variables - C# Discards - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Don&#x27;t Code Tired | Variables? We Don&#x2019;t Need No Stinking Variables - C# Discards - linksfor.dev(s)"/>
    <meta property="article:author" content="Jason"/>
    <meta property="og:description" content="Don&#x27;t Code Tired - Jason Roberts on Software Development and .NET -"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://dontcodetired.com/blog/post/Variables-We-Dont-Need-No-Stinking-Variables-C-Discards"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Don&#x27;t Code Tired | Variables? We Don&#x2019;t Need No Stinking Variables - C# Discards</title>
<div class="readable">
        <h1>Don&#x27;t Code Tired | Variables? We Don&#x2019;t Need No Stinking Variables - C# Discards</h1>
            <div>by Jason</div>
            <div>Reading time: 5-6 minutes</div>
        <div>Posted here: 25 Mar 2020</div>
        <p><a href="https://dontcodetired.com/blog/post/Variables-We-Dont-Need-No-Stinking-Variables-C-Discards">https://dontcodetired.com/blog/post/Variables-We-Dont-Need-No-Stinking-Variables-C-Discards</a></p>
        <hr/>
<div id="readability-page-1" class="page"><article id="post0">

    
    <section>
        <p>C# 7.0 introduced the concept of discards. Discards are intentionally unused, temporarily dummy variables that we don’t care about and don’t want to use.</p> <p>For example, the following shows the result of an addition being discarded:</p>
<p>Note the underscore <strong>_ </strong>this is the discard character.</p>
<p>Given the preceding example, you cannot access the result of this addition, for example:</p>
<h2>Using C# Discards with Out Parameters</h2>
<p>A more useful example is when you are working with a method that has one or more <strong>out</strong> parameters and you don’t care about using the <strong>out</strong>putted value. </p>
<p>As an example, consider one of the many <strong>TryParse</strong> methods in .NET such as <strong>int.TryParse</strong>. The following code show a method that writes to the console whether or not a string can be parsed as an int:</p><div><div id="highlighter_492874"><table><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p></td><td><div><p><code>static</code> <code>void</code> <code>ParseInt()</code></p><p><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>WriteLine(</code><code>"Please enter an int to validate"</code><code>);</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>string</code> <code>@</code><code>int</code> <code>= ReadLine();</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>bool</code> <code>isValidInt = </code><code>int</code><code>.TryParse(@</code><code>int</code><code>, </code><code>out</code> <code>int</code> <code>parsedInt);</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code> <code>(isValidInt)</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>WriteLine($</code><code>"{@int} is a valid int"</code><code>);</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>else</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>WriteLine($</code><code>"{@int} is NOT a valid int"</code><code>);</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>}</code></p></div></td></tr></tbody></table></div></div>
<p>The preceding method can be written using a discard because the <strong>out int parsedInt</strong> value is never used:</p><div><div id="highlighter_423970"><table><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p></td><td><div><p><code>static</code> <code>void</code> <code>ParseIntUsingDiscard()</code></p><p><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>WriteLine(</code><code>"Please enter an int to validate"</code><code>);</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>string</code> <code>@</code><code>int</code> <code>= ReadLine();</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code> <code>(</code><code>int</code><code>.TryParse(@</code><code>int</code><code>, </code><code>out</code> <code>_))</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>WriteLine($</code><code>"{@int} is a valid int"</code><code>);</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>else</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>WriteLine($</code><code>"{@int} is NOT a valid int"</code><code>);</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>}</code></p></div></td></tr></tbody></table></div></div>
<p>For example we could create an expression bodied method using a similar approach:</p><div><div id="highlighter_186520"><table><tbody><tr><td><p>1</p></td><td><div><p><code>static</code> <code>bool</code> <code>IsInt(</code><code>string</code> <code>@</code><code>int</code><code>) =&gt; </code><code>int</code><code>.TryParse(@</code><code>int</code><code>, </code><code>out</code> <code>_);</code></p></div></td></tr></tbody></table></div></div>
<p>If you have a method that returns a lot of <strong>out</strong> values such as:</p><div><div id="highlighter_784548"><table><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p></td><td><div><p><code>private</code> <code>static</code> <code>void</code> <code>GenerateDefaultCity(</code><code>out</code> <code>string</code> <code>name, </code><code>out</code> <code>string</code> <code>nickName, </code><code>out</code> <code>long</code> <code>population, </code><code>out</code> <code>DateTime founded)</code></p><p><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>name = </code><code>"London"</code><code>;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>nickName = </code><code>"The Big Smoke"</code><code>;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>population = 8_000_000;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>founded = </code><code>new</code> <code>DateTime(50, 1, 1);</code></p><p><code>}</code></p></div></td></tr></tbody></table></div></div>
<p>In this case you might only care about the returned population value so you could discard all the other <strong>out</strong> values:</p><div><div id="highlighter_556056"><table><tbody><tr><td><p>1</p><p>2</p></td><td><div><p><code>GenerateDefaultCity(</code><code>out</code> <code>_,</code><code>out</code> <code>_, </code><code>out</code> <code>var</code> <code>population, </code><code>out</code> <code>_);</code></p><p><code>WriteLine($</code><code>"Population is: {population}"</code><code>);</code></p></div></td></tr></tbody></table></div></div>
<h2>Using C# Discards with Tuples</h2>
<p>Another use for discards is where you don’t care about all the fields of a tuple. For example the following method returns a tuple containing a name and age:</p><div><div id="highlighter_481511"><table><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p></td><td><div><p><code>static</code> <code>(</code><code>string</code> <code>name, </code><code>int</code> <code>age) GenerateDefaultPerson()</code></p><p><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>(</code><code>"Amrit"</code><code>, 42);</code></p><p><code>}</code></p></div></td></tr></tbody></table></div></div>
<p>If you only cared about the age you could write:</p><div><div id="highlighter_385365"><table><tbody><tr><td><p>1</p><p>2</p></td><td><div><p><code>var</code> <code>(_, age) = GenerateDefaultPerson();</code></p><p><code>WriteLine($</code><code>"Default person age is {age}"</code><code>);</code></p></div></td></tr></tbody></table></div></div>
<h2>Simplifying Null Checking Code with Discards</h2>
<p>Take the following null checking code:</p><div><div id="highlighter_40694"><table><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p></td><td><div><p><code>private</code> <code>static</code> <code>void</code> <code>Display(</code><code>string</code> <code>message)</code></p><p><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code> <code>(message </code><code>is</code> <code>null</code><code>)</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>throw</code> <code>new</code> <code>ArgumentNullException(nameof(message));</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>WriteLine(message);</code></p><p><code>}</code></p></div></td></tr></tbody></table></div></div>
<p>You could refactor this to make use of throw expressions:</p><div><div id="highlighter_365313"><table><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p></td><td><div><p><code>private</code> <code>static</code> <code>void</code> <code>DisplayV2(</code><code>string</code> <code>message)</code></p><p><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>string</code> <code>checkedMessage = message ?? </code><code>throw</code> <code>new</code> <code>ArgumentNullException(nameof(message));</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>WriteLine(checkedMessage);</code></p><p><code>}</code></p></div></td></tr></tbody></table></div></div>
<p>In the preceding version however, the <strong>checkedMessage</strong> variable is somewhat redundant, this could be refactored to use a discard:</p><div><div id="highlighter_290449"><table><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p></td><td><div><p><code>private</code> <code>static</code> <code>void</code> <code>DisplayWithDiscardNullCheck(</code><code>string</code> <code>message)</code></p><p><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>_ = message ?? </code><code>throw</code> <code>new</code> <code>ArgumentNullException(nameof(message));</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>WriteLine(message);</code></p><p><code>}</code></p></div></td></tr></tbody></table></div></div>
<h2>Using C# Discards with Tasks</h2>
<p>Take the following code:</p><div><div id="highlighter_355996"><table><tbody><tr><td><p>1</p><p>2</p></td><td><div><p><code>Task.Run(() =&gt; SayHello());</code></p></div></td></tr></tbody></table></div></div>
<p>Where the SayHello method is defined as:</p><div><div id="highlighter_750281"><table><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p></td><td><div><p><code>private</code> <code>static</code> <code>string</code> <code>SayHello()</code></p><p><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>string</code> <code>greeting = </code><code>"Hello there!"</code><code>;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>greeting;</code></p><p><code>}</code></p></div></td></tr></tbody></table></div></div>
<p>If we don’t care about the return value and want to discard the result and get rid of the compiler warning::</p><div><div id="highlighter_284856"><table><tbody><tr><td><p>1</p><p>2</p></td><td><div><p><code>_ = Task.Run(() =&gt; SayHello());</code></p></div></td></tr></tbody></table></div></div>
<p>If there are any exceptions however, they will be supressed:</p><div><div id="highlighter_146311"><table><tbody><tr><td><p>1</p><p>2</p></td><td><div><p><code>await Task.Run(() =&gt; </code><code>throw</code> <code>new</code> <code>Exception()); </code></p><p><code>_ = Task.Run(() =&gt; </code><code>throw</code> <code>new</code> <code>Exception()); </code></p></div></td></tr></tbody></table></div></div>
<h2>Pattern Matching with Switch Statements and Discards</h2>
<p>You can also use discards in switch statements:</p><div><div id="highlighter_591609"><table><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p></td><td><div><p><code>private</code> <code>static</code> <code>void</code> <code>SwitchExample(</code><code>object</code> <code>o)</code></p><p><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>switch</code> <code>(o)</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>case</code> <code>null</code><code>:</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>WriteLine(</code><code>"o is null"</code><code>);</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>break</code><code>;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>case</code> <code>string</code> <code>s:</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>WriteLine($</code><code>"{s} in uppercase is {s.ToUpperInvariant()}"</code><code>);</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>break</code><code>;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>case</code> <code>var</code> <code>_:</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>WriteLine($</code><code>"{o.GetType()} type not supported."</code><code>);</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>break</code><code>;</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>}</code></p></div></td></tr></tbody></table></div></div>
<p>If you want to learn a load more C# tips check out my <a href="https://pluralsight.pxf.io/csharptipsandtraps">C# Tips and Traps course</a> today. You can even currently start watching with a <a href="https://pluralsight.pxf.io/c/1392775/503634/7490">Pluralsight Free Trial with Unlimited Access</a> <img src="https://pluralsight.pxf.io/i/1392775/503634/7490" width="0" height="0">.</p><a id="431403" href="https://pluralsight.pxf.io/c/1392775/431403/7490"><img alt="" src="https://a.impactradius-go.com/display-ad/7490-431403" width="300" height="250"></a><img src="https://pluralsight.pxf.io/i/1392775/431403/7490" width="0" height="0">



		
		

	<p>
		<span>SHARE:</span>
		<a href="https://twitter.com/share?url=http%3a%2f%2fdontcodetired.com%2fblog%2fpost%2fTesting-EventGridTrigger-Azure-Functions-Locally-(Without-Using-ngrok)&amp;text=Testing+EventGridTrigger+Azure+Functions+Locally+(Without+Using+ngrok)&amp;via=robertsjason" title="Share post on Twitter" rel="external nofollow noopener" target="_blank"><i></i></a>
            
        <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2fdontcodetired.com%2fblog%2fpost%2fTesting-EventGridTrigger-Azure-Functions-Locally-(Without-Using-ngrok)&amp;title=Testing+EventGridTrigger+Azure+Functions+Locally+(Without+Using+ngrok)&amp;source=dontcodetired.com" title="Share post on LinkedIn" rel="external nofollow noopener" target="_blank"><i></i></a>
			
		<a rel="nofollow" href="mailto:?subject=Testing%20EventGridTrigger%20Azure%20Functions%20Locally%20(Without%20Using%20ngrok)&amp;body=Thought%20you%20might%20like%20this:%20http://dontcodetired.com/blog/post/Testing-EventGridTrigger-Azure-Functions-Locally-(Without-Using-ngrok)" title="Email a link to this post"><i></i></a>     
	</p>
		
        
    </section>
    
    
   
</article></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs" /></noscript>
</body>
</html>
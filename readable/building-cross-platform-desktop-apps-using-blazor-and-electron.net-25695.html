<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Building cross-platform desktop apps using Blazor and Electron.NET - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Building cross-platform desktop apps using Blazor and Electron.NET - linksfor.dev(s)"/>
    <meta property="og:description" content="I transformed the Blazing Pizza application from a Blazor Web App to a cross-platform Desktop App thanks to the library Electron.NET and the tooling provided by the ElectronNET.CLI."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://maherjendoubi.io/blazor-electron/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="grid">
        <h1>
                <span style="cursor: default" title="linksfor.dev(s) has been running for 1 year! :partypopper:">ðŸŽ‰</span>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Building cross-platform desktop apps using Blazor and Electron.NET</title>
<div class="readable">
        <h1>Building cross-platform desktop apps using Blazor and Electron.NET</h1>
        <p>
Reading time: 5-6 minutes        </p>
        <p><a href="https://maherjendoubi.io/blazor-electron/">https://maherjendoubi.io/blazor-electron/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><article>

			<!-- .cover -->

			<div>


				<div id="post-content">
					<!--kg-card-begin: markdown--><p>As a Web developer, I was looking for leveraging my skills (<a href="https://github.com/dotnet/csharplang">C#</a>, <a href="https://github.com/aspnet/AspNetCore/tree/master/src/Razor">Razor</a>, <a href="https://dotnet.microsoft.com/">.NET</a>) to<br>
write fast and cross-platform desktop apps.</p>
<p>You can be ambitious for speed if you discover <a href="https://electronjs.org/">Electronjs</a> technology that outperforms desktop technologies on Windows such as <a href="https://github.com/dotnet/wpf">WPF</a> and <a href="https://github.com/dotnet/winforms">WinForms</a>. You notice that performance if you use <a href="https://code.visualstudio.com/">Visual Studio Code</a> the most popular code editor in the world.</p>
<p>Electronjs performance may be attributed to its chemistry. More than half of the source code base is written in <a href="https://github.com/electron/electron">C++</a>. The framework is a great combination of <a href="https://nodejs.org/en/">Nodejs</a> and <a href="https://www.chromium.org/Home">Chromium</a> technologies.</p>
<p>I have to use Javascript, HTML, and CSS to build cross-platform Desktop Apps using Electronjs framework. But, I prefer C#. The first good news is <a href="https://github.com/aspnet/Blazor">Blazor</a> is now an official and supported Microsoft product.</p>
<p>Blazor is a single-page app framework for building client-side web apps using .NET and <a href="https://webassembly.org/">WebAssembly</a>. The second good news is the <a href="https://github.com/ElectronNET/Electron.NET">Electron.NET</a> library which is a wrapper around a "normal" Electron application with an embedded <a href="https://github.com/aspnet/AspNetCore">ASP.NET Core</a> application.</p>
<!--kg-card-end: markdown--><figure><twitter-widget id="twitter-widget-0" data-tweet-id="1048348485504790528"></twitter-widget>

</figure><!--kg-card-begin: markdown-->
<p>The current version is 5.22.12 (5=Electron version, 22=.NET Core 2.2). The authors of the library are 2 awesome Microsoft MVPs (Most Valuable Professionals) : <a href="https://twitter.com/BFreakout">Gregor Biswanger</a> and <a href="https://twitter.com/robert0muehsig">Robert Muehsig</a>. The community behind it is really awesome. It is also growing. You can engage with it using the Gitter channel.</p>
<p><a href="https://gitter.im/ElectronNET/community?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge"><img src="https://badges.gitter.im/ElectronNET/community.svg" alt="Gitter"></a></p>
<!--kg-card-end: markdown--><p>During <a href="https://mybuild.techcommunity.microsoft.com/sessions/77033">//Build</a>, the <a href="https://aka.ms/blazorworkshop">Blazing Pizza</a> was presented by <a href="https://twitter.com/danroth27">Daniel Roth</a> and I decided to transform it into a Desktop App. </p><!--kg-card-begin: markdown--><h2 id="prerequisites"><strong>Prerequisites</strong></h2>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><p>I used the following frameworks and tools to build and run the <a href="https://github.com/dotnet-presentations/blazor-workshop/tree/master/src">BlazingPizza solution</a> from the <a href="https://aka.ms/blazorworkshop">Blazor workshop</a>:</p>
<ul>
<li>Visual Studio 2019 Version 16.2 Preview 1</li>
<li>.NET Core 3 Preview 5 SDK</li>
<li>Nodejs 10.15.3</li>
<li>Blazor 3.0.0-preview5-19227-01</li>
<li><a href="https://www.nuget.org/packages/ElectronNET.API/">ElectronNET.API</a> 5.22.12</li>
<li><a href="https://www.nuget.org/packages/ElectronNET.CLI/">ElectronNET.CLI</a> 5.22.12</li>
</ul>
<!--kg-card-end: markdown--><figure><twitter-widget id="twitter-widget-1" data-tweet-id="1131189645205790726"></twitter-widget>

</figure><!--kg-card-begin: markdown--><h2 id="configure"><strong>Configure</strong></h2>
<!--kg-card-end: markdown--><p>You should add the ElectronNET.API NuGet package to the BlazingPizza.Server project.</p><pre data-trimmed="true"><code><span><span>&lt;</span><span>PackageReference</span></span> <span>Include</span><span>=</span><span>"</span><span>ElectronNET.API</span><span>"</span> <span>Version</span><span>=</span><span>"</span><span>5.22.12</span><span>"</span> <span>/&gt;</span></code></pre><p>In Program.cs, I added the extension method UseElectron(args) to the CreateHostBuilder method.</p><pre data-trimmed="true"><code>...
<span>public</span> <span>static</span> IHostBuilder CreateHostBuilder(<span>string</span>[] args) <span>=&gt;</span>
            Host.CreateDefaultBuilder(args)                
                .ConfigureWebHostDefaults(webBuilder <span>=&gt;</span>
                {
                    webBuilder.UseElectron(args).UseStartup&lt;Startup&gt;();
                });                
...</code></pre><p>In Startup.cs, you should add the following line of code as the last statement in the Configure method in order to bootstrap Electron Desktop GUI.</p><pre data-trimmed="true"><code>Electron.WindowManager.CreateWindowAsync();</code></pre><!--kg-card-begin: markdown--><h2 id="init"><strong>Init</strong></h2>
<!--kg-card-end: markdown--><p>That's all for the code now. The next step is to use the tooling to launch the App. But, you have to install the tooling first using the following command:</p><pre data-trimmed="true"><code>dotnet tool install ElectronNET.CLI -g</code></pre><p>Before running the App for the first time, you need an Electron.NET project initialization. Type the following command in your BlazingPizza.Server folder:</p><pre data-trimmed="true"><code>electronize init</code></pre><p>The following electron.manifest.json file is generated.</p><pre data-trimmed="true"><code>{
  <span>"executable"</span>: <span>"BlazingPizza.Server"</span>
}</code></pre><p>The "Electron.NET App" profile is created inside the launchSettings.json file.</p><pre data-trimmed="true"><code>...
  <span>"profiles"</span>: {
    <span>"Electron.NET App"</span>: {
      <span>"commandName"</span>: <span>"Executable"</span>,
      <span>"executablePath"</span>: <span>"C:\\Program Files\\dotnet\\dotnet.exe"</span>,
      <span>"commandLineArgs"</span>: <span>"electronize start"</span>
    },
...</code></pre><p>The BlazingPizza.Server.csproj is also updated with the following ItemGroup:</p><pre data-trimmed="true"><code>...
<span><span>&lt;</span><span>ItemGroup</span></span><span>&gt;</span>
    <span><span>&lt;</span><span>Content</span></span> <span>Update</span><span>=</span><span>"</span><span>electron.manifest.json</span><span>"</span><span>&gt;</span>
      <span><span>&lt;</span><span>CopyToOutputDirectory</span></span><span>&gt;</span>PreserveNewest<span><span>&lt;</span><span>/</span><span>CopyToOutputDirectory</span></span><span>&gt;</span>
    <span><span>&lt;</span><span>/</span><span>Content</span></span><span>&gt;</span>
  <span><span>&lt;</span><span>/</span><span>ItemGroup</span></span><span>&gt;</span>
...</code></pre><!--kg-card-begin: markdown--><h2 id="run"><strong>Run</strong></h2>
<p>Before running the app, make sure to comment the Twitter authentification middleware located in the ConfigureService method otherwise you need to configure the Twitter authentication as detailed in the <a href="https://github.com/dotnet-presentations/blazor-workshop/blob/master/docs/05-authentication-and-authorization.md">documentation</a>.</p>
<!--kg-card-end: markdown--><pre data-trimmed="true"><code>.AddTwitter(twitterOptions <span>=&gt;</span>
{
	twitterOptions.ConsumerKey <span>=</span> Configuration[<span>"Authentication:Twitter:ConsumerKey"</span>];
	twitterOptions.ConsumerSecret <span>=</span> Configuration[<span>"Authentication:Twitter:ConsumerSecret"</span>];
	twitterOptions.Events.OnRemoteFailure <span>=</span> (context) <span>=&gt;</span>
	{
		context.HandleResponse();
		<span>return</span> context.Response.WriteAsync(<span>"&lt;script&gt;window.close();&lt;/script&gt;"</span>);
	};
});</code></pre><p>To run the app, you have to execute the following command:</p><pre data-trimmed="true"><code>electronize start</code></pre><p>You get the following desktop app with the same features:</p><figure><img src="https://maherjendoubi.io/content/images/2019/06/Untitled-1.png"></figure><!--kg-card-begin: markdown--><p>The Electron.NET library is used by more than 160 OSS projects in GitHub. Among them,<br>
you can find <a href="https://github.com/Microsoft/AttackSurfaceAnalyzer">Attack Surface Analyzer</a> which is a Microsoft OSS project that uses the Electron.NET library. This tool can help you analyze your operating system's security configuration for changes during software installation.</p>
<!--kg-card-end: markdown--><figure><twitter-widget id="twitter-widget-2" data-tweet-id="1131435715638824960"></twitter-widget>

</figure><!--kg-card-begin: markdown--><h2 id="conlusion"><strong>Conlusion</strong></h2>
<p>I transformed the Blazing Pizza application from a Blazor Web App to a cross-platform Desktop App thanks to the library Electron.NET and the tooling provided by the ElectronNET.CLI.</p>
<!--kg-card-end: markdown-->
				</div><!-- .post-content -->


				<!-- .post-footer -->
			</div><!-- .inner -->

		</article></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
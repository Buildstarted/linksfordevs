<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Introducing &#x201C;Have I been pwned?&#x201D; &#x2013; aggregating accounts across website breaches - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Introducing &#x201C;Have I been pwned?&#x201D; &#x2013; aggregating accounts across website breaches - linksfor.dev(s)"/>
    <meta property="article:author" content="Troy Hunt"/>
    <meta property="og:description" content="I often write up analyses of the passwords disclosed in website breaches. For example, there was A brief Sony password analysis back in mid-2011 and then our local Aussie ABC earlier this year where I talked about Lousy ABC cryptography cracked in seconds as Aussie passwords are exposed. I wrote"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://www.troyhunt.com/introducing-have-i-been-pwned/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Introducing &#x201C;Have I been pwned?&#x201D; &#x2013; aggregating accounts across website breaches</title>
<div class="readable">
        <h1>Introducing &#x201C;Have I been pwned?&#x201D; &#x2013; aggregating accounts across website breaches</h1>
            <div>by Troy Hunt</div>
            <div>Reading time: 9-12 minutes</div>
        <div>Posted here: 03 Dec 2019</div>
        <p><a href="https://www.troyhunt.com/introducing-have-i-been-pwned/">https://www.troyhunt.com/introducing-have-i-been-pwned/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><section>
            <!--kg-card-begin: markdown--><p>I often write up analyses of the passwords disclosed in website breaches. For example, there was <a href="http://www.troyhunt.com/2011/06/brief-sony-password-analysis.html">A brief Sony password analysis</a> back in mid-2011 and then our local Aussie ABC earlier this year where I talked about <a href="http://www.troyhunt.com/2013/02/lousy-abc-cryptography-cracked-in.html">Lousy ABC cryptography cracked in seconds as Aussie passwords are exposed</a>. I wrote a number of other pieces looking specifically at the nature of the data exposed in individual sites, but what I really found interesting was when I started comparing breaches.</p> <p>In the middle of last year I wrote <a href="http://www.troyhunt.com/2012/07/what-do-sony-and-yahoo-have-in-common.html">What do Sony and Yahoo! have in common? Passwords!</a> and found that 59% of people with accounts in both sources used the same password. Then just last month when I wrote about “the mother of all breaches” in <a href="http://www.troyhunt.com/2013/11/adobe-credentials-and-serious.html">Adobe credentials and the serious insecurity of password hints</a>, I found that many of the accounts from the Sony breach were also in Adobe’s. In that case I explained how this put personal information at serious risk as the unencrypted password hints in Adobe’s breach often had the answers in the unencrypted Sony passwords!</p> <p>As I analysed various breaches I kept finding user accounts that were also disclosed in other attacks – people were having their accounts <a href="http://en.wikipedia.org/wiki/Pwn">pwned</a> over and over again. So I built <a href="http://www.haveibeenpwned.com/">this</a>:</p> <p><a href="http://www.haveibeenpwned.com/"><img width="721" height="115" title="" alt="';--have i been pwned?" src="https://www.troyhunt.com/content/images/2016/02/38043803Logo25255B125255D.png"></a></p> <p>The site is now up and public at <a href="http://haveibeenpwned.com/">haveibeenpwned.com</a> so let me share what it’s all about.</p><a name="more"></a> <h2>About HIBP</h2> <p>Just after the Adobe breach, a number of sites started popping up that let you search through the breach to see if your email address (and consequently your password), was leaked. For example there was <a href="http://adobe.breach.il.ly/">this one by Ilias Ismanalijev</a>, <a href="http://www.lucb1e.com/credgrep/">here’s another by Lucb1e</a> and even LastPass got on the bandwagon <a href="https://lastpass.com/adobe/">with this one</a>. When I used the tool to check my accounts, I found both my personal and work accounts contained in the breach. I had absolutely no idea why!</p> <p>The most likely answer is that I did indeed create accounts on Adobe, perhaps as far back as in the days when I was using Dreamweaver to build classic ASP whilst it was still owned by Macromedia. The point is that these accounts had been floating around for so long that by the time a breach actually occurred I had no idea that my account had been compromised because the site was simply no longer on my radar.</p> <p>But of course Adobe is not the only searchable breach online, <a href="http://www.didigetgawkered.com/">there’s also one for Gawker</a>, another <a href="https://lastpass.com/linkedin/">for LinkedIn passwords</a> (emails and usernames weren't disclosed) and so on and so forth. Problem is, there’s not a tool to search across <em>multiple</em> breaches, at least not that I’ve found which is why I’ve built <a href="http://haveibeenpwned.com/">haveibeenpwned.com</a>:</p> <p><a href="http://www.haveibeenpwned.com/"><img width="756" height="454" title="" alt="The HIBP front page" src="https://www.troyhunt.com/content/images/2016/02/38323831image25255B425255D.png"></a></p> <p>Enter your email address and go – any of the sites the address appears breached on will return a result with an overview of what happened to them. Here’s an example:</p> <p><img width="756" height="646" title="" alt="Two breached accounts found for my email address" src="https://www.troyhunt.com/content/images/2016/02/38003799image25255B325255D.png"></p> <p>As I mentioned earlier, my email address <em>was</em> in the Adobe breach. Fortunately it wasn’t in any of the others so I’ve just added in Stratfor for illustrative purposes.</p> <p>As you’ll see in the footer of the site, there’s rather a broad collection of accounts – over 154 million as of today – and they break down like this:</p> <ol> <li>152,445,165 Adobe accounts</li> <li>859,777 Stratfor accounts</li> <li>532,659 Gawker accounts</li> <li>453,427 Yahoo! accounts</li> <li>37,103 Sony accounts</li></ol> <p><a href="http://www.scmagazine.com/adobe-breach-impacts-closer-to-38-million-customers/article/318517/">Despite the lowball reports of “only” 38 million</a>, the Adobe dump did indeed have more than 152 million unique email addresses in it which is obviously a <em>staggeringly</em> high figure (there’s some contention as to whether an “account” is only one being actively used which may account for the discrepancy). As significant as the likes of the Stratfor breach appeared at the time (and certainly it had a serious impact on them), it was a “mere” 860 thousand odd accounts and the others less again. Even so, there’s a lot of commonality across the victims of the breaches.</p> <h2>The prevalence of multiple breaches by user</h2> <p>Importing the data – particularly the 153 million Adobe records – wasn’t a small task, at least not to get it into the structure I wanted. I’ll write more about that in the next day or two in terms of the underlying architecture, but the way I approached it was that I imported the Adobe data first and then for each subsequent breach either added new addresses or updated the existing address information about the subsequent breaches on the same account.</p> <p>When I added the Stratfor breach to the existing Adobe records, 16% of the email addresses were already in the system. I moved onto Sony and 17% of them were already there. Yahoo! was 22%. Whilst not the chronological order in which the breaches occurred, what this demonstrated is that subsequent data sets showed a high correlation between new breach data and existing records in the system and that’s the very reason why I created this site.</p> <h2>Entering the era of breach data reuse</h2> <p>One of the things I noticed with the Adobe breach that I haven’t seen in previous cases was <em>other </em>companies notifying their users that their Adobe account had been breached. Not just one or two companies, but many of them. For example, <a href="http://krebsonsecurity.com/2013/11/facebook-warns-users-after-adobe-breach/">Facebook did this</a> and <em>actually matched breached credentials with the ones they had on file</em>:</p> <blockquote> <p>Facebook users who used the same email and password combinations at both Facebook and Adobe’s site are being asked to change their password and to answer some additional security questions.</p></blockquote> <p>I wasn’t notified by Facebook (it’s no surprise that I don’t reuse credentials!), but I did receive a <a href="http://www.tripwire.com/state-of-security/top-security-stories/evernote-warns-vulnerable-users-wake-adobe-breach/">notification from Evernote</a> purely because my <em>email address </em>was the same on both systems. After I wrote about the Adobe analysis, I was also contacted with requests for help in generating similar notifications for other purposes.</p> <p>The point is that analysing breach data appears to be becoming mainstream. Arguably the sheer volume of the Adobe breach was the catalyst, but I do find it interesting how illegally obtained data now well and truly in the public domain is being used for constructive purposes. My hope is that HIBP can continue with that trend.</p> <h2>Future breaches and roadmaps</h2> <p>Clearly we haven’t seen the last of the data breaches, of that there can be no doubt. Now that I have a platform on which to build I’ll be able to rapidly integrate future breaches and make them quickly searchable by people who may have been impacted. It’s a bit of an unfair game at the moment – attackers and others wishing to use data breaches for malicious purposes can very quickly obtain and analyse the data but your average consumer has no feasible way of pulling gigabytes of gzipped accounts from a torrent and discovering whether they’ve been compromised or not.</p> <p>Of course the other thing is that I’ve only got five data breaches here and there are <em>many</em> more out there which I’m yet to integrate. Some of them aren’t suitable (LinkedIn only contained passwords and not email addresses), but if there are others you’re aware of <em>that are now public</em>, please let me know. No, don’t go and breach a system in order to contribute to this project!</p> <p>The ability to rapidly integrate future breaches into a common location opens up a range of other opportunities to help consumers deal with account compromises in the future. I won’t go into detail now, but depending on how subsequent breaches pan out there are a number of ways HIBP can help people deal with compromised accounts <em>early </em>rather than waiting until they’re potentially taken advantage of.</p> <h2>Other miscellaneous facts:</h2> <p><strong>Passwords:</strong> I’m not storing them. Nada. Zip. I just don’t need them and frankly, I don’t want the responsibility either. This is all about raising awareness of the breadth of breaches.</p> <p><strong>Windows Azure:</strong> This wasn’t entirely an exercise to build a service, it was a great opportunity to test out some Windows Azure features I really wanted to give a good workout. I’m <em>enormously </em>happy with the result and I’m drafting up a blog with the technical details that I’ll push out shortly.</p> <p><strong>Internet Explorer 8:</strong> Yeah, sorry guys. This browser accounts for 4% of traffic to troyhunt.com, has absolutely no HTML 5 support and is well and truly into its <a href="http://www.troyhunt.com/2013/01/the-impending-crisis-that-is-windows-xp.html">impending crisis and ultimate obliteration</a>. I simply didn’t have the time to make things play nice in IE8 and I also didn’t want to add any bloat to the site to cater for such a small, declining audience. Having said that, it <em>will</em> work – you can discover if an account was in a breach, it just won’t be a first class experience. Or second class. Ok so it’s a visual nightmare but it can still perform the key function.</p> <p><strong>No bloat:</strong> The upside to no IE8 support is that this site is very, very light! There’s only just over 100kb of content downloaded over 3 requests required to make it run (another 50 odd kb and 6 requests for font-awesome and the SVG logos at the bottom of the page). I could take this down further by ditching jQuery and the full Bootstrap JS but we’re talking small kb numbers that are already bundled, minified and gzipped.</p> <p><strong>Massively fast:</strong> I’ll talk about this in the follow-up post about the technology, but querying those 154 million records is taking about 4ms. In fact the querying and HTTP request was going <em>too</em> fast and I had to slow things down in order to properly show the animation when you get search results.</p> <p><strong>Email validation:</strong> You can search for <a href="mailto:a@a">a@a</a> and HIBP will give it a go. As I wrote a couple of weeks ago when I started this project, <a href="http://www.troyhunt.com/2013/11/dont-trust-net-web-forms-email-regex.html">email validation is a nightmare</a>. There’ll be a small number of junk addresses in the system and indeed you can search for seemingly invalid addresses but better to be too liberal than too strict. The validation goes like this: got an @ symbol and stuff either side of it? Right, let me check the DB for you!</p>  
<!--kg-card-end: markdown-->

            <section>
                <a href="https://www.troyhunt.com/tag/security/">Security</a>
                <a href="https://www.troyhunt.com/tag/have-i-been-pwned-3f/">Have I Been Pwned</a>
            </section>
        </section></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
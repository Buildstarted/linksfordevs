<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Overloaded Operator performance diff when using Fields or Auto Properties in Structs &#xB7; Issue #12172 &#xB7; dotnet/runtime &#xB7; GitHub -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>Overloaded Operator performance diff when using Fields or Auto Properties in Structs · Issue #12172 · dotnet/runtime · GitHub</h1><div><div id="" class="d-block comment-body markdown-body  js-comment-body"><p>Unfortunately there's something of a discontinuity in the inliner's behavior when you cross the 16 byte IL size boundary. This is boundary is a tricky part of the heuristic to tune because once we get into this IL size range the impact of inlining can vary widely, and our modelling is pretty crude.</p><p>I still have ambitions of improving the inlining heuristics someday. In the meantime, you can work around this by adding <code>AggressiveInlining</code> to your operators.</p><p>Auto properties tend not to be great for perf in general, as the jit has to do more work to uncover what is really going on (and is sometimes unable to justify doing that work, as in the above). They can also slow down the ability of the jit to recognize facts needed for some optimizations. So use them judiciously in code that is perf sensitive.</p></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
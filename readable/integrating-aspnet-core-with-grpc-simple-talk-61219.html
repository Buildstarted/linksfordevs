<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Integrating ASP.NET Core with gRPC - Simple Talk - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.min.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Integrating ASP.NET Core with gRPC - Simple Talk - linksfor.dev(s)"/>
    <meta property="article:author" content="Diogo Souza"/>
    <meta property="og:description" content="In this article, Diogo Souza explains how to work with gRPC which is an improvement from Google over the classic remote procedure calls used when a program must communicate between resources on a network."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://www.red-gate.com/simple-talk/dotnet/c-programming/integrating-asp-net-core-with-grpc/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1 style="margin: unset">
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Integrating ASP.NET Core with gRPC - Simple Talk</title>
<div class="readable">
        <h1>Integrating ASP.NET Core with gRPC - Simple Talk</h1>
            <div>by Diogo Souza</div>
            <div>Reading time: 31-40 minutes</div>
        <div>Posted here: 30 Apr 2020</div>
        <p><a href="https://www.red-gate.com/simple-talk/dotnet/c-programming/integrating-asp-net-core-with-grpc/">https://www.red-gate.com/simple-talk/dotnet/c-programming/integrating-asp-net-core-with-grpc/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><p>In this article, Diogo Souza explains how to work with gRPC which is an improvement from Google over the classic remote procedure calls used when a program must communicate between resources on a network.</p><div>
				<p>Have you ever dealt with <a href="https://en.wikipedia.org/wiki/Remote_procedure_call"><strong>RPC</strong></a>? It stands for <em>Remote Procedure Call</em>, a famous term from distributed computing for when you need to call a service routine from one machine to another . It’s like the basics for anyone who wishes to create REST/SOAP requests or GraphQL architectures. You need to understand a bunch of concepts like parallelism, clusters, network latency, failover and fallbacks, just to get started.</p>
<p>Although it’s an interesting topic to discuss, that’s not the focus here. I’ll talk about <a href="https://grpc.io/">gRPC</a>, the official Google’s modernization of the protocol into a powerful framework. It is modern, open source and can run in any type of environment. It adds inherent load balancing, tracing, health checking and authentication (this one, by the way, is required right at the beginning).</p>
<p>Before you start thinking that Google wants to “remake” the web, since you already have HTTP and web services to provide such features, gRPC goes a bit beyond. It’s based in HTTP/2 which, automatically, says it’s much faster. Besides that, Google redesigned it in a way speed is at the top of the priority list.</p>
<p>In always-needy architectures like those huge companies (like Netflix, Cisco and Google itself) have, efficiency is a must. Microservices and distributed systems may communicate with each other through protocols and channels that should be fast.</p>
<p>Think about it: if you choose RESTful, there’s a couple of design patterns and rules you need to obey. In turn, you’re going to be working under HTTP (verbose) and making hundreds of calls because your code design can’t be messed up by ugly endpoints. While there are already have options like GraphQL, for example, does it really need to communicate with HTTP-only?</p>
<p>If your client and server applications are made by you (or your company), and there’s no need to expose it out there (still, options would be available through public Web Services, API Gateway, etc.), why not?</p>
<p>It’s faster, available to 10 programming languages (including web, i.e., JavaScript into Docker images), bi-directional (for cases where you need constant data flowing through streams from both sides) and so much more.</p>
<p>All the magic happens with <a href="https://developers.google.com/protocol-buffers/">Protocol Buffers</a> and stubs. Of course, protobuf is Google’s as well. It’s their language/platform-neutral mechanism for data serialization and deserialization. The good news is that you’re not stuck into the proto universe, gRPC is <a href="https://grpc.io/blog/grpc-with-json/">encoding agnostic too</a>, which means that JSON, XML, etc. can also be used to serialize the data if you prefer so.</p>
<p>Like everything else, there are pros and cons. While it is good to have the familiar JSON syntax, protobuf allows validations, data types, service creation. On the other hand, it is not human readable, hard to decode and takes more time to process compared to JSON.</p>
<p>This is how a gRPC workflow takes place:</p>
<p>Protobufs &gt; protoc &gt; generated code/stubs &gt; client/server</p>
<p>First, you create your proto files, defining not only the data structure, types and validations but also the services to be implemented by the server app along with the contract to be followed by the client stubs.</p>
<p>Then, depending on the language and platform you’re using, and after you compile it (<em>protoc</em>, the proto compiler), some code is going to be autogenerated, based on those definitions. After that, you can create your server and client code.</p>
<p>It’s time to stop talking now and move to action. For this article, I’ll demonstrate how to create a gRPC server based in a proto contract, as well as two clients: one for a Console App and another for a fully-functional web application (made with ASP.NET Web MVC), for you to check how this type of integration works for the two worlds.</p>
<h2>Setup</h2>
<p>Please, make sure you have the latest version of Visual Studio (Community Edition). When installing it, check the <em>ASP.NET and web development</em> workload. If you already have VS installed, but not this workload, please refer to this <a href="https://docs.microsoft.com/en-us/visualstudio/install/modify-visual-studio?view=vs-2019">link</a>. Finally, <a href="https://dotnet.microsoft.com/download/dotnet-core/3.0">.NET Core 3.0 SDK</a> (or later) is also needed.</p>
<p>There’s no need to install anything related to gRPC. Visual Studio already has presets for it, and the rest are NuGet dependencies.</p>
<p>Open Visual Studio and go to “<em>Create a new project</em>” option. (The completed project can be found <a href="https://www.red-gate.com/simple-talk/wp-content/uploads/2020/04/grpc-repos.zip">here</a>.)Then, search for the “<em>grpc</em>” term and select the option like below:</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAPAAAPLy8v///yH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" data-src="https://www.red-gate.com/simple-talk/wp-content/uploads/2020/04/tela-de-celular-com-publicacao-numa-rede-social-d.png" data-lazy-load="" alt="Tela de celular com publicação numa rede social

Descrição gerada automaticamente"></p>
<p><strong>Figure 1. Creating a new gRPC service project</strong></p>
<p>Click <em>Next</em>. Then, type the name of the project like in Figure 2, select the directory of preference and click <em>Create</em>.</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAPAAAPLy8v///yH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" data-src="https://www.red-gate.com/simple-talk/wp-content/uploads/2020/04/tela-de-celular-com-texto-preto-sobre-fundo-branco.png" data-lazy-load="" alt="Tela de celular com texto preto sobre fundo branco

Descrição gerada automaticamente"></p>
<p><strong>Figure 2. Giving the project a name</strong></p>
<p>For the next screen, select the only available option “gRPC Service” and, finally, click the <em>Create</em> button.</p>
<p>Take a look at the generated files:</p>
<ul>
<li><em>greet.proto</em>: this is the protobuf file I mentioned earlier. Here, you get to see:
<ul>
<li>The <em>syntax</em>. It’s important because it tells which version of protobuf syntax is used in the file.</li>
<li>The optional namespace for the C# service. This option comes just because it’s using the VS gRPC template. Giving a proper namespace is important since the autogenerated code reflects this setting.</li>
<li>The service, <em>Greeter</em>. This config sets the methods (types, params and returns) of the interface contract. It’s here where you say how clients and servers communicate with each other.</li>
<li>The types. For each different object that is not a primitive type, you need to declare it as a <em>message</em>. It is like the <em>class</em> you’re used to. Note also that each message’s attribute must receive a type (primitive or another message), a name and a number. The number refers to the order of that attribute in the message.</li>
</ul>
</li>
<li>The <em>Services</em> folder: the implementation, also autogenerated, of each service declared in the proto.</li>
<li>The rest of the files are just the common ones.</li>
</ul>
<p>Have a look at <em>Startup.cs</em>. There, the methods to configure the services add gRPC services to the service collection, mapping to the generated service class. You don’t need to change anything here.</p>
<p>Now move to the Console App client. Open a new instance of Visual Studio and create a new project again. This time, a <em>Console App (.NET Core)</em>. Click <em>Next</em>, enter a name for the project and click <em>Create</em>.</p>
<p>Nothing new. However, note that no gRPC template was applied to this project. It means that you still need to add the dependencies via NuGet. For that, open the <em>Package Manager Console</em> (via <em>Tools &gt; NuGet Package Manager</em>) and run the following command:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5eaa69f2049da830102696" data-settings=" minimize scroll-always">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="hide">
					
				</td>
						<td><div><p><span>Install-Package</span><span> </span><span>Grpc</span><span>.</span><span>Net</span><span>.</span><span>Client</span></p><p><span>Install-Package</span><span> </span><span>Google</span><span>.</span><span>Protobuf</span></p><p><span>Install-Package</span><span> </span><span>Grpc</span><span>.</span><span>Tools</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->

<p>Those are important because they implement the client for gRPC in .NET Core projects, as well as the API for protobuf handling in C# and the autogenerating code features.</p>
<p>Since the proto file is the contract between both worlds, you need to copy the <em>greet.proto</em> (along with the folder) generated in the server project to this one. Then, edit the <em>.csproj</em> file by right-clicking the project and, then, “<em>Edit Project file</em>”. Add the following:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5eaa69f2049e2179744218" data-settings=" minimize scroll-always">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="hide">
					
				</td>
						<td><div><p><span>&lt;</span><span>ItemGroup</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;</span><span>&lt;</span><span>Protobuf </span><span>Include</span><span>=</span><span>"Protos\greet.proto"</span><span> </span><span>GrpcServices</span><span>=</span><span>"Client"</span><span> </span><span>/</span><span>&gt;</span></p><p><span>&lt;</span><span>/</span><span>ItemGroup</span><span>&gt;</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->

<p>That reference is important so the gRPC tools can autogenerate code by the proto file. For that, after everything’s saved, build the project. No code file is visible in the project tree; they’ll be in the background.</p>
<p>Now, update your <em>Program.cs</em> file to the following:</p>
<p><strong>Listing 1. Calling the gRPC service.</strong></p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5eaa69f2049e4036038430" data-settings=" minimize scroll-always">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="hide">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p></div>
				</td>
						<td><div><p><span>using</span><span> </span><span>System</span><span>;</span></p><p><span>using</span><span> </span><span>Grpc</span><span>.</span><span>Net</span><span>.</span><span>Client</span><span>;</span></p><p><span>using</span><span> </span><span>SimpleTalkGrpcService</span><span>;</span></p><p><span>namespace</span><span> </span><span>GrpcGreeterClient</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>class</span><span> </span><span>Program</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>static</span><span> </span><span>async</span><span> </span><span>Task </span><span>Main</span><span>(</span><span>string</span><span>[</span><span>]</span><span> </span><span>args</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>using</span><span> </span><span>var</span><span> </span><span>channel</span><span> </span><span>=</span><span> </span><span>GrpcChannel</span><span>.</span><span>ForAddress</span><span>(</span><span>"https://localhost:5001"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>var</span><span> </span><span>client</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>Greeter</span><span>.</span><span>GreeterClient</span><span>(</span><span>channel</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>var</span><span> </span><span>reply</span><span> </span><span>=</span><span> </span><span>await</span><span> </span><span>client</span><span>.</span><span>SayHelloAsync</span><span>(</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>new</span><span> </span><span>HelloRequest</span><span> </span><span>{</span><span> </span><span>Name</span><span> </span><span>=</span><span> </span><span>"GreeterClient"</span><span> </span><span>}</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>"Greeting: "</span><span> </span><span>+</span><span> </span><span>reply</span><span>.</span><span>Message</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>"Press any key to exit..."</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Console</span><span>.</span><span>ReadKey</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->

<p>Everything works around the <code>GrpcChannel</code> class. It opens the channel (if it is on, obviously) and returns the channel to that connection. Now, it’s time to make use of the autogenerated object via <code>Greeter</code> class: you instantiate its service constructor by passing the channel as a parameter. The rest is just methods and attributes created in the proto before being used in C# code.</p>
<p>In order to test, just start first the service and wait for it to print the info messages at the console, then start the client. You’ll see the following message:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5eaa69f2049e7358832135" data-settings=" minimize scroll-always">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="hide">
					
				</td>
						<td><div><p><span>Greeting</span><span>:</span><span> </span><span>Hello</span><span> </span><span>GreeterClient</span></p><p><span>Press</span><span> </span><span>any</span><span> </span><span>key</span><span> </span><span>to</span><span> </span><span>exit</span><span>.</span><span>.</span><span>.</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->

<p>Congrats! This is your first client-server example working.</p>
<p>Simple, isn’t it? Time to complicate a bit more with a web application involved.</p>
<h2>Creating the ASP.NET example</h2>
<p>The second example includes a web page that is going to be managed by jQuery and Ajax calls. Even though it is now possible to work with gRPC calls from the web browser, the backend of the API (made in ASP.NET) will handle that. First, because you can get to see how an API can orchestrate remote procedure calls and, second, because this part of the gRPC framework still has some limitations.</p>
<p>However, before proceeding, create the proto file. This is the one which defines the methods and signatures for the CRUD of products. It is the contract ruler, so neither the client nor the service can do anything without the proper protobuf settings.</p>
<p>Go back to the services project. Listing 2 shows how it’ll look. Make sure to add the code after creating the <em>product.proto</em> file into the existing <em>Protos</em> folder.</p>
<p><strong>Listing 2. The <em>product.proto</em> file.</strong></p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5eaa69f2049ea735181396" data-settings=" minimize scroll-always">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="hide">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p></div>
				</td>
						<td><div><p><span>syntax</span><span> </span><span>=</span><span> </span><span>"proto3"</span><span>;</span></p><p><span>option </span><span>csharp_namespace</span><span> </span><span>=</span><span> </span><span>"ProductsService"</span><span>;</span></p><p><span>package </span><span>products</span><span>;</span></p><p><span>service</span><span> </span><span>ProductService</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>rpc </span><span>GetAll</span><span> </span><span>(</span><span>Empty</span><span>)</span><span> </span><span>returns</span><span> </span><span>(</span><span>ProductList</span><span>)</span><span> </span><span>{</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>rpc </span><span>Get</span><span> </span><span>(</span><span>ProductId</span><span>)</span><span> </span><span>returns</span><span> </span><span>(</span><span>Product</span><span>)</span><span> </span><span>{</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>rpc </span><span>Insert</span><span> </span><span>(</span><span>Product</span><span>)</span><span> </span><span>returns</span><span> </span><span>(</span><span>Product</span><span>)</span><span> </span><span>{</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>rpc </span><span>Update</span><span> </span><span>(</span><span>Product</span><span>)</span><span> </span><span>returns</span><span> </span><span>(</span><span>Product</span><span>)</span><span> </span><span>{</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>rpc </span><span>Delete</span><span> </span><span>(</span><span>ProductId</span><span>)</span><span> </span><span>returns</span><span> </span><span>(</span><span>Empty</span><span>)</span><span> </span><span>{</span><span>}</span></p><p><span>}</span></p><p><span>message</span><span> </span><span>Empty</span><span> </span><span>{</span><span>}</span></p><p><span>message</span><span> </span><span>Product</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>int32 </span><span>productId</span><span> </span><span>=</span><span> </span><span>1</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>string</span><span> </span><span>name</span><span> </span><span>=</span><span> </span><span>2</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>int32 </span><span>amount</span><span> </span><span>=</span><span> </span><span>3</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>string</span><span> </span><span>brand</span><span> </span><span>=</span><span> </span><span>4</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>float</span><span> </span><span>value</span><span> </span><span>=</span><span> </span><span>5</span><span>;</span></p><p><span>}</span></p><p><span>message</span><span> </span><span>ProductList</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>repeated </span><span>Product </span><span>products</span><span> </span><span>=</span><span> </span><span>1</span><span>;</span></p><p><span>}</span></p><p><span>message</span><span> </span><span>ProductId</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>int32 </span><span>id</span><span> </span><span>=</span><span> </span><span>1</span><span>;</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->

<p>Some things are new this time. The service is wider, with more methods than the previous version. Most of them deal with new <em>messages</em> as well which, in turn, have new attributes (like <em>int32</em> for integers and <em>float</em> for decimal numbers). Go ahead and have a look over the <a href="https://developers.google.com/protocol-buffers/docs/proto3">possible data types for protobufs</a>.</p>
<p>Since you’re already in the server project, take this chance to update the project to the CRUD needs. It’s going to be an in-memory CRUD; it means that you’ll maintain a list of the products in the memory that’ll survive until the server project stops. While it’s better to store the data permanently (feel free to upgrade in such way with a database of your choice), for this example, the in-memory list is enough. The web client will be restarted from time to time, but the server is going to be up all the time, so it emulates how a database in production would look.</p>
<p>Remember that Visual Studio needs to know it is a gRPC project, for client and server, too. So, again, right-click the project, go to <em>Edit Project file</em> and add the following:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5eaa69f2049ec801025118" data-settings=" minimize scroll-always">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="hide">
					
				</td>
						<td><div><p><span>&lt;</span><span>ItemGroup</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;</span><span>&lt;</span><span>Protobuf </span><span>Include</span><span>=</span><span>"Protos\product.proto"</span><span> </span><span>GrpcServices</span><span>=</span><span>"Server"</span><span> </span><span>/</span><span>&gt;</span></p><p><span>&lt;</span><span>/</span><span>ItemGroup</span><span>&gt;</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->

<p>First, change the service. You can decide to create a new one or change the current one to the shown in Listing 3.</p>
<p><strong>Listing 3. The GrpcCrudService.cs code.</strong></p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5eaa69f2049ee550826568" data-settings=" minimize scroll-always">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="hide">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p><p>34</p><p>35</p><p>36</p><p>37</p><p>38</p><p>39</p><p>40</p><p>41</p><p>42</p><p>43</p><p>44</p><p>45</p><p>46</p><p>47</p><p>48</p><p>49</p><p>50</p><p>51</p><p>52</p><p>53</p><p>54</p><p>55</p><p>56</p><p>57</p><p>58</p><p>59</p><p>60</p><p>61</p><p>62</p><p>63</p><p>64</p><p>65</p><p>66</p><p>67</p></div>
				</td>
						<td><div><p><span>using</span><span> </span><span>System</span><span>;</span></p><p><span>using</span><span> </span><span>System</span><span>.</span><span>Collections</span><span>.</span><span>Generic</span><span>;</span></p><p><span>using</span><span> </span><span>System</span><span>.</span><span>Linq</span><span>;</span></p><p><span>using</span><span> </span><span>System</span><span>.</span><span>Threading</span><span>.</span><span>Tasks</span><span>;</span></p><p><span>using</span><span> </span><span>Grpc</span><span>.</span><span>Core</span><span>;</span></p><p><span>using</span><span> </span><span>Microsoft</span><span>.</span><span>Extensions</span><span>.</span><span>Logging</span><span>;</span></p><p><span>namespace</span><span> </span><span>ProductsService</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>public</span><span> </span><span>class</span><span> </span><span>GrpcCrudService</span><span> </span><span>:</span><span> </span><span>ProductService</span><span>.</span><span>ProductServiceBase</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>private</span><span> </span><span>readonly</span><span> </span><span>List</span><span>&lt;</span><span>Product</span><span>&gt;</span><span> </span><span>_products</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>List</span><span>&lt;</span><span>Product</span><span>&gt;</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>private</span><span> </span><span>int</span><span> </span><span>idCount</span><span> </span><span>=</span><span> </span><span>0</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>private</span><span> </span><span>readonly</span><span> </span><span>ILogger</span><span>&lt;</span><span>GrpcCrudService</span><span>&gt;</span><span> </span><span>_logger</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>public</span><span> </span><span>GrpcCrudService</span><span>(</span><span>ILogger</span><span>&lt;</span><span>GrpcCrudService</span><span>&gt;</span><span> </span><span>logger</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>_logger</span><span> </span><span>=</span><span> </span><span>logger</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>_products</span><span>.</span><span>Add</span><span>(</span><span>new</span><span> </span><span>Product</span><span>(</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ProductId</span><span> </span><span>=</span><span> </span><span>idCount</span><span>++</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Name</span><span> </span><span>=</span><span> </span><span>"Farm Flour"</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Amount</span><span> </span><span>=</span><span> </span><span>10</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Brand</span><span> </span><span>=</span><span> </span><span>"Bill's Corn"</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Value</span><span> </span><span>=</span><span> </span><span>2.33f</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>public</span><span> </span><span>override</span><span> </span><span>Task</span><span>&lt;</span><span>ProductList</span><span>&gt;</span><span> </span><span>GetAll</span><span>(</span><span>Empty </span><span>empty</span><span>,</span><span> </span><span>ServerCallContext </span><span>context</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ProductList </span><span>pl</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>ProductList</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>pl</span><span>.</span><span>Products</span><span>.</span><span>AddRange</span><span>(</span><span>_products</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>Task</span><span>.</span><span>FromResult</span><span>(</span><span>pl</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>public</span><span> </span><span>override</span><span> </span><span>Task</span><span>&lt;</span><span>Product</span><span>&gt;</span><span> </span><span>Get</span><span>(</span><span>ProductId </span><span>productId</span><span>,</span><span> </span><span>ServerCallContext </span><span>context</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>Task</span><span>.</span><span>FromResult</span><span>(</span><span> </span><span>//</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>(</span><span>from</span><span> </span><span>p</span><span> </span><span>in</span><span> </span><span>_products </span><span>where</span><span> </span><span>p</span><span>.</span><span>ProductId</span><span> </span><span>==</span><span> </span><span>productId</span><span>.</span><span>Id </span><span>select</span><span> </span><span>p</span><span>)</span><span>.</span><span>FirstOrDefault</span><span>(</span><span>)</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>public</span><span> </span><span>override</span><span> </span><span>Task</span><span>&lt;</span><span>Product</span><span>&gt;</span><span> </span><span>Insert</span><span>(</span><span>Product </span><span>product</span><span>,</span><span> </span><span>ServerCallContext </span><span>context</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>product</span><span>.</span><span>ProductId</span><span> </span><span>=</span><span> </span><span>idCount</span><span>++</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>_products</span><span>.</span><span>Add</span><span>(</span><span>product</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>Task</span><span>.</span><span>FromResult</span><span>(</span><span>product</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>public</span><span> </span><span>override</span><span> </span><span>Task</span><span>&lt;</span><span>Product</span><span>&gt;</span><span> </span><span>Update</span><span>(</span><span>Product </span><span>product</span><span>,</span><span> </span><span>ServerCallContext </span><span>context</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>var</span><span> </span><span>productToUpdate</span><span> </span><span>=</span><span> </span><span>(</span><span>from</span><span> </span><span>p</span><span> </span><span>in</span><span> </span><span>_products </span><span>where</span><span> </span><span>p</span><span>.</span><span>ProductId</span><span> </span><span>==</span><span> </span><span>product</span><span>.</span><span>ProductId </span><span>select</span><span> </span><span>p</span><span>)</span><span>.</span><span>FirstOrDefault</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>if</span><span> </span><span>(</span><span>productToUpdate</span><span> </span><span>!=</span><span> </span><span>null</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>productToUpdate</span><span>.</span><span>Name</span><span> </span><span>=</span><span> </span><span>product</span><span>.</span><span>Name</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>productToUpdate</span><span>.</span><span>Amount</span><span> </span><span>=</span><span> </span><span>product</span><span>.</span><span>Amount</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>productToUpdate</span><span>.</span><span>Brand</span><span> </span><span>=</span><span> </span><span>product</span><span>.</span><span>Brand</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>productToUpdate</span><span>.</span><span>Value</span><span> </span><span>=</span><span> </span><span>product</span><span>.</span><span>Value</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>Task</span><span>.</span><span>FromResult</span><span>(</span><span>product</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>Task</span><span>.</span><span>FromException</span><span>&lt;</span><span>Product</span><span>&gt;</span><span>(</span><span>new</span><span> </span><span>EntryPointNotFoundException</span><span>(</span><span>)</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>public</span><span> </span><span>override</span><span> </span><span>Task</span><span>&lt;</span><span>Empty</span><span>&gt;</span><span> </span><span>Delete</span><span>(</span><span>ProductId </span><span>productId</span><span>,</span><span> </span><span>ServerCallContext </span><span>context</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>var</span><span> </span><span>productToDelete</span><span> </span><span>=</span><span> </span><span>(</span><span>from</span><span> </span><span>p</span><span> </span><span>in</span><span> </span><span>_products </span><span>where</span><span> </span><span>p</span><span>.</span><span>ProductId</span><span> </span><span>==</span><span> </span><span>productId</span><span>.</span><span>Id </span><span>select</span><span> </span><span>p</span><span>)</span><span>.</span><span>FirstOrDefault</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>if</span><span> </span><span>(</span><span>productToDelete</span><span> </span><span>==</span><span> </span><span>null</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>Task</span><span>.</span><span>FromException</span><span>&lt;</span><span>Empty</span><span>&gt;</span><span>(</span><span>new</span><span> </span><span>EntryPointNotFoundException</span><span>(</span><span>)</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>_products</span><span>.</span><span>Remove</span><span>(</span><span>productToDelete</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>Task</span><span>.</span><span>FromResult</span><span>(</span><span>new</span><span> </span><span>Empty</span><span>(</span><span>)</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0022 seconds] -->

<p>First, and most importantly, note the extends made in the class declaration. After you save everything and rebuild the project, the autogenerated classes are re-generated. Don’t forget to update the extends alike. The namespace must also change according to what’s informed in the proto file. You’re creating a product and adding it to the initial list, in order to have some data for testing.</p>
<p>The rest are just methods corresponding to each one of the declarations made in the proto. Since gRPC works with an async API, you must provide signatures that attend the same (by the use of <code>System.Threading.Tasks.Task</code> class). The manipulation over the list makes use of <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/linq/">Linq</a>, to simplify your life. Plus, for the cases where the given id was not found in the list, the code throws exceptions via <code>FromException</code> method, provided by <em>Task</em> class. Feel free to customize with your own exceptions.</p>
<p>Note that, for this part of the code, you’re also using the same classes declared in the proto, because they were re-generated. In case your VS can’t find them, comment any line of code with compilation errors and try to build the project again. Repeat it until the proto classes become recognizable by Visual Studio.</p>
<p>Final changes belong to the <code>Startup</code> class. Open it and change the name of the service in the generics of the <code>MapGrpcService</code> method. Change it to <code>GrpcCrudService</code>, the new service. Also, add the following to the <code>ConfigureServices</code> method:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5eaa69f2049f2188956682" data-settings=" minimize scroll-always">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="hide">
					
				</td>
						<td><div><p><span>services</span><span>.</span><span>AddSingleton</span><span>&lt;</span><span>GrpcCrudService</span><span>&gt;</span><span>(</span><span>)</span><span>;</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->

<p>And the respective import at the beginning of the file:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		
<!-- [Format Time: 0.0001 seconds] -->

<p>You need this to transform the service in a singleton, in order to maintain the list and its values every time a new request arrives. Otherwise, the list would be created for each request, since each request represented a new instance of the service.</p>
<p>Move on to the web project. For this, open a new window of Visual Studio and create another project. Search for <em>ASP.NET Core Web</em> and select it like in Figure 3.</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAPAAAPLy8v///yH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" data-src="https://www.red-gate.com/simple-talk/wp-content/uploads/2020/04/tela-de-computador-com-texto-preto-sobre-fundo-bra.png" data-lazy-load="" alt="Tela de computador com texto preto sobre fundo branco

Descrição gerada automaticamente"></p>
<p><strong>Figure 3. Creating a new ASP.NET Core Web Application.</strong></p>
<p>Click <em>Next</em>. Give it the name of <em>SimpleTalkGrpcWebClient</em> and click <em>Create</em>.</p>
<p>In the next screen, make sure to select the options <em>.NET Core</em> and <em>ASP.NET Core 3.1</em> right at the beginning. Then, locate the option <em>Web Application (Model-View-Controller)</em>, as you see in Figure 4. Regarding the HTTPS configuration, it’s ok to leave it selected unless you want to keep only HTTP.</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAPAAAPLy8v///yH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" data-src="https://www.red-gate.com/simple-talk/wp-content/uploads/2020/04/tela-de-celular-com-texto-preto-sobre-fundo-branco-1.png" data-lazy-load="" alt="Tela de celular com texto preto sobre fundo branco

Descrição gerada automaticamente"></p>
<p><strong>Figure 4. Selecting options for the web application.</strong></p>
<p>The project is created. If you’re not familiar with MVC in ASP.NET (which is not the focus of this article), I’d advise you to read <a href="https://dotnet.microsoft.com/apps/aspnet/mvc">this</a>.</p>
<p>Again, the proto file is the most important so, first, make sure to copy the folder <em>Protos</em> from the server project to this one.</p>
<p>Then, run the following commands to install all the needed NuGet dependencies:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5eaa69f2049fa821061948" data-settings=" minimize scroll-always">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="hide">
					
				</td>
						<td><div><p><span>Install-Package</span><span> </span><span>Grpc</span><span>.</span><span>Net</span><span>.</span><span>Client</span></p><p><span>Install-Package</span><span> </span><span>Google</span><span>.</span><span>Protobuf</span></p><p><span>Install-Package</span><span> </span><span>Grpc</span><span>.</span><span>Tools</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->

<p>Those are the only ones you need since the nature of the project already injected the <em>Microsoft.NETCore.App</em> and <em>Microsoft.AspNetCore.App</em> frameworks for the API and MVC files.</p>
<p>Then, edit the project (<em>right-click at the project &gt; Edit Project File</em>) and add the following:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5eaa69f2049fd331589231" data-settings=" minimize scroll-always">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="hide">
					
				</td>
						<td><div><p><span>&lt;</span><span>ItemGroup</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;</span><span>&lt;</span><span>Protobuf </span><span>Include</span><span>=</span><span>"Protos\product.proto"</span><span> </span><span>GrpcServices</span><span>=</span><span>"Client"</span><span> </span><span>/</span><span>&gt;</span></p><p><span>&lt;</span><span>/</span><span>ItemGroup</span><span>&gt;</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->

<p>Rebuild it. Visual Studio has already created a controller, error model and a basic home view made of a good templating system. Leave them as they are. The <em>wwwroot</em> also stores CSS and JavaScript files, along with jQuery and Bootstrap (which you’ll use for the CRUD page). Go ahead and explore a bit the files; it’s very straightforward.</p>
<p>Start by the <em>ProductsController.cs</em>. In the <em>Controllers</em> folder, create this class and add the code in Listing 4.</p>
<p><strong>Listing 4. Creating the ProductsController class.</strong></p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5eaa69f2049ff169872415" data-settings=" minimize scroll-always">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="hide">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p><p>34</p><p>35</p><p>36</p><p>37</p><p>38</p><p>39</p><p>40</p><p>41</p><p>42</p><p>43</p><p>44</p><p>45</p><p>46</p><p>47</p><p>48</p><p>49</p><p>50</p><p>51</p><p>52</p><p>53</p><p>54</p><p>55</p><p>56</p><p>57</p><p>58</p><p>59</p><p>60</p><p>61</p></div>
				</td>
						<td><div><p><span>using</span><span> </span><span>Grpc</span><span>.</span><span>Net</span><span>.</span><span>Client</span><span>;</span></p><p><span>using</span><span> </span><span>Microsoft</span><span>.</span><span>AspNetCore</span><span>.</span><span>Mvc</span><span>;</span></p><p><span>using</span><span> </span><span>ProductsService</span><span>;</span></p><p><span>using</span><span> </span><span>System</span><span>.</span><span>Collections</span><span>.</span><span>Generic</span><span>;</span></p><p><span>using</span><span> </span><span>System</span><span>.</span><span>Linq</span><span>;</span></p><p><span>namespace</span><span> </span><span>SimpleTalkGrpcWebClient</span><span>.</span><span>Controllers</span></p><p><span>{</span></p><p><span>	</span><span>[</span><span>ApiController</span><span>]</span></p><p><span>	</span><span>[</span><span>Route</span><span>(</span><span>"api/[controller]"</span><span>)</span><span>]</span></p><p><span>	</span><span>public</span><span> </span><span>class</span><span> </span><span>ProductsController</span><span> </span><span>:</span><span> </span><span>Controller</span></p><p><span>	</span><span>{</span></p><p><span>		</span><span>private</span><span> </span><span>readonly</span><span> </span><span>GrpcChannel </span><span>channel</span><span>;</span></p><p><span>		</span><span>public</span><span> </span><span>ProductsController</span><span>(</span><span>)</span></p><p><span>		</span><span>{</span></p><p><span>			</span><span>channel</span><span> </span><span>=</span><span> </span><span>GrpcChannel</span><span>.</span><span>ForAddress</span><span>(</span><span>"https://localhost:5001"</span><span>)</span><span>;</span></p><p><span>		</span><span>}</span></p><p><span>		</span><span>[</span><span>HttpGet</span><span>]</span></p><p><span>		</span><span>public</span><span> </span><span>List</span><span>&lt;</span><span>Product</span><span>&gt;</span><span> </span><span>GetAll</span><span>(</span><span>)</span></p><p><span>		</span><span>{</span></p><p><span>			</span><span>var</span><span> </span><span>client</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>ProductService</span><span>.</span><span>ProductServiceClient</span><span>(</span><span>channel</span><span>)</span><span>;</span></p><p><span>			</span><span>return</span><span> </span><span>client</span><span>.</span><span>GetAll</span><span>(</span><span>new</span><span> </span><span>Empty</span><span>(</span><span>)</span><span>)</span><span>.</span><span>Products</span><span>.</span><span>ToList</span><span>(</span><span>)</span><span>;</span></p><p><span>		</span><span>}</span></p><p><span>		</span><span>[</span><span>HttpGet</span><span>(</span><span>"{id}"</span><span>,</span><span> </span><span>Name</span><span> </span><span>=</span><span> </span><span>"GetProduct"</span><span>)</span><span>]</span></p><p><span>		</span><span>public</span><span> </span><span>IActionResult </span><span>GetById</span><span>(</span><span>int</span><span> </span><span>id</span><span>)</span></p><p><span>		</span><span>{</span></p><p><span>			</span><span>var</span><span> </span><span>client</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>ProductService</span><span>.</span><span>ProductServiceClient</span><span>(</span><span>channel</span><span>)</span><span>;</span></p><p><span>			</span><span>var</span><span> </span><span>product</span><span> </span><span>=</span><span> </span><span>client</span><span>.</span><span>Get</span><span>(</span><span>new</span><span> </span><span>ProductId</span><span> </span><span>{</span><span> </span><span>Id</span><span> </span><span>=</span><span> </span><span>id</span><span> </span><span>}</span><span>)</span><span>;</span></p><p><span>			</span><span>if</span><span> </span><span>(</span><span>product</span><span> </span><span>==</span><span> </span><span>null</span><span>)</span></p><p><span>			</span><span>{</span></p><p><span>				</span><span>return</span><span> </span><span>NotFound</span><span>(</span><span>)</span><span>;</span></p><p><span>			</span><span>}</span></p><p><span>			</span><span>return</span><span> </span><span>new</span><span> </span><span>ObjectResult</span><span>(</span><span>product</span><span>)</span><span>;</span></p><p><span>		</span><span>}</span></p><p><span>		</span><span>[</span><span>HttpPost</span><span>]</span></p><p><span>		</span><span>public</span><span> </span><span>IActionResult </span><span>Post</span><span>(</span><span>[</span><span>FromBody</span><span>]</span><span> </span><span>Product </span><span>product</span><span>)</span></p><p><span>		</span><span>{</span></p><p><span>			</span><span>var</span><span> </span><span>client</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>ProductService</span><span>.</span><span>ProductServiceClient</span><span>(</span><span>channel</span><span>)</span><span>;</span></p><p><span>			</span><span>var</span><span> </span><span>createdProduct</span><span> </span><span>=</span><span> </span><span>client</span><span>.</span><span>Insert</span><span>(</span><span>product</span><span>)</span><span>;</span></p><p><span>			</span><span>return</span><span> </span><span>CreatedAtRoute</span><span>(</span><span>"GetProduct"</span><span>,</span><span> </span><span>new</span><span> </span><span>{</span><span> </span><span>id</span><span> </span><span>=</span><span> </span><span>createdProduct</span><span>.</span><span>ProductId</span><span> </span><span>}</span><span>,</span><span> </span><span>createdProduct</span><span>)</span><span>;</span></p><p><span>		</span><span>}</span></p><p><span>		</span><span>[</span><span>HttpPut</span><span>]</span></p><p><span>		</span><span>public</span><span> </span><span>IActionResult </span><span>Put</span><span>(</span><span>[</span><span>FromBody</span><span>]</span><span> </span><span>Product </span><span>product</span><span>)</span></p><p><span>		</span><span>{</span></p><p><span>			</span><span>var</span><span> </span><span>client</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>ProductService</span><span>.</span><span>ProductServiceClient</span><span>(</span><span>channel</span><span>)</span><span>;</span></p><p><span>			</span><span>var</span><span> </span><span>udpatedProduct</span><span> </span><span>=</span><span> </span><span>client</span><span>.</span><span>Update</span><span>(</span><span>product</span><span>)</span><span>;</span></p><p><span>			</span><span>if</span><span> </span><span>(</span><span>udpatedProduct</span><span> </span><span>==</span><span> </span><span>null</span><span>)</span></p><p><span>			</span><span>{</span></p><p><span>				</span><span>return</span><span> </span><span>NotFound</span><span>(</span><span>)</span><span>;</span></p><p><span>			</span><span>}</span></p><p><span>			</span><span>return</span><span> </span><span>NoContent</span><span>(</span><span>)</span><span>;</span></p><p><span>		</span><span>}</span></p><p><span>		</span><span>[</span><span>HttpDelete</span><span>(</span><span>"{id}"</span><span>)</span><span>]</span></p><p><span>		</span><span>public</span><span> </span><span>IActionResult </span><span>Delete</span><span>(</span><span>int</span><span> </span><span>id</span><span>)</span></p><p><span>		</span><span>{</span></p><p><span>			</span><span>var</span><span> </span><span>client</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>ProductService</span><span>.</span><span>ProductServiceClient</span><span>(</span><span>channel</span><span>)</span><span>;</span></p><p><span>			</span><span>client</span><span>.</span><span>Delete</span><span>(</span><span>new</span><span> </span><span>ProductId</span><span> </span><span>{</span><span> </span><span>Id</span><span> </span><span>=</span><span> </span><span>id</span><span> </span><span>}</span><span>)</span><span>;</span></p><p><span>			</span><span>return</span><span> </span><span>new</span><span> </span><span>ObjectResult</span><span>(</span><span>id</span><span>)</span><span>;</span></p><p><span>		</span><span>}</span></p><p><span>	</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0017 seconds] -->

<p>This controller differs a bit from the <em>Home</em> controller. Mainly because it was made to be an API controller, not a controller to serve models and views. <em>HomeController</em> is important the way it is because it serves the entry point for the index HTML page.</p>
<p>The REST endpoints, in turn, communicates to the gRPC service. You can also create your own client services to organize it better but stick to this structure for the sake of simplicity.</p>
<p>First thing, you need the <em>channel</em>, remember? Create it at the controller’s constructor. Then, for each request, a new client must be instantiated. The client has all the methods defined in the proto, so you’ll just make use of each one in the corresponding HTTP operation.</p>
<p>Move on to the CSHTML code. Open the <em>Index.cshtml</em>, located into <em>Views/Home</em> folder, and change its content to the one in Listing 5.</p>
<p><strong>Listing 5. Index.cshtml code.</strong></p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5eaa69f204a03717979032" data-settings=" minimize scroll-always">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="hide">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p><p>34</p><p>35</p><p>36</p><p>37</p><p>38</p><p>39</p><p>40</p><p>41</p><p>42</p><p>43</p><p>44</p><p>45</p><p>46</p><p>47</p><p>48</p><p>49</p><p>50</p><p>51</p><p>52</p><p>53</p><p>54</p><p>55</p><p>56</p><p>57</p><p>58</p><p>59</p><p>60</p><p>61</p><p>62</p><p>63</p><p>64</p><p>65</p><p>66</p><p>67</p><p>68</p><p>69</p><p>70</p><p>71</p><p>72</p><p>73</p><p>74</p><p>75</p><p>76</p></div>
				</td>
						<td><div><p><span>@</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ViewData</span><span>[</span><span>"Title"</span><span>]</span><span> </span><span>=</span><span> </span><span>"Home Page"</span><span>;</span></p><p><span>}</span></p><p><span>&lt;</span><span>div </span><span>class</span><span>=</span><span>"container"</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>div </span><span>class</span><span>=</span><span>"py-3 text-center"</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>img </span><span>class</span><span>=</span><span>"d-block mx-auto mb-4"</span><span> </span><span>src</span><span>=</span><span>"https://www.bloorresearch.com/wp-content/uploads/2019/04/REDGATE-logo-300x470-.png"</span><span> </span><span>alt</span><span>=</span><span>""</span><span> </span><span>width</span><span>=</span><span>"272"</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>h2</span><span>&gt;</span><span>Product</span>'<span>s</span><span> </span><span>List</span><span>&lt;</span><span>/</span><span>h2</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>p</span><span> </span><span>class</span><span>=</span><span>"lead"</span><span>&gt;</span><span>A</span><span> </span><span>CRUD </span><span>made </span><span>with </span><span>ASP</span><span>.</span><span>NET </span><span>Core</span><span>,</span><span> </span><span>Bootstrap </span><span>and </span><span>gRPC</span><span>&lt;</span><span>/</span><span>p</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>/</span><span>div</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>button </span><span>type</span><span>=</span><span>"button"</span><span> </span><span>class</span><span>=</span><span>"btn redgate"</span><span> </span><span>data</span><span>-</span><span>toggle</span><span>=</span><span>"modal"</span><span> </span><span>data</span><span>-</span><span>target</span><span>=</span><span>"#productModal"</span><span> </span><span>onclick</span><span>=</span><span>"clearStuff();"</span><span>&gt;</span><span>New</span><span> </span><span>Product</span><span>&lt;</span><span>/</span><span>button</span><span>&gt;</span><span>&lt;</span><span>br</span><span> </span><span>/</span><span>&gt;</span><span>&lt;</span><span>br</span><span> </span><span>/</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>table </span><span>class</span><span>=</span><span>"table table-bordered table-striped table-hover"</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>thead</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>tr</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>th</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ID</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>/</span><span>th</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>th</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Name</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>/</span><span>th</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>th</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Amount</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>/</span><span>th</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>th</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Brand</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>/</span><span>th</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>th</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Value</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>/</span><span>th</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>th</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Actions</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>/</span><span>th</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>/</span><span>tr</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>/</span><span>thead</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>tbody </span><span>class</span><span>=</span><span>"tbody"</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>/</span><span>tbody</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>/</span><span>table</span><span>&gt;</span></p><p><span>&lt;</span><span>/</span><span>div</span><span>&gt;</span></p><p><span>&lt;</span><span>div </span><span>class</span><span>=</span><span>"modal fade"</span><span> </span><span>id</span><span>=</span><span>"productModal"</span><span> </span><span>role</span><span>=</span><span>"dialog"</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>div </span><span>class</span><span>=</span><span>"modal-dialog"</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>div </span><span>class</span><span>=</span><span>"modal-content"</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>div </span><span>class</span><span>=</span><span>"modal-header"</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>h4 </span><span>class</span><span>=</span><span>"modal-title"</span><span>&gt;</span><span>Add </span><span>Product</span><span>&lt;</span><span>/</span><span>h4</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>button </span><span>type</span><span>=</span><span>"button"</span><span> </span><span>class</span><span>=</span><span>"close"</span><span> </span><span>data</span><span>-</span><span>dismiss</span><span>=</span><span>"modal"</span><span>&gt;</span>×<span>&lt;</span><span>/</span><span>button</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>/</span><span>div</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>div </span><span>class</span><span>=</span><span>"modal-body"</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>form</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>div </span><span>class</span><span>=</span><span>"form-group"</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>label </span><span>for</span><span>=</span><span>"ProductId"</span><span>&gt;</span><span>ID</span><span>&lt;</span><span>/</span><span>label</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>input </span><span>type</span><span>=</span><span>"text"</span><span> </span><span>class</span><span>=</span><span>"form-control"</span><span> </span><span>id</span><span>=</span><span>"ProductID"</span><span> </span><span>placeholder</span><span>=</span><span>"Id"</span><span> </span><span>disabled</span><span>=</span><span>"disabled"</span><span> </span><span>/</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>/</span><span>div</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>div </span><span>class</span><span>=</span><span>"form-group"</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>label </span><span>for</span><span>=</span><span>"Name"</span><span>&gt;</span><span>Name</span><span>&lt;</span><span>/</span><span>label</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>input </span><span>type</span><span>=</span><span>"text"</span><span> </span><span>class</span><span>=</span><span>"form-control"</span><span> </span><span>id</span><span>=</span><span>"Name"</span><span> </span><span>placeholder</span><span>=</span><span>"Name"</span><span> </span><span>/</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>/</span><span>div</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>div </span><span>class</span><span>=</span><span>"form-group"</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>label </span><span>for</span><span>=</span><span>"Amount"</span><span>&gt;</span><span>Amount</span><span>&lt;</span><span>/</span><span>label</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>input </span><span>type</span><span>=</span><span>"number"</span><span> </span><span>class</span><span>=</span><span>"form-control"</span><span> </span><span>id</span><span>=</span><span>"Amount"</span><span> </span><span>placeholder</span><span>=</span><span>"Amount"</span><span> </span><span>/</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>/</span><span>div</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>div </span><span>class</span><span>=</span><span>"form-group"</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>label </span><span>for</span><span>=</span><span>"Brand"</span><span>&gt;</span><span>Brand</span><span>&lt;</span><span>/</span><span>label</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>input </span><span>type</span><span>=</span><span>"text"</span><span> </span><span>class</span><span>=</span><span>"form-control"</span><span> </span><span>id</span><span>=</span><span>"Brand"</span><span> </span><span>placeholder</span><span>=</span><span>"Brand"</span><span> </span><span>/</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>/</span><span>div</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>div </span><span>class</span><span>=</span><span>"form-group"</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>label </span><span>for</span><span>=</span><span>"Value"</span><span>&gt;</span><span>Value</span><span>&lt;</span><span>/</span><span>label</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>input </span><span>type</span><span>=</span><span>"number"</span><span> </span><span>step</span><span>=</span><span>"0.01"</span><span> </span><span>min</span><span>=</span><span>"0"</span><span> </span><span>class</span><span>=</span><span>"form-control"</span><span> </span><span>id</span><span>=</span><span>"Value"</span><span> </span><span>placeholder</span><span>=</span><span>"Value"</span><span> </span><span>/</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>/</span><span>div</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>/</span><span>form</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>/</span><span>div</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>div </span><span>class</span><span>=</span><span>"modal-footer"</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>button </span><span>type</span><span>=</span><span>"button"</span><span> </span><span>class</span><span>=</span><span>"btn redgate"</span><span> </span><span>id</span><span>=</span><span>"btnAddProduct"</span><span> </span><span>onclick</span><span>=</span><span>"return AddProduct();"</span><span>&gt;</span><span>Add</span><span>&lt;</span><span>/</span><span>button</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>button </span><span>type</span><span>=</span><span>"button"</span><span> </span><span>class</span><span>=</span><span>"btn redgate"</span><span> </span><span>id</span><span>=</span><span>"btnUpdateProduct"</span><span> </span><span>style</span><span>=</span><span>"display:none;"</span><span> </span><span>onclick</span><span>=</span><span>"UpdateProduct();"</span><span>&gt;</span><span>Update</span><span>&lt;</span><span>/</span><span>button</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>button </span><span>type</span><span>=</span><span>"button"</span><span> </span><span>class</span><span>=</span><span>"btn btn-default"</span><span> </span><span>data</span><span>-</span><span>dismiss</span><span>=</span><span>"modal"</span><span>&gt;</span><span>Close</span><span>&lt;</span><span>/</span><span>button</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>/</span><span>div</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>/</span><span>div</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>/</span><span>div</span><span>&gt;</span></p><p><span>&lt;</span><span>/</span><span>div</span><span>&gt;</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0024 seconds] -->

<p>Since the jQuery, Bootstrap and common CSS/JS files are already imported in the <em>_Layout.cshtml</em> file, you only need to provide the content for the CRUD.</p>
<p>This code is made basically of the table to display results from the server (the header only, because the body is going to be mounted by the JavaScript code), and a modal you’ll use to add and update the data.</p>
<p>Speaking of JavaScript code, copy the code presented in Listing 6 to the <em>site.js</em> (under the <em>wwwroot/js</em> folder).</p>
<p><strong>Listing 6. Content of site.js file.</strong></p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5eaa69f204a07568769787" data-settings=" minimize scroll-always">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="hide">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p><p>34</p><p>35</p><p>36</p><p>37</p><p>38</p><p>39</p><p>40</p><p>41</p><p>42</p><p>43</p><p>44</p><p>45</p><p>46</p><p>47</p><p>48</p><p>49</p><p>50</p><p>51</p><p>52</p><p>53</p><p>54</p><p>55</p><p>56</p><p>57</p><p>58</p><p>59</p><p>60</p><p>61</p><p>62</p><p>63</p><p>64</p><p>65</p><p>66</p><p>67</p><p>68</p><p>69</p><p>70</p><p>71</p><p>72</p><p>73</p><p>74</p><p>75</p><p>76</p><p>77</p><p>78</p><p>79</p><p>80</p><p>81</p><p>82</p><p>83</p><p>84</p><p>85</p><p>86</p><p>87</p><p>88</p><p>89</p><p>90</p><p>91</p><p>92</p><p>93</p><p>94</p><p>95</p><p>96</p><p>97</p><p>98</p><p>99</p><p>100</p><p>101</p><p>102</p><p>103</p><p>104</p><p>105</p><p>106</p><p>107</p><p>108</p><p>109</p><p>110</p><p>111</p><p>112</p><p>113</p><p>114</p><p>115</p><p>116</p><p>117</p><p>118</p><p>119</p><p>120</p><p>121</p><p>122</p><p>123</p><p>124</p><p>125</p><p>126</p><p>127</p><p>128</p><p>129</p><p>130</p><p>131</p><p>132</p><p>133</p><p>134</p><p>135</p><p>136</p><p>137</p><p>138</p><p>139</p><p>140</p><p>141</p><p>142</p><p>143</p><p>144</p><p>145</p><p>146</p><p>147</p><p>148</p><p>149</p><p>150</p><p>151</p><p>152</p><p>153</p><p>154</p><p>155</p><p>156</p><p>157</p><p>158</p></div>
				</td>
						<td><div><p><span>function </span><span>LoadProducts</span><span>(</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>.</span><span>ajax</span><span>(</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>url</span><span>:</span><span> </span><span>"/api/products"</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>type</span><span>:</span><span> </span><span>"GET"</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>contentType</span><span>:</span><span> </span><span>"application/json;charset=utf-8"</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>dataType</span><span>:</span><span> </span><span>"json"</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>success</span><span>:</span><span> </span><span>function</span><span> </span><span>(</span><span>result</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>var</span><span> </span><span>output</span><span> </span><span>=</span><span> </span><span>''</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>.</span><span>each</span><span>(</span><span>result</span><span>,</span><span> </span><span>function</span><span> </span><span>(</span><span>key</span><span>,</span><span> </span><span>item</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>output</span><span> </span><span>+=</span><span> </span><span>'&lt;tr&gt;'</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>output</span><span> </span><span>+=</span><span> </span><span>'&lt;td&gt;'</span><span> </span><span>+</span><span> </span><span>item</span><span>.</span><span>productId</span><span> </span><span>+</span><span> </span><span>'&lt;/td&gt;'</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>output</span><span> </span><span>+=</span><span> </span><span>'&lt;td&gt;'</span><span> </span><span>+</span><span> </span><span>item</span><span>.</span><span>name</span><span> </span><span>+</span><span> </span><span>'&lt;/td&gt;'</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>output</span><span> </span><span>+=</span><span> </span><span>'&lt;td&gt;'</span><span> </span><span>+</span><span> </span><span>item</span><span>.</span><span>amount</span><span> </span><span>+</span><span> </span><span>'&lt;/td&gt;'</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>output</span><span> </span><span>+=</span><span> </span><span>'&lt;td&gt;'</span><span> </span><span>+</span><span> </span><span>item</span><span>.</span><span>brand</span><span> </span><span>+</span><span> </span><span>'&lt;/td&gt;'</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>output</span><span> </span><span>+=</span><span> </span><span>'&lt;td&gt;'</span><span> </span><span>+</span><span> </span><span>item</span><span>.</span><span>value</span><span> </span><span>+</span><span> </span><span>'&lt;/td&gt;'</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>output</span><span> </span><span>+=</span><span> </span><span>`</span><span>&lt;</span><span>td</span><span>&gt;</span><span>&lt;</span><span>a</span><span> </span><span>href</span><span>=</span><span>"#"</span><span> </span><span>class</span><span>=</span><span>"btn redgate"</span><span> </span><span>onclick</span><span>=</span><span>"SetUpEditModal(${item.productId})"</span><span>&gt;</span><span>Edit</span><span>&lt;</span><span>/</span><span>a</span><span>&gt;</span><span> </span><span>|</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&lt;</span><span>a</span><span> </span><span>href</span><span>=</span><span>"#"</span><span> </span><span>class</span><span>=</span><span>"btn redgate"</span><span> </span><span>onclick</span><span>=</span><span>"DeleteProduct(${item.productId})"</span><span>&gt;</span><span>Delete</span><span>&lt;</span><span>/</span><span>a</span><span>&gt;</span><span>&lt;</span><span>/</span><span>td</span><span>&gt;</span><span>`</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>output</span><span> </span><span>+=</span><span> </span><span>'&lt;/tr&gt;'</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'.tbody'</span><span>)</span><span>.</span><span>html</span><span>(</span><span>output</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>error</span><span>:</span><span> </span><span>function</span><span> </span><span>(</span><span>message</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>console</span><span>.</span><span>log</span><span>(</span><span>message</span><span>.</span><span>responseText</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>)</span><span>;</span></p><p><span>}</span></p><p><span>function </span><span>AddProduct</span><span>(</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>var</span><span> </span><span>res</span><span> </span><span>=</span><span> </span><span>validateForm</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>if</span><span> </span><span>(</span><span>res</span><span> </span><span>==</span><span> </span><span>false</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>false</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>var</span><span> </span><span>productObj</span><span> </span><span>=</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>name</span><span>:</span><span> </span><span>$</span><span>(</span><span>'#Name'</span><span>)</span><span>.</span><span>val</span><span>(</span><span>)</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>amount</span><span>:</span><span> </span><span>parseInt</span><span>(</span><span>$</span><span>(</span><span>'#Amount'</span><span>)</span><span>.</span><span>val</span><span>(</span><span>)</span><span>)</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>brand</span><span>:</span><span> </span><span>$</span><span>(</span><span>'#Brand'</span><span>)</span><span>.</span><span>val</span><span>(</span><span>)</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>value</span><span>:</span><span> </span><span>parseFloat</span><span>(</span><span>$</span><span>(</span><span>'#Value'</span><span>)</span><span>.</span><span>val</span><span>(</span><span>)</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>.</span><span>ajax</span><span>(</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>url</span><span>:</span><span> </span><span>"/api/products"</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>data</span><span>:</span><span> </span><span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>productObj</span><span>)</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>type</span><span>:</span><span> </span><span>"POST"</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>contentType</span><span>:</span><span> </span><span>"application/json;charset=utf-8"</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>success</span><span>:</span><span> </span><span>function</span><span> </span><span>(</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>LoadProducts</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'#productModal'</span><span>)</span><span>.</span><span>modal</span><span>(</span><span>'hide'</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>error</span><span>:</span><span> </span><span>function</span><span> </span><span>(</span><span>message</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>console</span><span>.</span><span>log</span><span>(</span><span>message</span><span>.</span><span>responseText</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>)</span><span>;</span></p><p><span>}</span></p><p><span>function </span><span>SetUpEditModal</span><span>(</span><span>id</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'form input'</span><span>)</span><span>.</span><span>css</span><span>(</span><span>'border-color'</span><span>,</span><span> </span><span>'grey'</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'#productModal h4'</span><span>)</span><span>.</span><span>text</span><span>(</span><span>'Edit Product'</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>.</span><span>ajax</span><span>(</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>url</span><span>:</span><span> </span><span>"/api/products/"</span><span> </span><span>+</span><span> </span><span>id</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>typr</span><span>:</span><span> </span><span>"GET"</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>contentType</span><span>:</span><span> </span><span>"application/json;charset=UTF-8"</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>dataType</span><span>:</span><span> </span><span>"json"</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>success</span><span>:</span><span> </span><span>function</span><span> </span><span>(</span><span>result</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'#ProductID'</span><span>)</span><span>.</span><span>val</span><span>(</span><span>result</span><span>.</span><span>productId</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'#Name'</span><span>)</span><span>.</span><span>val</span><span>(</span><span>result</span><span>.</span><span>name</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'#Amount'</span><span>)</span><span>.</span><span>val</span><span>(</span><span>result</span><span>.</span><span>amount</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'#Brand'</span><span>)</span><span>.</span><span>val</span><span>(</span><span>result</span><span>.</span><span>brand</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'#Value'</span><span>)</span><span>.</span><span>val</span><span>(</span><span>result</span><span>.</span><span>value</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'#productModal'</span><span>)</span><span>.</span><span>modal</span><span>(</span><span>'show'</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'#btnUpdateProduct'</span><span>)</span><span>.</span><span>show</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'#btnAddProduct'</span><span>)</span><span>.</span><span>hide</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>error</span><span>:</span><span> </span><span>function</span><span> </span><span>(</span><span>message</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>console</span><span>.</span><span>log</span><span>(</span><span>message</span><span>.</span><span>responseText</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>false</span><span>;</span></p><p><span>}</span></p><p><span>function </span><span>UpdateProduct</span><span>(</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>if</span><span> </span><span>(</span><span>!</span><span>validateForm</span><span>(</span><span>)</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>false</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>var</span><span> </span><span>productObj</span><span> </span><span>=</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ProductID</span><span>:</span><span> </span><span>parseInt</span><span>(</span><span>$</span><span>(</span><span>'#ProductID'</span><span>)</span><span>.</span><span>val</span><span>(</span><span>)</span><span>)</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Name</span><span>:</span><span> </span><span>$</span><span>(</span><span>'#Name'</span><span>)</span><span>.</span><span>val</span><span>(</span><span>)</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Amount</span><span>:</span><span> </span><span>parseInt</span><span>(</span><span>$</span><span>(</span><span>'#Amount'</span><span>)</span><span>.</span><span>val</span><span>(</span><span>)</span><span>)</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Brand</span><span>:</span><span> </span><span>$</span><span>(</span><span>'#Brand'</span><span>)</span><span>.</span><span>val</span><span>(</span><span>)</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Value</span><span>:</span><span> </span><span>parseFloat</span><span>(</span><span>$</span><span>(</span><span>'#Value'</span><span>)</span><span>.</span><span>val</span><span>(</span><span>)</span><span>)</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>.</span><span>ajax</span><span>(</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>url</span><span>:</span><span> </span><span>"/api/products"</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>data</span><span>:</span><span> </span><span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>productObj</span><span>)</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>type</span><span>:</span><span> </span><span>"PUT"</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>contentType</span><span>:</span><span> </span><span>"application/json;charset=utf-8"</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>dataType</span><span>:</span><span> </span><span>"json"</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>success</span><span>:</span><span> </span><span>function</span><span> </span><span>(</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>LoadProducts</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'#productModal'</span><span>)</span><span>.</span><span>modal</span><span>(</span><span>'hide'</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>clearStuff</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>error</span><span>:</span><span> </span><span>function</span><span> </span><span>(</span><span>message</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>console</span><span>.</span><span>log</span><span>(</span><span>message</span><span>.</span><span>responseText</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>)</span><span>;</span></p><p><span>}</span></p><p><span>function </span><span>DeleteProduct</span><span>(</span><span>id</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>if</span><span> </span><span>(</span><span>confirm</span><span>(</span><span>"Are you sure?"</span><span>)</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>.</span><span>ajax</span><span>(</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>url</span><span>:</span><span> </span><span>"/api/products/"</span><span> </span><span>+</span><span> </span><span>id</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>type</span><span>:</span><span> </span><span>"DELETE"</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>contentType</span><span>:</span><span> </span><span>"application/json;charset=UTF-8"</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>dataType</span><span>:</span><span> </span><span>"json"</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>success</span><span>:</span><span> </span><span>function</span><span> </span><span>(</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>LoadProducts</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>error</span><span>:</span><span> </span><span>function</span><span> </span><span>(</span><span>message</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>console</span><span>.</span><span>log</span><span>(</span><span>message</span><span>.</span><span>responseText</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>}</span></p><p><span>/** Utility functions **/</span></p><p><span>function </span><span>clearStuff</span><span>(</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'form'</span><span>)</span><span>.</span><span>trigger</span><span>(</span><span>"reset"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'#btnUpdateProduct'</span><span>)</span><span>.</span><span>hide</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'#productModal h4'</span><span>)</span><span>.</span><span>text</span><span>(</span><span>'Add Product'</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'#btnAddProduct'</span><span>)</span><span>.</span><span>show</span><span>(</span><span>)</span><span>;</span></p><p><span>}</span></p><p><span>function </span><span>validateForm</span><span>(</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>var</span><span> </span><span>isValid</span><span> </span><span>=</span><span> </span><span>true</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>if</span><span> </span><span>(</span><span>$</span><span>(</span><span>'#Name'</span><span>)</span><span>.</span><span>val</span><span>(</span><span>)</span><span>.</span><span>trim</span><span>(</span><span>)</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>==</span><span> </span><span>""</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'#Name'</span><span>)</span><span>.</span><span>css</span><span>(</span><span>'border-color'</span><span>,</span><span> </span><span>'#c00'</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>isValid</span><span> </span><span>=</span><span> </span><span>false</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>else</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'#Name'</span><span>)</span><span>.</span><span>css</span><span>(</span><span>'border-color'</span><span>,</span><span> </span><span>'grey'</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>if</span><span> </span><span>(</span><span>$</span><span>(</span><span>'#Amount'</span><span>)</span><span>.</span><span>val</span><span>(</span><span>)</span><span>.</span><span>trim</span><span>(</span><span>)</span><span> </span><span>==</span><span> </span><span>""</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'#Amount'</span><span>)</span><span>.</span><span>css</span><span>(</span><span>'border-color'</span><span>,</span><span> </span><span>'#c00'</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>isValid</span><span> </span><span>=</span><span> </span><span>false</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>else</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'#Amount'</span><span>)</span><span>.</span><span>css</span><span>(</span><span>'border-color'</span><span>,</span><span> </span><span>'grey'</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>if</span><span> </span><span>(</span><span>$</span><span>(</span><span>'#Brand'</span><span>)</span><span>.</span><span>val</span><span>(</span><span>)</span><span>.</span><span>trim</span><span>(</span><span>)</span><span> </span><span>==</span><span> </span><span>""</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'#Brand'</span><span>)</span><span>.</span><span>css</span><span>(</span><span>'border-color'</span><span>,</span><span> </span><span>'#c00'</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>isValid</span><span> </span><span>=</span><span> </span><span>false</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>else</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'#Brand'</span><span>)</span><span>.</span><span>css</span><span>(</span><span>'border-color'</span><span>,</span><span> </span><span>'grey'</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>if</span><span> </span><span>(</span><span>$</span><span>(</span><span>'#Value'</span><span>)</span><span>.</span><span>val</span><span>(</span><span>)</span><span>.</span><span>trim</span><span>(</span><span>)</span><span> </span><span>==</span><span> </span><span>""</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'#Value'</span><span>)</span><span>.</span><span>css</span><span>(</span><span>'border-color'</span><span>,</span><span> </span><span>'#c00'</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>isValid</span><span> </span><span>=</span><span> </span><span>false</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>else</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>$</span><span>(</span><span>'#Value'</span><span>)</span><span>.</span><span>css</span><span>(</span><span>'border-color'</span><span>,</span><span> </span><span>'grey'</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>isValid</span><span>;</span></p><p><span>}</span></p><p><span>LoadProducts</span><span>(</span><span>)</span><span>;</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0047 seconds] -->

<p>Note that for each one of the HTTP requests for the CRUD operations, you also have a different JavaScript function to handle it. It helps to simplify the separation. Here, you’re using jQuery <a href="https://api.jquery.com/jquery.ajax/">ajax</a> function to help with the remote requests and responses to the Products API.</p>
<p>This function takes a bunch of inputs regarding the URL, content type, headers, params and two functions for success and error handling in the requesting/responding process.</p>
<p>The first function, <code>LoadProducts()</code>, makes an HTTP GET over the respective API endpoint to retrieve the list of products from the gRPC server project. If the request is successful, the results must come as a parameter, which will be iterated to get each one of the values and, finally, display them in the table’s <code>tbody</code>. Due to Ajax’s async nature, you may notice that the list takes a bit to appear. In case any error occurs, it’ll be displayed in the console.</p>
<p>Both adding and updating functions make use of the utility function <code>validateForm()</code>. This auxiliary function is just to make sure the data is correct and filled, before sending to the API. You can change it to your own code or lib.</p>
<p>For the adding, updating and deleting actions, you need to re-render the list of products by calling the loading function again. And, then, hide the modal.</p>
<p>When loading the table’s elements, you also need to create the links for editing and deleting calls. Note that the first triggers the function <code>SetUpEditModal()</code> which, in turn, will seek for that specific product by the provided id and fill each of the modal form’s inputs with the returned values. That’s important since you want to show each input prefilled with the respective value before updating them.</p>
<p>The <code>UpdateProduct()</code> function is the one that, in fact, summarize the updated input values and send them to the server. Here, in case of success, and after hiding the modal and refreshing the product’s table, you also need to rename the title of the modal (remember, it’s one single modal for both operations). The <code>clearStuff()</code> function exists to reset the form and show/hide proper buttons and texts.</p>
<p>At the end of the JS file, you also make sure to call the <code>LoadProducts()</code> function, since every time the page loads, you need the table filled.</p>
<p>Before going to the tests, check two things. First, make sure to have the following snippet just after the jQuery and Bootstrap JavaScript imports (not before), located in <em>Views/Shared/_Layout.cshtml</em>:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5eaa69f204a0e835983050" data-settings=" minimize scroll-always">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="hide">
					
				</td>
						<td><div><p><span>&lt;script </span><span>&lt;</span><span>strong</span><span>&gt;</span><span>src</span><span>&lt;</span><span>/</span><span>strong</span><span>&gt;=</span><span>"~/js/site.js"</span><span> </span><span>&lt;</span><span>strong</span><span>&gt;</span><span>asp</span><span>-</span><span>append</span><span>-</span><span>version</span><span>&lt;</span><span>/strong&gt;="true"&gt;&lt;/s</span><span>cript</span><span>&gt;</span><span>&nbsp;&nbsp;&nbsp;&nbsp; </span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->

<p>Second, open the <em>site.css</em> file under <em>wwwroot/css</em> folder and add the following class:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5eaa69f204a11842502979" data-settings=" minimize scroll-always">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="hide">
					
				</td>
						<td><div><p><span>.</span><span>redgate</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>background</span><span>-</span><span>color</span><span>:</span><span> </span><span>#c00;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>color</span><span>:</span><span> </span><span>#fff;</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->

<p>It’s important to add the background color effect related to the RedGate website.</p>
<p>Test it now. With the server project up and running, start your web application (<em>Ctrl + F5</em>). When the browser window open, you should see something like Figure 5.</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAPAAAPLy8v///yH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" data-src="https://www.red-gate.com/simple-talk/wp-content/uploads/2020/04/word-image-77.png" data-lazy-load=""></p>
<p><strong>Figure 5. Web client application running in the browser.</strong></p>
<h2>Conclusion</h2>
<p>This is it. Go ahead and play with the other operations. Feel free to customize the way you prefer the screen and the overall architecture.</p>
<p>Please, also refer to the <a href="https://grpc.io/docs/quickstart/csharp/">official docs</a> for more on what (and how) you can do with gRPC in .NET. It’s the most complete and trustworthy source for your studies. Regarding tests and performance, please also refer to their <a href="https://grpc.io/docs/guides/benchmarking/">Benchmarking page</a>.</p>
<p>As a challenge, you can try to upgrade your implementation to integrate it with the <a href="https://grpc.io/docs/quickstart/web/">Web version</a> of gRPC, along with the current CRUD page. Good luck with the studies!</p>

			</div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>linksfor.dev(s)</title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    
    <meta property="article:author" content="Buildstarted"/>
    <meta property="og:site_name" content="linksfor.dev(s)" />
    <meta property="og:title" content="linksfor.dev(s)" />
    <meta property="og:type" content="website" />
    <meta property="og:description" content="A curated list of sources of development information including c#, c++, and other dev related links." />
</head>
<body>
    <div class="grid">
        <h1>
                <span style="cursor: default" title="linksfor.dev(s) has been running for 1 year! :partypopper:">üéâ</span>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Send a gif with Go using MMS in 14 lines</title>
<div class="readable">
        <h1>Send a gif with Go using MMS in 14 lines</h1>
        <p>
by By Christopher Konopka&#xA;      2018-08-29 <br/>Reading time: 5-6 minutes        </p>
        <p><a href="https://www.twilio.com/blog/send-gif-go-using-mms-14-lines">https://www.twilio.com/blog/send-gif-go-using-mms-14-lines</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
      

      <section>
        
          <ul>
        
          
          
    
      


<article>
  <header>
  
  
  </header>
  <section>
    
    
      <p>In past posts we‚Äôve shown you how to use <a href="https://golang.org/">Go</a> <a href="https://www.twilio.com/blog/2017/09/send-text-messages-golang.html">to send SMS</a> and <a href="https://www.twilio.com/blog/2014/10/making-and-receiving-phone-calls-with-golang.html">how to make and receive calls</a> with Twilio. What if I wanted to share a gopher <em>gif </em>with a friend using Go? Twilio can do that too!</p>
    
      

<div>
    <div><pre><span><span>package</span> <span>main</span>
</span><span>
</span><span><span>import</span> <span>(</span>
</span><span>    <span>"fmt"</span>
</span><span>    <span>twilio</span> <span>"github.com/kevinburke/twilio-go"</span>
</span><span>    <span>"net/url"</span>
</span><span><span>)</span>
</span><span>
</span><span><span>func</span> <span>main</span><span>()</span> <span>{</span>
</span><span>    <span>client</span> <span>:=</span> <span>twilio</span><span>.</span><span>NewClient</span><span>(</span><span>"TWILIO_AUTH_SID"</span><span>,</span> <span>"TWILIO_AUTH_TOKEN"</span><span>,</span> <span>nil</span><span>)</span>
</span><span>    <span>gif</span><span>,</span> <span>_</span> <span>:=</span> <span>url</span><span>.</span><span>Parse</span><span>(</span><span>"https://media.giphy.com/media/uGGT9wVlxPAuk/giphy.gif"</span><span>)</span>
</span><span>    <span>mms</span><span>,</span> <span>_</span> <span>:=</span> <span>client</span><span>.</span><span>Messages</span><span>.</span><span>SendMessage</span><span>(</span><span>"FROM_NUMBER"</span><span>,</span> <span>"TO_NUMBER"</span><span>,</span> <span>""</span><span>,</span> <span>[]</span><span>*</span><span>url</span><span>.</span><span>URL</span><span>{</span><span>gif</span><span>})</span>
</span><span>    <span>fmt</span><span>.</span><span>Println</span><span>(</span><span>"You just sent a gif with Twilio using Go!! "</span> <span>+</span> <span>string</span><span>(</span><span>mms</span><span>.</span><span>Status</span><span>)</span> <span>+</span> <span>" - "</span> <span>+</span> <span>string</span><span>(</span><span>mms</span><span>.</span><span>Sid</span><span>))</span>
</span><span><span>}</span>
</span></pre></div>
</div>

    
      <div><h3>Setting Up</h3>
<p>To start you will need a few things:</p>
<ul>
<li>Twilio Account (<a href="https://www.twilio.com/console">sign up here</a>)</li>
<li><a href="https://support.twilio.com/hc/en-us/articles/223135247-How-to-Search-for-and-Buy-a-Twilio-Phone-Number-from-Console">Twilio Phone Number</a></li>
<li><a href="https://golang.org/">Go</a></li>
</ul>
<p>Once you have completed installing Go, install the <a href="https://github.com/kevinburke/twilio-go">twilio-go</a> package with the <a href="https://golang.org/doc/articles/go_command.html#tmp_3">get</a> command.</p></div>
    
      

<div>
    <div><pre><span><span>go</span> <span>get</span> <span>github</span><span>.</span><span>com</span><span>/</span><span>kevinburke</span><span>/</span><span>twilio</span><span>-</span><span>go</span>
</span></pre></div>
</div>

    
      <p>After completing the installation create a new Go program. Import the three libraries below: the <a href="https://github.com/kevinburke/twilio-go">twilio-go</a> library from github and the Go native libraries <a href="https://golang.org/pkg/net/url/">net/url</a> and <a href="https://golang.org/pkg/fmt/">fmt</a>. Complete the template by adding the program‚Äôs main function.</p>
    
      

<div>
    <div><pre><span><span>package</span> <span>main</span>
</span><span>
</span><span><span>import</span> <span>(</span>
</span><span>     <span>"fmt"</span>
</span><span>     <span>twilio</span> <span>"github.com/kevinburke/twilio-go"</span>
</span><span>     <span>"net/url"</span>
</span><span><span>)</span>
</span><span>
</span><span><span>func</span> <span>main</span><span>(){</span>
</span><span><span>// code goes here</span>
</span><span><span>}</span>
</span></pre></div>
</div>

    
      <div><h3>Sending a MMS with Twilio</h3>
<p>Next create a new variable called <em>client</em>. Initialize your client using twilio.NewClient and pass in your Account SID and Auth Token. These credentials can be found on the main page of the <a href="http://twilio.com/console">Twilio Console</a>.</p></div>
    
      

<div>
    <div><pre><span><span>client</span> <span>:=</span> <span>twilio</span><span>.</span><span>NewClient</span><span>(</span><span>"TWILIO_AUTH_SID"</span><span>,</span> <span>"TWILIO_AUTH_TOKEN"</span><span>,</span> <span>nil</span><span>)</span>
</span></pre></div>
</div>

    
      <div><p>It's ok to hard code credentials while you're getting started, but make sure you don't share this file or commit these to GitHub. Now find a gif you would like to share. For this example I selected a gopher because it is the mascot of Go.</p>
<p><img alt="konopka-02-gophergif" height="277" sizes="498px" src="https://twilio-cms-prod.s3.amazonaws.com/images/02-gopher.width-500.gif" srcset="https://twilio-cms-prod.s3.amazonaws.com/images/02-gopher.width-500.gif 498w, https://twilio-cms-prod.s3.amazonaws.com/images/02-gopher.width-1000.gif 498w" width="498"></p>
<p>Once you‚Äôve found a gif to share, parse the file so it can be passed to the API using twilio-go. Declare a new variable called <em>gif</em> and instantiate the <a href="https://golang.org/pkg/net/url/#URL.Parse">url.Parse</a> method from the <a href="https://golang.org/pkg/net/url/">net/url</a> library.</p></div>
    
      

<div>
    <div><pre><span><span>gif</span><span>,</span> <span>_</span> <span>:=</span> <span>url</span><span>.</span><span>Parse</span><span>(</span><span>"https://media.giphy.com/media/uGGT9wVlxPAuk/giphy.gif"</span><span>)</span>
</span></pre></div>
</div>

    
      <div><p>The <a href="https://golang.org/pkg/net/url/#URL.Parse">url.Parse</a> method returns a pointer to the string url in memory and an error value by default. You may notice the ‚Äú_‚Äù or <a href="https://golang.org/doc/effective_go.html#blank">blank identifier</a> that is next to the declared variable <em>gif</em>. Using the blank identifier specifies that the second value, the error value in this case, will be ignored.</p>
<p>Now to the gopher stuff, let‚Äôs send a gif. Create a new variable called <em>mms</em>&nbsp;and initialize your message using client.Messages.SendMessage.</p></div>
    
      

<div>
    <div><pre><span><span>mms</span><span>,</span> <span>_</span> <span>:=</span> <span>client</span><span>.</span><span>Messages</span><span>.</span><span>SendMessage</span><span>(</span><span>"FROM_NUMBER"</span><span>,</span> <span>"TO_NUMBER"</span><span>,</span> <span>""</span><span>,</span> <span>[]</span><span>*</span><span>url</span><span>.</span><span>URL</span><span>{</span><span>gif</span><span>})</span>
</span></pre></div>
</div>

    
      <div><p>A few pieces of information are needed for the SendMessage method to make this happen.</p>
<ul>
<li><strong>FROM_NUMBER:</strong> Your Twilio Number</li>
<li><strong>TO_NUMBER:</strong> Number that is receiving the gif</li>
<li><strong>"":</strong> Empty text body - we're sending a picture so we don't need this!
<ul>
<li>If you want to add a body to the message you can write the message in quotations. (i.e. ‚ÄúHow do you like the gopher?‚Äù)</li>
</ul>
</li>
<li><strong>[]*url.URL{gif}:</strong> the MMS (picture) body of the message</li>
</ul>
<p>Lastly let‚Äôs print out a message, the MMS status and the MMS SID.</p></div>
    
      

<div>
    <div><pre><span><span>fmt</span><span>.</span><span>Println</span><span>(</span><span>"You just sent a gif with Twilio using Go! "</span> <span>+</span> <span>string</span><span>(</span><span>mms</span><span>.</span><span>Status</span><span>)</span> <span>+</span> <span>" - "</span> <span>+</span> <span>string</span><span>(</span><span>mms</span><span>.</span><span>Sid</span><span>))</span>
</span></pre></div>
</div>

    
      <p>Ready? Let‚Äôs Go! Run your program from the command line with the following:</p>
    
      

<div>
    <div><pre><span><span>go</span> <span>run</span> <span>Send</span><span>-</span><span>a</span><span>-</span><span>Gif</span><span>-</span><span>with</span><span>-</span><span>Go</span><span>-</span><span>in</span><span>-</span><span>14</span><span>-</span><span>lines</span><span>-</span><span>of</span><span>-</span><span>code</span><span>.</span><span>go</span>
</span></pre></div>
</div>

    
      <p><h3>Completed Program</h3></p>
    
      

<div>
    <div><pre><span><span>package</span> <span>main</span>
</span><span>
</span><span><span>import</span> <span>(</span>
</span><span>     <span>"fmt"</span>
</span><span>     <span>twilio</span> <span>"github.com/kevinburke/twilio-go"</span>
</span><span>     <span>"net/url"</span>
</span><span><span>)</span>
</span><span>
</span><span><span>func</span> <span>main</span><span>()</span> <span>{</span>
</span><span>     <span>client</span> <span>:=</span> <span>twilio</span><span>.</span><span>NewClient</span><span>(</span><span>"TWILIO_AUTH_SID"</span><span>,</span> <span>"TWILIO_AUTH_TOKEN"</span><span>,</span> <span>nil</span><span>)</span>
</span><span>     <span>gif</span><span>,</span> <span>_</span> <span>:=</span> <span>url</span><span>.</span><span>Parse</span><span>(</span><span>"https://media.giphy.com/media/uGGT9wVlxPAuk/giphy.gif"</span><span>)</span>
</span><span>     <span>mms</span><span>,</span> <span>_</span> <span>:=</span> <span>client</span><span>.</span><span>Messages</span><span>.</span><span>SendMessage</span><span>(</span><span>"FROM_NUMBER"</span><span>,</span> <span>"TO_NUMBER"</span><span>,</span> <span>""</span><span>,</span> <span>[]</span><span>*</span><span>url</span><span>.</span><span>URL</span><span>{</span><span>gif</span><span>})</span>
</span><span>     <span>fmt</span><span>.</span><span>Println</span><span>(</span><span>"You just sent a gif with Twilio using Go!! "</span> <span>+</span> <span>string</span><span>(</span><span>mms</span><span>.</span><span>Status</span><span>)</span> <span>+</span> <span>" - "</span> <span>+</span> <span>string</span><span>(</span><span>mms</span><span>.</span><span>Sid</span><span>))</span>
</span><span><span>}</span>
</span></pre></div>
</div>

    
      <div><h3>What now?</h3>
<p>You just found out how easy it is to send a gif using Twilio with Go and the fun is just beginning. Try integrating this idea into an existing app or building an app using <a href="https://vimeo.com/49718712">concurrency</a> with Go‚Äôs <a href="https://golang.org/doc/effective_go.html#concurrency">goroutines</a>. The sky‚Äôs the limit.</p>
<p>If you have any questions about how to use Twilio &amp; Go drop me a line anytime via one of the mediums below. This <a href="https://github.com/cskonopka/TwilioPocketGopher/tree/master/Blog/02-Send%20a%20Gif%20with%20Go%20in%2014%20lines%20of%20code">project</a> can be found on my <a href="http://github.com/cskonopka">GitHub</a> in the repository called <a href="https://github.com/cskonopka/TwilioPocketGopher">TwilioPocketGopher</a>, a <a href="http://durakis.com/old_site_05_21_2017/wp-content/uploads/2015/02/rolodex-300x300.jpg">rolodex</a> of Twilio based Go projects.&nbsp;</p>
<ul>
<li>Email: ckonopka@twilio.com</li>
<li>Twitter: @cskonopka</li>
<li>Github: <a href="http://github.com/cskonopka">cskonopka</a></li>
</ul>
</div>
    

    

    


    
      




    
  </section>
</article>


    
    

        
          </ul>
        
      </section>
    </div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
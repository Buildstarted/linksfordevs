<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Why Infrastructure As Code? - Simple Thread - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Why Infrastructure As Code? - Simple Thread - linksfor.dev(s)"/>
    <meta property="article:author" content="by Justin EtheredgeApril 24, 2020May 7, 2020"/>
    <meta property="og:description" content="People often discuss features of Infrastructure as Code without explaining why they matter. Let&#x27;s talk about the goals behind IaC and why you should care."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://www.simplethread.com/why-infrastructure-as-code/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Why Infrastructure As Code? - Simple Thread</title>
<div class="readable">
        <h1>Why Infrastructure As Code? - Simple Thread</h1>
            <div>by by Justin EtheredgeApril 24, 2020May 7, 2020</div>
            <div>Reading time: 11-13 minutes</div>
        <div>Posted here: 26 May 2020</div>
        <p><a href="https://www.simplethread.com/why-infrastructure-as-code/">https://www.simplethread.com/why-infrastructure-as-code/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
<article id="post-2781">
	<!-- .entry-header -->

	<div>

          <p><img width="1334" height="2000" src="https://3otebq2knmnf3smsj0374a9u-wpengine.netdna-ssl.com/wp-content/uploads/2020/05/infrastructure-scaled.jpg" alt="Why Infrastructure As Code?" data-sizes="(max-width: 1334px) 100vw, 1334px" data-srcset="https://3otebq2knmnf3smsj0374a9u-wpengine.netdna-ssl.com/wp-content/uploads/2020/05/infrastructure-scaled.jpg 1334w, https://3otebq2knmnf3smsj0374a9u-wpengine.netdna-ssl.com/wp-content/uploads/2020/05/infrastructure-200x300.jpg 200w, https://3otebq2knmnf3smsj0374a9u-wpengine.netdna-ssl.com/wp-content/uploads/2020/05/infrastructure-683x1024.jpg 683w, https://3otebq2knmnf3smsj0374a9u-wpengine.netdna-ssl.com/wp-content/uploads/2020/05/infrastructure-768x1152.jpg 768w, https://3otebq2knmnf3smsj0374a9u-wpengine.netdna-ssl.com/wp-content/uploads/2020/05/infrastructure-1024x1536.jpg 1024w, https://3otebq2knmnf3smsj0374a9u-wpengine.netdna-ssl.com/wp-content/uploads/2020/05/infrastructure-1365x2048.jpg 1365w" data-src="https://3otebq2knmnf3smsj0374a9u-wpengine.netdna-ssl.com/wp-content/uploads/2020/05/infrastructure-scaled.jpg" loading="lazy" sizes="(max-width: 1334px) 100vw, 1334px" srcset="https://3otebq2knmnf3smsj0374a9u-wpengine.netdna-ssl.com/wp-content/uploads/2020/05/infrastructure-scaled.jpg 1334w, https://3otebq2knmnf3smsj0374a9u-wpengine.netdna-ssl.com/wp-content/uploads/2020/05/infrastructure-200x300.jpg 200w, https://3otebq2knmnf3smsj0374a9u-wpengine.netdna-ssl.com/wp-content/uploads/2020/05/infrastructure-683x1024.jpg 683w, https://3otebq2knmnf3smsj0374a9u-wpengine.netdna-ssl.com/wp-content/uploads/2020/05/infrastructure-768x1152.jpg 768w, https://3otebq2knmnf3smsj0374a9u-wpengine.netdna-ssl.com/wp-content/uploads/2020/05/infrastructure-1024x1536.jpg 1024w, https://3otebq2knmnf3smsj0374a9u-wpengine.netdna-ssl.com/wp-content/uploads/2020/05/infrastructure-1365x2048.jpg 1365w">			</p><!-- .st-post-thumbnail -->

				<p>There’s a whole chunk of the software development world that takes Infrastructure as Code (IaC) for granted. They’ve been at it for years, are totally bought in, and don’t really need to consider the benefits any more because it’s just the air they breathe. But it turns out there are still a lot of environments that are being managed manually, carefully, and painfully.</p>
<p>If you went to tell your manager that you need to spend time using Cloudformation or Terraform to implement your new environment because you can version control it or automate it, you probably wouldn’t get very far. Unless you’re fortunate enough to have a manager who is intimately familiar with software development, in which case, you probably don’t need to sell it.</p>
<p>Versioning and automation are the <strong>features</strong>&nbsp;of Infrastructure as Code, not the reasons <strong>why</strong>&nbsp;you would want it. &nbsp;My goal is to get to the <strong>why</strong>&nbsp;behind Infrastructure as Code, and what you can expect to get out of it. And at the end, we will talk about a few of the tradeoffs you might experience.</p>
<h2 id="h.ss829bliolft">On with the why…</h2>
<h3 id="h.9nji9y8nm25t">Confidence</h3>
<p>Yes, you read that right—confidence. Have you ever managed an environment created manually? Are you terrified with every change you have to make? Do you push back against even the smallest changes because you fear what might happen? Are you worried about backups being corrupted, and the server crashing, and being unable to recreate the environment? Are those scenarios the basis of every anxiety dream you’ve ever had? I got a little twitchy just typing them out.</p>
<p>Infrastructure as Code gives you the freedom to make changes without the fear that you’ll put things in an unrecoverable state. And it gives you a better understanding of how the environment came to be the way it is, which allows you to be more confident to make the changes you need.</p>
<p>Is it safe to remove this environment variable? Why was this flag set? How did that configuration file get in that state? Who added that site to the server? With Infrastructure as Code, you can look back in the source history and find out the answer to all those questions. And if that change breaks the environment? Well, just roll it back. Did that still not fix it? Build a whole new environment&nbsp;with a few keystrokes. That is the kind of magic that IaC enables.</p>
<h3 id="h.lsvl0booay03">Repeatability</h3>
<p>Even in a software environment where you have a lot of tests, one of the biggest causes of failure is having integration/staging environments that don’t properly mimic production. Infrastructure as Code eliminates this problem by allowing your infrastructure to be instantiated in an automated way, making it easy to build multiple identical environments.</p>
<p>Doing Infrastructure as Code in the cloud adds another huge advantage—you can build specific environments for each release, rather than having dedicated testing environments. This can be a boon particularly if you need to modify your environment along with your software releases.</p>
<h3 id="h.f64gsxuborih">Troubleshooting</h3>
<p>Have you ever had an environment change cause problems, but you’re not sure what changed? Infrastructure as Code virtually eliminates this problem because you can look at your source control and see exactly what changed in the environment. As long as you are diligent and don’t make manual changes to your environments, then Infrastructure as Code can be a game changer.</p>
<h3 id="h.43r5lawwvcs6">Disaster Recovery</h3>
<p>Most disaster recovery (DR) plans require the ability to set up an alternate environment in a different datacenter or region. Infrastructure as Code makes this a much more manageable prospect. Not only do you have an easy way to create a new environment from scratch, but if you need to maintain two active environments it’s easy to keep them in sync.</p>
<h3 id="h.au8ro2hioess">Auditability</h3>
<p>There are many times, especially in regulated industries, where you will need to be able to audit both changes and access to an environment. Infrastructure as Code simplifies this process immensely by allowing someone without access to a production environment to make changes to your IaC scripts and then hand them off to someone with access who can apply those changes in a controlled environment.</p>
<p>For anyone who has had to manage a process like this, you can understand how complicated this can be if you’re not using automation to manage these things. Infrastructure as Code gives you all of this right out of the box.</p>
<h3 id="h.nbcuxcxg08co">Visibility</h3>
<p>As an environment expands over time, it can be challenging to tell what has been provisioned or deployed. In the cloud this can be a huge cost issue. Infrastructure as Code can be helpful here, because instead of having to explore and enumerate everything in your environment, you can instead audit your IaC scripts.</p>
<p>If you’ve ever hunted through an AWS Org with multiple accounts using multiple services in different regions, then you understand how massive this problem can be. With your environments managed using Infrastructure as Code, the cost-savings alone can make it a worthwhile investment.</p>
<h3 id="h.nbcuxcxg08co">Portability</h3>
<p>While many IaC tools don’t provide any abstraction across cloud providers (this probably wouldn’t be ideal anyway), some of them do allow you to work with multiple cloud platforms at the same time. This makes building multi-cloud environments a more manageable prospect.</p>
<p>IaC tools can make moving between clouds easier as well, since translating a Terraform script from one cloud provider to another is considerably more simple than having to recreate your entire environment in a cloud-specific IaC tool or rebuilding it from the UI or CLI. The visibility your IaC scripts will provide you into what is provisioned, and therefore what needs to be converted, is worth its weight in gold if you’re considering this kind of switch.</p>
<h3 id="h.nbcuxcxg08co">Security</h3>
<p>This is just another angle on visibility and auditability, but it is important to call it out separately. Being able to tell when something was changed, and who made that change, and who has access to what is critical for the security of your environment. Being able to see the history of changes to your security group rules along with commit messages can do wonders for being confident about the security configuration of your environment.</p>
<p>You’ll still need something like AWS Config or Google Cloud Audit to see any live changes made to your environment. However, a good Infrastructure as Code tool will make it easier to setup and configure these tools, and most importantly audit their configurations. You don’t want to find out that someone turned off the notifications coming out of your auditing tools because they were annoying.</p>
<h2 id="h.ytl50ooo2qn4">I’m sold, what next?</h2>
<p>What comes next will depend on your environment. At Simple Thread, most of the software we build is cloud native and we deploy it in AWS. Because of that we generally use two different tools to implement our Infrastructure as Code deployments: <a href="https://www.terraform.io/" target="_blank" rel="noopener noreferrer">Terraform</a>&nbsp;and <a href="https://www.docker.com/" target="_blank" rel="noopener noreferrer">Docker</a>.</p>
<p>Why do we need two tools? Well, almost every Infrastructure as Code setup needs two different levels of automation. One is at the environment level, and one is at the machine or container level.</p>
<ul>
<li>Environment level – At the environment level you have tools like <a href="https://www.terraform.io/" target="_blank" rel="noopener noreferrer">Terraform</a>, <a href="https://www.pulumi.com/" target="_blank" rel="noopener noreferrer">Pulumi</a>, <a href="https://aws.amazon.com/cloudformation/" target="_blank" rel="noopener noreferrer">AWS CloudFormation</a>, <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/overview" target="_blank" rel="noopener noreferrer">Microsoft Azure Resource Manager</a>, and <a href="https://cloud.google.com/deployment-manager" target="_blank" rel="noopener noreferrer">Google Cloud Deployment Manager</a>. These tools allow you to set up your VPC, subnets, route tables, security groups, DNS, load balancers, container services, etc. – basically anything that is part of your environment in your cloud provider or private cloud.</li>
<li>Machine/Container level – At the machine/container level you have tools like <a href="https://www.chef.io/" target="_blank" rel="noopener noreferrer">Chef</a>, <a href="https://puppet.com/" target="_blank" rel="noopener noreferrer">Puppet</a>, <a href="https://www.ansible.com/" target="_blank" rel="noopener noreferrer">Ansible</a>, <a href="https://www.docker.com/" target="_blank" rel="noopener noreferrer">Docker</a>, and <a href="https://github.com/appc/spec" target="_blank" rel="noopener noreferrer">App Container Spec (appc)</a>, among others. These tools allow you to configure a machine, or build a container that can run one or multiple processes. With Chef/Puppet/Ansible, you’re setting up access, settings, services, mounts… anything you need to configure the machine. In the case of Docker, you’re usually doing something a little more focused, setting up an environment in which a single process will run.</li>
</ul>
<p>At Simple Thread, we use a variety of tools, but we often use <a href="https://www.terraform.io/" target="_blank" rel="noopener noreferrer">Terraform</a>&nbsp;to automate our AWS environment and <a href="https://aws.amazon.com/ecs/" target="_blank" rel="noopener noreferrer">AWS Elastic Container Service</a>&nbsp;and then deploy Docker containers for individual applications and services. When we find ourselves having to setup and provision individual servers, we often reach for Ansible.</p>
<h2 id="h.ew6l82riry0z">You said there might be challenges</h2>
<p>As with most things, there are some tradeoffs you’ll need to accept when you move to an Infrastructure as Code environment. Here are a few that you can expect to face:</p>
<h3 id="h.7pvqyidutb6n">The lure of the “One-Off” change</h3>
<p>If you move to an Infrastructure as Code environment, you’ll need to make sure that nobody makes manual changes. It can be easy to say, “I’ll just make this one change, and then I’ll update the scripts later,” but later never comes. Once you start making changes to your environments manually, they begin to diverge and all of your effort will be for naught. Remember those anxiety-dream-producing scenarios from earlier? If you’re in IaC, this is the portal back to waking up in a cold sweat. Don’t do this.</p>
<h3 id="h.inojq2sm97cd">Slow down to speed up</h3>
<p>Sometimes it can take a bit longer to make changes with Infrastructure as Code. This can be especially true in smaller environments. It can be a quick thing to just tweak a setting in the load balancer or change a security group ingress rule. On the other hand, updating scripts, making the change, committing the change, running the change against a test environment, and then running the change against a production environment can feel so laborious. Especially when you’re just getting started.</p>
<p>But this is one of those situations where you need to slow down to speed up. Being diligent about making changes through your scripts will undoubtedly save you countless hours during an outage or when troubleshooting. And you’ll be so much more confident in your changes because you can test that change against a test environment instead of crossing your fingers and running the update straight against production. Even in small environments the payoffs can be enormous.</p>
<h3 id="h.hvxvxua519l">Learning curve</h3>
<p>All of these tools have a pretty steep learning curve. You have to be able to create infrastructure in scripts that used to be easily created from the UI or the CLI. Among a seasoned ops team, this can be one of the biggest obstacles to IaC adoption. But if you commit, once you’re through the initial pain you’ll never look back.</p>
<h2 id="h.fitsax71qxtf">Just do it</h2>
<p><iframe title="Shia LaBeouf &quot;Just Do It&quot; Motivational Speech (Original Video by LaBeouf, Rönkkö &amp; Turner)" width="640" height="360" src="https://www.youtube.com/embed/ZXsQAXx_ao0?feature=oembed" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<p>Infrastructure as Code is one of those rare techniques that is valuable in both the smallest and largest environments. Almost any engineering team can leverage IaC to their benefit. We started the journey many years ago with Chef and Puppet. Then we used CloudFormation before moving over to Terraform. We love Terraform because of its ecosystem and its <a href="https://www.terraform.io/docs/providers/index.html" target="_blank" rel="noopener noreferrer">ability to work with almost any public or private cloud tools</a>. We’ve heard some good things about Pulumi, but we haven’t taken the plunge yet.</p>
<p>If you’re still managing environments manually, I hope you’ll strongly consider how much of an improvement a move to Infrastructure as Code could be for your company. At the risk of sounding hyperbolic, it really will completely change the way you do your operations work. You’ll feel better about your environment, more confident in your changes, and more secure in your disaster recovery plans.</p>
  </div><!-- .entry-content -->

	<!-- .entry-footer -->
</article><!-- #post-2781 -->
</div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Optional Parameters in Razor Pages Routing -
linksfor.dev(s)
    </title>
	<link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <style type="text/css">
        html {
            font-family: sans-serif;
            line-height: 1.15;
            -webkit-text-size-adjust: 100%;
            -webkit-tap-highlight-color: transparent;
            height: 100%;
        }

        *, ::after, ::before {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";
            font-size: 1rem;
            font-weight: 400;
            line-height: 1.5;
            color: #60656a;
            text-align: left;
            background-color: #323b44;
        }

        h1 {
            font-size: 6rem;
            font-weight: 300;
            line-height: 1.2;
            margin-top: 0;
            margin-bottom: 0.5rem;
            margin-bottom: 0.5rem
        }

        a {
            color: #007bff;
            color: #ccc;
            text-decoration: none;
            background-color: transparent;
            word-break: break-all;
        }

        .unseen a {
            font-weight: bold;
        }

        h3 {
            margin-top: 0;
            padding-top: 0;
            font-weight: normal;
        }

        .grid {
            -ms-flex-direction: column;
            flex-direction: column;
            width: 1024px;
            margin: 0 auto;
            flex: 1 0 auto;
        }

        .row {
            -ms-flex-direction: row;
            flex-direction: row;
            width: 100%;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            display: -ms-flexbox;
            display: flex;
        }

        .col {
            margin: 0 10px 0 10px;
            box-sizing: border-box;
            vertical-align: top;
        }

        .col-3-of-4, .col-6-of-8, .col-9-of-12 {
            width: calc(75% - 20px);
        }

        .col-1-of-4, .col-2-of-8, .col-3-of-12 {
            width: calc(25% - 20px);
        }

        @media (max-width:1023px) {
            /* big landscape tablets, laptops, and desktops */
            body {
                overflow-x: hidden;
            }

            main {
                width: 99%;
            }

            h1 {
                font-size: 50px;
            }
        }

        .text-right {
            text-align: right;
        }

        footer {
            left: 0;
            width: 100%;
            margin-top: 2em;
            padding: 50px 0;
            text-align: center;
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }

        .readable {
            color: #949ba2;
        }

        svg:not(:root).svg-inline--fa {
            color: #60656a;
            overflow: visible;
        }

        .svg-inline--fa.fa-w-12 {
            width: 0.75em;
        }

        svg:not(:root) {
            overflow: hidden;
        }

        .svg-inline--fa {
            display: inline-block;
            font-size: inherit;
            height: 1em;
            overflow: visible;
            vertical-align: -0.125em;
        }

        img {
            max-width: 100%;
        }

        .text-center {
            text-align: center;
        }

        .readable h1 {
            font-size: 2em;
        }
    </style>
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <h1>Optional Parameters in Razor Pages Routing</h1>
    <div><p class="abstract"> Razor Pages routing is based on attribute routing and is very powerful. Parameters provide a way of passing arbitrary data to a page via the URL. Optional parameters allow URLs to matched to routes even if no parameter value is passed. Things can get a bit complicated if you want to permit multiple optional parameters. </p><section> <p>There are two ways of providing parameter values as part of the URL - as path segments (e.g. <code>/yourpage/1</code>) or as query string values (e.g. <code>/yourpage?id=1</code>). Query strings are fairly straightforward to work with. Path segments require configuration, which is normally done by supplying a route template to the <code>@page</code> directive in a Razor content page specifying the name of a route parameter:</p> <pre><span>@</span>page <span>&quot;{id}&quot;</span></pre> <p>You can specify the <a href="https://www.learnrazorpages.com/miscellaneous/constraints">constraint for the data type that the value must match</a>:</p> <pre><span>@</span>page <span>&quot;{id:int}&quot;</span></pre> <p>And you can use the <code>?</code> syntax to indicate that the parameter value is not required:</p> <pre><span>@</span>page <span>&quot;{id:int?}&quot;</span></pre> <p>This will be matched by <code>/yourpage</code> and <code>yourpage/2</code> but not <code>yourpage/blah</code> (because of the type constraint). But what if you multiple optional parameters? Let&apos;s say that you have a report that can take either a start date or an end date as parameters, or both,&#xA0; or neither:</p> <pre><span>@</span>page <span>&quot;{startdate:datetime?}/{enddate:datetime?}&quot;</span></pre> <p>This works fine when values for both parameters are provided e.g. <code>/report/2019-1-1/2019-12-31</code>. Both values are bound to PageModel properties:</p> <p><img src="https://www.mikesdotnetting.com/images/2019-08-21_07-50-33.png" alt="Optional Route Parameters"></p> <p>If you provide just one value, e.g. <code>/report/2019-1-1</code>, it will always be bound to the first parameter:</p> <p><img src="https://www.mikesdotnetting.com/images/2019-08-21_07-53-37.png" alt="Optional Route Parameters"></p> <p>So what are your options? At this stage, it helps if you start to equate routes to C# method signatures. </p> <h3>Method Overloading</h3> <p>You can overload C# methods, and you can do that same with routes in Razor Pages via the <a href="https://www.learnrazorpages.com/razor-pages/routing#friendly-routes"> <code>AddPageRoute</code> method</a>. However, in this example, overloading won&apos;t work because both parameters are the same data type. If you added a route that takes one <code>datetime</code> value representing the <code>startdate</code>, you can&apos;t add another to represent the <code>endate</code> value. </p> <h3>Default Values</h3> <p>What you can do instead is to change the first parameter so that it is no longer optional, and provide a default value:</p> <pre><span>@</span>page <span>&quot;{startdate:datetime=2000-1-1}/{enddate:datetime?}&quot;</span></pre> <p>This is a neat solution all the time that you are in control of how URLs are generated for this route. The <a href="https://www.learnrazorpages.com/razor-pages/tag-helpers/anchor-tag-helper"> anchor tag helper</a>, for example, will populate the <code>startdate</code> with the default value if no value is provided:</p> <pre><span>&lt;</span><span>a</span> <span>asp-page=</span><span>&quot;/report&quot;</span> <span>asp-route-enddate=</span><span>&quot;2019-12-31&quot;</span><span>&gt;</span>View Report<span>&lt;/</span><span>a</span><span>&gt;</span></pre> <p><img src="https://www.mikesdotnetting.com/images/2019-08-21_09-55-26.png" alt="Optional Route Parameters"></p> <h3>Named Parameters</h3> <p>When <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/named-and-optional-arguments">optional arguments were introduced in C# 4.0</a>, the implementation also included <em>named arguments</em> as part of the package. If you want to skip an optional parameter, you can provide values for others that come after it in the parameter list by prefixing the value with the name of the argument. If <code>Report</code> was a C# method instead of a Razor page, you would call it like this when only providing an <code>enddate</code> value:</p> <pre>Report(enddate: new Date(2019,12,31));</pre> <p>You can implement the same approach by using query string values rather than path segments for data passed in URLs. To take advantage of this method, don&apos;t provide a route template to the <code>@page</code> directive. Any values provided to <code>asp-route</code> attributes will be assigned to query string values instead:</p> <p><img src="https://www.mikesdotnetting.com/images/2019-08-21_13-51-40.png" alt="Optional Route Parameters"></p> <p>As long as your PageModel properties have <code>SupportsGet=true</code> applied to their <code>BindProperty</code> attribute, the value will be bound to the correct property:</p> <p><img src="https://www.mikesdotnetting.com/images/2019-08-21_13-55-07.png" alt="Optional Route Parameters"></p> <h3>Summary</h3> <p>Multiple optional parameters in Razor Pages URLs are one of those things that can cause a mental block. Once you start to think of them in the same way as arguments to C# methods, solutions are much easier to grasp.</p> </section></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2019 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
    </footer>
    
</body>
</html>
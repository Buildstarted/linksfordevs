<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Improve health, wellbeing, and productivity by tracking your home workspace CO2 levels - Latest open tech from seeed studio - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Improve health, wellbeing, and productivity by tracking your home workspace CO2 levels - Latest open tech from seeed studio - linksfor.dev(s)"/>
    <meta property="og:description" content="How to build a healthier working environment by monitoring CO2, temperature, and humidity levels with a Seeed Studio Azure Sphere device, an SDC30 sensor, and Azure IoT Central."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://www.seeedstudio.com/blog/2020/07/20/improve-health-wellbeing-and-productivity-by-tracking-your-home-workspace-co2-levels/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Improve health, wellbeing, and productivity by tracking your home workspace CO2 levels - Latest open tech from seeed studio</title>
<div class="readable">
        <h1>Improve health, wellbeing, and productivity by tracking your home workspace CO2 levels - Latest open tech from seeed studio</h1>
            <div>Reading time: 20-25 minutes</div>
        <div>Posted here: 22 Jul 2020</div>
        <p><a href="https://www.seeedstudio.com/blog/2020/07/20/improve-health-wellbeing-and-productivity-by-tracking-your-home-workspace-co2-levels/">https://www.seeedstudio.com/blog/2020/07/20/improve-health-wellbeing-and-productivity-by-tracking-your-home-workspace-co2-levels/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="primary">
                    <main id="main">

                                                    <article id="post-34638">
                                <div>
                                    <!-- .entry-header -->                                    

    <div>
        
<p>The following content is written by&nbsp;<a href="https://developer.microsoft.com/en-us/advocates/dave-glover?WT.mc_id=github-blog-dglover">Dave Glover</a>, Microsoft Cloud Developer Advocate. Feel free to follow him on Twitter @dglover</p>



<p>How to build a healthier working environment by monitoring CO2, temperature, and humidity levels with a&nbsp;<a href="https://azure.microsoft.com/en-gb/services/azure-sphere/?WT.mc_id=julyot-co2-dglover">Seeed Studio Azure Sphere device</a>, an&nbsp;<a href="https://www.seeedstudio.com/Grove-CO2-Temperature-Humidity-Sensor-SCD30-p-2911.html">SDC30 sensor</a>, and&nbsp;<a href="https://azure.microsoft.com/en-gb/services/iot-central/?WT.mc_id=julyot-co2-dglover">Azure IoT Central</a>.</p>



<div><figure><img src="https://blog.seeedstudio.com/wp-content/uploads/2020/07/banner-seeed-1.png" alt="" width="960" height="720" srcset="https://blog.seeedstudio.com/wp-content/uploads/2020/07/banner-seeed-1.png 960w, https://blog.seeedstudio.com/wp-content/uploads/2020/07/banner-seeed-1-300x225.png 300w, https://blog.seeedstudio.com/wp-content/uploads/2020/07/banner-seeed-1-768x576.png 768w" sizes="(max-width: 960px) 100vw, 960px"></figure></div>







<hr>



<h2><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#julyot"></a>#JulyOT</h2>



<p>This is part of the #JulyOT&nbsp;<a href="http://aka.ms/julyot">IoT Tech Community</a>&nbsp;series, a collection of blog posts, hands-on-labs, and videos designed to demonstrate and teach developers how to build projects with Azure Internet of Things (IoT) services. Please also follow&nbsp;<a href="https://twitter.com/hashtag/JulyOT">#JulyOT</a>&nbsp;on Twitter.</p>



<hr>



<h2><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#source-code-and-learning-resources"></a>Source code and learning resources</h2>



<p>Source code:&nbsp;<a href="https://github.com/gloveboxes/CO2-levels-making-you-happy-grumpy-sleepy-or-sad">Track CO2 levels in your workspace to improve health, wellbeing, and productivity</a>.</p>



<p>Learning resources:&nbsp;<a href="https://github.com/gloveboxes/Azure-Sphere-Learning-Path">Azure Sphere Developer Learning Path</a>.</p>



<hr>



<h2><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#are-co2-levels-making-you-grumpy-sleepy-or-sad"></a>Are CO2 levels making you grumpy, sleepy, or sad</h2>



<p>Working from home it is easy to close the door to shut out the noise of everyday life while we get on with work. Closing the door can lead to a build-up of CO2 gas, a by-product of our breathing, which can impact our wellbeing, concentration, and productivity levels.</p>



<p>Check out “<a href="https://www.theguardian.com/environment/2019/jul/08/indoor-carbon-dioxide-levels-could-be-a-health-hazard-scientists-warn">Indoor carbon dioxide levels could be a health hazard, scientists warn</a>“.</p>



<p>The problem is we cannot see or smell Carbon Dioxide, it just keeps building up, and we have no way of knowing it is happening other than getting tired or a headache. So, with that in mind, I figured it was the Internet of Things to the rescue!</p>



<hr>



<h2><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#the-solution"></a>The solution</h2>



<p>I wanted to build a secure IoT device with&nbsp;<a href="https://azure.microsoft.com/en-gb/services/azure-sphere/?WT.mc_id=julyot-co2-dglover">Azure Sphere</a>&nbsp;using the&nbsp;<a href="https://www.seeedstudio.com/Grove-CO2-Temperature-Humidity-Sensor-SCD30-p-2911.html">Seeed Studio Grove CO2 &amp; Temperature &amp; Humidity Sensor</a>&nbsp;I had in my box of bits. The folks at Sensirion made it super easy to port their&nbsp;<a href="https://github.com/Sensirion/embedded-scd">SCD30 driver</a>&nbsp;to Azure Sphere. It was just a matter of implementing the I2C init/read/write functions, a microsecond sleep function, plus setting up CMake build. It all just worked. The ported driver is included in this project.</p>



<hr>



<h2><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#azure-iot-central"></a>Azure IoT Central</h2>



<p><a href="https://azure.microsoft.com/en-in/services/iot-central/?WT.mc_id=julyot-co2-dglover">Azure IoT Central</a>&nbsp;provides an easy way to connect, monitor, and manage your Internet of Things (IoT) assets at scale.</p>



<p>I created a free trial of&nbsp;<a href="https://azure.microsoft.com/en-gb/services/iot-central/?WT.mc_id=julyot-co2-dglover">Azure IoT Central</a>&nbsp;and in no time I had CO2, temperature, and humidity telemetry displayed (yes, the data is real, so we have made some changes at home!). By the way, you can continue to connect two devices for free to IoT Central after the trial period expires.</p>



<figure><a href="https://raw.githubusercontent.com/gloveboxes/CO2-levels-making-you-happy-grumpy-sleepy-or-sad/master/resources/iot-central-dash.png" target="_blank" rel="noreferrer noopener"><img src="https://raw.githubusercontent.com/gloveboxes/CO2-levels-making-you-happy-grumpy-sleepy-or-sad/master/resources/iot-central-dash.png" alt=""></a></figure>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#extend-and-integrate-azure-iot-central-applications-with-other-cloud-services"></a>Extend and integrate Azure IoT Central applications with other cloud services</h3>



<p>Azure IoT Central is also extensible using rules and workflows. For more information, review&nbsp;<a href="https://docs.microsoft.com/en-us/azure/iot-central/core/howto-configure-rules-advanced?WT.mc_id=julyot-co2-dglover">Use workflows to integrate your Azure IoT Central application with other cloud services</a></p>



<hr>



<h2><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#parts-list"></a>Parts list</h2>



<p>The solution supports two configurations.</p>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#seeed-studio-azure-sphere-mini-dev-board"></a>Seeed Studio Azure Sphere Mini Dev Board</h3>



<ol><li><a href="https://www.seeedstudio.com/mt3620-for-azure-sphere">Seeed Studio Seeed Studio MT3620 Mini Dev Board</a></li><li><a href="https://www.seeedstudio.com/MT3620-Grove-Breakout-p-4043.html">MT3620 Grove Breakout</a></li><li><a href="https://www.seeedstudio.com/Grove-CO2-Temperature-Humidity-Sensor-SCD30-p-2911.html">Seeed Studio Grove CO2 &amp; Temperature &amp; Humidity Sensor</a></li><li>Optional,&nbsp;<a href="https://www.seeedstudio.com/Grove-Green-LED.html">3 x Grove LEDs</a>, or a&nbsp;<a href="https://www.seeedstudio.com/Grove-Relay.html">Grove Relay</a>&nbsp;to drive a bigger warning light!</li></ol>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#connect-grove-peripherals"></a>Connect Grove peripherals</h3>



<p>Attach the Azure Sphere to the Grove Breakout board and plug in the following peripherals.</p>



<ol><li>Green LED plugged into Grove Socket D1</li><li>Red LED plugged into Grove Socket D0</li><li>Blue LED plugged into Grove Socket UART0</li><li>CO2, Temperature, &amp; Humidity sensor into Grove Socket I2C</li></ol>



<div><figure><a href="https://raw.githubusercontent.com/gloveboxes/CO2-levels-making-you-happy-grumpy-sleepy-or-sad/master/resources/seeed_studio-azure-sphere_mini-co2-monitor.jpg" target="_blank" rel="noreferrer noopener"><img src="https://raw.githubusercontent.com/gloveboxes/CO2-levels-making-you-happy-grumpy-sleepy-or-sad/master/resources/seeed_studio-azure-sphere_mini-co2-monitor.jpg" alt="" width="977" height="445"></a></figure></div>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#avnet-azure-sphere-starter-kit"></a>AVNET Azure Sphere Starter Kit</h3>



<ol><li><a href="https://www.avnet.com/shop/us/products/avnet-engineering-services/aes-ms-mt3620-sk-g-3074457345636825680/">AVNET Azure Sphere Starter Kit</a></li><li><a href="https://www.seeedstudio.com/Grove-CO2-Temperature-Humidity-Sensor-SCD30-p-2911.html">Seeed Studio Grove CO2 &amp; Temperature &amp; Humidity Sensor</a></li><li>Optional, 1 x&nbsp;<a href="https://www.mikroe.com/relay-click">Click Relay</a>&nbsp;to drive a bigger warning light.</li></ol>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#connect-the-grove-peripheral"></a>Connect the Grove peripheral</h3>



<ol><li>Plug the CO2, Temperature, &amp; Humidity sensor into Grove Socket I2C on the AVNET Starter Kit.</li></ol>



<div><figure><a href="https://raw.githubusercontent.com/gloveboxes/CO2-levels-making-you-happy-grumpy-sleepy-or-sad/master/resources/avnet_azure_sphere_starter_kit.jpg" target="_blank" rel="noreferrer noopener"><img src="https://raw.githubusercontent.com/gloveboxes/CO2-levels-making-you-happy-grumpy-sleepy-or-sad/master/resources/avnet_azure_sphere_starter_kit.jpg" alt="" width="881" height="572"></a></figure></div>



<hr>



<h2><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#calibrating-the-scd20-co2-sensor"></a>Calibrating the SCD20 CO2 Sensor</h2>



<p><strong>IMPORTANT</strong>. Be sure to read up on calibrating the&nbsp;<a href="https://wiki.seeedstudio.com/Grove-CO2_Temperature_Humidity_Sensor-SCD30/#calibration">Grove – CO2 &amp; Temperature &amp; Humidity Sensor (SCD30) Calibration</a>&nbsp;sensor. This solution will enable auto-calibration.</p>



<hr>



<h2><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#how-to-build-the-solution"></a>How to build the solution</h2>



<p>Clone the&nbsp;<strong>Azure Sphere CO2 Monitor</strong>&nbsp;solution to your desktop.</p>



<pre>git clone https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity.git azure-sphere-co2-monitor</pre>



<hr>



<h2><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#set-up-your-developer-tools-and-your-azure-sphere"></a>Set up your developer tools and your Azure Sphere</h2>



<p>Follow the Azure Sphere Developer Learning Path&nbsp;<a href="https://github.com/gloveboxes/Azure-Sphere-Learning-Path/tree/master/zdocs_vs_code_iot_central/Lab_0_Introduction_and_Lab_Set_Up">Lab Set Up</a>&nbsp;to set up the developer tools, claim you Azure Sphere, and configure the device WiFi, and enable developer mode.</p>



<hr>



<h2><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#azure-iot-central-1"></a>Azure IoT Central</h2>



<p>Your Azure Sphere device can securely connect and communicate with cloud services. Azure Sphere includes built-in library support for both Azure IoT Hub and Azure IoT Central. This lab focuses on Azure IoT Central. Take a moment to read&nbsp;<a href="https://techcommunity.microsoft.com/t5/internet-of-things/your-iot-journey-simplified-and-secure-with-azure-iot-central/ba-p/1404247?WT.mc_id=julyot-co2-dglover">Your IoT journey: simplified and secure with Azure IoT Central and Azure Sphere</a>.</p>



<p><a href="https://azure.microsoft.com/en-in/services/iot-central/?WT.mc_id=julyot-co2-dglover">Azure IoT Central</a>&nbsp;provides an easy way to connect, monitor, and manage your Internet of Things (IoT) assets at scale.</p>



<div><figure><a href="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/azure-iot-central.jpg" target="_blank" rel="noreferrer noopener"><img src="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/azure-iot-central.jpg" alt="Azure IoT Central" width="900" height="597"></a></figure></div>



<hr>



<h2><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#step-1-create-a-new-iot-central-application"></a>Step 1: Create a new IoT Central Application</h2>



<ol><li>So the lab instructions are still visible, right mouse click, and open this link “<a href="https://azure.microsoft.com/en-au/services/iot-central/?WT.mc_id=julyot-co2-dglover">Azure IoT Central</a>” in a new window.</li><li>Click&nbsp;<strong>Build a solution</strong>.</li><li>Next, you will need to sign with your Microsoft Personal, or Work, or School account. If you do not have a Microsoft account, then you can create one for free using the&nbsp;<strong>Create one!</strong>&nbsp;link.<a target="_blank" rel="noreferrer noopener" href="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/iot-central-login.png"></a></li><li>Expand the sidebar menu by clicking on the&nbsp;<strong>Burger menu</strong>&nbsp;icon.<a target="_blank" rel="noreferrer noopener" href="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/iot-central-burger-menu.png"></a></li><li>Click&nbsp;<strong>+ New application</strong>&nbsp;to create a new Azure IoT Central application.</li><li>Select&nbsp;<strong>Custom app</strong><a target="_blank" rel="noreferrer noopener" href="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/iot-central-custom-app.png"></a></li></ol>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#create-a-new-application"></a>Create a new application</h3>



<ol><li>Specify the&nbsp;<strong>Application name</strong>, the&nbsp;<strong>URL</strong>, select the&nbsp;<strong>Free</strong>&nbsp;pricing plan, and complete the registration form.<a target="_blank" rel="noreferrer noopener" href="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/iot-central-new-application.png"></a></li><li>Then click&nbsp;<strong>Create</strong>.</li></ol>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#create-a-new-device-template"></a>Create a new device template</h3>



<p>A device template is a blueprint that defines the characteristics and behaviors of a type of device that connects to an Azure IoT Central application.</p>



<p>For more information on device templates, review the&nbsp;<a href="https://docs.microsoft.com/en-us/azure/iot-central/core/howto-set-up-template?WT.mc_id=julyot-co2-dglover">Define a new IoT device type in your Azure IoT Central application</a>&nbsp;article.</p>



<ol><li><a target="_blank" rel="noreferrer noopener" href="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/iot-central-template-new.png"></a>Click&nbsp;<strong>Device templates</strong>, then&nbsp;<strong>+ New</strong>.&nbsp;</li><li>Click the&nbsp;<strong>IoT device</strong>&nbsp;template type.<a target="_blank" rel="noreferrer noopener" href="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/iot-central-new-iot-device-template.png"></a></li><li>Create an&nbsp;<strong>IoT Device</strong>&nbsp;Template.<ol><li>Select&nbsp;<strong>IoT device</strong>,</li><li>Click&nbsp;<strong>Next:Customise</strong>,</li><li>Name your template&nbsp;<strong>Carbon Dioxide Monitor</strong>,</li><li>Click&nbsp;<strong>Next: Review</strong>,</li><li>Click&nbsp;<strong>Create</strong>.</li></ol></li></ol>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#import-a-capability-model"></a>Import a Capability Model</h3>



<ol><li>Click&nbsp;<strong>Import capability model</strong></li><li>Navigate to the folder you cloned the CO2 Monitor solution into.</li><li>Navigate to the&nbsp;<strong>iot_central</strong>&nbsp;folder.</li><li>Select&nbsp;<strong>CO2_Monitor_Capability_Model.json</strong>&nbsp;and open</li></ol>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#create-a-device-visualization-view"></a>Create a device visualization view</h3>



<ol><li>Click&nbsp;<strong>Views</strong>.&nbsp;<a target="_blank" rel="noreferrer noopener" href="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/iot-central-create-a-view.png"></a></li><li>Select&nbsp;<strong>Visualizing the device</strong>.&nbsp;<a target="_blank" rel="noreferrer noopener" href="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/iot-central-add-tile-status.png"></a></li><li>Expand the&nbsp;<strong>Telemetry</strong>&nbsp;section</li><li>Select&nbsp;<strong>Carbon Dioxide (ppm)</strong></li><li>Click&nbsp;<strong>Add Tile</strong></li><li>Select&nbsp;<strong>Humidity</strong>&nbsp;and&nbsp;<strong>Temperature</strong>&nbsp;telemetry items.</li><li>Click&nbsp;<strong>Add Tile</strong>.</li><li>Click&nbsp;<strong>Save</strong>&nbsp;to save the view.&nbsp;<a target="_blank" rel="noreferrer noopener" href="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/iot-central-view-save.png"></a></li></ol>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#create-a-properties-form"></a>Create a properties form</h3>



<ol><li>Click&nbsp;<strong>Views</strong>.</li><li>Click the&nbsp;<strong>Editing device and cloud data</strong>&nbsp;option.&nbsp;<a target="_blank" rel="noreferrer noopener" href="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/iot-central-view-properties-create.png"></a></li><li>Expand the&nbsp;<strong>Properties</strong>&nbsp;section.</li><li>Select&nbsp;<strong>all properties</strong>.</li><li>Click&nbsp;<strong>Add Section</strong>.</li><li>Click&nbsp;<strong>Save</strong>&nbsp;to save the form.&nbsp;<a target="_blank" rel="noreferrer noopener" href="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/iot-central-properties-save.png"></a></li></ol>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#publish-the-device-template"></a>Publish the device template</h3>



<ol><li><a target="_blank" rel="noreferrer noopener" href="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/iot-central-template-publish.png"></a>Click&nbsp;<strong>Publish</strong>&nbsp;to publish the template. Publishing the template makes it available for devices.&nbsp;<br></li><li>Next, confirm and click&nbsp;<strong>Publish</strong></li></ol>



<blockquote><p>See&nbsp;<a href="https://docs.microsoft.com/en-us/azure/iot-central/core/howto-set-up-template?WT.mc_id=julyot-co2-dglover">Define a new IoT device type in your Azure IoT Central application</a>&nbsp;for information on creating your own device templates.</p></blockquote>



<hr>



<h2><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#step-2-link-your-azure-sphere-tenant-to-iot-central"></a>Step 2: Link your Azure Sphere Tenant to IoT Central</h2>



<p>You need to set up a trust relationship between your Azure Sphere tenant and your IoT Central application.</p>



<p>Devices claimed by your Azure Sphere tenant will be automatically enrolled when it first connects to your IoT Central application.</p>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#download-the-tenant-authentication-ca-certificate"></a>Download the tenant authentication CA certificate</h3>



<ol><li>Open an&nbsp;<strong>Azure Sphere Developer Command Prompt</strong></li><li>Be sure to make a note of the current directory, or change to the CO2 Monitor directory. You will need the name of this directory in the next step.</li><li>Download the Certificate Authority (CA) certificate for your Azure Sphere tenant:azsphere tenant download-CA-certificate –output CAcertificate.cerThe output file must have the .cer extension.</li></ol>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#upload-the-tenant-ca-certificate-to-azure-iot-central-and-generate-a-verification-code"></a>Upload the tenant CA certificate to Azure IoT Central and generate a verification code</h3>



<ol><li>In Azure IoT Central, go to Administration &gt; Device Connection &gt; Manage primary certificate.</li><li>Click the folder icon next to the Primary box and navigate to the directory where you downloaded the certificate. If you don’t see the .cer file in the list, make sure that the view filter is set to All files (*). Select the certificate and then click the gear icon next to the Primary box.</li><li>The Primary Certificate dialog box appears. The Subject and Thumbprint fields contain information about the current Azure Sphere tenant and primary root certificate.</li><li>Click the Refresh icon to the right of the Verification Code box to generate a verification code. Copy the verification code to the clipboard.<a target="_blank" rel="noreferrer noopener" href="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/iot-central-certificate-verify.png"></a></li></ol>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#verify-the-tenant-ca-certificate"></a>Verify the tenant CA certificate</h3>



<ol><li>Return to the Azure Sphere Developer Command Prompt.</li><li>Download a validation certificate that proves that you own the tenant CA certificate. Replace code in the command with the verification code from the previous step.azsphere tenant download-validation-certificate –output ValidationCertification.cer –verificationcode &lt;code&gt;</li><li>The Azure Sphere Security Service signs the validation certificate with the verification code to prove that you own the CA.</li></ol>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#use-the-validation-certificate-to-verify-the-tenant-identity"></a>Use the validation certificate to verify the tenant identity</h3>



<ol><li>Return to Azure IoT Central and click Verify.</li><li>When prompted, navigate to the validation certificate that you downloaded in the previous step and select it. When the verification process is complete, the Primary Certificate dialog box displays the Verified message. Click Close to dismiss the box.<a target="_blank" rel="noreferrer noopener" href="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/iot-central-certificate-verified.png"></a></li></ol>



<p>After you complete these steps, any device that is claimed into your Azure Sphere tenant will automatically be enrolled in your Azure IoT Central application when it first connects.</p>



<hr>



<h2><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#step-3-explicitly-allow-connections-to-azure-iot-central-endpoints"></a>Step 3: Explicitly allow connections to Azure IoT Central Endpoints</h2>



<p>Remember, applications on Azure Sphere are locked down by default, including hardware and network endpoints. You must explicitly allow connections to the network endpoints of your Azure IoT Central application otherwise your Azure Sphere application will not be able to connect.</p>



<p>Follow these steps:</p>



<ol><li>Open the&nbsp;<strong>Azure Sphere Developer Command Prompt</strong>.</li><li>Navigate to the Samples -&gt; AzureIoT -&gt; Tools directory. You cloned the Azure Sphere samples repository in the first lab.<ol><li>On Windows, navigate to the Samples\AzureIoT\Tools\win-x64 directory.</li><li>On Linux, navigate to the Samples\AzureIoT\Tools\linux-x64 directory. On Linux, you may need to explicitly set execution permissions for the ShowIoTCentralConfig tool. From a terminal, run&nbsp;<code>chmod +x ShowIoTCentralConfig</code>&nbsp;to add execution permissions for the tool.</li></ol></li><li>When you run the&nbsp;<strong>ShowIoTCentralConfig</strong>&nbsp;tool, you will be prompted for input data. The following table outlines what information you will be prompted for and where to obtain the required data. </li></ol>



<figure><table><thead><tr><th data-align="left">Input data</th><th>From</th></tr></thead><tbody><tr><td data-align="left"><strong>Are you using a legacy (2018) IoT Central application (Y/N)</strong></td><td>Respond&nbsp;<strong>N</strong></td></tr><tr><td data-align="left"><strong>IoT&nbsp;Central&nbsp;App&nbsp;URL</strong></td><td>This can be found in your browser address bar. For Example&nbsp;<a href="https://myiotcentralapp.azureiotcentral.com/">https://myiotcentralapp.azureiotcentral.com/</a></td></tr><tr><td data-align="left"><strong>API token</strong></td><td>This can be generated from your IoT Central application. In the Azure IoT Central application select&nbsp;<strong>Administration</strong>, select&nbsp;<strong>API Tokens</strong>, select&nbsp;<strong>Generate Token</strong>, provide a name for the token (for example, “AzureSphereSample”), select&nbsp;<strong>Administrator</strong>&nbsp;as the role, and click&nbsp;<strong>Generate</strong>. Copy the token to the clipboard. The token starts with&nbsp;<strong>SharedAccessSignature</strong>.</td></tr><tr><td data-align="left"><strong>ID Scope</strong></td><td>In the Azure IoT Central application, select&nbsp;<strong>Administration</strong>&nbsp;&gt;&nbsp;<strong>Device Connection</strong>&nbsp;and then copy the&nbsp;<strong>ID Scope</strong></td></tr></tbody></table></figure>



<p>4. Run the&nbsp;<strong>ShowIoTCentralConfig</strong>&nbsp;tool. Now follow the prompts that the tool provides, and copy the information from the output into the app_manifest.json file in Visual Studio. </p>



<p><em><strong>Note</strong>: Your organization might require consent for the ShowIoTCentralConfig tool to access your Azure IoT Central data in the same way that the Azure API requires such consent. In some organizations,&nbsp;<a href="https://docs.microsoft.com/azure-sphere/install/admin-consent?WT.mc_id=julyot-co2-dglover">enterprise application permissions</a>&nbsp;must be granted by an IT administrator.</em></p>



<p>5. Review the output from the&nbsp;<strong>ShowIoTCentralConfig</strong>&nbsp;tool. It will look similar to the following text.<br>Find and modify the CmdArgs, AllowedConnections and DeviceAuthentication lines in your app_manifest.json so each includes the content from the below:</p>



<pre><code>"CmdArgs": [ "0ne000BDC00" ],
"Capabilities": {
    "AllowedConnections": [ "global.azure-devices-provisioning.net", "iotc-9999bc-3305-99ba-885e-6573fc4cf701.azure-devices.net", "iotc-789999fa-8306-4994-b70a-399c46501044.azure-devices.net", "iotc-7a099966-a8c1-4f33-b803-bf29998713787.azure-devices.net", "iotc-97299997-05ab-4988-8142-e299995acdb7.azure-devices.net", "iotc-d099995-7fec-460c-b717-e99999bf4551.azure-devices.net", "iotc-789999dd-3bf5-49d7-9e12-f6999991df8c.azure-devices.net", "iotc-29999917-7344-49e4-9344-5e0cc9999d9b.azure-devices.net", "iotc-99999e59-df2a-41d8-bacd-ebb9999143ab.azure-devices.net", "iotc-c0a9999b-d256-4aaf-aa06-e90e999902b3.azure-devices.net", "iotc-f9199991-ceb1-4f38-9f1c-13199992570e.azure-devices.net" ],
    "DeviceAuthentication": "--- YOUR AZURE SPHERE TENANT ID---",
}</code></pre>



<p>7. <strong>Copy</strong>&nbsp;the output from the ShowIoTCentralConfig tool to&nbsp;<strong><em>Notepad</em></strong>&nbsp;as you will need this information soon.</p>



<hr>



<h2><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#step-4-get-the-azure-sphere-tenant-id"></a>Step 4: Get the Azure Sphere Tenant ID</h2>



<p>We need the ID of the Azure Sphere Tenant that is now trusted by Azure IoT Central.</p>



<ol><li>From the&nbsp;<strong>Azure Sphere Developer Command Prompt</strong>, run&nbsp;<strong><code>azsphere tenant show-selected</code></strong>.<ul><li>The output of this command will look similar to the following.<code>Default Azure Sphere tenant ID is 'yourSphereTenant' (99999999-e021-43ce-9999-fa9999499994).
</code></li><li>The&nbsp;<strong>Tenant ID</strong>&nbsp;is the numeric value inside the parentheses.</li></ul></li><li><strong>Copy the Tenant ID to&nbsp;<em>Notepad</em></strong>&nbsp;as you will need it soon.</li></ol>



<hr>



<h2><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#open-the-co2-monitor-solution"></a>Open the CO2 Monitor solution</h2>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#step-1-start-visual-studio-code"></a>Step 1: Start Visual Studio Code</h3>



<div><figure><a href="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/vs-code-start.png" target="_blank" rel="noreferrer noopener"><img src="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/vs-code-start.png" alt="" width="960" height="540"></a></figure></div>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#step-2-open-the-lab-project"></a>Step 2: Open the lab project</h3>



<ol><li>Click&nbsp;<strong>Open folder</strong>.</li><li>Open the&nbsp;<strong>azure-sphere-co2-monitor</strong>&nbsp;solution folder.</li><li>Open the&nbsp;<strong>co2-monitor</strong>&nbsp;folder.</li><li>Click&nbsp;<strong>Select Folder</strong>&nbsp;or the&nbsp;<strong>OK</strong>&nbsp;button to open the project.</li></ol>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#step-3-set-your-developer-board-configuration"></a>Step 3: Set your developer board configuration</h3>



<p>This solution supports the AVNET Starter Kit and the Seeed Studio Mini Dev Board with the Grove Breakout. You need to set the configuration that matches your developer board.</p>



<p>The default developer board configuration is for the AVENT Azure Sphere Starter Kit. If you have this board, there is no additional configuration required.</p>



<ol><li><a target="_blank" rel="noreferrer noopener" href="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/vs-code-open-cmake.png"></a>Open CMakeList.txt&nbsp;</li><li>Add a # at the beginning of the set AVNET line to disable it.</li><li>Uncomment the&nbsp;<strong>set</strong>&nbsp;command that corresponds to your Azure Sphere developer board.<code>set(AVNET TRUE "AVNET Azure Sphere Starter Kit")                
# set(SEEED_STUDIO_RDB TRUE "Seeed Studio Azure Sphere MT3620 Development Kit (aka Reference Design Board or rdb)")
# set(SEEED_STUDIO_MINI TRUE "Seeed Studio Azure Sphere MT3620 Mini Dev Board")
</code></li><li>Save the file. This will auto-generate the CMake cache.</li></ol>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#step-4-configure-the-azure-sphere-application"></a>Step 4: Configure the Azure Sphere Application</h3>



<ol><li>Open the&nbsp;<strong>app_manifest.json</strong>&nbsp;file<a rel="noreferrer noopener" target="_blank" href="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/vs-code-open-app-manifest.png"></a></li><li>Update the Azure IoT Central Application connection properties.<ul><li>Update&nbsp;<strong>CmdArgs</strong>&nbsp;with your Azure IoT Central&nbsp;<strong>ID Scope</strong>.</li><li>Update&nbsp;<strong>DeviceAuthentication</strong>&nbsp;with your&nbsp;<strong>Azure Sphere Tenant ID</strong>. Remember, this was the numeric value output from the&nbsp;<code>azsphere tenant show-selected</code>&nbsp;command that you copied to Notepad.</li></ul></li><li>Update the network endpoints&nbsp;<strong>AllowedConnections</strong>&nbsp;with your Azure IoT Central Application endpoint URLs you copied to Notepad.</li><li><strong>Review</strong>&nbsp;your updated manifest_app.json file. It should look similar to the following.</li></ol>



<pre><code>{     "SchemaVersion": 1,     "Name": "AzureSphereIoTCentral",     "ComponentId": "25025d2c-66da-4448-bae1-ac26fcdd3627",     "EntryPoint": "/bin/app",     "CmdArgs": [ "0ne0099999D" ],     "Capabilities": {         "Gpio": [             "$BUTTON_A",             "$BUTTON_B",             "$LED2",             "$NETWORK_CONNECTED_LED",             "$LED_RED",             "$LED_GREEN",             "$LED_BLUE"         ],         "I2cMaster": [ "$I2cMaster2" ],         "PowerControls": [ "ForceReboot" ],         "AllowedConnections": [              "global.azure-devices-provisioning.net",             "iotc-9999bc-3305-99ba-885e-6573fc4cf701.azure-devices.net",              "iotc-789999fa-8306-4994-b70a-399c46501044.azure-devices.net",              "iotc-7a099966-a8c1-4f33-b803-bf29998713787.azure-devices.net",             "iotc-97299997-05ab-4988-8142-e299995acdb7.azure-devices.net",              "iotc-d099995-7fec-460c-b717-e99999bf4551.azure-devices.net",              "iotc-789999dd-3bf5-49d7-9e12-f6999991df8c.azure-devices.net",              "iotc-29999917-7344-49e4-9344-5e0cc9999d9b.azure-devices.net",              "iotc-99999e59-df2a-41d8-bacd-ebb9999143ab.azure-devices.net",              "iotc-c0a9999b-d256-4aaf-aa06-e90e999902b3.azure-devices.net",              "iotc-f9199991-ceb1-4f38-9f1c-13199992570e.azure-devices.net"          ],         "DeviceAuthentication": "9d7e79eb-9999-43ce-9999-fa8888888894"     },     "ApplicationType": "Default" }</code></pre>



<hr>



<h2><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#deploying-the-application-to-azure-sphere"></a>Deploying the Application to Azure Sphere</h2>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#step-1-start-the-app-build-deploy-process"></a>Step 1: Start the app build deploy process</h3>



<ol><li>Ensure main.c is open.</li><li>Select&nbsp;<strong>CMake: [Debug]: Ready</strong>&nbsp;from the Visual Studio Code Status Bar.<a target="_blank" rel="noreferrer noopener" href="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/vs-code-start-application.png"></a></li><li>From Visual Studio Code, press&nbsp;F5&nbsp;to build, deploy, start, and attached the remote debugger to the application now running the Azure Sphere device.</li></ol>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#step-2-view-debugger-output"></a>Step 2: View debugger output</h3>



<ol><li>Open the Visual Studio Code&nbsp;<strong>Output</strong>&nbsp;tab to view the output from&nbsp;<strong>Log_Debug</strong>&nbsp;statements in the code.Pro Tip. You can open the output window by using the Visual Studio Code&nbsp;Ctrl+K Ctrl+H&nbsp;shortcut or click the&nbsp;<strong>Output</strong>&nbsp;tab.</li><li>You will see the device negotiating security, and then it will start sending telemetry to Azure IoT Central.</li></ol>



<blockquote><p>You may see a couple of&nbsp;<em>ERROR: failure to create IoTHub Handle</em>&nbsp;messages displayed. These messages occur while the connection to IoT Central is being negotiated.</p></blockquote>



<hr>



<h2><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#expected-device-behaviour"></a>Expected Device Behaviour</h2>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#avnet-azure-sphere-mt3620-starter-kit"></a>Avnet Azure Sphere MT3620 Starter Kit</h3>



<div><figure><a href="https://raw.githubusercontent.com/gloveboxes/CO2-levels-making-you-happy-grumpy-sleepy-or-sad/master/resources/avnet_azure_sphere_starter_kit.jpg" target="_blank" rel="noreferrer noopener"><img src="https://raw.githubusercontent.com/gloveboxes/CO2-levels-making-you-happy-grumpy-sleepy-or-sad/master/resources/avnet_azure_sphere_starter_kit.jpg" alt="" width="881" height="572"></a></figure></div>



<ol><li>The yellow WLAN LED will turn on when a connection is established with IoT Central.</li><li>The RBG will turn red or blue depending on HVAC Temperature you set in IoT Central.</li><li>The App Status LED will turn on if the CO2 level exceeds the CO2 alert level set in IoT Central.</li></ol>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#seeed-studio-mt3620-mini-dev-board"></a>Seeed Studio MT3620 Mini Dev Board</h3>



<div><figure><a href="https://raw.githubusercontent.com/gloveboxes/CO2-levels-making-you-happy-grumpy-sleepy-or-sad/master/resources/seeed_studio-azure-sphere_mini-co2-monitor.jpg" target="_blank" rel="noreferrer noopener"><img src="https://raw.githubusercontent.com/gloveboxes/CO2-levels-making-you-happy-grumpy-sleepy-or-sad/master/resources/seeed_studio-azure-sphere_mini-co2-monitor.jpg" alt="" width="977" height="445"></a></figure></div>



<ol><li>The yellow User LED will turn on when a connection is established with IoT Central.</li><li>The red or blue LED will turn depending on HVAC Temperature you set in IoT Central.</li><li>The green LED will turn on if the CO2 level exceeds the CO2 alert level set in IoT Central.</li></ol>



<hr>



<h2><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#step-3-view-the-device-telemetry-on-the-azure-iot-central-dashboard"></a>Step 3: View the device telemetry on the Azure IoT Central Dashboard</h2>



<ol><li>Switch back to Azure IoT Central in your web browser.</li><li>You need to wait a minute or two before your Azure Sphere device is automatically enrolled.</li><li>The newly enrolled device will have a numeric name that matches your Azure Sphere Device ID.</li><li>To display your Azure Sphere Device ID, start the&nbsp;<strong>Azure Sphere Developer Command Prompt</strong>&nbsp;and run the following command.azsphere device show-attached</li></ol>



<hr>



<h2><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#step-4-migrate-your-device-to-the-azure-sphere-template"></a>Step 4: Migrate your device to the Azure Sphere Template</h2>



<p>You need to&nbsp;<strong>Migrate</strong>&nbsp;the newly enrolled device to the&nbsp;<strong>Carbon Dioxide Monitor</strong>&nbsp;template. The template maps the JSON formatted telemetry to the dashboard.</p>



<ol><li>Select the newly enrolled device from the&nbsp;<strong>All devices</strong>&nbsp;template.</li><li>Click&nbsp;<strong>Migrate</strong><a target="_blank" rel="noreferrer noopener" href="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/iot-central-migrate-device.png"></a></li><li>Select the&nbsp;<strong>Carbon Dioxide Monitor</strong>&nbsp;Template, and then click migrate.<a target="_blank" rel="noreferrer noopener" href="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/iot-central-migrate-select-template.png"></a></li></ol>



<hr>



<h2><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#step-5-display-the-azure-sphere-device-telemetry"></a>Step 5: Display the Azure Sphere device telemetry</h2>



<ol><li>Click&nbsp;<strong>Devices</strong>&nbsp;on the sidebar.</li><li>Select the&nbsp;<strong>Carbon Dioxide</strong>&nbsp;template.</li><li>Click on the migrated device.</li><li>Select the&nbsp;<strong>View</strong>&nbsp;tab to view the device telemetry.</li><li>Rename your device. Click the&nbsp;<strong>Rename</strong>&nbsp;button and give your device a friendly name.</li></ol>



<blockquote><p>Azure IoT Central does not update immediately. It may take a minute or two for the temperature, humidity, and pressure telemetry to be displayed.</p></blockquote>



<figure><a href="https://raw.githubusercontent.com/gloveboxes/CO2-levels-making-you-happy-grumpy-sleepy-or-sad/master/resources/iot-central-dash.png" target="_blank" rel="noreferrer noopener"><img src="https://raw.githubusercontent.com/gloveboxes/CO2-levels-making-you-happy-grumpy-sleepy-or-sad/master/resources/iot-central-dash.png" alt=""></a></figure>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#properties-view"></a>Properties view</h3>



<p>You can view and set device properties from the&nbsp;<strong>Form</strong>&nbsp;tab.</p>



<div><figure><a href="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/iot-central-set-desired-property-state.png" target="_blank" rel="noreferrer noopener"><img src="https://raw.githubusercontent.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity/master/resources/iot-central-set-desired-property-state.png" alt="" width="850" height="668"></a></figure></div>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#setting-the-hvac-thermostat"></a>Setting the HVAC thermostat</h3>



<p>The device simulates an HVAC. If the current temperature read by the device is greater than the thermostat setting then the blue LED will turn on to signify the room needs to be cooled. If the room temperature is less than the thermostat setting the red LED will be turned on to signify the heater needs to be turned on.</p>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#setting-the-co2-alert-level-from-the-properties-view"></a>Setting the CO2 alert level from the properties view</h3>



<p>From the properties view you can set the CO2 alert level. Azure IoT Central uses properties and ultimately Azure IoT Hub device twins to set the alert threshold on the device.</p>



<p>When the CO2 level reaches the alert level on the device you can set an action. The action that has been defined in code is to switch on an LED, but you can go bigger, and instead of setting an LED you could drive a relay to turn on a light, buzz an alarm, or turn on a fan.</p>



<h3><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#learn-more-about-iot-central-properties-and-azure-iot-hub-device-twins"></a>Learn more about IoT Central properties and Azure IoT Hub device twins</h3>



<p>Learn more about Azure IoT Central, properties, and device twins from Azure Sphere Developer Learning Path lab 3&nbsp;<a href="https://github.com/gloveboxes/Azure-Sphere-Learning-Path/tree/master/zdocs_vs_code_iot_central/Lab_3_Control_Device_with_Device_Twins">Set the room virtual thermostat with Azure IoT Device Twins</a>.</p>



<hr>



<h2><a href="https://github.com/gloveboxes/Track-CO2-levels-in-your-workspace-to-improve-health-wellbeing-and-productivity#extend-and-integrate-azure-iot-central-applications-with-other-cloud-services-1"></a>Extend and integrate Azure IoT Central applications with other cloud services</h2>



<p>Azure IoT Central is also extensible using rules and workflows. For more information, review&nbsp;<a href="https://docs.microsoft.com/en-us/azure/iot-central/core/howto-configure-rules-advanced?WT.mc_id=julyot-co2-dglover">Use workflows to integrate your Azure IoT Central application with other cloud services</a></p>



<hr>



<p>Have fun and stay safe and be sure to follow us on&nbsp;<a href="https://twitter.com/hashtag/JulyOT?src=hash&amp;ref_src=twsrc%5Etfw">#JulyOT</a>.</p>
<div><p><span>Please follow and like us:</span></p></div>                    
                
	<nav role="navigation" aria-label="Continue Reading">
		<h2>Continue Reading</h2>
		
	</nav>            </div><!-- .entry-content -->


                                </div>
                                
<!-- #comments -->
                            </article>
                        
                    </main><!-- #main -->
                </div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
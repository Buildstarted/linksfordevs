<!DOCTYPE html>
<html lang="en">
<head>
    <title>
tidwall/buntdb: BuntDB is an embeddable, in-memory key/value database for Go with custom indexing and geospatial support -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>tidwall/buntdb: BuntDB is an embeddable, in-memory key/value database for Go with custom indexing and geospatial support</h1><div><div id="" class="markdown-body entry-content p-5"><p align="center"><a target="_blank" rel="noopener noreferrer" href="/tidwall/buntdb/blob/master/logo.png"><img src="/tidwall/buntdb/raw/master/logo.png" width="307" height="150" border="0" alt="BuntDB"></a><br><a href="https://travis-ci.org/tidwall/buntdb" rel="nofollow"><img src="https://camo.githubusercontent.com/e0a4b65f2f14637f5796a6171c9cd15dca92dab6/68747470733a2f2f696d672e736869656c64732e696f2f7472617669732f74696477616c6c2f62756e7464622e7376673f7374796c653d666c61742d737175617265" alt="Build Status" data-canonical-src="https://img.shields.io/travis/tidwall/buntdb.svg?style=flat-square"></a><a href="http://gocover.io/github.com/tidwall/buntdb" rel="nofollow"><img src="https://camo.githubusercontent.com/06839d89b3f5051c24270025326c653a5d69f208/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f636f7665726167652d39352532352d627269676874677265656e2e7376673f7374796c653d666c61742d737175617265" alt="Code Coverage" data-canonical-src="https://img.shields.io/badge/coverage-95%25-brightgreen.svg?style=flat-square"></a><a href="https://goreportcard.com/report/github.com/tidwall/buntdb" rel="nofollow"><img src="https://camo.githubusercontent.com/d76321e218b4b5d6a8df6dc9ff22c7177be147da/68747470733a2f2f676f7265706f7274636172642e636f6d2f62616467652f6769746875622e636f6d2f74696477616c6c2f62756e7464623f7374796c653d666c61742d737175617265" alt="Go Report Card" data-canonical-src="https://goreportcard.com/badge/github.com/tidwall/buntdb?style=flat-square"></a><a href="https://godoc.org/github.com/tidwall/buntdb" rel="nofollow"><img src="https://camo.githubusercontent.com/1a9f5a297cc3aba08815fd43517cf9a772bb6fe2/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6170692d7265666572656e63652d626c75652e7376673f7374796c653d666c61742d737175617265" alt="GoDoc" data-canonical-src="https://img.shields.io/badge/api-reference-blue.svg?style=flat-square"></a></p><p>BuntDB is a low-level, in-memory, key/value store in pure Go.
It persists to disk, is ACID compliant, and uses locking for multiple
readers and a single writer. It supports custom indexes and geospatial
data. It's ideal for projects that need a dependable database and favor
speed over data size.</p><h1><a id="user-content-features" class="anchor" aria-hidden="true" href="#features"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Features</h1><h1><a id="user-content-getting-started" class="anchor" aria-hidden="true" href="#getting-started"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Getting Started</h1><h2><a id="user-content-installing" class="anchor" aria-hidden="true" href="#installing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installing</h2><p>To start using BuntDB, install Go and run <code>go get</code>:</p><div class="highlight highlight-source-shell"><pre>$ go get -u github.com/tidwall/buntdb</pre></div><p>This will retrieve the library.</p><h2><a id="user-content-opening-a-database" class="anchor" aria-hidden="true" href="#opening-a-database"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Opening a database</h2><p>The primary object in BuntDB is a <code>DB</code>. To open or create your
database, use the <code>buntdb.Open()</code> function:</p><div class="highlight highlight-source-go"><pre><span class="pl-k">package</span> main

<span class="pl-k">import</span> (
	<span class="pl-s"><span class="pl-pds">"</span>log<span class="pl-pds">"</span></span><span class="pl-s"><span class="pl-pds">"</span>github.com/tidwall/buntdb<span class="pl-pds">"</span></span>
)

<span class="pl-k">func</span><span class="pl-en">main</span>() {
	<span class="pl-c"><span class="pl-c">//</span> Open the data.db file. It will be created if it doesn't exist.</span><span class="pl-smi">db</span>, <span class="pl-smi">err</span><span class="pl-k">:=</span> buntdb.<span class="pl-c1">Open</span>(<span class="pl-s"><span class="pl-pds">"</span>data.db<span class="pl-pds">"</span></span>)
	<span class="pl-k">if</span> err != <span class="pl-c1">nil</span> {
		log.<span class="pl-c1">Fatal</span>(err)
	}
	<span class="pl-k">defer</span> db.<span class="pl-c1">Close</span>()

	...
}</pre></div><p>It's also possible to open a database that does not persist to disk by using <code>:memory:</code> as the path of the file.</p><div class="highlight highlight-source-go"><pre>buntdb.<span class="pl-c1">Open</span>(<span class="pl-s"><span class="pl-pds">"</span>:memory:<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">//</span> Open a file that does not persist to disk.</span></pre></div><h2><a id="user-content-transactions" class="anchor" aria-hidden="true" href="#transactions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Transactions</h2><p>All reads and writes must be performed from inside a transaction. BuntDB can have one write transaction opened at a time, but can have many concurrent read transactions. Each transaction maintains a stable view of the database. In other words, once a transaction has begun, the data for that transaction cannot be changed by other transactions.</p><p>Transactions run in a function that exposes a <code>Tx</code> object, which represents the transaction state. While inside a transaction, all database operations should be performed using this object. You should never access the origin <code>DB</code> object while inside a transaction. Doing so may have side-effects, such as blocking your application.</p><p>When a transaction fails, it will roll back, and revert all changes that occurred to the database during that transaction. There's a single return value that you can use to close the transaction. For read/write transactions, returning an error this way will force the transaction to roll back. When a read/write transaction succeeds all changes are persisted to disk.</p><h3><a id="user-content-read-only-transactions" class="anchor" aria-hidden="true" href="#read-only-transactions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Read-only Transactions</h3><p>A read-only transaction should be used when you don't need to make changes to the data. The advantage of a read-only transaction is that there can be many running concurrently.</p><div class="highlight highlight-source-go"><pre><span class="pl-smi">err</span><span class="pl-k">:=</span> db.<span class="pl-c1">View</span>(<span class="pl-k">func</span>(tx *buntdb.<span class="pl-smi">Tx</span>) <span class="pl-k">error</span> {
	...
	<span class="pl-k">return</span><span class="pl-c1">nil</span>
})</pre></div><h3><a id="user-content-readwrite-transactions" class="anchor" aria-hidden="true" href="#readwrite-transactions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Read/write Transactions</h3><p>A read/write transaction is used when you need to make changes to your data. There can only be one read/write transaction running at a time. So make sure you close it as soon as you are done with it.</p><div class="highlight highlight-source-go"><pre><span class="pl-smi">err</span><span class="pl-k">:=</span> db.<span class="pl-c1">Update</span>(<span class="pl-k">func</span>(tx *buntdb.<span class="pl-smi">Tx</span>) <span class="pl-k">error</span> {
	...
	<span class="pl-k">return</span><span class="pl-c1">nil</span>
})</pre></div><h2><a id="user-content-setting-and-getting-keyvalues" class="anchor" aria-hidden="true" href="#setting-and-getting-keyvalues"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting and getting key/values</h2><p>To set a value you must open a read/write transaction:</p><div class="highlight highlight-source-go"><pre><span class="pl-smi">err</span><span class="pl-k">:=</span> db.<span class="pl-c1">Update</span>(<span class="pl-k">func</span>(tx *buntdb.<span class="pl-smi">Tx</span>) <span class="pl-k">error</span> {
	<span class="pl-smi">_</span>, <span class="pl-smi">_</span>, <span class="pl-smi">err</span><span class="pl-k">:=</span> tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>mykey<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>myvalue<span class="pl-pds">"</span></span>, <span class="pl-c1">nil</span>)
	<span class="pl-k">return</span> err
})</pre></div><p>To get the value:</p><div class="highlight highlight-source-go"><pre><span class="pl-smi">err</span><span class="pl-k">:=</span> db.<span class="pl-c1">View</span>(<span class="pl-k">func</span>(tx *buntdb.<span class="pl-smi">Tx</span>) <span class="pl-k">error</span> {
	<span class="pl-smi">val</span>, <span class="pl-smi">err</span><span class="pl-k">:=</span> tx.<span class="pl-c1">Get</span>(<span class="pl-s"><span class="pl-pds">"</span>mykey<span class="pl-pds">"</span></span>)
	<span class="pl-k">if</span> err != <span class="pl-c1">nil</span>{
		<span class="pl-k">return</span> err
	}
	fmt.<span class="pl-c1">Printf</span>(<span class="pl-s"><span class="pl-pds">"</span>value is <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>, val)
	<span class="pl-k">return</span><span class="pl-c1">nil</span>
})</pre></div><p>Getting non-existent values will cause an <code>ErrNotFound</code> error.</p><h3><a id="user-content-iterating" class="anchor" aria-hidden="true" href="#iterating"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Iterating</h3><p>All keys/value pairs are ordered in the database by the key. To iterate over the keys:</p><div class="highlight highlight-source-go"><pre><span class="pl-smi">err</span><span class="pl-k">:=</span> db.<span class="pl-c1">View</span>(<span class="pl-k">func</span>(tx *buntdb.<span class="pl-smi">Tx</span>) <span class="pl-k">error</span> {
	<span class="pl-smi">err</span><span class="pl-k">:=</span> tx.<span class="pl-c1">Ascend</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>, <span class="pl-c1">func</span>(key, value <span class="pl-k">string</span>) <span class="pl-k">bool</span> {
		fmt.<span class="pl-c1">Printf</span>(<span class="pl-s"><span class="pl-pds">"</span>key: <span class="pl-c1">%s</span>, value: <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>, key, value)
	})
	<span class="pl-k">return</span> err
})</pre></div><p>There is also <code>AscendGreaterOrEqual</code>, <code>AscendLessThan</code>, <code>AscendRange</code>, <code>AscendEqual</code>, <code>Descend</code>, <code>DescendLessOrEqual</code>, <code>DescendGreaterThan</code>, <code>DescendRange</code>, and <code>DescendEqual</code>. Please see the <a href="https://godoc.org/github.com/tidwall/buntdb" rel="nofollow">documentation</a> for more information on these functions.</p><h2><a id="user-content-custom-indexes" class="anchor" aria-hidden="true" href="#custom-indexes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom Indexes</h2><p>Initially all data is stored in a single <a href="https://en.wikipedia.org/wiki/B-tree" rel="nofollow">B-tree</a> with each item having one key and one value. All of these items are ordered by the key. This is great for quickly getting a value from a key or <a href="#iterating">iterating</a> over the keys. Feel free to peruse the <a href="https://github.com/tidwall/btree">B-tree implementation</a>.</p><p>You can also create custom indexes that allow for ordering and <a href="#iterating">iterating</a> over values. A custom index also uses a B-tree, but it's more flexible because it allows for custom ordering.</p><p>For example, let's say you want to create an index for ordering names:</p><div class="highlight highlight-source-go"><pre>db.<span class="pl-c1">CreateIndex</span>(<span class="pl-s"><span class="pl-pds">"</span>names<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>*<span class="pl-pds">"</span></span>, buntdb.<span class="pl-smi">IndexString</span>)</pre></div><p>This will create an index named <code>names</code> which stores and sorts all values. The second parameter is a pattern that is used to filter on keys. A <code>*</code> wildcard argument means that we want to accept all keys. <code>IndexString</code> is a built-in function that performs case-insensitive ordering on the values</p><p>Now you can add various names:</p><div class="highlight highlight-source-go"><pre>db.<span class="pl-c1">Update</span>(<span class="pl-k">func</span>(tx *buntdb.<span class="pl-smi">Tx</span>) <span class="pl-k">error</span> {
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>user:0:name<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>tom<span class="pl-pds">"</span></span>, <span class="pl-c1">nil</span>)
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>user:1:name<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Randi<span class="pl-pds">"</span></span>, <span class="pl-c1">nil</span>)
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>user:2:name<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>jane<span class="pl-pds">"</span></span>, <span class="pl-c1">nil</span>)
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>user:4:name<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Janet<span class="pl-pds">"</span></span>, <span class="pl-c1">nil</span>)
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>user:5:name<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Paula<span class="pl-pds">"</span></span>, <span class="pl-c1">nil</span>)
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>user:6:name<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>peter<span class="pl-pds">"</span></span>, <span class="pl-c1">nil</span>)
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>user:7:name<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Terri<span class="pl-pds">"</span></span>, <span class="pl-c1">nil</span>)
	<span class="pl-k">return</span><span class="pl-c1">nil</span>
})</pre></div><p>Finally you can iterate over the index:</p><div class="highlight highlight-source-go"><pre>db.<span class="pl-c1">View</span>(<span class="pl-k">func</span>(tx *buntdb.<span class="pl-smi">Tx</span>) <span class="pl-k">error</span> {
	tx.<span class="pl-c1">Ascend</span>(<span class="pl-s"><span class="pl-pds">"</span>names<span class="pl-pds">"</span></span>, <span class="pl-c1">func</span>(key, val <span class="pl-k">string</span>) <span class="pl-k">bool</span> {
	fmt.<span class="pl-c1">Printf</span>(buf, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-c1">%s</span><span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>, key, val)
		<span class="pl-k">return</span><span class="pl-c1">true</span>
	})
	<span class="pl-k">return</span><span class="pl-c1">nil</span>
})</pre></div><p>The output should be:</p><pre><code>user:2:name jane
user:4:name Janet
user:5:name Paula
user:6:name peter
user:1:name Randi
user:7:name Terri
user:0:name tom
</code></pre><p>The pattern parameter can be used to filter on keys like this:</p><div class="highlight highlight-source-go"><pre>db.<span class="pl-c1">CreateIndex</span>(<span class="pl-s"><span class="pl-pds">"</span>names<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>user:*<span class="pl-pds">"</span></span>, buntdb.<span class="pl-smi">IndexString</span>)</pre></div><p>Now only items with keys that have the prefix <code>user:</code> will be added to the <code>names</code> index.</p><h3><a id="user-content-built-in-types" class="anchor" aria-hidden="true" href="#built-in-types"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Built-in types</h3><p>Along with <code>IndexString</code>, there is also <code>IndexInt</code>, <code>IndexUint</code>, and <code>IndexFloat</code>.
These are built-in types for indexing. You can choose to use these or create your own.</p><p>So to create an index that is numerically ordered on an age key, we could use:</p><div class="highlight highlight-source-go"><pre>db.<span class="pl-c1">CreateIndex</span>(<span class="pl-s"><span class="pl-pds">"</span>ages<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>user:*:age<span class="pl-pds">"</span></span>, buntdb.<span class="pl-smi">IndexInt</span>)</pre></div><p>And then add values:</p><div class="highlight highlight-source-go"><pre>db.<span class="pl-c1">Update</span>(<span class="pl-k">func</span>(tx *buntdb.<span class="pl-smi">Tx</span>) <span class="pl-k">error</span> {
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>user:0:age<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>35<span class="pl-pds">"</span></span>, <span class="pl-c1">nil</span>)
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>user:1:age<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>49<span class="pl-pds">"</span></span>, <span class="pl-c1">nil</span>)
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>user:2:age<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>13<span class="pl-pds">"</span></span>, <span class="pl-c1">nil</span>)
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>user:4:age<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>63<span class="pl-pds">"</span></span>, <span class="pl-c1">nil</span>)
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>user:5:age<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>8<span class="pl-pds">"</span></span>, <span class="pl-c1">nil</span>)
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>user:6:age<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>3<span class="pl-pds">"</span></span>, <span class="pl-c1">nil</span>)
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>user:7:age<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>16<span class="pl-pds">"</span></span>, <span class="pl-c1">nil</span>)
	<span class="pl-k">return</span><span class="pl-c1">nil</span>
})</pre></div><div class="highlight highlight-source-go"><pre>db.<span class="pl-c1">View</span>(<span class="pl-k">func</span>(tx *buntdb.<span class="pl-smi">Tx</span>) <span class="pl-k">error</span> {
	tx.<span class="pl-c1">Ascend</span>(<span class="pl-s"><span class="pl-pds">"</span>ages<span class="pl-pds">"</span></span>, <span class="pl-c1">func</span>(key, val <span class="pl-k">string</span>) <span class="pl-k">bool</span> {
	fmt.<span class="pl-c1">Printf</span>(buf, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-c1">%s</span><span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>, key, val)
		<span class="pl-k">return</span><span class="pl-c1">true</span>
	})
	<span class="pl-k">return</span><span class="pl-c1">nil</span>
})</pre></div><p>The output should be:</p><pre><code>user:6:age 3
user:5:age 8
user:2:age 13
user:7:age 16
user:0:age 35
user:1:age 49
user:4:age 63
</code></pre><h2><a id="user-content-spatial-indexes" class="anchor" aria-hidden="true" href="#spatial-indexes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Spatial Indexes</h2><p>BuntDB has support for spatial indexes by storing rectangles in an <a href="https://en.wikipedia.org/wiki/R-tree" rel="nofollow">R-tree</a>. An R-tree is organized in a similar manner as a <a href="https://en.wikipedia.org/wiki/B-tree" rel="nofollow">B-tree</a>, and both are balanced trees. But, an R-tree is special because it can operate on data that is in multiple dimensions. This is super handy for Geospatial applications.</p><p>To create a spatial index use the <code>CreateSpatialIndex</code> function:</p><div class="highlight highlight-source-go"><pre>db.<span class="pl-c1">CreateSpatialIndex</span>(<span class="pl-s"><span class="pl-pds">"</span>fleet<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>fleet:*:pos<span class="pl-pds">"</span></span>, buntdb.<span class="pl-smi">IndexRect</span>)</pre></div><p>Then <code>IndexRect</code> is a built-in function that converts rect strings to a format that the R-tree can use. It's easy to use this function out of the box, but you might find it better to create a custom one that renders from a different format, such as <a href="https://en.wikipedia.org/wiki/Well-known_text" rel="nofollow">Well-known text</a> or <a href="http://geojson.org/" rel="nofollow">GeoJSON</a>.</p><p>To add some lon,lat points to the <code>fleet</code> index:</p><div class="highlight highlight-source-go"><pre>db.<span class="pl-c1">Update</span>(<span class="pl-k">func</span>(tx *buntdb.<span class="pl-smi">Tx</span>) <span class="pl-k">error</span> {
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>fleet:0:pos<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>[-115.567 33.532]<span class="pl-pds">"</span></span>, <span class="pl-c1">nil</span>)
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>fleet:1:pos<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>[-116.671 35.735]<span class="pl-pds">"</span></span>, <span class="pl-c1">nil</span>)
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>fleet:2:pos<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>[-113.902 31.234]<span class="pl-pds">"</span></span>, <span class="pl-c1">nil</span>)
	<span class="pl-k">return</span><span class="pl-c1">nil</span>
})</pre></div><p>And then you can run the <code>Intersects</code> function on the index:</p><div class="highlight highlight-source-go"><pre>db.<span class="pl-c1">View</span>(<span class="pl-k">func</span>(tx *buntdb.<span class="pl-smi">Tx</span>) <span class="pl-k">error</span> {
	tx.<span class="pl-c1">Intersects</span>(<span class="pl-s"><span class="pl-pds">"</span>fleet<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>[-117 30],[-112 36]<span class="pl-pds">"</span></span>, <span class="pl-c1">func</span>(key, val <span class="pl-k">string</span>) <span class="pl-k">bool</span> {
		...
		<span class="pl-k">return</span><span class="pl-c1">true</span>
	})
	<span class="pl-k">return</span><span class="pl-c1">nil</span>
})</pre></div><p>This will get all three positions.</p><h3><a id="user-content-k-nearest-neighbors" class="anchor" aria-hidden="true" href="#k-nearest-neighbors"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>k-Nearest Neighbors</h3><p>Use the <code>Nearby</code> function to get all the positions in order of nearest to farthest :</p><div class="highlight highlight-source-go"><pre>db.<span class="pl-c1">View</span>(<span class="pl-k">func</span>(tx *buntdb.<span class="pl-smi">Tx</span>) <span class="pl-k">error</span> {
	tx.<span class="pl-c1">Nearby</span>(<span class="pl-s"><span class="pl-pds">"</span>fleet<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>[-113 33]<span class="pl-pds">"</span></span>, <span class="pl-c1">func</span>(key, val <span class="pl-k">string</span>, dist <span class="pl-k">float64</span>) <span class="pl-k">bool</span> {
		...
		<span class="pl-k">return</span><span class="pl-c1">true</span>
	})
	<span class="pl-k">return</span><span class="pl-c1">nil</span>
})</pre></div><h3><a id="user-content-spatial-bracket-syntax" class="anchor" aria-hidden="true" href="#spatial-bracket-syntax"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Spatial bracket syntax</h3><p>The bracket syntax <code>[-117 30],[-112 36]</code> is unique to BuntDB, and it's how the built-in rectangles are processed. But, you are not limited to this syntax. Whatever Rect function you choose to use during <code>CreateSpatialIndex</code> will be used to process the parameter, in this case it's <code>IndexRect</code>.</p><ul><li><p><strong>2D rectangle:</strong><code>[10 15],[20 25]</code><em>Min XY: "10x15", Max XY: "20x25"</em></p></li><li><p><strong>3D rectangle:</strong><code>[10 15 12],[20 25 18]</code><em>Min XYZ: "10x15x12", Max XYZ: "20x25x18"</em></p></li><li><p><strong>2D point:</strong><code>[10 15]</code><em>XY: "10x15"</em></p></li><li><p><strong>LonLat point:</strong><code>[-112.2693 33.5123]</code><em>LatLon: "33.5123 -112.2693"</em></p></li><li><p><strong>LonLat bounding box:</strong><code>[-112.26 33.51],[-112.18 33.67]</code><em>Min LatLon: "33.51 -112.26", Max LatLon: "33.67 -112.18"</em></p></li></ul><p><strong>Notice:</strong> The longitude is the Y axis and is on the left, and latitude is the X axis and is on the right.</p><p>You can also represent <code>Infinity</code> by using <code>-inf</code> and <code>+inf</code>.
For example, you might have the following points (<code>[X Y M]</code> where XY is a point and M is a timestamp):</p><pre><code>[3 9 1]
[3 8 2]
[4 8 3]
[4 7 4]
[5 7 5]
[5 6 6]
</code></pre><p>You can then do a search for all points with <code>M</code> between 2-4 by calling <code>Intersects</code>.</p><div class="highlight highlight-source-go"><pre>tx.<span class="pl-c1">Intersects</span>(<span class="pl-s"><span class="pl-pds">"</span>points<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>[-inf -inf 2],[+inf +inf 4]<span class="pl-pds">"</span></span>, <span class="pl-c1">func</span>(key, val <span class="pl-k">string</span>) <span class="pl-k">bool</span> {
	<span class="pl-c1">println</span>(val)
	<span class="pl-k">return</span><span class="pl-c1">true</span>
})</pre></div><p>Which will return:</p><pre><code>[3 8 2]
[4 8 3]
[4 7 4]
</code></pre><h2><a id="user-content-json-indexes" class="anchor" aria-hidden="true" href="#json-indexes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>JSON Indexes</h2><p>Indexes can be created on individual fields inside JSON documents. BuntDB uses <a href="https://github.com/tidwall/gjson">GJSON</a> under the hood.</p><p>For example:</p><div class="highlight highlight-source-go"><pre><span class="pl-k">package</span> main

<span class="pl-k">import</span> (
	<span class="pl-s"><span class="pl-pds">"</span>fmt<span class="pl-pds">"</span></span><span class="pl-s"><span class="pl-pds">"</span>github.com/tidwall/buntdb<span class="pl-pds">"</span></span>
)

<span class="pl-k">func</span><span class="pl-en">main</span>() {
	<span class="pl-smi">db</span>, <span class="pl-smi">_</span><span class="pl-k">:=</span> buntdb.<span class="pl-c1">Open</span>(<span class="pl-s"><span class="pl-pds">"</span>:memory:<span class="pl-pds">"</span></span>)
	db.<span class="pl-c1">CreateIndex</span>(<span class="pl-s"><span class="pl-pds">"</span>last_name<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>*<span class="pl-pds">"</span></span>, buntdb.<span class="pl-c1">IndexJSON</span>(<span class="pl-s"><span class="pl-pds">"</span>name.last<span class="pl-pds">"</span></span>))
	db.<span class="pl-c1">CreateIndex</span>(<span class="pl-s"><span class="pl-pds">"</span>age<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>*<span class="pl-pds">"</span></span>, buntdb.<span class="pl-c1">IndexJSON</span>(<span class="pl-s"><span class="pl-pds">"</span>age<span class="pl-pds">"</span></span>))
	db.<span class="pl-c1">Update</span>(<span class="pl-k">func</span>(tx *buntdb.<span class="pl-smi">Tx</span>) <span class="pl-k">error</span> {
		tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">`</span>{"name":{"first":"Tom","last":"Johnson"},"age":38}<span class="pl-pds">`</span></span>, <span class="pl-c1">nil</span>)
		tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>2<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">`</span>{"name":{"first":"Janet","last":"Prichard"},"age":47}<span class="pl-pds">`</span></span>, <span class="pl-c1">nil</span>)
		tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>3<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">`</span>{"name":{"first":"Carol","last":"Anderson"},"age":52}<span class="pl-pds">`</span></span>, <span class="pl-c1">nil</span>)
		tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>4<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">`</span>{"name":{"first":"Alan","last":"Cooper"},"age":28}<span class="pl-pds">`</span></span>, <span class="pl-c1">nil</span>)
		<span class="pl-k">return</span><span class="pl-c1">nil</span>
	})
	db.<span class="pl-c1">View</span>(<span class="pl-k">func</span>(tx *buntdb.<span class="pl-smi">Tx</span>) <span class="pl-k">error</span> {
		fmt.<span class="pl-c1">Println</span>(<span class="pl-s"><span class="pl-pds">"</span>Order by last name<span class="pl-pds">"</span></span>)
		tx.<span class="pl-c1">Ascend</span>(<span class="pl-s"><span class="pl-pds">"</span>last_name<span class="pl-pds">"</span></span>, <span class="pl-c1">func</span>(key, value <span class="pl-k">string</span>) <span class="pl-k">bool</span> {
			fmt.<span class="pl-c1">Printf</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-c1">%s</span>: <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>, key, value)
			<span class="pl-k">return</span><span class="pl-c1">true</span>
		})
		fmt.<span class="pl-c1">Println</span>(<span class="pl-s"><span class="pl-pds">"</span>Order by age<span class="pl-pds">"</span></span>)
		tx.<span class="pl-c1">Ascend</span>(<span class="pl-s"><span class="pl-pds">"</span>age<span class="pl-pds">"</span></span>, <span class="pl-c1">func</span>(key, value <span class="pl-k">string</span>) <span class="pl-k">bool</span> {
			fmt.<span class="pl-c1">Printf</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-c1">%s</span>: <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>, key, value)
			<span class="pl-k">return</span><span class="pl-c1">true</span>
		})
		fmt.<span class="pl-c1">Println</span>(<span class="pl-s"><span class="pl-pds">"</span>Order by age range 30-50<span class="pl-pds">"</span></span>)
		tx.<span class="pl-c1">AscendRange</span>(<span class="pl-s"><span class="pl-pds">"</span>age<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">`</span>{"age":30}<span class="pl-pds">`</span></span>, <span class="pl-s"><span class="pl-pds">`</span>{"age":50}<span class="pl-pds">`</span></span>, <span class="pl-c1">func</span>(key, value <span class="pl-k">string</span>) <span class="pl-k">bool</span> {
			fmt.<span class="pl-c1">Printf</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-c1">%s</span>: <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>, key, value)
			<span class="pl-k">return</span><span class="pl-c1">true</span>
		})
		<span class="pl-k">return</span><span class="pl-c1">nil</span>
	})
}</pre></div><p>Results:</p><pre><code>Order by last name
3: {"name":{"first":"Carol","last":"Anderson"},"age":52}
4: {"name":{"first":"Alan","last":"Cooper"},"age":28}
1: {"name":{"first":"Tom","last":"Johnson"},"age":38}
2: {"name":{"first":"Janet","last":"Prichard"},"age":47}

Order by age
4: {"name":{"first":"Alan","last":"Cooper"},"age":28}
1: {"name":{"first":"Tom","last":"Johnson"},"age":38}
2: {"name":{"first":"Janet","last":"Prichard"},"age":47}
3: {"name":{"first":"Carol","last":"Anderson"},"age":52}

Order by age range 30-50
1: {"name":{"first":"Tom","last":"Johnson"},"age":38}
2: {"name":{"first":"Janet","last":"Prichard"},"age":47}
</code></pre><h2><a id="user-content-multi-value-index" class="anchor" aria-hidden="true" href="#multi-value-index"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Multi Value Index</h2><p>With BuntDB it's possible to join multiple values on a single index.
This is similar to a <a href="http://dev.mysql.com/doc/refman/5.7/en/multiple-column-indexes.html" rel="nofollow">multi column index</a> in a traditional SQL database.</p><p>In this example we are creating a multi value index on "name.last" and "age":</p><div class="highlight highlight-source-go"><pre><span class="pl-smi">db</span>, <span class="pl-smi">_</span><span class="pl-k">:=</span> buntdb.<span class="pl-c1">Open</span>(<span class="pl-s"><span class="pl-pds">"</span>:memory:<span class="pl-pds">"</span></span>)
db.<span class="pl-c1">CreateIndex</span>(<span class="pl-s"><span class="pl-pds">"</span>last_name_age<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>*<span class="pl-pds">"</span></span>, buntdb.<span class="pl-c1">IndexJSON</span>(<span class="pl-s"><span class="pl-pds">"</span>name.last<span class="pl-pds">"</span></span>), buntdb.<span class="pl-c1">IndexJSON</span>(<span class="pl-s"><span class="pl-pds">"</span>age<span class="pl-pds">"</span></span>))
db.<span class="pl-c1">Update</span>(<span class="pl-k">func</span>(tx *buntdb.<span class="pl-smi">Tx</span>) <span class="pl-k">error</span> {
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">`</span>{"name":{"first":"Tom","last":"Johnson"},"age":38}<span class="pl-pds">`</span></span>, <span class="pl-c1">nil</span>)
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>2<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">`</span>{"name":{"first":"Janet","last":"Prichard"},"age":47}<span class="pl-pds">`</span></span>, <span class="pl-c1">nil</span>)
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>3<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">`</span>{"name":{"first":"Carol","last":"Anderson"},"age":52}<span class="pl-pds">`</span></span>, <span class="pl-c1">nil</span>)
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>4<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">`</span>{"name":{"first":"Alan","last":"Cooper"},"age":28}<span class="pl-pds">`</span></span>, <span class="pl-c1">nil</span>)
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>5<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">`</span>{"name":{"first":"Sam","last":"Anderson"},"age":51}<span class="pl-pds">`</span></span>, <span class="pl-c1">nil</span>)
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>6<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">`</span>{"name":{"first":"Melinda","last":"Prichard"},"age":44}<span class="pl-pds">`</span></span>, <span class="pl-c1">nil</span>)
	<span class="pl-k">return</span><span class="pl-c1">nil</span>
})
db.<span class="pl-c1">View</span>(<span class="pl-k">func</span>(tx *buntdb.<span class="pl-smi">Tx</span>) <span class="pl-k">error</span> {
	tx.<span class="pl-c1">Ascend</span>(<span class="pl-s"><span class="pl-pds">"</span>last_name_age<span class="pl-pds">"</span></span>, <span class="pl-c1">func</span>(key, value <span class="pl-k">string</span>) <span class="pl-k">bool</span> {
		fmt.<span class="pl-c1">Printf</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-c1">%s</span>: <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>, key, value)
		<span class="pl-k">return</span><span class="pl-c1">true</span>
	})
	<span class="pl-k">return</span><span class="pl-c1">nil</span>
})

<span class="pl-c"><span class="pl-c">//</span> Output:</span><span class="pl-c"><span class="pl-c">//</span> 5: {"name":{"first":"Sam","last":"Anderson"},"age":51}</span><span class="pl-c"><span class="pl-c">//</span> 3: {"name":{"first":"Carol","last":"Anderson"},"age":52}</span><span class="pl-c"><span class="pl-c">//</span> 4: {"name":{"first":"Alan","last":"Cooper"},"age":28}</span><span class="pl-c"><span class="pl-c">//</span> 1: {"name":{"first":"Tom","last":"Johnson"},"age":38}</span><span class="pl-c"><span class="pl-c">//</span> 6: {"name":{"first":"Melinda","last":"Prichard"},"age":44}</span><span class="pl-c"><span class="pl-c">//</span> 2: {"name":{"first":"Janet","last":"Prichard"},"age":47}</span></pre></div><h2><a id="user-content-descending-ordered-index" class="anchor" aria-hidden="true" href="#descending-ordered-index"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Descending Ordered Index</h2><p>Any index can be put in descending order by wrapping it's less function with <code>buntdb.Desc</code>.</p><div class="highlight highlight-source-go"><pre>db.<span class="pl-c1">CreateIndex</span>(<span class="pl-s"><span class="pl-pds">"</span>last_name_age<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>*<span class="pl-pds">"</span></span>,
buntdb.<span class="pl-c1">IndexJSON</span>(<span class="pl-s"><span class="pl-pds">"</span>name.last<span class="pl-pds">"</span></span>),
buntdb.<span class="pl-c1">Desc</span>(buntdb.<span class="pl-c1">IndexJSON</span>(<span class="pl-s"><span class="pl-pds">"</span>age<span class="pl-pds">"</span></span>)))</pre></div><p>This will create a multi value index where the last name is ascending and the age is descending.</p><h2><a id="user-content-collate-i18n-indexes" class="anchor" aria-hidden="true" href="#collate-i18n-indexes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Collate i18n Indexes</h2><p>Using the external <a href="https://github.com/tidwall/collate">collate package</a> it's possible to create
indexes that are sorted by the specified language. This is similar to the <a href="https://msdn.microsoft.com/en-us/library/ms174596.aspx" rel="nofollow">SQL COLLATE keyword</a> found in traditional databases.</p><p>To install:</p><pre><code>go get -u github.com/tidwall/collate
</code></pre><p>For example:</p><div class="highlight highlight-source-go"><pre><span class="pl-k">import</span><span class="pl-s"><span class="pl-pds">"</span>github.com/tidwall/collate<span class="pl-pds">"</span></span><span class="pl-c"><span class="pl-c">//</span> To sort case-insensitive in French.</span>
db.<span class="pl-c1">CreateIndex</span>(<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>*<span class="pl-pds">"</span></span>, collate.<span class="pl-c1">IndexString</span>(<span class="pl-s"><span class="pl-pds">"</span>FRENCH_CI<span class="pl-pds">"</span></span>))

<span class="pl-c"><span class="pl-c">//</span> To specify that numbers should sort numerically ("2" &lt; "12")</span><span class="pl-c"><span class="pl-c">//</span> and use a comma to represent a decimal point.</span>
db.<span class="pl-c1">CreateIndex</span>(<span class="pl-s"><span class="pl-pds">"</span>amount<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>*<span class="pl-pds">"</span></span>, collate.<span class="pl-c1">IndexString</span>(<span class="pl-s"><span class="pl-pds">"</span>FRENCH_NUM<span class="pl-pds">"</span></span>))</pre></div><p>There's also support for Collation on JSON indexes:</p><div class="highlight highlight-source-go"><pre>db.<span class="pl-c1">CreateIndex</span>(<span class="pl-s"><span class="pl-pds">"</span>last_name<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>*<span class="pl-pds">"</span></span>, collate.<span class="pl-c1">IndexJSON</span>(<span class="pl-s"><span class="pl-pds">"</span>CHINESE_CI<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>name.last<span class="pl-pds">"</span></span>))</pre></div><p>Check out the <a href="https://github.com/tidwall/collate">collate project</a> for more information.</p><h2><a id="user-content-data-expiration" class="anchor" aria-hidden="true" href="#data-expiration"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Data Expiration</h2><p>Items can be automatically evicted by using the <code>SetOptions</code> object in the <code>Set</code> function to set a <code>TTL</code>.</p><div class="highlight highlight-source-go"><pre>db.<span class="pl-c1">Update</span>(<span class="pl-k">func</span>(tx *buntdb.<span class="pl-smi">Tx</span>) <span class="pl-k">error</span> {
	tx.<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>mykey<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>myval<span class="pl-pds">"</span></span>, &amp;buntdb.<span class="pl-smi">SetOptions</span>{Expires:<span class="pl-c1">true</span>, TTL:time.<span class="pl-smi">Second</span>})
	<span class="pl-k">return</span><span class="pl-c1">nil</span>
})</pre></div><p>Now <code>mykey</code> will automatically be deleted after one second. You can remove the TTL by setting the value again with the same key/value, but with the options parameter set to nil.</p><h2><a id="user-content-delete-while-iterating" class="anchor" aria-hidden="true" href="#delete-while-iterating"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Delete while iterating</h2><p>BuntDB does not currently support deleting a key while in the process of iterating.
As a workaround you'll need to delete keys following the completion of the iterator.</p><div class="highlight highlight-source-go"><pre><span class="pl-k">var</span><span class="pl-smi">delkeys</span> []<span class="pl-k">string</span>
tx.<span class="pl-c1">AscendKeys</span>(<span class="pl-s"><span class="pl-pds">"</span>object:*<span class="pl-pds">"</span></span>, <span class="pl-c1">func</span>(k, v <span class="pl-k">string</span>) <span class="pl-k">bool</span> {
	<span class="pl-k">if</span><span class="pl-c1">someCondition</span>(k) == <span class="pl-c1">true</span> {
		delkeys = <span class="pl-c1">append</span>(delkeys, k)
	}
	<span class="pl-k">return</span><span class="pl-c1">true</span><span class="pl-c"><span class="pl-c">//</span> continue</span>
})
<span class="pl-k">for</span><span class="pl-smi">_</span>, <span class="pl-smi">k</span><span class="pl-k">:=</span><span class="pl-k">range</span> delkeys {
	<span class="pl-k">if</span> _, err = tx.<span class="pl-c1">Delete</span>(k); err != <span class="pl-c1">nil</span> {
		<span class="pl-k">return</span> err
	}
}</pre></div><h2><a id="user-content-append-only-file" class="anchor" aria-hidden="true" href="#append-only-file"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Append-only File</h2><p>BuntDB uses an AOF (append-only file) which is a log of all database changes that occur from operations like <code>Set()</code> and <code>Delete()</code>.</p><p>The format of this file looks like:</p><pre><code>set key:1 value1
set key:2 value2
set key:1 value3
del key:2
...
</code></pre><p>When the database opens again, it will read back the aof file and process each command in exact order.
This read process happens one time when the database opens.
From there on the file is only appended.</p><p>As you may guess this log file can grow large over time.
There's a background routine that automatically shrinks the log file when it gets too large.
There is also a <code>Shrink()</code> function which will rewrite the aof file so that it contains only the items in the database.
The shrink operation does not lock up the database so read and write transactions can continue while shrinking is in process.</p><h3><a id="user-content-durability-and-fsync" class="anchor" aria-hidden="true" href="#durability-and-fsync"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Durability and fsync</h3><p>By default BuntDB executes an <code>fsync</code> once every second on the <a href="#append-only-file">aof file</a>. Which simply means that there's a chance that up to one second of data might be lost. If you need higher durability then there's an optional database config setting <code>Config.SyncPolicy</code> which can be set to <code>Always</code>.</p><p>The <code>Config.SyncPolicy</code> has the following options:</p><ul><li><code>Never</code> - fsync is managed by the operating system, less safe</li><li><code>EverySecond</code> - fsync every second, fast and safer, this is the default</li><li><code>Always</code> - fsync after every write, very durable, slower</li></ul><h2><a id="user-content-config" class="anchor" aria-hidden="true" href="#config"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Config</h2><p>Here are some configuration options that can be use to change various behaviors of the database.</p><ul><li><strong>SyncPolicy</strong> adjusts how often the data is synced to disk. This value can be Never, EverySecond, or Always. Default is EverySecond.</li><li><strong>AutoShrinkPercentage</strong> is used by the background process to trigger a shrink of the aof file when the size of the file is larger than the percentage of the result of the previous shrunk file. For example, if this value is 100, and the last shrink process resulted in a 100mb file, then the new aof file must be 200mb before a shrink is triggered. Default is 100.</li><li><strong>AutoShrinkMinSize</strong> defines the minimum size of the aof file before an automatic shrink can occur. Default is 32MB.</li><li><strong>AutoShrinkDisabled</strong> turns off automatic background shrinking. Default is false.</li></ul><p>To update the configuration you should call <code>ReadConfig</code> followed by <code>SetConfig</code>. For example:</p><div class="highlight highlight-source-go"><pre><span class="pl-k">var</span><span class="pl-smi">config</span> buntdb.<span class="pl-smi">Config</span><span class="pl-k">if</span><span class="pl-smi">err</span><span class="pl-k">:=</span> db.<span class="pl-c1">ReadConfig</span>(&amp;config); err != <span class="pl-c1">nil</span>{
	log.<span class="pl-c1">Fatal</span>(err)
}
<span class="pl-k">if</span><span class="pl-smi">err</span><span class="pl-k">:=</span> db.<span class="pl-c1">SetConfig</span>(config); err != <span class="pl-c1">nil</span>{
	log.<span class="pl-c1">Fatal</span>(err)
}</pre></div><h2><a id="user-content-performance" class="anchor" aria-hidden="true" href="#performance"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Performance</h2><p>How fast is BuntDB?</p><p>Here are some example <a href="https://github.com/tidwall/raft-buntdb#raftstore-performance-comparison">benchmarks</a> when using BuntDB in a Raft Store implementation.</p><p>You can also run the standard Go benchmark tool from the project root directory:</p><pre><code>go test --bench=.
</code></pre><h3><a id="user-content-buntdb-benchmark" class="anchor" aria-hidden="true" href="#buntdb-benchmark"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>BuntDB-Benchmark</h3><p>There's a <a href="https://github.com/tidwall/buntdb-benchmark">custom utility</a> that was created specifically for benchmarking BuntDB.</p><p><em>These are the results from running the benchmarks on a MacBook Pro 15" 2.8 GHz Intel Core i7:</em></p><pre><code>$ buntdb-benchmark -q
GET: 4609604.74 operations per second
SET: 248500.33 operations per second
ASCEND_100: 2268998.79 operations per second
ASCEND_200: 1178388.14 operations per second
ASCEND_400: 679134.20 operations per second
ASCEND_800: 348445.55 operations per second
DESCEND_100: 2313821.69 operations per second
DESCEND_200: 1292738.38 operations per second
DESCEND_400: 675258.76 operations per second
DESCEND_800: 337481.67 operations per second
SPATIAL_SET: 134824.60 operations per second
SPATIAL_INTERSECTS_100: 939491.47 operations per second
SPATIAL_INTERSECTS_200: 561590.40 operations per second
SPATIAL_INTERSECTS_400: 306951.15 operations per second
SPATIAL_INTERSECTS_800: 159673.91 operations per second
</code></pre><p>To install this utility:</p><pre><code>go get github.com/tidwall/buntdb-benchmark
</code></pre><h2><a id="user-content-contact" class="anchor" aria-hidden="true" href="#contact"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Contact</h2><p>Josh Baker <a href="http://twitter.com/tidwall" rel="nofollow">@tidwall</a></p><h2><a id="user-content-license" class="anchor" aria-hidden="true" href="#license"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>License</h2><p>BuntDB source code is available under the MIT <a href="/tidwall/buntdb/blob/master/LICENSE">License</a>.</p></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
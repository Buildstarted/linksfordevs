<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Why is async void bad and how do I await a Task in an object constructor in C#? - Brian Lagunas - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.min.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Why is async void bad and how do I await a Task in an object constructor in C#? - Brian Lagunas - linksfor.dev(s)"/>
    <meta property="article:author" content="Brian Lagunas&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;View all posts"/>
    <meta property="og:description" content="In this video, I answer the question &#x201C;Why is async void bad and how do I await a Task in an object constructor?&#x201D;. Async void is generally considered bad for 3 reasons: 1. You can&#x2019;t wait for its completion (fire and forget) 2. Any unhandled exceptions will terminate your process (can&#x2019;t be caught) 3. Difficult [&#x2026;]"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://brianlagunas.com/why-is-async-void-bad-and-how-do-i-await-a-task-in-an-object-constructor-in-c/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1 style="margin: unset">
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Why is async void bad and how do I await a Task in an object constructor in C#? - Brian Lagunas</title>
<div class="readable">
        <h1>Why is async void bad and how do I await a Task in an object constructor in C#? - Brian Lagunas</h1>
            <div>by Brian Lagunas&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;View all posts</div>
            <div>Reading time: 2-3 minutes</div>
        <div>Posted here: 06 Aug 2020</div>
        <p><a href="https://brianlagunas.com/why-is-async-void-bad-and-how-do-i-await-a-task-in-an-object-constructor-in-c/">https://brianlagunas.com/why-is-async-void-bad-and-how-do-i-await-a-task-in-an-object-constructor-in-c/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>

			<div>

					
					<div>

						
												
						<div>
	
	
	
	
	


<p>In this video, I answer the question “Why is async void bad and how do I await a Task in an object constructor?”. Async void is generally considered bad for 3 reasons: </p>



<p>1. You can’t wait for its completion (fire and forget) <br>2. Any unhandled exceptions will terminate your process (can’t be caught) <br>3. Difficult to test (see #1 and #2) Async void methods have different error-handling semantics. </p>



<p>When an exception is thrown out of an async Task method, that exception is captured and placed on the Task object. With async void methods, there is no Task object, so any exceptions thrown out of an async void method will be raised directly on the SynchronizationContext that was active when the async void method started. However, let’s be honest, there are many areas of our code where an async void will be required. The scenario that immediately come to mind is in the constructor of an object. For example, maybe you want to load data async when your object is first created. You want to load your data async, and let the object creation process continue without blocking any threads. This is normally done with what’s called a “fire and forget” approach. Other scenarios may include the Execute method of an ICommand, or within an event handler. </p>



<p>Your first instinct may be to wrap these async/await calls into an “async void” method, and then just call that method in your constructor, command, or event handler. But, this is not recommended. </p>



<p>Luckily for use, we can use the power of a C# extension method to provide support for not only handling the completion of a Task in an async void scenario, but also handle any exceptions that may occur and provide better unit testing support.</p>

	
	
			
	

	
</div>
							

												
																			
													

	


						
						

	


					</div>

											

	

					
			</div>

		</div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
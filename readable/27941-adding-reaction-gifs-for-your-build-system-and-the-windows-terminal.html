<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Adding Reaction Gifs for your Build System and the Windows Terminal -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>Adding Reaction Gifs for your Build System and the Windows Terminal</h1><div><div id="" class="containerInner blogBody"><p>So, first, I'm having <a href="https://www.hanselman.com/blog/YouCanNowDownloadTheNewOpenSourceWindowsTerminal.aspx">entirely too much fun with the new open source Windows Terminal</a>. If you've got the latest version of Windows (go run Windows Update and do whatever it takes) then you can <strong>download the </strong><a href="https://www.microsoft.com/en-us/p/windows-terminal-preview/9n0dx20hk701?activetab=pivot%3Aoverviewtab&amp;WT.mc_id=-blog-scottha#"><strong>Windows Terminal from the Microsoft Store</strong></a>! This is a <a href="http://devblogs.microsoft.com/commandline/windows-terminal-microsoft-store-preview-release?WT.mc_id=-blog-scottha">preview release (think v0.2)</a> but it'll automatically update, often, from the Windows Store if you have Windows 10 version 18362.0 or higher.</p><p>One of the most fun things is that you can have background images. Even animated gifs! You can add those images in your Settings/profile.json like this.</p><pre class="brush: js; gutter: false; toolbar: false; auto-links: false;">"backgroundImage": "c:/users/scott/desktop/doug.gif",<br>"backgroundImageOpacity": 0.7,<br>"backgroundImageStretchMode": "uniformToFill
</pre><p>The profile.json is just JSON and you can update it. I could even update it programmatically if I wanted to parse it and mess about.</p><p>BUT. Enterprising developer <a href="https://twitter.com/gpduck">Chris Duck</a> created a <a href="https://github.com/gpduck/MSTerminalSettings">lovely PowerShell Module called MSTerminalSettings</a> that lets you very easily make Profile changes with script.</p><p>For example, Mac developers who use iTerm often go to <a href="https://iterm2colorschemes.com/">https://iterm2colorschemes.com/</a> and get new color schemes for their consoles. Now Windows folks can as well!</p><p>From his docs, this example downloads the Pandora color scheme from <a href="https://iterm2colorschemes.com/">https://iterm2colorschemes.com/</a> and sets it as the color scheme for the PowerShell Core terminal profile.</p><pre class="brush: ps; gutter: false; toolbar: false; auto-links: false;">Invoke-RestMethod -Uri 'https://raw.githubusercontent.com/mbadolato/iTerm2-Color-Schemes/master/schemes/Pandora.itermcolors' -OutFile .\Pandora.itermcolors<br>Import-Iterm2ColorScheme -Path .\Pandora.itermcolors -Name Pandora<br>Get-MSTerminalProfile -Name "PowerShell Core" | Set-MSTerminalProfile -ColorScheme Pandora
</pre><p>That's easy! Then I was talking to <a href="https://twitter.com/TylerLeonhardt">Tyler Leonhardt</a> and suggested that we programmatically change the background using a folder full of Animated Gifs. I happen to have such a folder (with 2000 categorized gif classics) so we started coding and <a href="https://www.twitch.tv/videos/445517893">streamed the whole debacle on Tyler's Twitch</a>! </p><p><img src="https://user-images.githubusercontent.com/2892/60372165-8cfa0480-99b0-11e9-8e80-c37ab964f202.gif"></p><p>The result is <a href="https://github.com/shanselman/TerminalAttractMode">Windows Terminal Attract Mode</a> and <a href="https://github.com/shanselman/TerminalAttractMode">it's a hot mess and it is up on GitHub</a> and all set up for PowerShell Core.</p><p>Remember that "<a href="https://en.wikipedia.org/wiki/Glossary_of_video_game_terms#attract_mode">Attract mode</a>" is the mode an idle arcade cabinet goes into in order to attract passersby to play, so clearly the Terminal needs this also.</p><pre class="brush: ps; gutter: false; toolbar: false; auto-links: false;">./AttractMode.ps1 -name "profile name" -path "c:\temp\trouble" -secs 5
</pre><p>It's a proof of concept for now, and it's missing background/runspace support, being wrapped up in a proper module, etc but the idea is solid, building on a solid base, <a href="https://github.com/shanselman/TerminalAttractMode/pull/2">with improvements to idiomatic PowerShell Core already incoming</a>. Right now it'll run forever. Wrap it in Start-Job if you like as well and can stand it.</p><center><blockquote class="twitter-tweet" data-lang="en" data-conversation="none"><p lang="en" dir="ltr">I've made aliases so the new Windows Terminal shows REACTION GIFS for my build system and tests! <a href="https://t.co/jpPSsrUoSO">pic.twitter.com/jpPSsrUoSO</a></p>â€” Scott Hanselman (@shanselman) <a href="https://twitter.com/shanselman/status/1144736692223406081?ref_src=twsrc%5Etfw">June 28, 2019</a></blockquote></center><p>The next idea was to have reactions gifs to different developer situations. Break the build? Reaction Gif. Passing tests? Reaction Gif.</p><p>Here's a silly proof (not refactored) that aliases "dotnet build" to "db" with reactions.</p><pre class="brush: ps; gutter: false; toolbar: false; auto-links: false;">#messing around with build reaction gifs<p>Function DotNetAlias {<br>dotnet build<br>if ($?) {<br>Start-job -ScriptBlock {<br>d:\github\TerminalAttractMode\SetMoodGif.ps1 "PowerShell Core" "D:\Dropbox\Reference\Animated Gifs\chrispratt.gif"                            <br>Start-Sleep 1.5<br>d:\github\TerminalAttractMode\SetMoodGif.ps1 "PowerShell Core" "D:\Dropbox\Reference\Animated Gifs\4003cn5.gif"                            <br>} | Out-Null<br>}<br>else {<br>Start-job -ScriptBlock {<br>d:\github\TerminalAttractMode\SetMoodGif.ps1 "PowerShell Core" "D:\Dropbox\Reference\Animated Gifs\idk-girl.gif"                            <br>Start-Sleep 1.5<br>d:\github\TerminalAttractMode\SetMoodGif.ps1 "PowerShell Core" "D:\Dropbox\Reference\Animated Gifs\4003cn5.gif"                            <br>} | Out-Null</p><p>}<br>}</p><p>Set-Alias -Name db -value DotNetAlias
</p></pre><p>I added the Start-job stuff so that the build finishes and the Terminal returns control to you while the gifs still are updating. Runspace support would be smart as well.</p><p>Some other ideas? Giphy support. Random mood gifs. Pick me ups. You get the idea.</p><p>Later, <a href="https://twitter.com/shanselman/status/1144736692223406081">Brandon Olin</a> jumped <a href="https://twitter.com/devblackops/status/1144737296463253504">in with this gem</a>. Why not get <a href="https://gist.github.com/devblackops/2dea8440b48b4d378f220841c07ec2a2">a reaction gif if anything goes wrong in your last command</a>? ERRORLEVEL 1? Explode.</p><p>Why are we doing this? Because it sparks joy, y'all. </p><hr><p><strong>Sponsor:</strong> Looking for a tool for performance profiling, unit test coverage, and continuous testing that works cross-platform on Windows, macOS, and Linux? <a href="https://hnsl.mn/2RIPOME">Check out the latest JetBrains Rider!</a></p></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Workflow syntax for GitHub Actions -
linksfor.dev(s)
    </title>
	<link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <style type="text/css">
        html {
            font-family: sans-serif;
            line-height: 1.15;
            -webkit-text-size-adjust: 100%;
            -webkit-tap-highlight-color: transparent;
            height: 100%;
        }

        *, ::after, ::before {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";
            font-size: 1rem;
            font-weight: 400;
            line-height: 1.5;
            color: #60656a;
            text-align: left;
            background-color: #323b44;
        }

        h1 {
            font-size: 6rem;
            font-weight: 300;
            line-height: 1.2;
            margin-top: 0;
            margin-bottom: 0.5rem;
            margin-bottom: 0.5rem
        }

        a {
            color: #007bff;
            color: #ccc;
            text-decoration: none;
            background-color: transparent;
            word-break: break-all;
        }

        .unseen a {
            font-weight: bold;
        }

        h3 {
            margin-top: 0;
            padding-top: 0;
            font-weight: normal;
        }

        .grid {
            -ms-flex-direction: column;
            flex-direction: column;
            width: 1024px;
            margin: 0 auto;
            flex: 1 0 auto;
        }

        .row {
            -ms-flex-direction: row;
            flex-direction: row;
            width: 100%;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            display: -ms-flexbox;
            display: flex;
        }

        .col {
            margin: 0 10px 0 10px;
            box-sizing: border-box;
            vertical-align: top;
        }

        .col-3-of-4, .col-6-of-8, .col-9-of-12 {
            width: calc(75% - 20px);
        }

        .col-1-of-4, .col-2-of-8, .col-3-of-12 {
            width: calc(25% - 20px);
        }

        @media (max-width:1023px) {
            /* big landscape tablets, laptops, and desktops */
            body {
                overflow-x: hidden;
            }

            main {
                width: 99%;
            }

            h1 {
                font-size: 50px;
            }
        }

        .text-right {
            text-align: right;
        }

        footer {
            left: 0;
            width: 100%;
            margin-top: 2em;
            padding: 50px 0;
            text-align: center;
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }

        .readable {
            color: #949ba2;
        }

        svg:not(:root).svg-inline--fa {
            color: #60656a;
            overflow: visible;
        }

        .svg-inline--fa.fa-w-12 {
            width: 0.75em;
        }

        svg:not(:root) {
            overflow: hidden;
        }

        .svg-inline--fa {
            display: inline-block;
            font-size: inherit;
            height: 1em;
            overflow: visible;
            vertical-align: -0.125em;
        }

        img {
            max-width: 100%;
        }

        .text-center {
            text-align: center;
        }

        .readable h1 {
            font-size: 2em;
        }
    </style>
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <h1>Workflow syntax for GitHub Actions</h1>
    <article class="markdown-body col-12 col-lg-7"> <div class="lead-mktg"><p>You can add a workflow file to your repository to create custom automated processes to automate your software development life cycle.</p></div> <div class="extended-markdown tip border rounded-1 mb-4 p-3 border-blue bg-blue-light f5">
<p>GitHub Actions is currently in limited public beta and is subject to change. We strongly recommend that you do not use this feature for high-value workflows and content during the beta period.</p>
<p>For more information, see &quot;<a href="/en/articles/about-github-actions">About GitHub Actions</a>.&quot;</p>
</div> <p>Workflow files use YAML syntax. If you&apos;re new to YAML and want to learn more, see &quot;<a href="https://www.codeproject.com/Articles/1214409/Learn-YAML-in-five-minutes">Learn YAML in five minutes</a>.&quot;</p>
<p>You must store workflow files in the <code>.github/workflows</code> directory of your repository.</p>
<h3 id="usage-limits"><a href="#usage-limits">Usage limits</a></h3>
<p>Exceeding usage limits may result in jobs queueing, failing to run, or failing to complete. Limits are subject to change.</p>
<ul>
<li>You can execute up to 20 workflows concurrently per repository.</li>
<li>You can execute up to 1000 API requests in an hour across all actions within a repository.</li>
<li>Each job in a workflow can run for up to 6 hours of execution time.</li>
<li>You can run up to 20 jobs concurrently per repository across all workflows.</li>
</ul>
<h3 id="name"><a href="#name"><strong><code>name</code></strong></a></h3>
<p>The name of your workflow. GitHub displays the names of your workflows on your repository&apos;s actions page. If you omit this field, GitHub sets the <code>name</code> to the workflow&apos;s filename.</p>
<h3 id="on"><a href="#on"><strong><code>on</code></strong></a></h3>
<p><strong>Required</strong> The name of the GitHub event that triggers the workflow. You can provide a single event <code>string</code>, <code>array</code> of events, or an event configuration <code>map</code> that schedules a workflow or restricts the execution of a workflow to specific files, tags, or branch changes. For a list of available events, see &quot;<a href="/en/articles/events-that-trigger-workflows">Events that trigger workflows</a>.&quot;</p>
<h4 id="example-using-a-single-event"><a href="#example-using-a-single-event"><strong>Example using a single event</strong></a></h4>
<pre><code class="hljs language-yaml">
<p class="hljs-attr">on:</p> <p class="hljs-string">push</p></code></pre>
<h4 id="example-using-a-list-of-events"><a href="#example-using-a-list-of-events"><strong>Example using a list of events</strong></a></h4>
<pre><code class="hljs language-yaml">
<p class="hljs-attr">on:</p> <p class="hljs-string">[push,</p> <p class="hljs-string">pull_request]</p></code></pre> <p>When using the <code>push</code> and <code>pull_request</code> events, you can configure a workflow to run on specific branches or tags.</p>
<p>You can match more than one branch or tag by using the wildcard characters supported by Go <a href="https://golang.org/pkg/path/#Match"><code>path.Match</code></a>. The patterns defined in <code>branches</code> and <code>tags</code> are evaluated against the Git ref&apos;s name. For example, defining the pattern <code>releases/10</code> in <code>branches</code> would match the <code>refs/heads/releases/10</code> Git ref.</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">on:</p>
<p class="hljs-attr"> push:</p> <p class="hljs-attr"> branches:</p> <p class="hljs-bullet"> -</p> <p class="hljs-string">master</p> <p class="hljs-bullet"> -</p> <p class="hljs-string">&apos;releases/*&apos;</p> <p class="hljs-bullet"> -</p> <p class="hljs-string">&apos;!refs/pull/*&apos;</p> <p class="hljs-attr"> tags:</p> <p class="hljs-bullet"> -</p> <p class="hljs-string">v1</p> <p class="hljs-bullet"> -</p> <p class="hljs-string">v1.0</p>           </code></pre>
<p>When you specify a <code>branches</code> or <code>tags</code> filter, the workflow only runs if at least one pattern matches. Any changes to branches or tags that don&apos;t match a defined pattern will not trigger a workflow. The order that you define patterns matters:</p>
<ul>
<li>A matching negative pattern after a positive match will exclude the ref again.</li>
<li>A matching positive pattern after a negative match will include the ref again.</li>
</ul>
<h3 id="onpushpull_requestpaths"><a href="#onpushpull_requestpaths"><strong><code>on.&lt;push|pull_request&gt;.paths</code></strong></a></h3>
<p>When using the <code>push</code> and <code>pull_request</code> events, you can configure a workflow to run when at least one modified file matches a pattern defined in <code>paths</code>. If you omit <code>paths</code>, no file paths are filtered.</p>
<p>You can match more than one file path by using the wildcard characters supported by Go <a href="https://golang.org/pkg/path/#Match"><code>path.Match</code></a>.</p>
<p>For example, a workflow with the following path filter will only run on pushes which modify at least one file that doesn&apos;t have the <code>.js</code> extension:</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">on:</p>
<p class="hljs-attr"> push:</p>
<p class="hljs-attr"> paths:</p>
<p class="hljs-bullet"> -</p> <p class="hljs-string">&apos;*&apos;</p> <p class="hljs-bullet"> -</p> <p class="hljs-string">&apos;!*.js&apos;</p></code></pre>
<h4 id="path-filter-evaluation"><a href="#path-filter-evaluation">Path filter evaluation</a></h4>
<p>Each modified file path is compared against each of the patterns defined in <code>paths</code> until an at least one match is found.</p>
<p>For example, to prevent a workflow from running when all the modified are JavaScript files, you must first include a positive match for all other files using the <code>*</code> wildcard character. If you only include the negative pattern <code>!*.js</code>, the workflow will never run because no positive match exists. Patterns are matched according to the following rules:</p>
<ul>
<li>By default, all file paths are excluded. At least one positive matching pattern must exist to trigger the workflow.</li>
<li>
<p>The order that you define patterns matters:</p>
<ul>
<li>A matching negative pattern after a positive match will exclude the path again.</li>
<li>A matching positive pattern after a negative match will include the path again.</li>
</ul>
</li>
</ul>
<p>As a consequence of these rules, the following workflow will never run because no positive patterns are included by default.</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">on:</p>
<p class="hljs-attr"> push:</p>
<p class="hljs-attr"> paths:</p> <p class="hljs-bullet"> -</p> <p class="hljs-string">&apos;!*.js&apos;</p></code></pre>
<p>The patterns in <code>paths</code> are compared against the set of file paths modified by any commit in the push or pull request, even if the modification is undone by a later commit. This means the set of paths is a superset of files contained in a diff.</p>
<h4 id="example-matching-paths-in-nested-directories"><a href="#example-matching-paths-in-nested-directories">Example matching paths in nested directories</a></h4>
<p>This example runs anytime the <code>push</code> or <code>pull_request</code> event includes a file in the <code>sub-project</code> directory or its subdirectories. For example, changes to any of these files would trigger a workflow run: <code>sub-directory/index.js</code>, <code>sub-directory/my-nested-directory/README.md</code>, <code>sub-directory/mona/lisa/octocat.rb</code>.</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">on:</p>
<p class="hljs-attr"> push:</p>
<p class="hljs-attr"> paths:</p> <p class="hljs-bullet"> -</p> <p class="hljs-string">&apos;sub-project/*&apos;</p>
<p class="hljs-bullet"> -</p> <p class="hljs-string">&apos;sub-project/*/*&apos;</p>
<p class="hljs-bullet"> -</p> <p class="hljs-string">&apos;sub-project/*/*/*&apos;</p></code></pre>
<h4 id="example-using-negative-pattern-matching"><a href="#example-using-negative-pattern-matching">Example using negative pattern matching</a></h4>
<p>This example runs a workflow when at least one modified file is not located in the /docs directory.</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">on:</p>
<p class="hljs-attr"> push:</p>
<p class="hljs-attr"> paths:</p>
<p class="hljs-bullet"> -</p> <p class="hljs-string">&apos;*&apos;</p> <p class="hljs-bullet"> -</p> <p class="hljs-string">&apos;!/docs/*&apos;</p> </code></pre>
<h3 id="onschedule"><a href="#onschedule"><strong><code>on.schedule</code></strong></a></h3>
<p>You can schedule a workflow to run at specific UTC times using <a href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/crontab.html#tag_20_25_07">POSIX cron syntax</a>. Scheduled workflows run on the latest commit on the default or base branch.</p>
<p>This example triggers the workflow every 15 minutes:</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">on:</p>
<p class="hljs-attr"> schedule:</p> <p class="hljs-attr"> - cron:</p> <p class="hljs-string">&apos;*/15 * * * *&apos;</p></code></pre>
<p>For more information about cron syntax, see &quot;<a href="/en/articles/events-that-trigger-workflows#scheduled-events">Events that trigger workflows</a>.&quot;</p>
<h3 id="jobs"><a href="#jobs"><strong><code>jobs</code></strong></a></h3>
<p>A workflow run is made up of one or more jobs. Jobs run in parallel by default. To run jobs sequentially, you can define dependencies on other jobs using the <code>jobs.&lt;job_id&gt;.needs</code> keyword.</p>
<p>Each job runs in a fresh instance of the virtual environment specified by <code>runs-on</code>.</p>
<p>You can run an unlimited number of jobs as long as you are within the workflow usage limits. For more information, see &quot;<a href="#usage-limits">Usage limits</a>.&quot;</p>
<h3 id="jobsjob_id"><a href="#jobsjob_id"><strong><code>jobs.&lt;job_id&gt;</code></strong></a></h3>
<p>Each job must have an id to associate with the job. The key <code>job_id</code> is a string and its value is a map of the job&apos;s configuration data. You must replace <code>&lt;job_id&gt;</code> with a string that is unique to the <code>jobs</code> object. The <code>&lt;job_id&gt;</code> must start with a letter or <code>_</code> and contain only alphanumeric characters, <code>-</code>, or <code>_</code>.</p>
<h4 id="example"><a href="#example">Example</a></h4>
<pre><code class="hljs language-yaml"><p class="hljs-attr">jobs:</p>
<p class="hljs-attr"> my_first_job:</p>
<p class="hljs-attr"> name:</p> <p class="hljs-string">My</p> <p class="hljs-string">first</p> <p class="hljs-string">job</p>
<p class="hljs-attr"> my_second_job:</p>
<p class="hljs-attr"> name:</p> <p class="hljs-string">My</p> <p class="hljs-string">second</p> <p class="hljs-string">job</p></code></pre>
<h3 id="jobsjob_idname"><a href="#jobsjob_idname"><strong><code>jobs.&lt;job_id&gt;.name</code></strong></a></h3>
<p>The name of the job displayed on GitHub.</p>
<h3 id="jobsjob_idneeds"><a href="#jobsjob_idneeds"><strong><code>jobs.&lt;job_id&gt;.needs</code></strong></a></h3>
<p>Identifies any jobs that must complete successfully before this job will run. It can be a string or array of strings. If a job fails, all jobs that need it will also fail unless the jobs use a conditional statement that causes the job to continue.</p>
<h4 id="example-1"><a href="#example-1">Example</a></h4>
<pre><code class="hljs language-yaml"><p class="hljs-attr">jobs:</p>
<p class="hljs-attr"> job1:</p>
<p class="hljs-attr"> job2:</p>
<p class="hljs-attr"> needs:</p> <p class="hljs-string">job1</p>
<p class="hljs-attr"> job3:</p>
<p class="hljs-attr"> needs:</p> <p class="hljs-string">[job1,</p> <p class="hljs-string">job2]</p></code></pre>
<p>In this example, <code>job1</code> must complete successfully before <code>job2</code> begins, and <code>job3</code> waits for both <code>job1</code> and <code>job2</code> to complete.</p>
<p>The jobs in this example run sequentially:</p> <h3 id="jobsjob_idruns-on"><a href="#jobsjob_idruns-on"><strong><code>jobs.&lt;job_id&gt;.runs-on</code></strong></a></h3>
<p><strong>Required</strong> The type of virtual host machine to run the job on. Each job runs with a fresh instance of the virtual environment specified in by <code>runs-on</code>.</p>
<p>Available virtual machine types are:</p>
<ul>
<li><code>ubuntu-latest</code>, <code>ubuntu-18.04</code>, or <code>ubuntu-16.04</code></li>
<li><code>windows-latest</code>, <code>windows-2019</code>, or <code>windows-2016</code></li>
<li><code>macOS-latest</code> or <code>macOS-10.14</code></li>
</ul>
<p>For more information, see <a href="/en/articles/virtual-environments-for-github-actions/">Virtual environments for GitHub Actions </a> for details.</p>
<h4 id="example-2"><a href="#example-2"><strong>Example</strong></a></h4>
<pre><code class="hljs language-yaml"><p class="hljs-attr">runs-on:</p> <p class="hljs-string">ubuntu-18.04</p></code></pre>
<h3 id="jobsjob_idsteps"><a href="#jobsjob_idsteps"><strong><code>jobs.&lt;job_id&gt;.steps</code></strong></a></h3>
<p>A job contains a sequence of tasks called <code>steps</code>. Steps can run commands, run setup tasks, or run an action in your repository, a public repository, or an action published in a Docker registry. Not all steps run actions, but all actions run as a step. Each step runs in its own process in the virtual environment and has access to the workspace and filesystem. Because steps run in their own process, changes to environment variables are not preserved between steps. GitHub provides built-in steps to set up and complete a job.</p>
<p>You can run an unlimited number of steps as long as you are within the workflow usage limits. For more information, see &quot;<a href="#usage-limits">Usage limits</a>.&quot;</p>
<h4 id="example-3"><a href="#example-3">Example</a></h4>
<pre><code class="hljs language-yaml"><p class="hljs-attr">name:</p> <p class="hljs-string">Greeting</p> <p class="hljs-string">from</p> <p class="hljs-string">Mona</p> <p class="hljs-attr">on:</p> <p class="hljs-string">push</p> <p class="hljs-attr">jobs:</p>
<p class="hljs-attr"> my-job:</p>
<p class="hljs-attr"> name:</p> <p class="hljs-string">My</p> <p class="hljs-string">Job</p>
<p class="hljs-attr"> runs-on:</p> <p class="hljs-string">ubuntu-latest</p>
<p class="hljs-attr"> steps:</p>
<p class="hljs-attr"> - name:</p> <p class="hljs-string">Print</p> <p class="hljs-string">a</p> <p class="hljs-string">greeting</p>
<p class="hljs-attr"> env:</p>
<p class="hljs-attr"> MY_VAR:</p> <p class="hljs-string">Hi</p> <p class="hljs-string">there!</p> <p class="hljs-string">My</p> <p class="hljs-string">name</p> <p class="hljs-string">is</p>
<p class="hljs-attr"> FIRST_NAME:</p> <p class="hljs-string">Mona</p>
<p class="hljs-attr"> MIDDLE_NAME:</p> <p class="hljs-string">The</p>
<p class="hljs-attr"> LAST_NAME:</p> <p class="hljs-string">Octocat</p>
<p class="hljs-attr"> run:</p> <p class="hljs-string">| echo $MY_VAR $FIRST_NAME $MIDDLE_NAME $LAST_NAME.</p></code></pre>
<h4 id="jobsjob_idstepsid"><a href="#jobsjob_idstepsid"><strong><code>jobs.&lt;job_id&gt;.steps.id</code></strong></a></h4>
<p>A unique identifier for the step. You can use the <code>id</code> to reference the step in contexts. For more information, see &quot;<a href="/en/articles/contexts-and-expression-syntax-for-github-actions">Contexts and expression syntax for GitHub Actions</a>.&quot;</p>
<h4 id="jobsjob_idstepsif"><a href="#jobsjob_idstepsif"><strong><code>jobs.&lt;job_id&gt;.steps.if</code></strong></a></h4>
<p>You can use the <code>if</code> conditional to prevent a step from running unless a condition is met. You can use any supported context and expression to create a conditional.</p>
<p>Expressions in an <code>if</code> conditional do not require the <code>${{ }}</code> syntax. For more information, see &quot;<a href="/en/articles/contexts-and-expression-syntax-for-github-actions">Contexts and expression syntax for GitHub Actions</a>.&quot;</p>
<h4 id="example-using-contexts"><a href="#example-using-contexts">Example using contexts</a></h4>
<p> This step only runs when the event type is a <code>pull_request</code> and the event action is <code>unassigned</code>.</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">steps:</p>
<p class="hljs-attr"> - name:</p> <p class="hljs-string">My</p> <p class="hljs-string">first</p> <p class="hljs-string">step</p>
<p class="hljs-attr"> if:</p> <p class="hljs-string">github.event_name</p> <p class="hljs-string">==</p> <p class="hljs-string">&apos;pull_request&apos;</p> <p class="hljs-string">&amp;&amp;</p> <p class="hljs-string">github.event.action</p> <p class="hljs-string">==</p> <p class="hljs-string">&apos;unassigned&apos;</p>
<p class="hljs-attr"> run:</p> <p class="hljs-string">echo</p> <p class="hljs-string">This</p> <p class="hljs-string">event</p> <p class="hljs-string">is</p> <p class="hljs-string">a</p> <p class="hljs-string">pull</p> <p class="hljs-string">request</p> <p class="hljs-string">that</p> <p class="hljs-string">had</p> <p class="hljs-string">an</p> <p class="hljs-string">assignee</p> <p class="hljs-string">removed.</p></code></pre>
<h4 id="example-using-status-check-functions"><a href="#example-using-status-check-functions">Example using status check functions</a></h4>
<p>The <code>my backup step</code> only runs when the previous step of a job fails. For more information, see &quot;<a href="/en/articles/contexts-and-expression-syntax-for-github-actions#status-check-functions">Status check functions</a>.&quot;</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">steps:</p>
<p class="hljs-attr"> - name:</p> <p class="hljs-string">My</p> <p class="hljs-string">first</p> <p class="hljs-string">step</p> <p class="hljs-attr"> uses:</p> <p class="hljs-string">./.github/actions/my-action</p>
<p class="hljs-attr"> - name:</p> <p class="hljs-string">My</p> <p class="hljs-string">backup</p> <p class="hljs-string">step</p>
<p class="hljs-attr"> if:</p> <p class="hljs-string">failure()</p>
<p class="hljs-attr"> uses:</p> <p class="hljs-string">actions/heroku@master</p></code></pre>
<h4 id="jobsjob_idstepsname"><a href="#jobsjob_idstepsname"><strong><code>jobs.&lt;job_id&gt;.steps.name</code></strong></a></h4>
<p>A name for your step to display on GitHub.</p>
<h4 id="jobsjob_idstepsuses"><a href="#jobsjob_idstepsuses"><strong><code>jobs.&lt;job_id&gt;.steps.uses</code></strong></a></h4>
<p>Selects an action to run as part of a step in your job. An action is a reusable unit of code. You can use an action defined in the same repository as the workflow, a public repository, or in a <a href="https://hub.docker.com/">published Docker container image</a>.</p>
<p>We strongly recommend that you include the version of the action you are using by specifying a Git ref, SHA, or Docker tag number. If you don&apos;t specify a version, it could break your workflows or cause unexpected behavior when the action owner publishes an update.</p>
<ul>
<li>Using the commit SHA of a released action version is the safest for stability and security.</li>
<li>Using the specific major action version allows you to receive critical fixes and security patches while still maintaining compatibility. It also assures that your workflow should still work.</li>
<li>Using the <code>master</code> branch of an action may be convenient, but if someone releases a new major version with a breaking change, your workflow could break.</li>
</ul>
<p>Some actions require inputs that you must set using the <a href="#jobsjob_idstepswith"><code>with</code></a> keyword. Review the action&apos;s README file to determine the inputs required.</p>
<p>Actions are either JavaScript files or Docker containers. If the action you&apos;re using is a Docker container you must run the job in a Linux virtual environment. For more details, see <a href="#jobsjob_idruns-on"><code>runs-on</code></a> and &quot;<a href="/en/articles/virtual-environments-for-github-actions">Virtual environments for GitHub Actions</a>.&quot;</p>
<h4 id="example-using-versioned-actions"><a href="#example-using-versioned-actions">Example using versioned actions</a></h4>
<pre><code class="hljs language-yaml"><p class="hljs-attr">steps:</p> <p class="hljs-attr"> - uses:</p> <p class="hljs-string">actions/setup-node@74bc508</p> <p class="hljs-attr"> - uses:</p> <p class="hljs-string">actions/setup-node@v1</p> <p class="hljs-attr"> - uses:</p> <p class="hljs-string">actions/setup-node@v1.2</p> <p class="hljs-attr"> - uses:</p> <p class="hljs-string">actions/setup-node@master</p>  </code></pre>
<h4 id="example-using-a-public-action"><a href="#example-using-a-public-action">Example using a public action</a></h4>
<p><code>{owner}/{repo}@{ref}</code></p>
<p>You can specific branch, ref, or SHA in a public GitHub repository.</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">jobs:</p>
<p class="hljs-attr"> my_first_job:</p>
<p class="hljs-attr"> steps:</p>
<p class="hljs-attr"> - name:</p> <p class="hljs-string">My</p> <p class="hljs-string">first</p> <p class="hljs-string">step</p> <p class="hljs-attr"> uses:</p> <p class="hljs-string">actions/heroku@master</p> <p class="hljs-attr"> - name:</p> <p class="hljs-string">My</p> <p class="hljs-string">second</p> <p class="hljs-string">step</p>
<p class="hljs-attr"> uses:</p> <p class="hljs-string">actions/aws@v2.0.1</p></code></pre> <p><code>{owner}/{repo}/{path}@{ref}</code></p>
<p>A subdirectory in a public GitHub repository at a specific branch, ref, or SHA.</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">jobs:</p>
<p class="hljs-attr"> my_first_job:</p>
<p class="hljs-attr"> steps:</p>
<p class="hljs-attr"> - name:</p> <p class="hljs-string">My</p> <p class="hljs-string">first</p> <p class="hljs-string">step</p>
<p class="hljs-attr"> uses:</p> <p class="hljs-string">actions/aws/ec2@master</p></code></pre>
<h4 id="example-using-action-in-the-same-repository-as-the-workflow"><a href="#example-using-action-in-the-same-repository-as-the-workflow">Example using action in the same repository as the workflow</a></h4>
<p><code>./path/to/dir</code></p>
<p>The path to the directory that contains the action in your workflow&apos;s repository.</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">jobs:</p>
<p class="hljs-attr"> my_first_job:</p>
<p class="hljs-attr"> steps:</p>
<p class="hljs-attr"> - name:</p> <p class="hljs-string">My</p> <p class="hljs-string">first</p> <p class="hljs-string">step</p>
<p class="hljs-attr"> uses:</p> <p class="hljs-string">./.github/actions/my-action</p></code></pre>
<h4 id="example-using-a-docker-hub-action"><a href="#example-using-a-docker-hub-action">Example using a Docker Hub action</a></h4>
<p><code>docker://{image}:{tag}</code></p>
<p>A Docker image published on <a href="https://hub.docker.com/">Docker Hub</a>.</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">jobs:</p>
<p class="hljs-attr"> my_first_job:</p>
<p class="hljs-attr"> steps:</p>
<p class="hljs-attr"> - name:</p> <p class="hljs-string">My</p> <p class="hljs-string">first</p> <p class="hljs-string">step</p>
<p class="hljs-attr"> uses:</p> <p class="hljs-attr">docker://alpine:3.8</p></code></pre>
<h4 id="example-using-a-docker-public-registry-action"><a href="#example-using-a-docker-public-registry-action">Example using a Docker public registry action</a></h4>
<p><code>docker://{host}/{image}:{tag}</code></p>
<p>A Docker image in a public registry.</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">jobs:</p>
<p class="hljs-attr"> my_first_job:</p>
<p class="hljs-attr"> steps:</p>
<p class="hljs-attr"> - name:</p> <p class="hljs-string">My</p> <p class="hljs-string">first</p> <p class="hljs-string">step</p>
<p class="hljs-attr"> uses:</p> <p class="hljs-attr">docker://gcr.io/cloud-builders/gradle</p></code></pre>
<h4 id="jobsjob_idstepsrun"><a href="#jobsjob_idstepsrun"><strong><code>jobs.&lt;job_id&gt;.steps.run</code></strong></a></h4>
<p>Runs command line programs using the operating system&apos;s shell. If you do not provide a <code>name</code>, the step name will default to the <code>run</code> command. Commands run using non-login shells by default.</p>
<p>Each <code>run</code> represents a new process and shell in the virtual environment. You can provide multi-line content and each line runs in the same shell:</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">- name:</p> <p class="hljs-string">Install</p> <p class="hljs-string">Dependencies</p>
<p class="hljs-attr"> run:</p> <p class="hljs-string">npm</p> <p class="hljs-string">install</p>      </code></pre>
<h4 id="jobsjob_idstepsrunshell"><a href="#jobsjob_idstepsrunshell"><strong><code>jobs.&lt;job_id&gt;.steps.run.shell</code></strong></a></h4>
<p>The <code>shell</code> keyword allows you to override the default settings of the virtual environment&apos;s operating system shell. You can use built-in <code>shell</code> keywords, or you can define a custom set of shell options.</p>
<h5 id="supported-for-windows-platforms"><a href="#supported-for-windows-platforms">Supported for Windows platforms</a></h5>
<ul>
<li>
<p><code>cmd</code> - This is the default shell used on Windows. GitHub appends the extension <code>.cmd</code> to your script name and substitutes for <code>{0}</code>.</p>
<ul>
<li>Runs <code>%ComSpec% /D /E:ON /V:OFF /S /C &quot;CALL &quot;{0}&quot;&quot;</code></li>
</ul>
</li>
<li>
<p><code>powershell</code> - The Desktop PowerShell. GitHub appends the extension <code>.ps1</code> to your script name.</p>
<ul>
<li>Runs <code>powershell -command &quot;&amp; &apos;{0}&apos;&quot;</code></li>
</ul>
</li>
</ul>
<h5 id="support-for-all-platforms"><a href="#support-for-all-platforms">Support for all platforms</a></h5>
<ul>
<li>
<p><code>bash</code> - The default shell on non-Windows platforms with a fallback to <code>sh</code>.</p>
<ul>
<li>Runs <code>bash --noprofile --norc -eo pipefail {0}</code></li>
</ul>
</li>
<li>
<p><code>pwsh</code> - The PowerShell Core. GitHub appends the extension <code>.ps1</code> to your script name.</p>
<ul>
<li>Runs <code>pwsh -command &quot;&amp; &apos;{0}&apos;&quot;</code></li>
</ul>
</li>
<li>
<p><code>python</code></p> </li>
</ul>
<h5 id="support-for-linux-and-macos-platforms"><a href="#support-for-linux-and-macos-platforms">Support for Linux and macOS platforms</a></h5>
<ul>
<li>
<p><code>sh</code> - The fallback behavior for non-Windows platforms if no shell is provided and <code>bash</code> is not found in the path.</p> </li>
</ul>
<h5 id="custom-shell"><a href="#custom-shell">Custom shell</a></h5>
<p>You can set the <code>shell</code> value to a template string using <code>command [&#x2026;options] {0} [..more_options]</code>. GitHub interprets the first whitespace-delimited word of the string as the command, and inserts the file name for the temporary script at <code>{0}</code>.</p>
<h5 id="exit-codes-and-error-action-preference"><a href="#exit-codes-and-error-action-preference">Exit codes and error action preference</a></h5>
<p>For built-in shell keywords, we provide the following defaults that are executed by GitHub-hosted runners. You should use these guidelines when running shell scripts.</p>
<ul>
<li>
<p><code>bash</code>/<code>sh</code>:</p>
<ul>
<li>Fail-fast behavior using <code>set -e o pipefail</code>: Default for <code>bash</code> and built-in <code>shell</code>. It is also the default when you don&apos;t provide an option on non-Windows platforms.</li>
<li>You can opt out of fail-fast and take full control by providing a template string to the shell options. For example, <code>bash {0}</code>.</li>
<li>sh-like shells exit with the exit code of the last command executed in a script, which is also the default behavior for actions. The runner will report the status of the step as fail/succeed based on this exit code.</li>
</ul>
</li>
<li>
<p><code>powershell</code>/<code>pwsh</code></p>
<ul>
<li>Fail-fast behavior when possible. For <code>pwsh</code> and <code>powershell</code> built-in shell, we will prepend <code>$ErrorActionPreference = &apos;stop&apos;</code> to script contents.</li>
<li>We append <code>if ((Test-Path -LiteralPath variable:\LASTEXITCODE)) { exit $LASTEXITCODE }</code> to powershell scripts so action statuses reflect the script&apos;s last exit code.</li>
<li>Users can always opt out by not using the built-in shell, and providing a custom shell option like: <code>pwsh -File {0}</code>, or <code>powershell -Command &quot;&amp; &apos;{0}&apos;&quot;</code>, depending on need.</li>
</ul>
</li>
<li>
<p><code>cmd</code></p>
<ul>
<li>There doesn&apos;t seem to be a way to fully opt into fail-fast behavior other than writing your script to check each error code and respond accordingly. Because we can&apos;t actually provide that behavior by default, you need to write this behavior into your script.</li>
<li><code>cmd.exe</code> will exit with the error level of the last program it executed, and it will and return the error code to the runner. This behavior is internally consistent with the previous <code>sh</code> and <code>pwsh</code> default behavior and is the <code>cmd.exe</code> default, so this behavior remains intact.</li>
</ul>
</li>
</ul>
<h4 id="jobsjob_idstepswith"><a href="#jobsjob_idstepswith"><strong><code>jobs.&lt;job_id&gt;.steps.with</code></strong></a></h4>
<p>A <code>map</code> of the input parameters defined by the action. Each input parameter is a key/value pair. Input parameters are set as environment variables. The variable is prefixed with <code>INPUT_</code> and converted to upper case.</p>
<h4 id="example-4"><a href="#example-4">Example</a></h4>
<p>Defines the three input parameters (<code>first_name</code>, <code>middle_name</code>, and <code>last_name</code>) defined by the <code>hello_world</code> action. These input variables will be accessible to the <code>hello-world</code> action as <code>INPUT_FIRST_NAME</code>, <code>INPUT_MIDDLE_NAME</code>, and <code>INPUT_LAST_NAME</code> environment variables.</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">jobs:</p>
<p class="hljs-attr"> my_first_job:</p>
<p class="hljs-attr"> steps:</p>
<p class="hljs-attr"> - name:</p> <p class="hljs-string">My</p> <p class="hljs-string">first</p> <p class="hljs-string">step</p>
<p class="hljs-attr"> uses:</p> <p class="hljs-string">actions/hello_world@master</p>
<p class="hljs-attr"> with:</p>
<p class="hljs-attr"> first_name:</p> <p class="hljs-string">Mona</p>
<p class="hljs-attr"> middle_name:</p> <p class="hljs-string">The</p>
<p class="hljs-attr"> last_name:</p> <p class="hljs-string">Octocat</p>      </code></pre>
<h4 id="jobsjob_idstepswithargs"><a href="#jobsjob_idstepswithargs"><strong><code>jobs.&lt;job_id&gt;.steps.with.args</code></strong></a></h4>
<p>A <code>string</code> that defines the inputs for a Docker container. GitHub passes the <code>args</code> to the container&apos;s <code>ENTRYPOINT</code> when the container starts up. An <code>array of strings</code> is not supported by this parameter.</p>
<h4 id="example-5"><a href="#example-5">Example</a></h4>
<pre><code class="hljs language-yaml"><p class="hljs-attr">steps:</p>
<p class="hljs-attr"> - name:</p> <p class="hljs-string">Explain</p> <p class="hljs-string">why</p> <p class="hljs-string">this</p> <p class="hljs-string">job</p> <p class="hljs-string">ran</p>
<p class="hljs-attr"> uses:</p> <p class="hljs-string">monacorp/action-name@master</p>
<p class="hljs-attr"> with:</p>
<p class="hljs-attr"> entrypoint:</p> <p class="hljs-string">/bin/echo</p>
<p class="hljs-attr"> args:</p> <p class="hljs-string">The</p> <p class="hljs-string">${{</p> <p class="hljs-string">gihub.event_name</p> <p class="hljs-string">}}</p> <p class="hljs-string">event</p> <p class="hljs-string">triggered</p> <p class="hljs-string">this</p> <p class="hljs-string">step.</p></code></pre>
<p>The <code>args</code> are used in place of the <code>CMD</code> instruction in a <code>Dockerfile</code>. If you use <code>CMD</code> in your <code>Dockerfile</code>, use the guidelines ordered by preference:</p>
<ol>
<li>Document required arguments in the action&apos;s README and omit them from the <code>CMD</code> instruction.</li>
<li>Use defaults that allow using the action without specifying any <code>args</code>.</li>
<li>If the action exposes a <code>--help</code> flag, or something similar, use that as the default to make your action self-documenting.</li>
</ol>
<h4 id="jobsjob_idstepswithentrypoint"><a href="#jobsjob_idstepswithentrypoint"><strong><code>jobs.&lt;job_id&gt;.steps.with.entrypoint</code></strong></a></h4>
<p>Overrides the Docker <code>ENTRYPOINT</code> in the <code>Dockerfile</code>, or sets it if one wasn&apos;t already specified. Unlike the Docker <code>ENTRYPOINT</code> instruction which has a shell and exec form, <code>entrypoint</code> keyword accepts only a single string defining the executable to be run.</p>
<h4 id="example-6"><a href="#example-6">Example</a></h4>
<pre><code class="hljs language-yaml"><p class="hljs-attr">steps:</p>
<p class="hljs-attr"> - name:</p> <p class="hljs-string">Run</p> <p class="hljs-string">a</p> <p class="hljs-string">custom</p> <p class="hljs-string">command</p>
<p class="hljs-attr"> uses:</p> <p class="hljs-string">monacorp/action-name@master</p>
<p class="hljs-attr"> with:</p>
<p class="hljs-attr"> entrypoint:</p> <p class="hljs-string">/a/different/executable</p></code></pre>
<p>The <code>entrypoint</code> keyword is meant to use with Docker container actions, but you can also use it with JavaScript actions that don&apos;t define any inputs.</p>
<h4 id="jobsjob_idstepsenv"><a href="#jobsjob_idstepsenv"><strong><code>jobs.&lt;job_id&gt;.steps.env</code></strong></a></h4>
<p>Sets environment variables for steps to use in the virtual environment. Public actions may specify expected environment variables in the README file. If you are setting a secret in an environment variable, you must set secrets using the <code>secrets</code> context. For more information, see &quot;<a href="/en/articles/virtual-environments-for-github-actions">Virtual environments for GitHub Actions</a>&quot; and &quot;<a href="/en/articles/contexts-and-expression-syntax-for-github-actions">Contexts and expression syntax for GitHub Actions</a>.&quot;</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">steps:</p>
<p class="hljs-attr"> - name:</p> <p class="hljs-string">My</p> <p class="hljs-string">first</p> <p class="hljs-string">action</p>
<p class="hljs-attr"> env:</p>
<p class="hljs-attr"> GITHUB_TOKEN:</p> <p class="hljs-string">${{</p> <p class="hljs-string">secrets.GITHUB_TOKEN</p> <p class="hljs-string">}}</p>
<p class="hljs-attr"> FIRST_NAME:</p> <p class="hljs-string">Mona</p>
<p class="hljs-attr"> LAST_NAME:</p> <p class="hljs-string">Octocat</p></code></pre>
<h4 id="jobsjob_idstepsworking-directory"><a href="#jobsjob_idstepsworking-directory"><strong><code>jobs.&lt;job_id&gt;.steps.working-directory</code></strong></a></h4>
<p>The default directory that the action uses in a job&apos;s workspace.</p>
<h4 id="jobsjob_idstepscontinue-on-error"><a href="#jobsjob_idstepscontinue-on-error"><strong><code>jobs.&lt;job_id&gt;.steps.continue-on-error</code></strong></a></h4>
<p>Prevents a job from failing when a step fails. Set to <code>true</code> to allow a job to pass when this step fails.</p>
<h4 id="jobsjob_idstepstimeout-minutes"><a href="#jobsjob_idstepstimeout-minutes"><strong><code>jobs.&lt;job_id&gt;.steps.timeout-minutes</code></strong></a></h4>
<p>The maximum number of minutes to run the step before killing the process.</p>
<h3 id="jobsjob_idtimeout-minutes"><a href="#jobsjob_idtimeout-minutes"><strong><code>jobs.&lt;job_id&gt;.timeout-minutes</code></strong></a></h3>
<p>The maximum number of minutes to let a workflow run before GitHub automatically cancels it. Default: 360</p>
<h3 id="jobsjob_idstrategy"><a href="#jobsjob_idstrategy"><strong><code>jobs.&lt;job_id&gt;.strategy</code></strong></a></h3>
<p>A strategy creates a build matrix for your jobs. You can define different variations of an environment to run each job in.</p>
<h4 id="jobsjob_idstrategymatrix"><a href="#jobsjob_idstrategymatrix"><strong><code>jobs.&lt;job_id&gt;.strategy.matrix</code></strong></a></h4>
<p>A build matrix is a set of different configurations of the virtual environment. For example you might run a job against more than one supported version of a language, operating system, or tool. Each configuration is a copy of the job that runs and reports a status.</p>
<p>You can specify a matrix by supplying an array for the configuration options. For example, if the GitHub virtual environment supports Node.js versions 6, 8, and 10 you could specify an array of those versions in the <code>matrix</code>.</p>
<p>When you define a matrix of operating systems, you must set the required <code>runs-on</code> keyword to the operating system of the current job, rather than hard-coding the operating system name. To access the operating system name, you can use the <code>matrix.os</code> context parameter to set <code>runs-on</code>. For more information, see &quot;<a href="/en/articles/contexts-and-expression-syntax-for-github-actions">Contexts and expression syntax for GitHub Actions</a>.&quot;</p>
<p>You can run an unlimited number of jobs as long as you are within the workflow usage limits. For more information, see &quot;<a href="#usage-limits">Usage limits</a>.&quot;</p>
<h4 id="example-7"><a href="#example-7">Example</a></h4>
<p>This example creates a matrix of three jobs, setting the <code>node</code> variable
to a different value for each and using that variable as input to the<code>setup-node</code> action. As a result, each job will use a different node
version.</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">strategy:</p>
<p class="hljs-attr"> matrix:</p>
<p class="hljs-attr"> node:</p> <p class="hljs-string">[6,</p> <p class="hljs-number">8</p><p class="hljs-string">,</p> <p class="hljs-number">10</p><p class="hljs-string">]</p>
<p class="hljs-attr">steps:</p>
<p class="hljs-attr"> - uses:</p> <p class="hljs-string">actions/setup-node@v1</p>
<p class="hljs-attr"> with:</p>
<p class="hljs-attr"> node-version:</p> <p class="hljs-string">${{</p> <p class="hljs-string">matrix.node</p> <p class="hljs-string">}}</p></code></pre>
<p>You could also run those jobs in two different Linux versions, using a matrix variable as input to the <code>runs-on</code> specifier, to create a total of 6 jobs (3 node versions x 2 Linux versions).</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">runs-on:</p> <p class="hljs-string">${{</p> <p class="hljs-string">matrix.os</p> <p class="hljs-string">}}</p>
<p class="hljs-attr">strategy:</p>
<p class="hljs-attr"> matrix:</p>
<p class="hljs-attr"> os:</p> <p class="hljs-string">[ubuntu-16.04,</p> <p class="hljs-string">ubuntu-18.04]</p>
<p class="hljs-attr"> node:</p> <p class="hljs-string">[6,</p> <p class="hljs-number">8</p><p class="hljs-string">,</p> <p class="hljs-number">10</p><p class="hljs-string">]</p>
<p class="hljs-attr">steps:</p>
<p class="hljs-attr"> - uses:</p> <p class="hljs-string">actions/setup-node@v1</p>
<p class="hljs-attr"> with:</p>
<p class="hljs-attr"> node-version:</p> <p class="hljs-string">${{</p> <p class="hljs-string">matrix.node</p> <p class="hljs-string">}}</p></code></pre>
<p>To find supported configuration options for a GitHub virtual environment, see &quot;<a href="/en/articles/virtual-environments-for-github-actions/">Virtual environments for GitHub Actions</a>.&quot;</p>
<p>You can restrict running the job to a subset of configurations in the matrix using <code>include</code> and <code>exclude</code> options.</p>
<p>The number of jobs is the cross product of the number of versions included in the arrays you provide along with any additions (<code>include</code>) or subtractions (<code>exclude</code>).</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">runs-on:</p> <p class="hljs-string">${{</p> <p class="hljs-string">matrix.os</p> <p class="hljs-string">}}</p>
<p class="hljs-attr">strategy:</p>
<p class="hljs-attr"> matrix:</p>
<p class="hljs-attr"> os:</p> <p class="hljs-string">[macOS-10.14,</p> <p class="hljs-string">windows-2016,</p> <p class="hljs-string">ubuntu-18.04]</p>
<p class="hljs-attr"> node:</p> <p class="hljs-string">[4,</p> <p class="hljs-number">6</p><p class="hljs-string">,</p> <p class="hljs-number">8</p><p class="hljs-string">,</p> <p class="hljs-number">10</p><p class="hljs-string">]</p>
<p class="hljs-attr"> include:</p> <p class="hljs-attr"> - os:</p> <p class="hljs-string">windows-2016</p>
<p class="hljs-attr"> node:</p> <p class="hljs-number">4</p>
<p class="hljs-attr"> npm:</p> <p class="hljs-number">2</p>
<p class="hljs-attr"> exclude:</p> <p class="hljs-attr"> - os:</p> <p class="hljs-string">macos-10.14</p>
<p class="hljs-attr"> node:</p> <p class="hljs-number">4</p></code></pre>
<p>You can also specify the exact combinations you want using the include list:</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">runs-on:</p> <p class="hljs-string">${{</p> <p class="hljs-string">matrix.os</p> <p class="hljs-string">}}</p>
<p class="hljs-attr">strategy:</p>
<p class="hljs-attr"> matrix:</p>
<p class="hljs-attr"> include:</p>
<p class="hljs-attr"> - os:</p> <p class="hljs-string">macOS-10.14</p>
<p class="hljs-attr"> node:</p> <p class="hljs-number">4.0</p><p class="hljs-number">.0</p>
<p class="hljs-attr"> - os:</p> <p class="hljs-string">macOS-10.14</p>
<p class="hljs-attr"> rvm:</p> <p class="hljs-number">6.0</p><p class="hljs-number">.0</p>
<p class="hljs-attr"> - os:</p> <p class="hljs-string">macOS-10.14</p>
<p class="hljs-attr"> rvm:</p> <p class="hljs-number">8.0</p><p class="hljs-number">.0</p></code></pre>
<h3 id="jobsjob_idstrategyfail-fast"><a href="#jobsjob_idstrategyfail-fast"><strong><code>jobs.&lt;job_id&gt;.strategy.fail-fast</code></strong></a></h3>
<p>When set to <code>true</code>, GitHub cancels all in-progress jobs if any <code>matrix</code> job fails. Default: <code>true</code></p>
<h3 id="jobsjob_idstrategymax-parallel"><a href="#jobsjob_idstrategymax-parallel"><strong><code>jobs.&lt;job_id&gt;.strategy.max-parallel</code></strong></a></h3>
<p>The maximum number of jobs that can run simultaneously when using a <code>matrix</code> job strategy. By default, GitHub will maximize the number of jobs run in parallel depending on the available runners on GitHub-hosted virtual machines.</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">strategy:</p>
<p class="hljs-attr"> max-parallel:</p> <p class="hljs-number">2</p></code></pre>
<h3 id="jobsjob_idcontainer"><a href="#jobsjob_idcontainer"><strong><code>jobs.&lt;job_id&gt;.container</code></strong></a></h3>
<p>A container to run any steps in a job that don&apos;t already specify a container. When you do not set a <code>container</code>, all steps will run directly on the host specified by <code>runs-on</code> unless a step refers to an action configured to run in a container. If you have steps that use both script and container actions, the container actions will run as sibling containers on the same network with the same volume mounts.</p>
<h4 id="example-8"><a href="#example-8">Example</a></h4>
<pre><code class="hljs language-yaml"><p class="hljs-attr">jobs:</p>
<p class="hljs-attr"> my_job:</p>
<p class="hljs-attr"> container:</p>
<p class="hljs-attr"> image:</p> <p class="hljs-attr">node:10.16-jessie</p>
<p class="hljs-attr"> env:</p>
<p class="hljs-attr"> NODE_ENV:</p> <p class="hljs-string">development</p>
<p class="hljs-attr"> ports:</p>
<p class="hljs-bullet"> -</p> <p class="hljs-number">80</p>
<p class="hljs-attr"> volumes:</p>
<p class="hljs-attr"> - my_docker_volume:</p><p class="hljs-string">/volume_mount</p>
<p class="hljs-attr"> options:</p> <p class="hljs-bullet">--cpus</p> <p class="hljs-number">1</p></code></pre>
<p>When you only specify a container image, you can omit the <code>image</code> keyword.</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">jobs:</p>
<p class="hljs-attr"> my_job:</p>
<p class="hljs-attr"> container:</p> <p class="hljs-attr">node:10.16-jessie</p></code></pre>
<h4 id="jobsjob_idcontainerimage"><a href="#jobsjob_idcontainerimage"><strong><code>jobs.&lt;job_id&gt;.container.image</code></strong></a></h4>
<p>The Docker image to use as the container to run the action. The value can be the Docker Hub image name or a public docker registry name.</p>
<h4 id="jobsjob_idcontainerenv"><a href="#jobsjob_idcontainerenv"><strong><code>jobs.&lt;job_id&gt;.container.env</code></strong></a></h4>
<p>Sets an <code>array</code> of environment variables in the container.</p>
<h4 id="jobsjob_idcontainerports"><a href="#jobsjob_idcontainerports"><strong><code>jobs.&lt;job_id&gt;.container.ports</code></strong></a></h4>
<p>Sets an <code>array</code> of ports to expose on the container.</p>
<h4 id="jobsjob_idcontainervolumes"><a href="#jobsjob_idcontainervolumes"><strong><code>jobs.&lt;job_id&gt;.container.volumes</code></strong></a></h4>
<p>Sets an <code>array</code> of volumes for the container to use. You can use volumes to share data between services or other steps in a job. You can specify named Docker volumes, anonymous Docker volumes, or bind mounts on the host.</p>
<p>To specify a volume, you specify the source and destination path:</p>
<p><code>&lt;source&gt;:&lt;destinationPath&gt;</code>.</p>
<p>The <code>&lt;source&gt;</code> is a volume name or an absolute path on the host machine, and <code>&lt;destinationPath&gt;</code> is an absolute path in the container.</p>
<h4 id="example-9"><a href="#example-9">Example</a></h4>
<pre><code class="hljs language-yaml"><p class="hljs-attr">volumes:</p>
<p class="hljs-attr"> - my_docker_volume:</p><p class="hljs-string">/volume_mount</p>
<p class="hljs-bullet"> -</p> <p class="hljs-string">/data/my_data</p>
<p class="hljs-bullet"> -</p> <p class="hljs-string">/source/directory:/destination/directory</p></code></pre>
<h4 id="jobsjob_idcontaineroptions"><a href="#jobsjob_idcontaineroptions"><strong><code>jobs.&lt;job_id&gt;.container.options</code></strong></a></h4>
<p>Additional Docker container resource options. For a list of options, see &quot;<a href="https://docs.docker.com/engine/reference/commandline/create/#options"><code>docker create</code> options</a>.&quot;</p>
<h3 id="jobsjob_idservices"><a href="#jobsjob_idservices"><strong><code>jobs.&lt;job_id&gt;.services</code></strong></a></h3>
<p>Additional containers to host services for a job in a workflow. These are useful for creating databases or cache services like redis. The runner on the virtual machine will automatically create a network and manage the lifecycle of the service containers.</p>
<p>The list of IP addresses for GitHub Actions outbound traffic is dynamic. GitHub cannot provide a consistent list of allowed IP addresses.</p>
<h4 id="example-10"><a href="#example-10">Example</a></h4>
<p>This example creates two services for nginx and redis. GitHub selects an open port on the virtual host to bind the redis default port to. GitHub sets the bound host port in the <code>${{ job.services.&lt;service_name&gt;.ports[&lt;port&gt;] }}</code> job context. For example, the redis port would be set in the <code>${{ job.services.redis.ports[&apos;6379&apos;] }}</code> environment variable.</p>
<pre><code class="hljs language-yaml"><p class="hljs-attr">services:</p>
<p class="hljs-attr"> nginx:</p>
<p class="hljs-attr"> image:</p> <p class="hljs-string">nginx</p>
<p class="hljs-attr"> ports:</p>
<p class="hljs-bullet"> -</p> <p class="hljs-number">8080</p><p class="hljs-string">:80</p>
<p class="hljs-attr"> env:</p>
<p class="hljs-attr"> NGINX_PORT:</p> <p class="hljs-number">80</p>
<p class="hljs-attr"> redis:</p>
<p class="hljs-attr"> image:</p> <p class="hljs-string">redis</p>
<p class="hljs-attr"> ports:</p>
<p class="hljs-bullet"> -</p> <p class="hljs-number">6379</p><p class="hljs-string">/tcp</p></code></pre>
<h4 id="jobsjob_idservicesimage"><a href="#jobsjob_idservicesimage"><strong><code>jobs.&lt;job_id&gt;.services.image</code></strong></a></h4>
<p>The Docker image to use as the service container to run the action. The value can be the Docker base image name or a public docker Hub or registry.</p>
<h4 id="jobsjob_idservicesenv"><a href="#jobsjob_idservicesenv"><strong><code>jobs.&lt;job_id&gt;.services.env</code></strong></a></h4>
<p>Sets an <code>array</code> of environment variables in the service container.</p>
<h4 id="jobsjob_idservicesports"><a href="#jobsjob_idservicesports"><strong><code>jobs.&lt;job_id&gt;.services.ports</code></strong></a></h4>
<p>Sets an <code>array</code> of ports to expose on the service ontainer.</p>
<h4 id="jobsjob_idservicesvolumes"><a href="#jobsjob_idservicesvolumes"><strong><code>jobs.&lt;job_id&gt;.services.volumes</code></strong></a></h4>
<p>Sets an <code>array</code> of volumes for the service container to use. You can use volumes to share data between services or other steps in a job. You can specify named Docker volumes, anonymous Docker volumes, or bind mounts on the host.</p>
<p>To specify a volume, you specify the source and destination path:</p>
<p><code>&lt;source&gt;:&lt;destinationPath&gt;</code>.</p>
<p>The <code>&lt;source&gt;</code> is a volume name or an absolute path on the host machine, and <code>&lt;destinationPath&gt;</code> is an absolute path in the container.</p>
<h4 id="example-11"><a href="#example-11">Example</a></h4>
<pre><code class="hljs language-yaml"><p class="hljs-attr">volumes:</p>
<p class="hljs-attr"> - my_docker_volume:</p><p class="hljs-string">/volume_mount</p>
<p class="hljs-bullet"> -</p> <p class="hljs-string">/data/my_data</p>
<p class="hljs-bullet"> -</p> <p class="hljs-string">/source/directory:/destination/directory</p></code></pre>
<h4 id="jobsjob_idservicesoptions"><a href="#jobsjob_idservicesoptions"><strong><code>jobs.&lt;job_id&gt;.services.options</code></strong></a></h4>
<p>Additional Docker container resource options. For a list of options, see &quot;<a href="https://docs.docker.com/engine/reference/commandline/create/#options"><code>docker create</code> options</a>.&quot;</p> </article>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2019 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
    </footer>
    
</body>
</html>
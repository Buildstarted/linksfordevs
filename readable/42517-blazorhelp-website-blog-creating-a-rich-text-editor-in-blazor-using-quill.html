<!DOCTYPE html>
<html lang="en">
<head>
    <title>
BlazorHelp Website &gt; Blog - Creating A Rich Text Editor In Blazor Using Quill -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>BlazorHelp Website &gt; Blog - Creating A Rich Text Editor In Blazor Using Quill</h1><div><div class="BlogBody"><acronym class="BlogPublished" title="11/20/2019 8:08 PM"><span class="BlogPubMonth"><span id="dnn_ctr382_MainView_ViewEntry_lblEntryMonth">Nov</span></span><span class="BlogPubDate"><span id="dnn_ctr382_MainView_ViewEntry_lblEntryDay">20</span></span></acronym><p class="BlogSubHead"><span class="blog_author"><span id="dnn_ctr382_MainView_ViewEntry_lblPostedBy">Written by:</span><span id="dnn_ctr382_MainView_ViewEntry_lblUserID">Michael Washington</span></span><br><span id="dnn_ctr382_MainView_ViewEntry_lblDateTime" class="BlogDate">11/20/2019 8:08 PM</span>&nbsp;
  <a id="dnn_ctr382_MainView_ViewEntry_lnkRss" href="http://blazorhelpwebsite.com/Blog/tabid/61/rssid/1/Default.aspx" target="_blank"><img id="dnn_ctr382_MainView_ViewEntry_lnkRssIcon" src="/desktopmodules/Blog/Images/feed-icon-12x12.gif" alt="RssIcon"></a></p><p><img src="/images/Blazoreditor.gif"></p><p>You can easily implement a <strong>Rich Text Editor</strong> in your <strong>Blazor</strong> applications using the free open source component called <a href="https://quilljs.com/">Quill</a>.</p><p><strong>Also see:</strong><a href="/Blog/tabid/61/EntryId/4365/Creating-Reusable-Custom-Blazor-Controls.aspx">Creating Reusable Custom Blazor Controls</a> (how to turn this into a reusable Blazor custom control)</p><h1>Setup</h1><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4364/Windows-Live-Writer-09b6a2c5a5ee_109A5-image_c79152fc-2867-4b9d-81fe-41e367adbb0a.png" width="482" height="386"></p><p>Create a new <strong>Server</strong><strong>Side</strong><strong>Blazor</strong> project and <em>right-click</em> on the <strong>wwwroot</strong> folder and select <strong>Add</strong> then <strong>New Item…</strong></p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4364/Windows-Live-Writer-09b6a2c5a5ee_109A5-image_2c82ea46-1a66-4bfc-af12-aec575a23d12.png" width="572" height="375"></p><p><em>Create</em> a <strong>JavaScript</strong> file called <strong>BlazorQuill.js</strong>.</p><p>For the file, use the following content:</p><pre><pre>(<span>function</span> () {
</pre><pre><span>window</span>.QuillFunctions = {        
</pre><pre>        createQuill: <span>function</span> (quillElement) {
</pre><pre><span>var</span> options = {
</pre><pre>                debug: 'info',
</pre><pre>                modules: {
</pre><pre><span>toolbar</span>: '#<span>toolbar</span>'
</pre><pre>                },
</pre><pre>                placeholder: 'Compose an epic...',
</pre><pre>                readOnly: <span>false</span>,
</pre><pre>                theme: 'snow'
</pre><pre>            };
</pre><pre><span>// set quill at the object we can call</span></pre><pre><span>// methods on later</span></pre><pre><span>new</span> Quill(quillElement, options);
</pre><pre>        }
</pre><pre>    };
</pre><pre>})();</pre></pre><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4364/Windows-Live-Writer-09b6a2c5a5ee_109A5-image_f7f46e65-8a83-4e0d-b286-1f0bbc2bfcd6.png" width="245" height="483"></p><p>Open the <strong>_Host.cshtml</strong> file and add the following <strong>.css</strong> references to the <strong>Head</strong> section (above the <strong>bootstrap .css</strong> lines):</p><pre><pre><span>&lt;!-- Quill stylesheet --&gt;</span></pre><pre><span>&lt;</span><span>link</span><span>href</span>=<span>"//cdn.quilljs.com/1.3.6/quill.snow.css"</span><span>rel</span>=<span>"stylesheet"</span><span>&gt;</span></pre><pre><span>&lt;</span><span>link</span><span>href</span>=<span>"//cdn.quilljs.com/1.3.6/quill.bubble.css"</span><span>rel</span>=<span>"stylesheet"</span><span>&gt;</span></pre></pre><p>Next, add the following lines to the <strong>Body</strong> section (below the <strong>blazor.server.js</strong> reference):</p><pre><pre><span>&lt;!-- Quill library --&gt;</span></pre><pre><span>&lt;</span><span>script</span><span>src</span>=<span>"https://cdn.quilljs.com/1.3.6/quill.js"</span><span>&gt;</span><span>&lt;/</span><span>script</span><span>&gt;</span></pre><pre><span>&lt;</span><span>script</span><span>src</span>=<span>"BlazorQuill.js"</span><span>&gt;</span><span>&lt;/</span><span>script</span><span>&gt;</span></pre></pre><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4364/Windows-Live-Writer-09b6a2c5a5ee_109A5-image_25dc37a6-f233-47b7-8c20-d924aba95e18.png" width="239" height="483"></p><p>Open the <strong>Index.razor</strong> file and change <em>all</em> the content to the following:</p><pre><pre>@page "<span>/</span>"
</pre><pre>@*Inject JSRuntime to allow JavaScript Interop *@
</pre><pre>@inject IJSRuntime JSRuntime
</pre><pre></pre><pre>@<span>if</span> (EditorEnabled)
</pre><pre>{
</pre></pre><pre><pre><span>&lt;</span><span>div</span><span>id</span>=<span>"toolbar"</span><span>&gt;</span></pre><pre><span>&lt;</span><span>span</span><span>class</span>=<span>"ql-formats"</span><span>&gt;</span></pre><pre><span>&lt;</span><span>select</span><span>class</span>=<span>"ql-font"</span><span>&gt;</span></pre><pre><span>&lt;</span><span>option</span><span>selected</span>=<span>""</span><span>&gt;</span><span>&lt;/</span><span>option</span><span>&gt;</span></pre><pre><span>&lt;</span><span>option</span><span>value</span>=<span>"serif"</span><span>&gt;</span><span>&lt;/</span><span>option</span><span>&gt;</span></pre><pre><span>&lt;</span><span>option</span><span>value</span>=<span>"monospace"</span><span>&gt;</span><span>&lt;/</span><span>option</span><span>&gt;</span></pre><pre><span>&lt;/</span><span>select</span><span>&gt;</span></pre><pre><span>&lt;</span><span>select</span><span>class</span>=<span>"ql-size"</span><span>&gt;</span></pre><pre><span>&lt;</span><span>option</span><span>value</span>=<span>"small"</span><span>&gt;</span><span>&lt;/</span><span>option</span><span>&gt;</span></pre><pre><span>&lt;</span><span>option</span><span>selected</span>=<span>""</span><span>&gt;</span><span>&lt;/</span><span>option</span><span>&gt;</span></pre><pre><span>&lt;</span><span>option</span><span>value</span>=<span>"large"</span><span>&gt;</span><span>&lt;/</span><span>option</span><span>&gt;</span></pre><pre><span>&lt;</span><span>option</span><span>value</span>=<span>"huge"</span><span>&gt;</span><span>&lt;/</span><span>option</span><span>&gt;</span></pre><pre><span>&lt;/</span><span>select</span><span>&gt;</span></pre><pre><span>&lt;/</span><span>span</span><span>&gt;</span></pre><pre><span>&lt;</span><span>span</span><span>class</span>=<span>"ql-formats"</span><span>&gt;</span></pre><pre><span>&lt;</span><span>button</span><span>class</span>=<span>"ql-bold"</span><span>&gt;</span><span>&lt;/</span><span>button</span><span>&gt;</span></pre><pre><span>&lt;</span><span>button</span><span>class</span>=<span>"ql-italic"</span><span>&gt;</span><span>&lt;/</span><span>button</span><span>&gt;</span></pre><pre><span>&lt;</span><span>button</span><span>class</span>=<span>"ql-underline"</span><span>&gt;</span><span>&lt;/</span><span>button</span><span>&gt;</span></pre><pre><span>&lt;</span><span>button</span><span>class</span>=<span>"ql-strike"</span><span>&gt;</span><span>&lt;/</span><span>button</span><span>&gt;</span></pre><pre><span>&lt;/</span><span>span</span><span>&gt;</span></pre><pre><span>&lt;</span><span>span</span><span>class</span>=<span>"ql-formats"</span><span>&gt;</span></pre><pre><span>&lt;</span><span>select</span><span>class</span>=<span>"ql-color"</span><span>&gt;</span><span>&lt;/</span><span>select</span><span>&gt;</span></pre><pre><span>&lt;</span><span>select</span><span>class</span>=<span>"ql-background"</span><span>&gt;</span><span>&lt;/</span><span>select</span><span>&gt;</span></pre><pre><span>&lt;/</span><span>span</span><span>&gt;</span></pre><pre><span>&lt;</span><span>span</span><span>class</span>=<span>"ql-formats"</span><span>&gt;</span></pre><pre><span>&lt;</span><span>button</span><span>class</span>=<span>"ql-list"</span><span>value</span>=<span>"ordered"</span><span>&gt;</span><span>&lt;/</span><span>button</span><span>&gt;</span></pre><pre><span>&lt;</span><span>button</span><span>class</span>=<span>"ql-list"</span><span>value</span>=<span>"bullet"</span><span>&gt;</span><span>&lt;/</span><span>button</span><span>&gt;</span></pre><pre><span>&lt;</span><span>button</span><span>class</span>=<span>"ql-indent"</span><span>value</span>=<span>"-1"</span><span>&gt;</span><span>&lt;/</span><span>button</span><span>&gt;</span></pre><pre><span>&lt;</span><span>button</span><span>class</span>=<span>"ql-indent"</span><span>value</span>=<span>"+1"</span><span>&gt;</span><span>&lt;/</span><span>button</span><span>&gt;</span></pre><pre><span>&lt;</span><span>select</span><span>class</span>=<span>"ql-align"</span><span>&gt;</span></pre><pre><span>&lt;</span><span>option</span><span>selected</span>=<span>""</span><span>&gt;</span><span>&lt;/</span><span>option</span><span>&gt;</span></pre><pre><span>&lt;</span><span>option</span><span>value</span>=<span>"center"</span><span>&gt;</span><span>&lt;/</span><span>option</span><span>&gt;</span></pre><pre><span>&lt;</span><span>option</span><span>value</span>=<span>"right"</span><span>&gt;</span><span>&lt;/</span><span>option</span><span>&gt;</span></pre><pre><span>&lt;</span><span>option</span><span>value</span>=<span>"justify"</span><span>&gt;</span><span>&lt;/</span><span>option</span><span>&gt;</span></pre><pre><span>&lt;/</span><span>select</span><span>&gt;</span></pre><pre><span>&lt;/</span><span>span</span><span>&gt;</span></pre><pre><span>&lt;</span><span>span</span><span>class</span>=<span>"ql-formats"</span><span>&gt;</span></pre><pre><span>&lt;</span><span>button</span><span>class</span>=<span>"ql-link"</span><span>&gt;</span><span>&lt;/</span><span>button</span><span>&gt;</span></pre><pre><span>&lt;/</span><span>span</span><span>&gt;</span></pre><pre><span>&lt;/</span><span>div</span><span>&gt;</span></pre><pre>}
</pre><pre><span>&lt;</span><span>div</span> @<span>ref</span>=<span>"@divEditorElement"</span><span>/&gt;</span></pre></pre><pre><pre><span>@code</span> {
</pre><pre><span>private</span><span>string</span> strSavedContent = "<span></span>";
</pre><pre><span>private</span> ElementReference divEditorElement;
</pre><pre><span>private</span><span>string</span> EditorContent;
</pre><pre><span>private</span><span>string</span> EditorHTMLContent;
</pre><pre><span>private</span><span>bool</span> EditorEnabled = <span>true</span>;
</pre><pre></pre><pre><span>protected</span><span>override</span> async Task OnAfterRenderAsync(<span>bool</span> firstRender)
</pre><pre>    {
</pre><pre><span>if</span> (firstRender)
</pre><pre>        {
</pre><pre>            await JSRuntime.InvokeAsync&lt;<span>string</span>&gt;(
</pre><pre>                "<span>QuillFunctions.createQuill</span>", divEditorElement);
</pre><pre>        }
</pre><pre>    }   
</pre><pre>}</pre></pre><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4364/Windows-Live-Writer-09b6a2c5a5ee_109A5-image_1e6da0b5-fb53-487f-b21f-d9fa8524a3db.png" width="311" height="114"></p><p>Hit <strong>F5</strong> to <em>run</em> the application.</p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4364/Windows-Live-Writer-09b6a2c5a5ee_109A5-image_ed4b6a10-d733-4a17-af70-e7bdc0ffa3f1.png" width="683" height="257"></p><p>The <strong>Quill Rich Text Editor</strong> will appear.</p><h1>Programmatically Get Content</h1><p>The Quill control provides the content as <strong>Text</strong>, <strong>HTML</strong>, or its native <a href="https://quilljs.com/docs/delta/">Delta format</a>.</p><p><em>Add</em> the following buttons to the markup section in the <strong>Index.razor</strong> page:</p><pre><pre><span>&lt;</span><span>br</span><span>/&gt;</span></pre><pre><span>&lt;</span><span>button</span><span>class</span>=<span>"btn btn-primary"</span> @<span>onclick</span>=<span>"GetText"</span><span>&gt;</span>Get Text<span>&lt;/</span><span>button</span><span>&gt;</span></pre><pre><span>&lt;</span><span>button</span><span>class</span>=<span>"btn btn-primary"</span> @<span>onclick</span>=<span>"GetHTML"</span><span>&gt;</span>Get HTML<span>&lt;/</span><span>button</span><span>&gt;</span></pre><pre><span>&lt;</span><span>button</span><span>class</span>=<span>"btn btn-primary"</span> @<span>onclick</span>=<span>"GetEditorContent"</span><span>&gt;</span>Get Content<span>&lt;/</span><span>button</span><span>&gt;</span></pre><pre><span>&lt;</span><span>br</span><span>/&gt;</span></pre></pre><p>Also add some <strong>Divs</strong> to display the content:</p><pre><pre><span>&lt;</span><span>br</span><span>/&gt;</span></pre><pre><span>&lt;</span><span>div</span><span>&gt;</span></pre><pre>    @EditorContent
</pre><pre><span>&lt;/</span><span>div</span><span>&gt;</span></pre><pre><span>&lt;</span><span>div</span><span>&gt;</span></pre><pre>    @((MarkupString)@EditorHTMLContent)
</pre><pre><span>&lt;/</span><span>div</span><span>&gt;</span></pre></pre><p>In the <span>@code</span> section implement the methods:</p><pre><pre>    async Task GetText()
</pre><pre>    {
</pre><pre>        EditorHTMLContent = "<span></span>";
</pre><pre>        EditorContent = await JSRuntime.InvokeAsync&lt;<span>string</span>&gt;(
</pre><pre>            "<span>QuillFunctions.getQuillText</span>", divEditorElement);
</pre><pre>    }
</pre><pre></pre><pre>    async Task GetHTML()
</pre><pre>    {
</pre><pre>        EditorContent = "<span></span>";
</pre><pre>        EditorHTMLContent = await JSRuntime.InvokeAsync&lt;<span>string</span>&gt;(
</pre><pre>            "<span>QuillFunctions.getQuillHTML</span>", divEditorElement);
</pre><pre>    }
</pre><pre></pre><pre>    async Task GetEditorContent()
</pre><pre>    {
</pre><pre>        EditorHTMLContent = "<span></span>";
</pre><pre>        EditorContent = await JSRuntime.InvokeAsync&lt;<span>string</span>&gt;(
</pre><pre>            "<span>QuillFunctions.getQuillContent</span>", divEditorElement);
</pre><pre>    }</pre></pre><p>Finally, in the <strong>BlazorQuill.js</strong> file, add the following code under the <strong>createQuill</strong> method:</p><pre><pre>        ,
</pre><pre>        getQuillContent: <span>function</span> (quillControl) {
</pre><pre><span>return</span> JSON.stringify(quillControl.__quill.getContents());
</pre><pre>        },
</pre><pre>        getQuillText: <span>function</span> (quillControl) {
</pre><pre><span>return</span> quillControl.__quill.getText();
</pre><pre>        },
</pre><pre>        getQuillHTML: <span>function</span> (quillControl) {
</pre><pre><span>return</span> quillControl.__quill.root.innerHTML;
</pre><pre>        }</pre></pre><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4364/Windows-Live-Writer-09b6a2c5a5ee_109A5-image_5a2ab8bb-bd72-4f9c-8d0b-a1038876785a.png" width="550" height="424"></p><p>When we run the application, we can enter <strong>rich text</strong> in the <strong>editor</strong>, and <em>programmatically</em> display it.</p><h1>Saving And Loading Content</h1><p>If we want to <em>save</em> and <em>load</em> content into the <strong>Quill</strong> editor, for example, to persist to a database, we can implement it in the following way.</p><p>Add the following buttons:</p><pre><pre><span>&lt;</span><span>br</span><span>/&gt;</span></pre><pre><span>&lt;</span><span>button</span><span>class</span>=<span>"btn btn-danger"</span> @<span>onclick</span>=<span>"SaveContent"</span><span>&gt;</span>Save Content<span>&lt;/</span><span>button</span><span>&gt;</span></pre><pre><span>&lt;</span><span>button</span><span>class</span>=<span>"btn btn-success"</span> @<span>onclick</span>=<span>"LoadContent"</span><span>&gt;</span>Load Saved Content<span>&lt;/</span><span>button</span><span>&gt;</span></pre><pre><span>&lt;</span><span>br</span><span>/&gt;</span></pre></pre><p><em>Add</em> the methods to implement the buttons:</p><pre><pre>    async Task SaveContent()
</pre><pre>    {
</pre><pre>        strSavedContent = await JSRuntime.InvokeAsync&lt;<span>string</span>&gt;(
</pre><pre>            "<span>QuillFunctions.getQuillContent</span>", divEditorElement);
</pre><pre>    }
</pre><pre></pre><pre>    async Task LoadContent()
</pre><pre>    {
</pre><pre>        var QuillDelta = await JSRuntime.InvokeAsync&lt;<span>object</span>&gt;(
</pre><pre>            "<span>QuillFunctions.loadQuillContent</span>", divEditorElement, strSavedContent);
</pre><pre>    }
</pre><pre></pre></pre><p>Finally, in the <strong>BlazorQuill.js</strong> file, add the following code under the <strong>getQuillHTML</strong> method:</p><pre><pre>        ,
</pre><pre>        loadQuillContent: <span>function</span> (quillControl, quillContent) {
</pre><pre>            content = JSON.parse(quillContent);
</pre><pre><span>return</span> quillControl.__quill.setContents(content, 'api');
</pre><pre>        },</pre></pre><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4364/Windows-Live-Writer-09b6a2c5a5ee_109A5-image_07e6dd3a-d1fb-4425-951c-d59b140d1dbb.png" width="368" height="250"></p><p>When we <em>run</em> the application, we can <em>enter text</em>, and <em>click</em> the <strong>Save Content</strong> button.</p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4364/Windows-Live-Writer-09b6a2c5a5ee_109A5-image_6d981171-ba33-4ba0-bc97-a8e2646cae04.png" width="293" height="208"></p><p><em>Clear</em> the content and enter <em>new</em> content…</p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4364/Windows-Live-Writer-09b6a2c5a5ee_109A5-image_6a70c447-5f47-40d5-9e2e-da218c18a89b.png" width="363" height="261"></p><p>Click <strong>Load Saved Content</strong>, and have the original content come back.</p><h1>Disable The Editor</h1><p>While it is possible to load and save <strong>Text</strong> or <strong>HTML</strong> content from the control and display that content on any page, to display content in the <strong>Quill</strong> editor native <em>Delta</em> format, you have to <em>load</em> that content into the <strong>Quill</strong> editor control.</p><p>When you want the content to be <em>read only</em>, you will want to <em>disable</em> the editor. You can do that programmatically by adding a button:</p><pre><pre><span>&lt;</span><span>br</span><span>/&gt;</span></pre><pre><span>&lt;</span><span>button</span><span>class</span>=<span>"btn btn-info"</span> @<span>onclick</span>=<span>"DisableQuillEditor"</span><span>&gt;</span>Disable Editor<span>&lt;/</span><span>button</span><span>&gt;</span></pre><pre><span>&lt;</span><span>br</span><span>/&gt;</span></pre></pre><p>A method to implement the button:</p><pre><pre>    async Task DisableQuillEditor()
</pre><pre>    {
</pre><pre>        EditorEnabled = <span>false</span>;
</pre><pre>        await JSRuntime.InvokeAsync&lt;<span>object</span>&gt;(
</pre><pre>            "<span>QuillFunctions.disableQuillEditor</span>", divEditorElement);
</pre><pre>    }</pre></pre><p>…and a method in the <strong>BlazorQuill.js</strong> file:</p><pre><pre>        ,
</pre><pre>        disableQuillEditor: <span>function</span> (quillControl) {
</pre><pre>            quillControl.__quill.enable(<span>false</span>);
</pre><pre>        }</pre></pre><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4364/Windows-Live-Writer-09b6a2c5a5ee_109A5-image_3f2b1fcb-6046-4d4e-8123-bb34a9ba1e35.png" width="549" height="309"></p><p>Clicking the <strong>Disable Editor</strong> button will put the editor in <em>read only</em> mode.</p><h1>Links</h1><p><strong><a href="https://blazor.net/">Blazor.net</a></strong></p><p><a href="https://quilljs.com/">Quill JS</a></p><p><a href="/Blog/tabid/61/EntryId/4365/Creating-Reusable-Custom-Blazor-Controls.aspx">Creating Reusable Custom Blazor Controls</a></p><h1>Download</h1><p>The project is available at <a href="/Downloads.aspx">http://BlazorHelpWebsite.com/Downloads.aspx</a></p><p>You must have <strong>Visual Studio 2019 </strong>(or higher) installed to run the code.</p></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
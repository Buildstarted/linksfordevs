<!DOCTYPE html>
<html lang="en">
<head>
    <title>
BlazorHelp Website &gt; Blog - Migrating Blazing Pizza (server side Blazor and client side Blazor) -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>BlazorHelp Website &gt; Blog - Migrating Blazing Pizza (server side Blazor and client side Blazor)</h1><div><div class="BlogBody"><acronym class="BlogPublished" title="4/29/2019 4:28 PM"><span class="BlogPubMonth"><span id="dnn_ctr382_MainView_ViewEntry_lblEntryMonth">Apr</span></span><span class="BlogPubDate"><span id="dnn_ctr382_MainView_ViewEntry_lblEntryDay">29</span></span></acronym><p class="BlogSubHead"><span class="blog_author"><span id="dnn_ctr382_MainView_ViewEntry_lblPostedBy">Written by:</span><span id="dnn_ctr382_MainView_ViewEntry_lblUserID">Michael Washington</span></span><br><span id="dnn_ctr382_MainView_ViewEntry_lblDateTime" class="BlogDate">4/29/2019 4:28 PM</span>&nbsp;
  <a id="dnn_ctr382_MainView_ViewEntry_lnkRss" href="http://blazorhelpwebsite.com/Blog/tabid/61/rssid/1/Default.aspx" target="_blank"><img id="dnn_ctr382_MainView_ViewEntry_lnkRssIcon" src="/desktopmodules/Blog/Images/feed-icon-12x12.gif" alt="RssIcon"></a></p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4328/Windows-Live-Writer-Migrating-Blazing-Pizza_C2B8-image_3250234a-3684-4c26-9d96-363895703412.png" width="685" height="408"></p><p>In this article we will compare the structure and the differences between the<em> client side</em> version of the Blazor <strong>Blazing Pizza</strong> example and the <em>server side</em> version.</p><h1>Client Side Blazor and Server Side Blazor</h1><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4328/Windows-Live-Writer-Migrating-Blazing-Pizza_C2B8-image_5b5a27be-fb9c-4e2b-9295-d727cda0e145.png" width="287" height="218"></p><p><strong>Blazor</strong> can run either as a <em>client application</em> or…</p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4328/Windows-Live-Writer-Migrating-Blazing-Pizza_C2B8-image_6488708c-71fd-42b9-8c93-59134c19d954.png" width="551" height="230"></p><p>…completely as a <em>server application</em> (with a thin layer of <strong>JavaScript</strong> to generate the <strong>UI</strong> (User Interface) and to respond to <em>events</em>).</p><p>The primary difference is that the <em>server side</em> version of <strong>Blazor</strong> renders everything on the server. While this can provide for faster application start up (the user does not need to download all the code to their web browser), it has to manage a lot of <em>traffic</em> between the web browser and the server.</p><p>The <em>client side</em> version of <strong>Blazor</strong> runs using <a href="https://webassembly.org/">web assembly</a>. This requires a lot less server resources (or none at all), and can perform non network functionality if the user loses their internet connection. </p><p>The development and debugging experience is a lot easier with the <em>server side</em> version of <strong>Blazor</strong> and rendering all the code on the server supports scenarios that might otherwise be limited due to <em>sandbox</em> security issues with code that runs in the web browser.</p><h1>The Application</h1><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4328/Windows-Live-Writer-Migrating-Blazing-Pizza_C2B8-image_493fdf95-ef66-4cf4-b45e-e9a69bb535ea.png" width="233" height="67"></p><p>The <strong>Blazing Pizza</strong> application, originally created by <strong>Blazor</strong> creator <a href="http://blog.stevensanderson.com/2018/02/06/blazor-intro/">Steve Sanderson</a> (with commits by <a href="https://github.com/rynowak">Ryan Nowak</a> and <a href="https://github.com/danroth27">Dan Roth</a>), allows users to log in using a <strong>Twitter</strong> account (this is required to place an order).</p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4328/Windows-Live-Writer-Migrating-Blazing-Pizza_C2B8-image_bcdcfa50-0d28-4f7e-bbec-423f7d25ee79.png" width="602" height="413"></p><p>The application allows users to configure pizzas and place orders.</p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4328/Windows-Live-Writer-Migrating-Blazing-Pizza_C2B8-image_afee1fbd-bedf-4b76-84f1-4fb8ce1bc375.png" width="607" height="222"></p><p>It saves and tracks the orders in an internal <strong>SQLite</strong> database.</p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4328/Windows-Live-Writer-Migrating-Blazing-Pizza_C2B8-image_a23b50b0-3d31-4652-9795-722170c60769.png" width="605" height="468"></p><p>It also simulates showing the <em>order being delivered</em> using a <strong>map</strong> with <em>animations</em>.</p><p><strong>Steve Sanderson</strong> confirms that it uses <a href="https://twitter.com/stevensanderson/status/1122529719675752449">Drone Delivery</a><img class="wlEmoticon wlEmoticon-smile" alt="Smile" src="/Portals/0/Blog/Files/1/4328/Windows-Live-Writer-Migrating-Blazing-Pizza_C2B8-wlEmoticon-smile_2.png"></p><h1>Upgrade Blazor </h1><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4328/Windows-Live-Writer-Migrating-Blazing-Pizza_C2B8-image_9ab57b51-9e49-4eaa-942f-05329d9d8a77.png" width="527" height="272"></p><p>This is the link to the original version of <a href="https://github.com/dotnet-presentations/blazor-workshop/">Blazing Pizza (.Net Core 2.0 Client Side)</a>.</p><p>The following versions:</p><p>Upgraded the <em>original version</em> (that was written in .Net Core 2.0) using the directions here:</p><p><a href="https://devblogs.microsoft.com/aspnet/asp-net-core-updates-in-net-core-3-0-preview-4/">ASP.NET Core updates in .NET Core 3.0 Preview 4</a></p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4328/Windows-Live-Writer-Migrating-Blazing-Pizza_C2B8-image_09d512dd-3c2b-4398-94be-7e5517324ff7.png" width="535" height="372"></p><p>(The following is copied from the post by <a href="https://twitter.com/danroth27">Daniel Roth</a>):</p><p><strong>To upgrade an existing ASP.NET Core 3.0 Preview 3 project to Preview 4:</strong></p><ul><li>Update Microsoft.AspNetCore.* package references to 3.0.0-preview4-19216-03 </li><li>In Razor Components apps (i.e. server-side Blazor apps) rename <em>_ViewImports.cshtml</em> to <em>_Imports.razor</em> for Razor imports that should apply to Razor components. </li><li>In Razor Component apps, in your <em>Index.cshtml</em> file, change the <code>&lt;script&gt;</code> tag that references <em>components.server.js</em> so that it references <em>blazor.server.js</em> instead. </li><li>Remove any use of the <code>_RazorComponentInclude</code> property in your project file and rename and component files using the .cshtml file extension to use the .razor file extension instead. </li><li>Remove package references to Microsoft.AspNetCore.Components.Server. </li><li>Replace calls to <code>AddRazorComponents</code> in <code>Startup.ConfigureServices</code> with <code>AddServerSideBlazor</code>. </li><li>Replace calls to <code>MapComponentHub&lt;TComponent&gt;</code> with <code>MapBlazorHub</code>. </li><li>Remove any use of the <code>Microsoft.AspNetCore.Components.Services</code> namespace and replace with <code>Microsoft.AspNetCore.Components</code> as required. </li><li>In Razor Component apps, rename the host Razor Page from <em>Index.cshtml</em> to <em>_Host.cshtml</em>replace the <code>{*clientPath}</code> route in the host page with “/”. </li><li>Update any call to <code>UseRouting</code> in your <code>Startup.Configure</code> method to move the route mapping logic into a call to <code>UseEndpoints</code> at the point where you want the endpoints to be executed. Add a call to <code>MapFallbackToPage("_Host")</code> in <code>UseEndpoints</code>. </li></ul><h1>Looking At The Client Side Version Of Blazing Pizza</h1><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4328/Windows-Live-Writer-Migrating-Blazing-Pizza_C2B8-image_34667b19-caf7-4ce9-93a4-f34994e21810.png" width="318" height="197"></p><p>The <a href="https://github.com/SQL-MisterMagoo/blazor-workshop">Blazing Pizza (.Net Core 3.0 Preview 4 Client Side)</a> version closely resembles the original <a href="https://github.com/dotnet-presentations/blazor-workshop/">Blazing Pizza (.Net Core 2.0 Client Side)</a>.</p><p>This version, created by <a href="https://github.com/SQL-MisterMagoo">@SQL-MisterMagoo</a>, shows all of the changes required in a single <strong>GitHub</strong> commit <a href="https://github.com/SQL-MisterMagoo/blazor-workshop/commit/db10b1c01fc5bf3fe9f5a3fc031fd9d8a10c3005">at this link</a>.</p><p>The major changes are as follows:</p><h1>Looking At The Server Side Version Of Blazing Pizza</h1><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4328/Windows-Live-Writer-Migrating-Blazing-Pizza_C2B8-image_c2640227-f609-4ce8-b3b3-b124e730de0f.png" width="676" height="243"></p><p>The primary difference between the structure of the <em>Client Side</em> version and the <em>Server Side</em> version is that the <strong>BlazingPizza.Client</strong> and <strong>BlazingPizza.Server</strong> projects are merged into the single <strong>BlazingPizza</strong> project. </p><p>The <strong>BlazingPizza</strong> project is simply a <strong>.Net Core web application</strong> that references the other projects (<strong>BlazingComponents</strong>, <strong>BlazingPizza.ComponentsLibrary</strong>, and <strong>BlazingPizza.Shared</strong>) that are virtually identical to the migrated <em>Client Side</em><strong>Blazor</strong> versions.</p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4328/Windows-Live-Writer-Migrating-Blazing-Pizza_C2B8-image_30b24f0a-b7a0-4eb5-b53b-382ce3b7829a.png" width="627" height="510"></p><p>The <em>server side</em> project contains some additional configuration changes such as using the <strong>_Host.cshtml</strong> page as the starting page of the application (rather than the <strong>index.html</strong> page).</p><p>(Also, the <strong>_Host.cshtml</strong> page now contains <strong>JavaScript</strong> methods that should have come over as <em>embedded resources</em> from the <strong>BlazingPizza.ComponentsLibrary </strong>project but that did not seem to work).</p><h1>Links</h1><p><strong><a href="https://blazor.net/">Blazor.net</a></strong></p><p><a href="https://docs.microsoft.com/en-us/aspnet/core/blazor/get-started?view=aspnetcore-3.0&amp;tabs=visual-studio">Get started with Blazor</a></p><p><a href="https://github.com/dotnet-presentations/blazor-workshop/">Blazing Pizza (.Net Core 2.0 Client Side) (original version)</a></p><p><a href="https://github.com/ADefWebserver/BlazingPizza">Blazing Pizza (.Net Core 3.0 Preview 4 <span>Server Side</span>) (@ADefWebserver)</a></p><p><a href="https://github.com/SQL-MisterMagoo/blazor-workshop">Blazing Pizza (.Net Core 3.0 Preview 4 <span>Client Side</span>) (@SQL-MisterMagoo)</a></p><div id="dnn_ctr382_MainView_ViewEntry_pnlComments"><p><a href="#AddComment"><span id="dnn_ctr382_MainView_ViewEntry_lblComments" class="BlogComments">2 comment(s) so far...</span></a></p><br><table id="dnn_ctr382_MainView_ViewEntry_lstComments" cellspacing="0" width="100%"><tbody><tr><td><div id="dnn_ctr382_MainView_ViewEntry_lstComments_divBlogBubble_0" class="BlogBubble"><blockquote><p><span id="dnn_ctr382_MainView_ViewEntry_lstComments_lblTitle_0" class="NormalBold">Re: Migrating Blazing Pizza (server side Blazor and client side Blazor)</span></p><p>
       Hi Michael,</p><p>thank you for your great work, Your samples helped me quite a lot. Will there be an update to preview 6 ? <br>I am rather new to web programming. Coming from winforms I found Blazor enabling me to get into web rather easily. But there is a lot to learn. I also have to convert a legacy Silverlight app and this seems the way to go after struggling with angular for some time. For the next time I will stick to SSB. <br>It would be great, if you also could provide an authentication / authorization sample for SSB  using EF but maybe dapper with a custom user db. Using authorization with the templates is easy, but there is too much hidden. We cannot go that path as we have to use our legacy user db which is also used by our winforms app. I am sure that there are a lot of other people - especially those coming from winforms - who have the same problem.</p><p>Thanks</p><p>regards</p><p>Uwe
      </p></blockquote><cite><span id="dnn_ctr382_MainView_ViewEntry_lstComments_lblUserName_0" class="NormalBold">By Uwe on </span>
      &nbsp;
      <span id="dnn_ctr382_MainView_ViewEntry_lstComments_lblCommentDate_0" class="Normal">6/16/2019 5:20 AM</span></cite></div></td></tr><tr><td><div id="dnn_ctr382_MainView_ViewEntry_lstComments_divBlogBubble_1" class="BlogBubbleOwner"><blockquote><p><span id="dnn_ctr382_MainView_ViewEntry_lstComments_lblTitle_1" class="NormalBold">Re: Migrating Blazing Pizza (server side Blazor and client side Blazor)</span></p><p>
       @Uwe - I will post more in the future, however, for now the best thing to look at for Authentication/Authorization is: https://github.com/dotnet-presentations/blazor-workshop/blob/master/docs/06-authentication-and-authorization.md
      </p></blockquote><cite><span id="dnn_ctr382_MainView_ViewEntry_lstComments_lblUserName_1" class="NormalBold">By Michael Washington on </span>
      &nbsp;
      <span id="dnn_ctr382_MainView_ViewEntry_lstComments_lblCommentDate_1" class="Normal">6/16/2019 5:21 AM</span></cite></div></td></tr></tbody></table></div></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Intro to quantum computing with Q# &#x2013; Part 2, Superposition - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Intro to quantum computing with Q# &#x2013; Part 2, Superposition - linksfor.dev(s)"/>
    <meta property="og:description" content="In the previous post in this series we mentioned the concept of superposition briefly. Let&#x27;s use this second part to dive deeper into the mathematics of it, meet the cat of Schr&#xF6;dinger and try to find some simple quantum computing use cases for it."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://www.strathweb.com/2020/04/intro-to-quantum-computing-with-q-part-2-superposition/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Intro to quantum computing with Q# &#x2013; Part 2, Superposition</title>
<div class="readable">
        <h1>Intro to quantum computing with Q# &#x2013; Part 2, Superposition</h1>
            <div>Reading time: 15-19 minutes</div>
        <div>Posted here: 09 Apr 2020</div>
        <p><a href="https://www.strathweb.com/2020/04/intro-to-quantum-computing-with-q-part-2-superposition/">https://www.strathweb.com/2020/04/intro-to-quantum-computing-with-q-part-2-superposition/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
														<p><a href="https://www.strathweb.com/2020/03/intro-to-quantum-computing-with-q-part-1-the-background-and-the-qubit/">In the previous post</a> in this series we mentioned the concept of superposition briefly. Let's use this second part to dive deeper into the mathematics of it, meet the cat of Schrödinger and try to find some simple quantum computing use cases for it.</p>

<h3 id="toc_1">Superposition – introduction</h3>
<p>Last time around, we briefly mentioned that when a qubit is in superposition, “it is both 0 and 1 at the same time”. This is a rather simplistic and not necessarily accurate description, but one that is commonly used in introductory texts and popular science articles, as it manages to convey the weirdness of conceptualizing quantum states.</p>
<p>Since we have a lot of room here, we now have, however, the luxury to emphasise that such a statement is really stripped of any mathematical or physical substance. Thankfully, we looked a little at the mathematics behind the qubit already, so we are now well positioned to describe superposition more accurately. Namely, we know that the quantum state of a qubit is a <strong>linear combination</strong> of <span></span><span id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow><mo>|</mo><mn>0</mn><mo>&amp;#x27E9;</mo></mrow></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>|</mo><mn>0</mn><mo>⟩</mo></mrow></math></span></span> and <span></span><span id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow><mo>|</mo><mn>1</mn><mo>&amp;#x27E9;</mo></mrow></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>|</mo><mn>1</mn><mo>⟩</mo></mrow></math></span></span>. </p>
<p>In other words, given a a qubit state that we already discussed:</p>
<p><span></span><span><span id="MathJax-Element-3-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow><mo>|</mo><mi>&amp;#x03C6;</mi><mo>&amp;#x27E9;</mo></mrow><mo>=</mo><mi>&amp;#x03B1;</mi><mrow><mo>|</mo><mn>0</mn><mo>&amp;#x27E9;</mo></mrow><mo>+</mo><mi>&amp;#x03B2;</mi><mrow><mo>|</mo><mn>1</mn><mo>&amp;#x27E9;</mo></mrow></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow><mo>|</mo><mi>φ</mi><mo>⟩</mo></mrow><mo>=</mo><mi>α</mi><mrow><mo>|</mo><mn>0</mn><mo>⟩</mo></mrow><mo>+</mo><mi>β</mi><mrow><mo>|</mo><mn>1</mn><mo>⟩</mo></mrow></math></span></span></span></p>
<p>we can say that a qubit is in a superposition when both amplitudes (and thus, probabilities) <span></span><span id="MathJax-Element-4-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi>&amp;#x03B1;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo stretchy="false">|</mo></mrow><mi>α</mi><mrow><mo stretchy="false">|</mo></mrow></math></span></span> and <span></span><span id="MathJax-Element-5-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi>&amp;#x03B2;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo stretchy="false">|</mo></mrow><mi>β</mi><mrow><mo stretchy="false">|</mo></mrow></math></span></span> are non-zero. </p>
<p>The ontological aspect of the superposition, and in a broader sense, the entire quantum theory, is a lot more blurry and depends on the epistemology we would choose to subscribe to. </p>
<h3 id="toc_2">Quantum mechanical view</h3>
<p>In 1935, Austrian physicist <a href="https://en.wikipedia.org/wiki/Erwin_Schr%C3%B6dinger">Erwin Schrödinger</a> published one of the most famous papers in the history of physics, “Die gegenwärtige Situation in der Quantenmechanik” (English translation is <a href="http://hermes.ffn.ub.es/luisnavarro/nuevo_maletin/Schrodinger_1935_cat.pdf">available here</a>), in which he proposed a thought experiment around  …a cat. </p>
<p>We'll let Schrödinger himself explain the experiment:</p>
<blockquote>
<p>“A cat is penned up in a steel chamber, along with the following diabolical device (which must be secured against direct interference by the cat): in a Geiger counter there is a tiny bit of radioactive substance, so small that perhaps in the course of one hour one of the atoms decays, but also, with equal probability, perhaps none; if it happens, the counter tube discharges and through a relay releases a hammer which shatters a small flask of hydrocyanic acid. If one has left this entire system to itself for an hour, one would say that the cat still lives if meanwhile no atom has decayed. The first atomic decay would have poisoned it. The <span></span><span id="MathJax-Element-6-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C8;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ψ</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>t</mi><mo stretchy="false">)</mo></math></span></span> function for the entire system would express this by having in it the living and the dead cat (pardon the expression) mixed or smeared out in equal parts.”</p>
</blockquote>
<p>The cat has since gone to establish itself one of the symbols of quantum theory and has gained a firm position in popular culture. There have been countless references to the dead-and-alive-at-the-same-time cat in movies, books, video games and many other areas of our society. And just so that you see that physicists can have a good sense of humor too, have a quick look at one of the most popular quantum mechanics undergraduate textbooks – <a href="https://www.amazon.de/Introduction-Quantum-Mechanics-David-Griffiths/dp/1107179866">“Introduction to Qunatum Mechanics” by David Griffiths</a>, which has a cat that is alive on the front cover, and a cat that is dead on the back cover.</p>
<p>There are plenty of competing interpretations of quantum mechanics, which can be used to explain or at least interpret the paradox, the most prevalent of which is the “Copenhagen interpretation”, championed by Niels Bohr and several other physicists that were close to him, such as Werner Heisenberg. In the view adopted in the “Copenhagen interpretation”, the superposition or, for that matter, the wave function describing a quantum object, does not describe the nature or reality in any way, nor are we allowed to reason about the reality behind a quantum object until it's actually measured. In other words, it is impossible disassociate the reality responsible for the quantum phenomena from the measurement itself, as we can only observe trace effects of quantum objects on the measurement apparatus and only infer their existence that way. This is fundamentally different from classical macro-scale physics, where systems, their state and behavior can be independently observed. </p>
<p>Within that view, superposition is a purely mathematical concept describing relations between various probability amplitudes of finding a particle at a given position or in a given quantum state. Thus, superposition is merely a tool that allows us to express our probabilistic expectations for the measurements. Within that thought framework, the cat paradox is no longer a paradox.</p>
<p>As Arkady Plotnitsky puts it in his excellent <a href="https://www.springer.com/de/book/9780387853338">publication</a>, with the elegance far superior to the parlance of this blog post:</p>
<blockquote>
<p>“if (…) quantum states are seen (…), as defined by the <span></span><span id="MathJax-Element-7-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C8;</mi></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ψ</mi></math></span></span>-function, strictly as mathematical entities encoding and enabling expectation catalogues concerning the outcome of possible experiments – rather than describing the behavior of quantum systems, in particular between experiments – Schrödinger's thought experiment presents no problem”.</p>
</blockquote>
<h3 id="toc_3">Superposition mathematics for a single qubit</h3>
<p>Now that we have established (or rather, in the spirit of Copenhagen, stepped around) the ontological basics, let's look at how we can put our qubit in a superposition and what are the quantum computational consequences of doing so. Of course superposition is one of the critical aspects of quantum computing  – without it, the qubit could only represent the two binary states of  <em>0</em> and <em>1</em>, which would strip it of any possible advantages over classical computing. </p>
<p>In quantum mechanics, arbitrary transformations of the quantum state are not possible. Instead, time evolution of a quantum state is always represented by <strong>linear unitary transformations of the associated vector space</strong>. This is taken as an axiom, and is one of the postulates of quantum mechanics. The transformations are represented by matrices and in physics, in order for a given transformation matrix <span></span><span id="MathJax-Element-8-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>U</mi></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>U</mi></math></span></span> to be unitary, its Hermitian adjoint (a generalized version of conjugate transpose <span></span><span id="MathJax-Element-9-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mi>U</mi><mo>&amp;#x2217;</mo></msup></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>U</mi><mo>∗</mo></msup></math></span></span> from linear algebra) <span></span><span id="MathJax-Element-10-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mi>U</mi><mo>&amp;#x2020;</mo></msup></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>U</mi><mo>†</mo></msup></math></span></span> must be its own inverse. In other words, <span></span><span id="MathJax-Element-11-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>U</mi></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>U</mi></math></span></span> must satisfy the condition:</p>
<p><span></span><span><span id="MathJax-Element-12-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msup><mi>U</mi><mo>&amp;#x2020;</mo></msup><mi>U</mi><mo>=</mo><mi>I</mi></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msup><mi>U</mi><mo>†</mo></msup><mi>U</mi><mo>=</mo><mi>I</mi></math></span></span></span></p>
<p>where <em>I</em> is the identity matrix. Therefore, algebraically speaking, in order to transform the state of a qubit into a <strong>uniformly distributed superposition</strong> we need to linearly transform it using the Hadamard transformation, represented by the Hadamard matrix, named like this after the French mathematician <a href="https://en.wikipedia.org/wiki/Jacques_Hadamard">Jacques Hadamard</a>. </p>
<p>As we already mentioned, quantum transformations are described by matrices – more specifically, <span></span><span id="MathJax-Element-13-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mn>2</mn><mi>n</mi></msup><mo>&amp;#x2217;</mo><msup><mn>2</mn><mi>n</mi></msup></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mi>n</mi></msup><mo>∗</mo><msup><mn>2</mn><mi>n</mi></msup></math></span></span> sized unitary matrices, where n stands for the number of qubits the gate acts on. </p>
<h3 id="toc_4">Superposition in quantum computing</h3>
<p>In quantum computing, quantum state transformations are represented – similarly to the analogous concept from classical computing – by computational gates. We will look in details at various gates and circuits in the next post in this series, for now we will just say tt Hadamard gate acts on a single qubit, hence it's corresponding matrix size is 2×2. The Hadamard <em>H</em> matrix is shown below:</p>
<p><span></span><span><span id="MathJax-Element-14-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>H</mi><mo>=</mo><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd><mtd><mo>&amp;#x2212;</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr></mtable><mo>]</mo></mrow></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>H</mi><mo>=</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd><mtd><mo>−</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr></mtable><mo>]</mo></mrow></math></span></span></span>
</p>
<p>Since <span></span><span id="MathJax-Element-15-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></math></span></span> appears in each matrix element, we know from linear algebra that we can simplify the equation:</p>
<p><span></span><span><span id="MathJax-Element-16-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>H</mi><mo>=</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mn>1</mn></mtd><mtd><mn>1</mn></mtd></mtr><mtr><mtd><mn>1</mn></mtd><mtd><mo>&amp;#x2212;</mo><mn>1</mn></mtd></mtr></mtable><mo>]</mo></mrow></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>H</mi><mo>=</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mn>1</mn></mtd><mtd><mn>1</mn></mtd></mtr><mtr><mtd><mn>1</mn></mtd><mtd><mo>−</mo><mn>1</mn></mtd></mtr></mtable><mo>]</mo></mrow></math></span></span></span></p>
<p>Our Hadamard matrix is not just unitary, it is also self adjoint (<a href="https://en.wikipedia.org/wiki/Hermitian_matrix">Hermitian</a>) – so it's equal to its own conjugate transpose. In other words:</p>
<p><span></span><span><span id="MathJax-Element-17-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>H</mi><mo>=</mo><msup><mi>H</mi><mo>&amp;#x2020;</mo></msup></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>H</mi><mo>=</mo><msup><mi>H</mi><mo>†</mo></msup></math></span></span></span></p>
<p>This means that the following holds:</p>
<p><span></span><span><span id="MathJax-Element-18-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>H</mi><msup><mi>H</mi><mo>&amp;#x2020;</mo></msup><mo>=</mo><mi>H</mi><mi>H</mi><mo>=</mo><mi>I</mi></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>H</mi><msup><mi>H</mi><mo>†</mo></msup><mo>=</mo><mi>H</mi><mi>H</mi><mo>=</mo><mi>I</mi></math></span></span></span></p>
<p>We are starting to get side tracked by linear algebra again, so let's go back to our qubit. Suppose we start with a qubit prepared to be <span></span><span id="MathJax-Element-19-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow><mo>|</mo><mn>0</mn><mo>&amp;#x27E9;</mo></mrow></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>|</mo><mn>0</mn><mo>⟩</mo></mrow></math></span></span>. At this point we know it's classical bit value would be <em>0</em>, because <span></span><span id="MathJax-Element-20-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03B1;</mi><mo>=</mo><mn>1</mn></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>α</mi><mo>=</mo><mn>1</mn></math></span></span> and <span></span><span id="MathJax-Element-21-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03B2;</mi><mo>=</mo><mn>0</mn></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>β</mi><mo>=</mo><mn>0</mn></math></span></span>, so the probability of measuring a <em>0</em> is 100%. We now apply the Hadamard gate by multiplying our ket by the Hadamard matrix.</p>
<p>
<span></span><span><span id="MathJax-Element-22-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>H</mi><mo stretchy=&quot;false&quot;>(</mo><mrow><mo>|</mo><mn>0</mn><mo>&amp;#x27E9;</mo></mrow><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd><mtd><mo>&amp;#x2212;</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr></mtable><mo>]</mo></mrow><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mn>1</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mn>1</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>+</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable><mo>]</mo></mrow></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>H</mi><mo stretchy="false">(</mo><mrow><mo>|</mo><mn>0</mn><mo>⟩</mo></mrow><mo stretchy="false">)</mo><mo>=</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd><mtd><mo>−</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr></mtable><mo>]</mo></mrow><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mn>1</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mn>1</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>+</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable><mo>]</mo></mrow></math></span></span></span>
</p>
<p>Similarly, for <span></span><span id="MathJax-Element-23-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow><mo>|</mo><mn>1</mn><mo>&amp;#x27E9;</mo></mrow></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>|</mo><mn>1</mn><mo>⟩</mo></mrow></math></span></span>:</p>
<p>
<span></span><span><span id="MathJax-Element-24-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>H</mi><mo stretchy=&quot;false&quot;>(</mo><mrow><mo>|</mo><mn>1</mn><mo>&amp;#x27E9;</mo></mrow><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd><mtd><mo>&amp;#x2212;</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr></mtable><mo>]</mo></mrow><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr><mtr><mtd><mo>&amp;#x2212;</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mn>1</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>&amp;#x2013;</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable><mo>]</mo></mrow></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>H</mi><mo stretchy="false">(</mo><mrow><mo>|</mo><mn>1</mn><mo>⟩</mo></mrow><mo stretchy="false">)</mo><mo>=</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd><mtd><mo>−</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr></mtable><mo>]</mo></mrow><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr><mtr><mtd><mo>−</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mn>1</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>–</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable><mo>]</mo></mrow></math></span></span></span>
</p>
<p>The above representation is usually more readable and understandable when beginning to work with quantum computing, especially without deeper background in physics. That said, we can also write this in a more compact Dirac notation:</p>
<p>
<span></span><span><span id="MathJax-Element-25-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>H</mi><mo stretchy=&quot;false&quot;>(</mo><mrow><mo>|</mo><mn>0</mn><mo>&amp;#x27E9;</mo></mrow><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mrow><mo>|</mo><mn>0</mn><mo>&amp;#x27E9;</mo></mrow><mo>+</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mrow><mo>|</mo><mn>1</mn><mo>&amp;#x27E9;</mo></mrow><mo>=</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mo stretchy=&quot;false&quot;>(</mo><mrow><mo>|</mo><mn>0</mn><mo>&amp;#x27E9;</mo></mrow><mo>+</mo><mrow><mo>|</mo><mn>1</mn><mo>&amp;#x27E9;</mo></mrow><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>H</mi><mo stretchy="false">(</mo><mrow><mo>|</mo><mn>0</mn><mo>⟩</mo></mrow><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mrow><mo>|</mo><mn>0</mn><mo>⟩</mo></mrow><mo>+</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mrow><mo>|</mo><mn>1</mn><mo>⟩</mo></mrow><mo>=</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mo stretchy="false">(</mo><mrow><mo>|</mo><mn>0</mn><mo>⟩</mo></mrow><mo>+</mo><mrow><mo>|</mo><mn>1</mn><mo>⟩</mo></mrow><mo stretchy="false">)</mo></math></span></span></span>
</p>
<p>
<span></span><span><span id="MathJax-Element-26-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>H</mi><mo stretchy=&quot;false&quot;>(</mo><mrow><mo>|</mo><mn>1</mn><mo>&amp;#x27E9;</mo></mrow><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mrow><mo>|</mo><mn>0</mn><mo>&amp;#x27E9;</mo></mrow><mo>&amp;#x2013;</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mrow><mo>|</mo><mn>1</mn><mo>&amp;#x27E9;</mo></mrow><mo>=</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mo stretchy=&quot;false&quot;>(</mo><mrow><mo>|</mo><mn>0</mn><mo>&amp;#x27E9;</mo></mrow><mo>&amp;#x2212;</mo><mrow><mo>|</mo><mn>1</mn><mo>&amp;#x27E9;</mo></mrow><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>H</mi><mo stretchy="false">(</mo><mrow><mo>|</mo><mn>1</mn><mo>⟩</mo></mrow><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mrow><mo>|</mo><mn>0</mn><mo>⟩</mo></mrow><mo>–</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mrow><mo>|</mo><mn>1</mn><mo>⟩</mo></mrow><mo>=</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac><mo stretchy="false">(</mo><mrow><mo>|</mo><mn>0</mn><mo>⟩</mo></mrow><mo>−</mo><mrow><mo>|</mo><mn>1</mn><mo>⟩</mo></mrow><mo stretchy="false">)</mo></math></span></span></span>
</p>
<p>The difference between the two cases (starting the process with a <span></span><span id="MathJax-Element-27-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow><mo>|</mo><mn>0</mn><mo>&amp;#x27E9;</mo></mrow></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>|</mo><mn>0</mn><mo>⟩</mo></mrow></math></span></span> vs <span></span><span id="MathJax-Element-28-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow><mo>|</mo><mn>1</mn><mo>&amp;#x27E9;</mo></mrow></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>|</mo><mn>1</mn><mo>⟩</mo></mrow></math></span></span>) is the amplitude sign (+ vs -), but notice that in order to obtain classic probabilities we need to square the amplitudes anyway, and therefore we are <strong>equally likely (50%)</strong> to get <span></span><span id="MathJax-Element-29-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow><mo>|</mo><mn>0</mn><mo>&amp;#x27E9;</mo></mrow></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>|</mo><mn>0</mn><mo>⟩</mo></mrow></math></span></span> and <span></span><span id="MathJax-Element-30-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow><mo>|</mo><mn>1</mn><mo>&amp;#x27E9;</mo></mrow></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>|</mo><mn>1</mn><mo>⟩</mo></mrow></math></span></span> in both cases. In other words, the Hadamard gate has created a uniformly distributed superposition for us in both situations.</p>
<p>Another interesting property of the Hadamard gate, is that like all quantum gates, it is reversible. That is not surprising, since gates are unitary operators, which means that property is guaranteed by the underlying mathematics. Thus, applying Hadamard gate again, returns us back to the state which we started from. This is a property that does not apply to all classical computing gates – for example AND or XOR are not reversible.</p>
<p>In the mathematical terms, we can verify it in the following way (going back to <span></span><span id="MathJax-Element-31-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow><mo>|</mo><mn>0</mn><mo>&amp;#x27E9;</mo></mrow></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>|</mo><mn>0</mn><mo>⟩</mo></mrow></math></span></span>):</p>
<p>
<span></span><span><span id="MathJax-Element-32-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd><mtd><mo>&amp;#x2212;</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr></mtable><mo>]</mo></mrow><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mn>1</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd></mtr></mtable><mo>]</mo></mrow></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd><mtd><mo>−</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr></mtable><mo>]</mo></mrow><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mn>1</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd></mtr></mtable><mo>]</mo></mrow></math></span></span></span>
</p>
<p>and (going back to <span></span><span id="MathJax-Element-33-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow><mo>|</mo><mn>1</mn><mo>&amp;#x27E9;</mo></mrow></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>|</mo><mn>1</mn><mo>⟩</mo></mrow></math></span></span>):</p>
<p>
<span></span><span><span id="MathJax-Element-34-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd><mtd><mo>&amp;#x2212;</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr></mtable><mo>]</mo></mrow><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr><mtr><mtd><mo>&amp;#x2212;</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable><mo>]</mo></mrow></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd><mtd><mo>−</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr></mtable><mo>]</mo></mrow><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr><mtr><mtd><mo>−</mo><mfrac><mn>1</mn><msqrt><mn>2</mn></msqrt></mfrac></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable><mo>]</mo></mrow></math></span></span></span>
</p>
<h3 id="toc_5">Superposition – Q# code</h3>
<p>After long and winding road, we have finally arrived at the happy place that allows us to write some Q# code. We can use the example from previous blog post as the starting point – remember that we prepared a qubit there, and then measured its value. All of that, for a reminder, is shown again below (including its related C# driver code).</p>
<div><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e8e2bc5880cd925363556" data-settings=" minimize scroll-mouseover wrap">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p></div>
				</td>
						<td><div><p><span>open </span><span>Microsoft</span><span>.</span><span>Quantum</span><span>.</span><span>Canon</span><span>;</span></p><p><span>open </span><span>Microsoft</span><span>.</span><span>Quantum</span><span>.</span><span>Intrinsic</span><span>;</span></p><p><span>open </span><span>Microsoft</span><span>.</span><span>Quantum</span><span>.</span><span>Measurement</span><span>;</span></p><p><span>operation </span><span>MeasureQubits</span><span>(</span><span>count</span><span> </span><span>:</span><span> </span><span>Int</span><span>)</span><span> </span><span>:</span><span> </span><span>Int</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>mutable </span><span>resultsTotal</span><span> </span><span>=</span><span> </span><span>0</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>using</span><span> </span><span>(</span><span>qubit</span><span> </span><span>=</span><span> </span><span>Qubit</span><span>(</span><span>)</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>for</span><span> </span><span>(</span><span>idx </span><span>in</span><span> </span><span>0..count</span><span>)</span><span> </span><span>{</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>let </span><span>result</span><span> </span><span>=</span><span> </span><span>MResetZ</span><span>(</span><span>qubit</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>set </span><span>resultsTotal</span><span> </span><span>+=</span><span> </span><span>result</span><span> </span><span>==</span><span> </span><span>One</span><span> </span><span>?</span><span> </span><span>1</span><span> </span><span>|</span><span> </span><span>0</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>resultsTotal</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0087 seconds] -->
</div>
<div><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e8e2bc5880e1250579870" data-settings=" minimize scroll-mouseover wrap">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>class</span><span> </span><span>Driver</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>static</span><span> </span><span>async </span><span>Task </span><span>Main</span><span>(</span><span>string</span><span>[</span><span>]</span><span> </span><span>args</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>using </span><span>var</span><span> </span><span>qsim</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>QuantumSimulator</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>var</span><span> </span><span>repeats</span><span> </span><span>=</span><span> </span><span>1000</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>$</span><span>"Running qubit measurement {repeats} times."</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>var</span><span> </span><span>results</span><span> </span><span>=</span><span> </span><span>await </span><span>MeasureQubits</span><span>.</span><span>Run</span><span>(</span><span>qsim</span><span>,</span><span> </span><span>repeats</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>$</span><span>"Received {results} ones."</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>$</span><span>"Received {repeats - results} zeros."</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0037 seconds] -->
</div>
<p>The code prepares a single qubit, and measures it in the Pauli Z basis, repeating this a given amount of times (1000), keeping track of the total tally of 0s and 1s measured. As we already determined last time, such set up will yield 100% 0s as the qubit is in the base state of <span></span><span id="MathJax-Element-35-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow><mo>|</mo><mn>0</mn><mo>&amp;#x27E9;</mo></mrow></math>" role="presentation"><span role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>|</mo><mn>0</mn><mo>⟩</mo></mrow></math></span></span> and when we measure it in the Pauli Z basis we are guaranteed to get a <em>0</em>.</p>
<p>In order to apply the uniformly distributed superposition, we can sneak in the Hadamard gate, represented by the aptly named <em>H()</em> method in Q#, right into the exact same code snippet – before we measure the qubit. This is shown next.</p>
<div><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e8e2bc5880ef114106172" data-settings=" minimize scroll-mouseover wrap">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p></div>
				</td>
						<td><div><p><span>open </span><span>Microsoft</span><span>.</span><span>Quantum</span><span>.</span><span>Canon</span><span>;</span></p><p><span>open </span><span>Microsoft</span><span>.</span><span>Quantum</span><span>.</span><span>Intrinsic</span><span>;</span></p><p><span>open </span><span>Microsoft</span><span>.</span><span>Quantum</span><span>.</span><span>Measurement</span><span>;</span></p><p><span>operation </span><span>MeasureQubits</span><span>(</span><span>count</span><span> </span><span>:</span><span> </span><span>Int</span><span>)</span><span> </span><span>:</span><span> </span><span>Int</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>mutable </span><span>resultsTotal</span><span> </span><span>=</span><span> </span><span>0</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>using</span><span> </span><span>(</span><span>qubit</span><span> </span><span>=</span><span> </span><span>Qubit</span><span>(</span><span>)</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>for</span><span> </span><span>(</span><span>idx </span><span>in</span><span> </span><span>0..count</span><span>)</span><span> </span><span>{</span><span> </span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>H</span><span>(</span><span>qubit</span><span>)</span><span>;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>let </span><span>result</span><span> </span><span>=</span><span> </span><span>MResetZ</span><span>(</span><span>qubit</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>set </span><span>resultsTotal</span><span> </span><span>+=</span><span> </span><span>result</span><span> </span><span>==</span><span> </span><span>One</span><span> </span><span>?</span><span> </span><span>1</span><span> </span><span>|</span><span> </span><span>0</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>resultsTotal</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0023 seconds] -->
</div>
<p>If we now run this code using the same C# driver code as we had last time, we should see result that is close to this:</p>
<div><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e8e2bc5880fc020781164" data-settings=" minimize scroll-mouseover wrap">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>Running </span><span>qubit </span><span>measurement</span><span> </span><span>1000</span><span> </span><span>times</span><span>.</span></p><p><span>Received</span><span> </span><span>498</span><span> </span><span>ones</span><span>.</span></p><p><span>Received</span><span> </span><span>502</span><span> </span><span>zeros</span><span>.</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
</div>
<p>We can pause here for a moment, and marvel at our astonishing achievement. Sure, this is running on a quantum simulator only, but should this Q# code be deployed to a real Q# compatible quantum computer (which, hopefully, will be possible soon using <a href="https://azure.microsoft.com/en-us/services/quantum/">Azure Quantum</a>), it would, in principle, work the same way. So let's squint our eyes for a moment and imagine that it is indeed a real quantum computer that we are interacting with. What we have tapped into here, is true, nature-guaranteed randomness. The bits are fully random, with 50% chance of being 0 or 1, and those probabilities are guaranteed by the laws of quantum mechanics and the underlying mathematics we already looked at.</p>
<p>The true randomness right at the heart of our reality might be very difficult to make peace with. In a <a href="https://www.amazon.com/Born-Einstein-Letters-1916-1955-Friendship-Uncertain/dp/1403944962">1926 letter to Max Born</a>, Albert Einstein, who couldn't agree with the probabilistic core of quantum mechanics or Heisenberg's uncertainty principle, and was convinced the ultimate nature of reality is fundamentally deterministic, wrote: </p>
<blockquote>
<p>“The theory produces a good deal but hardly brings us closer to the secret of the Old One. I am at all events convinced that He does not play dice.” (org. “Die Theorie liefert viel, aber dem Geheimnis des Alten bringt sie uns kaum näher. Jedenfalls bin ich überzeugt, daß der nicht würfelt.”).</p>
</blockquote>
<p>We can close off this post by doing something useful, for a change. Let's leverage the quantum superposition to build a true random number generator in Q#. Of course at this point, it should not be very surprising to anyone, given we just managed to generate random bits. As all computing students know, once we have enough bits we can form numbers out of them – such as for example 16-, 32- or 64-bit integers.</p>
<p>The final piece of our Q# code does just that, it generates an array of 32 random bits, which we can use to construct a truly random number.</p>
<div><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e8e2bc588109827365014" data-settings=" minimize scroll-mouseover wrap">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>operation </span><span>RandomNumberGenerator</span><span>(</span><span>)</span><span> </span><span>:</span><span> </span><span>Bool</span><span>[</span><span>]</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>mutable </span><span>randomBits</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>Bool</span><span>[</span><span>32</span><span>]</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>for</span><span> </span><span>(</span><span>idx </span><span>in</span><span> </span><span>0..31</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>using</span><span>(</span><span>qubit</span><span> </span><span>=</span><span> </span><span>Qubit</span><span>(</span><span>)</span><span>)</span><span>&nbsp;&nbsp;</span><span>{</span><span>&nbsp;&nbsp; </span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>H</span><span>(</span><span>qubit</span><span>)</span><span>;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>let </span><span>result</span><span> </span><span>=</span><span> </span><span>MResetZ</span><span>(</span><span>qubit</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>set </span><span>randomBits</span><span> </span><span>w</span><span>/=</span><span> </span><span>idx</span><span> </span><span>&lt;</span><span>-</span><span> </span><span>result</span><span> </span><span>==</span><span> </span><span>One</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>randomBits</span><span>;</span></p><p><span>}</span><span>&nbsp;&nbsp;</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0020 seconds] -->
</div>
<p>The code is very similar to the code we used earlier, and the Hadamard gate is of course at the center of all interesting action, guaranteeing a uniformly distributed superposition. It is worth briefly mention the somewhat esoteric syntax used for inserting elements into an array: <em>set array w/= idx &lt;- value</em>. To be more precise, this is in fact a copy-and-update expression, since arrays in Q# are immutable. Therefore, this is really not the most efficient way of keeping track of our random 32 bits, but it was a good occasion to introduce this useful language construct.</p>
<p>Finally, the C# driver to run the code and then convert the random bits into a 32-bit unsigned integer looks like this:</p>
<div><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e8e2bc588116574679200" data-settings=" minimize scroll-mouseover wrap">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>class</span><span> </span><span>Driver</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>static</span><span> </span><span>async </span><span>Task </span><span>Main</span><span>(</span><span>string</span><span>[</span><span>]</span><span> </span><span>args</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>using </span><span>var</span><span> </span><span>qsim</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>QuantumSimulator</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>var</span><span> </span><span>randomBits</span><span> </span><span>=</span><span> </span><span>await </span><span>RandomNumberGenerator</span><span>.</span><span>Run</span><span>(</span><span>qsim</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>var</span><span> </span><span>bitString</span><span> </span><span>=</span><span> </span><span>string</span><span>.</span><span>Join</span><span>(</span><span>""</span><span>,</span><span> </span><span>randomBits</span><span>.</span><span>Select</span><span>(</span><span>x</span><span> </span><span>=</span><span>&gt;</span><span> </span><span>x</span><span> </span><span>?</span><span> </span><span>1</span><span> </span><span>:</span><span> </span><span>0</span><span>)</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>$</span><span>"Generated random bit string: {bitString}"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>$</span><span>"Generated random uint32: {Convert.ToUInt32(bitString, 2)}"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0021 seconds] -->
</div>
<p>The output of this code would be something like:</p>
<div><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e8e2bc588123233061385" data-settings=" minimize scroll-mouseover wrap">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>Generated </span><span>random </span><span>bit </span><span>string</span><span>:</span><span> </span><span>10011111001000010110000101100110</span></p><p><span>Generated </span><span>random </span><span>uint32</span><span>:</span><span> </span><span>2669764966</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
</div>
<p>And there we have it – we have achieved something useful with a quantum computer. In fact, if we think about it, it is something no classical computer can ever claim – a mathematically guaranteed, underpinned by the basic laws of nature, true random number.</p>
<h3 id="toc_6">Summary</h3>
<p>In this part 2 of the blog post series we had a look at the epistemology, mathematics and Q# code behind the superposition. We discussed the algebraic meaning of quantum transformations and also briefly touched upon the concept of quantum gates. Finally, we managed to unsettle Albert Einstein a bit and created a first somewhat useful program in Q#.</p>
<p>In the next post in this series we will be looking in more details at quantum gates and attempt to discuss the important ones.</p>

						</div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs" /></noscript>
</body>
</html>
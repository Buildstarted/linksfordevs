<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Building cross-platform desktop apps using Blazor and Electron.NET -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>Building cross-platform desktop apps using Blazor and Electron.NET</h1><div><div id="post-content" class="post-content"><p>As a Web developer, I was looking for leveraging my skills (<a href="https://github.com/dotnet/csharplang">C#</a>, <a href="https://github.com/aspnet/AspNetCore/tree/master/src/Razor">Razor</a>, <a href="https://dotnet.microsoft.com/">.NET</a>) to<br>write fast and cross-platform desktop apps.</p><p>You can be ambitious for speed if you discover <a href="https://electronjs.org/">Electronjs</a> technology that outperforms desktop technologies on Windows such as <a href="https://github.com/dotnet/wpf">WPF</a> and <a href="https://github.com/dotnet/winforms">WinForms</a>. You notice that performance if you use <a href="https://code.visualstudio.com/">Visual Studio Code</a> the most popular code editor in the world.</p><p>Electronjs performance may be attributed to its chemistry. More than half of the source code base is written in <a href="https://github.com/electron/electron">C++</a>. The framework is a great combination of <a href="https://nodejs.org/en/">Nodejs</a> and <a href="https://www.chromium.org/Home">Chromium</a> technologies.</p><p>I have to use Javascript, HTML, and CSS to build cross-platform Desktop Apps using Electronjs framework. But, I prefer C#. The first good news is <a href="https://github.com/aspnet/Blazor">Blazor</a> is now an official and supported Microsoft product.</p><p>Blazor is a single-page app framework for building client-side web apps using .NET and <a href="https://webassembly.org/">WebAssembly</a>. The second good news is the <a href="https://github.com/ElectronNET/Electron.NET">Electron.NET</a> library which is a wrapper around a "normal" Electron application with an embedded <a href="https://github.com/aspnet/AspNetCore">ASP.NET Core</a> application.</p><figure class="kg-card kg-embed-card"><p>The current version is 5.22.12 (5=Electron version, 22=.NET Core 2.2). The authors of the library are 2 awesome Microsoft MVPs (Most Valuable Professionals) : <a href="https://twitter.com/BFreakout">Gregor Biswanger</a> and <a href="https://twitter.com/robert0muehsig">Robert Muehsig</a>. The community behind it is really awesome. It is also growing. You can engage with it using the Gitter channel.</p><p><a href="https://gitter.im/ElectronNET/community?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge"><img src="https://badges.gitter.im/ElectronNET/community.svg" alt="Gitter"></a></p><p>During <a href="https://mybuild.techcommunity.microsoft.com/sessions/77033">//Build</a>, the <a href="https://aka.ms/blazorworkshop">Blazing Pizza</a> was presented by <a href="https://twitter.com/danroth27">Daniel Roth</a> and I decided to transform it into a Desktop App. </p><h2 id="prerequisites"><strong>Prerequisites</strong></h2><p>I used the following frameworks and tools to build and run the <a href="https://github.com/dotnet-presentations/blazor-workshop/tree/master/src">BlazingPizza solution</a> from the <a href="https://aka.ms/blazorworkshop">Blazor workshop</a>:</p><ul><li>Visual Studio 2019 Version 16.2 Preview 1</li><li>.NET Core 3 Preview 5 SDK</li><li>Nodejs 10.15.3</li><li>Blazor 3.0.0-preview5-19227-01</li><li><a href="https://www.nuget.org/packages/ElectronNET.API/">ElectronNET.API</a> 5.22.12</li><li><a href="https://www.nuget.org/packages/ElectronNET.CLI/">ElectronNET.CLI</a> 5.22.12</li></ul><figure class="kg-card kg-embed-card"><h2 id="configure"><strong>Configure</strong></h2><p>You should add the ElectronNET.API NuGet package to the BlazingPizza.Server project.</p><pre><code class="language-xml">&lt;PackageReference Include="ElectronNET.API" Version="5.22.12" /&gt;</code></pre><p>In Program.cs, I added the extension method UseElectron(args) to the CreateHostBuilder method.</p><pre><code class="language-csharp">...
public static IHostBuilder CreateHostBuilder(string[] args) =&gt;
            Host.CreateDefaultBuilder(args)                
                .ConfigureWebHostDefaults(webBuilder =&gt;
                {
                    webBuilder.UseElectron(args).UseStartup&lt;Startup&gt;();
                });                
...</code></pre><p>In Startup.cs, you should add the following line of code as the last statement in the Configure method in order to bootstrap Electron Desktop GUI.</p><pre><code class="language-csharp">Electron.WindowManager.CreateWindowAsync();</code></pre><h2 id="init"><strong>Init</strong></h2><p>That's all for the code now. The next step is to use the tooling to launch the App. But, you have to install the tooling first using the following command:</p><pre><code class="language-cmd">dotnet tool install ElectronNET.CLI -g</code></pre><p>Before running the App for the first time, you need an Electron.NET project initialization. Type the following command in your BlazingPizza.Server folder:</p><pre><code class="language-cmd">electronize init</code></pre><p>The following electron.manifest.json file is generated.</p><pre><code class="language-json">{
  "executable": "BlazingPizza.Server"
}</code></pre><p>The "Electron.NET App" profile is created inside the launchSettings.json file.</p><pre><code class="language-json">...
  "profiles": {
    "Electron.NET App": {
      "commandName": "Executable",
      "executablePath": "C:\\Program Files\\dotnet\\dotnet.exe",
      "commandLineArgs": "electronize start"
    },
...</code></pre><p>The BlazingPizza.Server.csproj is also updated with the following ItemGroup:</p><pre><code class="language-xml">...
&lt;ItemGroup&gt;
    &lt;Content Update="electron.manifest.json"&gt;
      &lt;CopyToOutputDirectory&gt;PreserveNewest&lt;/CopyToOutputDirectory&gt;
    &lt;/Content&gt;
  &lt;/ItemGroup&gt;
...</code></pre><h2 id="run"><strong>Run</strong></h2><p>Before running the app, make sure to comment the Twitter authentification middleware located in the ConfigureService method otherwise you need to configure the Twitter authentication as detailed in the <a href="https://github.com/dotnet-presentations/blazor-workshop/blob/master/docs/05-authentication-and-authorization.md">documentation</a>.</p><pre><code class="language-csharp">.AddTwitter(twitterOptions =&gt;
{
	twitterOptions.ConsumerKey = Configuration["Authentication:Twitter:ConsumerKey"];
	twitterOptions.ConsumerSecret = Configuration["Authentication:Twitter:ConsumerSecret"];
	twitterOptions.Events.OnRemoteFailure = (context) =&gt;
	{
		context.HandleResponse();
		return context.Response.WriteAsync("&lt;script&gt;window.close();&lt;/script&gt;");
	};
});</code></pre><p>To run the app, you have to execute the following command:</p><pre><code class="language-cmd">electronize start</code></pre><p>You get the following desktop app with the same features:</p><figure class="kg-card kg-image-card kg-width-wide"><img src="https://maherjendoubi.io/content/images/2019/06/Untitled-1.png" class="kg-image"></figure><p>The Electron.NET library is used by more than 160 OSS projects in GitHub. Among them,<br>you can find <a href="https://github.com/Microsoft/AttackSurfaceAnalyzer">Attack Surface Analyzer</a> which is a Microsoft OSS project that uses the Electron.NET library. This tool can help you analyze your operating system's security configuration for changes during software installation.</p><figure class="kg-card kg-embed-card"><h2 id="conlusion"><strong>Conlusion</strong></h2><p>I transformed the Blazing Pizza application from a Blazor Web App to a cross-platform Desktop App thanks to the library Electron.NET and the tooling provided by the ElectronNET.CLI.</p></figure></figure></figure></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
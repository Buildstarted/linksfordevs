<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Microservices and [Micro]services &#x2013; Kalele - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.min.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Microservices and [Micro]services &#x2013; Kalele - linksfor.dev(s)"/>
    <meta property="article:author" content="By&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Vaughn Vernon"/>
    <meta property="og:description" content="The week began as busy as ever. And then I learned that one more task&#xA0;&#x2014;&#xA0;beyond everything else on my plate&#xA0;&#x2014;&#xA0;must be accomplished. Which task? The one you are reading. Why? For the record, at Uber, we&#x2019;re moving many of our microservices to what @copyconstruct calls macroservices (wells-sized services). Exactly b/c testing and maintaining thousands of [&#x2026;]"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://kalele.io/microservices-and-microservices/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1 style="margin: unset">
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Microservices and [Micro]services &#x2013; Kalele</title>
<div class="readable">
        <h1>Microservices and [Micro]services &#x2013; Kalele</h1>
            <div>by By&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Vaughn Vernon</div>
            <div>Reading time: 16-21 minutes</div>
        <div>Posted here: 24 Jul 2020</div>
        <p><a href="https://kalele.io/microservices-and-microservices/">https://kalele.io/microservices-and-microservices/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div data-id="33061521" data-element_type="widget" data-widget_type="theme-post-content.default">
				<div>
					<div data-elementor-type="wp-post" data-elementor-id="5333" data-elementor-settings="[]">
			<div>
				<div>
							<section data-id="4482b391" data-element_type="section">
						<div>
				<div>
				<div data-id="a6bc25e" data-element_type="column">
			<div>
					<div>
				<div data-id="443f4afd" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>The week began as busy as ever. And then I learned that one more task<span>&nbsp;—&nbsp;</span>beyond everything else on my plate<span>&nbsp;—&nbsp;</span>must be accomplished. Which task? The one you are reading. Why?</p>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="8cb260c" data-element_type="section">
						<div>
				<div>
				<div data-id="5c33527" data-element_type="column">
			<div>
					<div>
				<div data-id="2c1075f" data-element_type="widget" data-widget_type="blockquote.default">
				<div>
					<blockquote>
			<p>
				For the record, at Uber, we're moving many of our microservices to what @copyconstruct calls macroservices (wells-sized services).

Exactly b/c testing and maintaining thousands of microservices is not only hard - it can cause more trouble long-term than it solves the short-term.			</p>
							
					</blockquote>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="6b86690" data-element_type="section">
						<div>
				<div>
				<div data-id="5d24783" data-element_type="column">
			<div>
					<div>
				<div data-id="e81e17b" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p>You can find the above tweet <a href="https://twitter.com/gergelyorosz/status/1247132806041546754">here</a>, and the referenced tweet <a href="https://twitter.com/copyconstruct/status/1247130488667394049">here</a>. I’ve also quoted the second below for convenience.</p></div>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="94105e5" data-element_type="section">
						<div>
				<div>
				<div data-id="0216aa9" data-element_type="column">
			<div>
					<div>
				<div data-id="e952f4f" data-element_type="widget" data-widget_type="blockquote.default">
				<div>
					<blockquote>
			<p>
				- Microservices are hard.
<br>
- Building reliable and testable microservices is a lot harder than most folks think
<br>
- Effectively *testing* microservices requires a ton of tooling and foresight.
<br>
- A Netflix/Uber style microservices isn't required by many (most?) orgs.
<br>
- Macroservices?			</p>
							
					</blockquote>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="361e767" data-element_type="section">
						<div>
				<div>
				<div data-id="72e097b" data-element_type="column">
			<div>
					<div>
				<div data-id="32905ee" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><h2><br>On Being Confused: Microservices</h2>
<p>To say the least, the word Microservices became a source of confusion even more quickly than its use became hype. Since then it has moved on to trend and possibly even defacto standard for service architectures. Funny thing, this. It seems many hype, follow, promote, and hype and promote more, but without a clear definition of intended use.</p>
<p>Why? It has a lot to do with the software “thought leaders” that we listen to. Our point of view is shaped by our world view, but also by the leaders that take ownership of definitions. You will often find that different vision and thought leaders have different views and messaging, and that is very much the case with Microservices.</p>
<p>So then, to which leaders should we listen? I suggest that you take in a number of definitions and guidelines. Additionally, I strongly suggest working by definitions that are less radical, dogmatic, and critical about arbitrary constraints, as if the constraints themselves prove correctness and value. I am of the strong opinion that Microservices are definitely a case where one size does not fit all.</p>
<p><a href="https://twitter.com/VaughnVernon/status/1248273900821032960">As I tweeted earlier today</a>, I&nbsp;<span>really&nbsp;</span><span>have no problem with the word Microservice.&nbsp;My take is that it’s about purpose and cohesion. </span><span>Microservices should not be defined by a predetermined size metric, but rather by necessity to achieve a purpose. Following a purpose leads to useful cohesion.</span></p>
<h3>So What?</h3>
<p>Going back five years and more, I’ve had a few different overarching thoughts about the term&nbsp;<i><span>Microservices</span>.</i>&nbsp;The first formative thought I had was something such as: “So what?”</p>
<p>I have been working on smallish services for much of my career, a career that spans 36+ years and a lot of different business domains. Many of my experiences are around separating software by what it does, and it usually does one or a few things well. Whether it has been with modules, plugins, components, local or distributed, whenever I had a significant influence on architecture, every part of the software has had its place in the architecture. Herein I refer to all of these&nbsp;<span>modules, plugins, and components</span><span>&nbsp;as&nbsp;</span><i><span>services</span></i><span>&nbsp;for the sake of keeping the discussion on topic.</span></p>
<p><span>Thus, “So what?” is not a rejection of the word Microservices. It’s a sentiment toward seeing a new name for things I have done for a long time.</span></p>
<h3>Size?</h3>
<p>My second thought aligns with my first thought, but this thought is definitely critical: “Size?”</p>
<p>What I never worried much about in developing software was the size of a given service. As I wrote in my book&nbsp;<i><span><a href="https://www.amazon.com/Implementing-Domain-Driven-Design-Vaughn-Vernon/dp/0321834577">Implementing Domain-Driven Design</a></span>,</i>&nbsp;a given service is as big as it needs to be and no bigger. I also specially wrote about microservices in my book <a href="https://www.amazon.com/Domain-Driven-Design-Distilled-Vaughn-Vernon/dp/0134434420"><b><i>Domain-Driven Design Distilled</i></b></a>. Here is a blog post, <i><a href="https://kalele.io/reactive-microservices/"><b>Reactive Microservices</b></a>,</i> from some years back, which is a close reflection of an e-zine article I wrote the year prior to it.<br></p>
<p>That comes from my mindset that biases toward cohesion for a reason (hey, that rhymes).<span>&nbsp;</span><span>Sometimes I would survey the size of my code by line count, but that was just a matter of interest. I don’t remember ever having a reaction to lines of code to judge the value or worthiness of the service I had implemented.</span></p>
<h3>The Problems</h3>
<p>One problem with the contemporary implementation of services from the beginning was&nbsp;<span><i>lines-of-code count being the end, rather than the means</i>.</span></p>
<p><span>That’s not only a problem. That’s a big problem. It means that if your service lines-of-code count is&nbsp;</span><span>±</span><span>N, its correctness and value are questionable.</span></p>
<p>A second problem isn’t explicitly questioning lines of code, but still asserts size as a critical measurement. It’s most easily described by a name:&nbsp;<i><span>Entity as a Service</span>.</i>&nbsp;This is a service that implements a single software model concept and no more. The modeled concept may not actually be an Entity. It may be some sort of calculator or other kind of processor, but let’s say it’s anything that you would normally otherwise think of as one object doing something in behalf of another object within the same runtime process/instance. In such a case there is no network in between the two objects because it would actually be wasteful to place a network boundary there; that is, unless <i><b>the network boundary is the end rather than a means</b>.</i></p>
<p>I think we should take a lesson from another use of the word&nbsp;<span><i>micro</i></span>&nbsp;as the prefix in a compound word:&nbsp;<i><span>Microprocessor</span>.</i></p></div>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="b5777d6" data-element_type="section">
						<div>
				<div>
				<div data-id="e8b5d53" data-element_type="column">
			<div>
					<div>
				<div data-id="16d8b4b" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><h2>On Being Schooled: Microprocessors</h2>
<p>I think it is notable that there has been little if any argument and dissent about the definition of Microprocessor. Here is one worthy definition found on Wikipedia. I’ve used the <a href="https://simple.wikipedia.org/wiki/Microprocessor">Simple English edition</a>.</p></div>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="c55722b" data-element_type="section">
						<div>
				<div>
				<div data-id="3defbdd" data-element_type="column">
			<div>
					<div>
				<div data-id="3d73d98" data-element_type="widget" data-widget_type="blockquote.default">
				<div>
					<blockquote>
			<div><p>
				A microprocessor is an electronic component that is used by a computer to do its work. It is a central processing unit on a single integrated circuit chip containing millions of very small components including transistors, resistors, and diodes that work together...</p><p>Microprocessors are classified by the size of their data bus or address bus. They are also grouped into CISC and RISC types.			</p></div>
							
					</blockquote>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="f186647" data-element_type="section">
						
		</section>
				<section data-id="b889f67" data-element_type="section">
						<div>
				<div>
				<div data-id="6126dc9" data-element_type="column">
			<div>
					<div>
				<div data-id="df40a80" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><img width="300" height="300" src="https://kalele.io/wp-content/uploads/C4004_two_lines-300x300.jpg" alt="" srcset="https://kalele.io/wp-content/uploads/C4004_two_lines-300x300.jpg 300w, https://kalele.io/wp-content/uploads/C4004_two_lines-150x150.jpg 150w, https://kalele.io/wp-content/uploads/C4004_two_lines.jpg 538w" sizes="(max-width: 300px) 100vw, 300px">											</p>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="e4034a7" data-element_type="section">
						<div>
				<div>
				<div data-id="ac38565" data-element_type="column">
			<div>
					<div>
				<div data-id="f8c37b6" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p>That’s a clear definition, albeit limited. In particular I find it interesting that there is a size classification given that helps determine whether or not a central processing unit (CPU) is considered a Microprocessor: the size of their data bus or address bus. Yet, as you will see, it’s not a very radical or dogmatic definition in the sense that it judges the value of a CPU based on power, for example.</p><p>If you consider the definition found in full edition of Wikipedia you will find some very interesting additional facts about <a href="https://en.wikipedia.org/wiki/Microprocessor">microprocessors</a>. For example, they range in bit-count designs.</p><ul><li>4-bit designs: This was the design of the original commercially available microprocessor, the 4004, produced by Intel in 1971. It’s cost was $60 and was used in calculators. At roughly the same time, Texas Instruments developed its first microprocessor used in a desktop terminal (very early PC).</li><li>8-bit designs: There is an interesting story around how Intel produced the 8008, the first 8-bit microprocessor. It was used by the Mark-8 microcomputer in 1974. This was followed by the 8080.</li><li><span>12-bit designs: This design had limited use.</span></li><li><span>16-bit designs: Includes the Intel 8086, the 8088 used in the first IBM PC, 80186, 80188, and the more popular 80286. The 80286 provided protected mode, which was necessary for running true multitasking and multiprocess operating systems. Protected mode prevents one process from overwriting memory (e.g. stray pointer outside the process’ address space, or a memory write with incorrect bounds) and stomping on other processes.</span></li><li><span>32-bit designs: Includes 80386, 80486, and the 80586, known as the Pentium. The 32-bit microprocessors continued through the Intel Core and early Xeon.</span></li><li><span>64-bit designs: Intel began its designs with Itanium and a new Pentium, and then several generations of Intel 64.</span></li></ul><p>There are, of course, other microprocessors outside of Intel, but I decided to condense the list for a purpose. The point is to note that microprocessors have a broad range of power. Some of the progressions noted above are due to advances in silicon, for example. Yet, some smaller, less powerful, microprocessors still exist for specific purposes.</p><p>As the Wikipedia article and other sources indicate, thousands of items that were traditionally not computer-related include microprocessors. Many of these fundamentally require consumer devices with powerful, low-cost, microprocessors.</p><ul><li>large and small household appliances</li><li><span>cars (and their accessory equipment units)</span></li><li><span>car keys</span></li><li><span>tools and test instruments</span></li><li><span>toys</span></li><li>light switches/dimmers and electrical circuit breakers</li><li>smoke alarms</li><li>battery packs</li><li>hi-fi audio/visual components</li><li>cellular telephones</li><li>DVD video system</li><li>HDTV broadcast systems</li><li>IoT devices</li></ul><p>There are obvious advantages to using a given microprocessor in specific cases. There are <a href="https://en.wikipedia.org/wiki/Microprocessor#Speed_and_power_considerations">speed and power considerations</a>.</p><p>A minimal microprocessor may have only a arithmetic logic unit and a control logic section. Some IoT devices use a microprocessor with a powerful CPU, but these will generally trade clock speed and memory for power conservation. We will simply not find an Intel 64 Skylake microprocessor in a child’s toy, but we will find a suitable processor that enhances the child’s experience with the toy. Still, we’d sure hope to have the Intel 6th generation i7 Core Skylake in our developer computer, and even a&nbsp;Intel Xeon Platinum 9282 with 56 cores in our servers.</p><p>The point to learn here is that there are extremely fast and powerful microprocessors, and there are very slow and low-power microprocessors. Whatever the microprocessor,&nbsp;<span>each one has a purpose and job to do.&nbsp;</span><span>They are all </span><i><b>microprocessors</b>.</i></p></div>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="71df4e6" data-element_type="section">
						<div>
				<div>
				<div data-id="0a76ee3" data-element_type="column">
			<div>
					<div>
				<div data-id="68ffbe2" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><h2>Purpose-Built Microservices</h2><p>The size of a microservice should not be a goal. Rather, it’s a result. Similar to a microprocessor, a microservice serves a purpose within a set of runtime constraints and SLAs. Depending on the purpose, constraints, and SLAs, the word microservice might mean different things. Just like with all things DDD, when you change the context, you change the meaning of any given word.</p><h3>Start Off With Bounded Context as Microservice</h3><p>I’ve been giving this advice for quite a while. Using a Domain-Driven Design (DDD) Bounded Context as the initial “measurement” of a microservice is a great place to start. A Bounded Context is not arbitrary in size. Again, as I have pointed out for quite a number of years, a Bounded Context is the size of its Ubiquitous Language codified in a domain model, and with supporting components for UI and/or REST endpoints, database access, and possibly a messaging mechanism.</p><p>The key here is Ubiquitous Language. A&nbsp;<span>Ubiquitous Language is developed by a team of one or more business experts and developers. You constrain your Language to solve a specific problem that provides core business advantage. Sometimes you might use DDD, or at least some strategic tools of DDD and possibly Domain Events, in microservices that support the core. Thus, the core and any supporting and even generic subdomains would generally all be different microservices.</span></p><p><span>I have written a lot about what constitutes a Ubiquitous Language, so I won’t go into that in detail here. Even so, I will say that a Ubiquitous Language is typically not tiny, but also not very large. It focuses on a single core business value. The concepts of a single Ubiquitous Language is what drives the&nbsp;</span><span>natural cohesion of components found in single service</span><span>. It is probably much like what&nbsp;</span><span>Gergely Orosz of Uber considers “wells-sized services.”</span></p><p>Yet, note again that I said that Bounded Context “<span>is a great place to start.” This means that if you deliver your Bounded Context solution as a single deployment unit, this is a great position in which to begin. You won’t have a monolith, but you also won’t have thousands of tiny-tiny microservices on your back, that can feel more like thousands of crazy monkeys.</span></p><h3>Even Smaller</h3><p>Still, there may be&nbsp;<span><i>good reasons</i></span>&nbsp;that can drive the need to divide a Bounded Context into separate deployment units. Note that this is not an arbitrary decision driven by radical and dogmatic opinions on lines-of-code count or single component. Let’s consider a few.</p><ol><li><span>Rate of change: Some areas of the Bounded Context change more frequently than other areas.</span></li><li><span>Scale: A specific component in the Bounded Context is <b><i>measurably</i></b> attracting heavier load than other components.</span></li><li><span>Performance: Similar to scale, but more focused on latency and throughput, a</span>&nbsp;specific component in the Bounded Context is&nbsp;<span><i>measurably</i></span>&nbsp;bogging down other components, and/or being bogged down by others.</li></ol><h4>Rate of Change</h4><p>Most companies aren’t solving FAANG (and Uber) kinds of scale and performance problems. Therefore, I think that rate of change is the most likely reason to consider deploying a part of a Bounded Context independently. This could be the case when a small team is trying to make stepwise improvements to part of the domain model, but one or two team members are constantly challenged by the business to change business rules found in the same Bounded Context. This might be related to introducing daily sales offers or how logistics change. The systematic changes are happening more slowly and deliberately, while the rules changes are happening as reactionary, and probably even with a bit of drama and a bit more stress. The main factor is when the slow, deliberate, changes cause friction for the team members that are under pressure to deliver rapidly, and vice versa.</p><p>You can well imagine that breaking the codebase of frequent changes away from the codebase of the slower changes would bring relief to both sides of the small team. Does this mean that the Ubiquitous Language changes? Possibly, but for now let’s assume not. This means that you are still having modeling language discussions with the same domain experts, seeking new breakthroughs, as you were previously. Yet, dividing the codebases enables deployment at whatever the change rates require.</p><p>What if you were to decide to split the Ubiquitous Language by rate of change? That is justifiable if the business people who drive the frequent rate of change are different from those that share in conversations about the slower and more deliberate changes.</p><p>In either case, one or a few smaller microservices as a deployment tactic has a specific purpose and a specific benefit. It is driven by the need to find practical ways to decrease the team’s pain.</p><h4>Scale and Performance</h4><div><p>While scale and performance are different problems to solve, they have much the same needs. In this case the drivers are that you need to increase the computing capacity for some subset of components in a Bounded Context. The capacity may be scaling out by means of commodity servers, or it may mean scaling up in terms of network and server class machines, or even by using Function/Lambda as a Service.</p><p>Here you also deliver your Bounded Context as different deployment units, but it may or may not be necessary to divide the codebase. In this case you may be able to create different deployment units by means of modules within a single codebase. Whatever you choose, clearly the reasons for creating smaller deployment units is to solve a problem that is completely unrelated to the business experts you work with and the domain modeling challenges that you face.</p><h4>Additional Challenges</h4><p>Whether it’s rate of change, scale, performance, or another reason that drives the need for different codebases and/or deployment units, there are additional challenges that you now face. Where there was previously in-process method invocations or function calls, there is now a network and other databases. Although the network division may be obvious, the databases must be considered as well. You probably won’t be able to scale and perform better when you are tied to the same databases used by the original Bounded Context as a whole-microservice.</p><p>In my estimation these are very good reasons to not take these divisions too lightly. Think carefully and see with eyes wide open before creating independent deployment units. Think of it this way. For every new tiny-tiny microservice you introduce, you invite one more crazy monkey to jump around on your back.</p><h2>Conclusion</h2><p>Hopefully my discussion about the purpose in using a variety of microprocessors for solving a range of computing challenges has helped illustrate that the same is true for microservices. Remember, if you start out with Bounded Context as Microservice you are starting off on a non-arbitrary path that has a clear core business purpose.</p><p>As you face any number of challenges that cause pain and friction with teammates and/or customers, you’ve got purpose-driven options. Use them wisely.</p></div></div>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
						</div>
			</div>
		</div>
				</div>
				</div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
ASP.NET Core 5 &#x2013; Enabling Razor runtime compilation #dotnetcore #aspnetcore - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="ASP.NET Core 5 &#x2013; Enabling Razor runtime compilation #dotnetcore #aspnetcore - linksfor.dev(s)"/>
    <meta property="article:author" content="https://www.facebook.com/talkingdotnet"/>
    <meta property="og:description" content="ASP.NET Core 5 changes the experience of enabling Razor runtime compilation. This is now available as an option while creating the project."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://www.talkingdotnet.com/asp-net-core-5-for-enabling-razor-runtime-compilation/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - ASP.NET Core 5 &#x2013; Enabling Razor runtime compilation #dotnetcore #aspnetcore</title>
<div class="readable">
        <h1>ASP.NET Core 5 &#x2013; Enabling Razor runtime compilation #dotnetcore #aspnetcore</h1>
            <div>by https://www.facebook.com/talkingdotnet</div>
            <div>Reading time: 4 minutes</div>
        <div>Posted here: 09 Apr 2020</div>
        <p><a href="https://www.talkingdotnet.com/asp-net-core-5-for-enabling-razor-runtime-compilation/">https://www.talkingdotnet.com/asp-net-core-5-for-enabling-razor-runtime-compilation/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><article id="post-7980">
		<div>
		<!-- .entry-header -->

		<div>
			<p>Razor files (.cshtml) are compiled at both build and publish time and this gives better performance as your views are compiled. We can also enable runtime compilation, which will help developers to see any modified view change in real-time, without starting the application again. The recent version of ASP.NET Core (<strong>ASP.NET Core 5.0</strong>) Preview 2 came out and you can start building an app on <a href="https://www.talkingdotnet.com/tag/asp-net-core-5/"><u>ASP.NET Core 5.0</u></a> framework. ASP.NET Core 5.0 changes this experience for enabling razor runtime compilation. This is now available as an option while creating the ASP.NET Core 5.0 project. It’s a tiny enhancement, but good to know.<span id="more-7980"></span></p>
<h3>To enable Razor runtime compilation till ASP.NET Core 3.1</h3>
<p>Till now, if you need to enable Razor runtime compilation, you will follow the below steps.</p>
<li>Install the <code>Microsoft.AspNetCore.Mvc.Razor.RuntimeCompilation</code> NuGet package.</li>
<li>Update the project’s <code>Startup.ConfigureServices</code> method to include a call to <code>AddRazorRuntimeCompilation</code>.
<div><div id="highlighter_561218"><table><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p></td><td><div><p><code>public</code> <code>void</code> <code>ConfigureServices(IServiceCollection services)</code></p><p><code>{</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>services.AddControllersWithViews()</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>.AddRazorRuntimeCompilation();</code></p><p><code>}</code></p></div></td></tr></tbody></table></div></div>
</li>
<h3>To enable Razor runtime compilation in ASP.NET Core 5.0</h3>
<li>First, to use ASP.NET Core in .NET 5.0 Preview2 <a href="https://dotnet.microsoft.com/download/dotnet-core/5.0" rel="noopener" target="_blank"><u>install the .NET 5.0 SDK</u></a>.
</li>
<li>Install the latest preview of <a href="https://visualstudio.microsoft.com/vs/preview/" rel="noopener" target="_blank"><u>Visual Studio 2019 16.6</u></a>.</li>
<p>With ASP.NET Core 5, to enable razor file compilation, there is no need to explicitly add <code>Microsoft.AspNetCore.Mvc.Razor.RuntimeCompilation</code> NuGet package. When you create a new project targeted to ASP.NET Core 5, Visual Studio 2019 provides an option to enable this feature. Like,</p>
<p><a href="https://www.talkingdotnet.com/wp-content/uploads/2020/04/ASP.NET-Core-5-support-for-Enabling-Razor-runtime-compilation.png" rel="attachment wp-att-7985"><img src="https://www.talkingdotnet.com/wp-content/uploads/2020/04/ASP.NET-Core-5-support-for-Enabling-Razor-runtime-compilation.png" alt="ASP.NET Core 5 support for Enabling Razor runtime compilation" width="1280" height="888" srcset="https://www.talkingdotnet.com/wp-content/uploads/2020/04/ASP.NET-Core-5-support-for-Enabling-Razor-runtime-compilation-300x208.png 300w, https://www.talkingdotnet.com/wp-content/uploads/2020/04/ASP.NET-Core-5-support-for-Enabling-Razor-runtime-compilation-768x533.png 768w, https://www.talkingdotnet.com/wp-content/uploads/2020/04/ASP.NET-Core-5-support-for-Enabling-Razor-runtime-compilation-1024x710.png 1024w, https://www.talkingdotnet.com/wp-content/uploads/2020/04/ASP.NET-Core-5-support-for-Enabling-Razor-runtime-compilation.png 1280w" sizes="(max-width: 1280px) 100vw, 1280px" data-lazy-loaded="true"></a></p>
<p>When you check this option, Visual Studio 2019 will add this package for you in dependencies.</p>
<p><a href="https://www.talkingdotnet.com/wp-content/uploads/2020/04/ASP.NET-Core-5-support-for-Enabling-Razor-runtime-compilation_1.png" rel="attachment wp-att-7988"><img src="https://www.talkingdotnet.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="https://www.talkingdotnet.com/wp-content/uploads/2020/04/ASP.NET-Core-5-support-for-Enabling-Razor-runtime-compilation_1.png" alt="ASP.NET Core 5 support for Enabling Razor runtime compilation" width="599" height="571" srcset="https://www.talkingdotnet.com/wp-content/uploads/2020/04/ASP.NET-Core-5-support-for-Enabling-Razor-runtime-compilation_1-300x286.png 300w, https://www.talkingdotnet.com/wp-content/uploads/2020/04/ASP.NET-Core-5-support-for-Enabling-Razor-runtime-compilation_1.png 599w" sizes="(max-width: 599px) 100vw, 599px"></a></p>
<p>But, the following code is not present in the Startup.cs, which actually enables this feature via the code.</p>
<div><div id="highlighter_700955"><table><tbody><tr><td><p>1</p><p>2</p></td><td><div><p><code>services.AddControllersWithViews()</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>.AddRazorRuntimeCompilation();</code></p></div></td></tr></tbody></table></div></div>
<p>With ASP.NET core 5.0, this is handled via <code>launchsetting.json</code> file. You will see the following content in the <code>launchsetting.json</code> file.</p>
<div><div id="highlighter_732948"><table><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p></td><td><div><p><code>{</code></p><p><code>&nbsp;&nbsp;</code><code>"iisSettings"</code><code>: {</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>"windowsAuthentication"</code><code>: </code><code>false</code><code>,</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>"anonymousAuthentication"</code><code>: </code><code>true</code><code>,</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>"iisExpress"</code><code>: {</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>"sslPort"</code><code>: 44340</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;</code><code>},</code></p><p><code>&nbsp;&nbsp;</code><code>"profiles"</code><code>: {</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>"IIS Express"</code><code>: {</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>"commandName"</code><code>: </code><code>"IISExpress"</code><code>,</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>"launchBrowser"</code><code>: </code><code>true</code><code>,</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>"environmentVariables"</code><code>: {</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>"ASPNETCORE_ENVIRONMENT"</code><code>: </code><code>"Development"</code><code>,</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>"ASPNETCORE_HOSTINGSTARTUPASSEMBLIES"</code><code>: </code><code>"Microsoft.AspNetCore.Mvc.Razor.RuntimeCompilation"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>},</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>"ASPNETCore5App"</code><code>: {</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>"commandName"</code><code>: </code><code>"Project"</code><code>,</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>"launchBrowser"</code><code>: </code><code>true</code><code>,</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>"environmentVariables"</code><code>: {</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>"ASPNETCORE_ENVIRONMENT"</code><code>: </code><code>"Development"</code><code>,</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>"ASPNETCORE_HOSTINGSTARTUPASSEMBLIES"</code><code>: </code><code>"Microsoft.AspNetCore.Mvc.Razor.RuntimeCompilation"</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></p><p><code>&nbsp;&nbsp;</code><code>}</code></p><p><code>}</code></p></div></td></tr></tbody></table></div></div>
<p>To disable this on the development environment, comment or remove the line 16 and 25.</p>
<p>While creating the project, if you forgot to check the “<strong>Enable Razor runtime compilation</strong>” option, then you can still enable it via adding the nuget package <code>Microsoft.AspNetCore.Mvc.Razor.RuntimeCompilation</code> and then configuring in the <code>Startup.cs</code>.</p>
<p>Thank you for reading. Keep visiting this blog and share this in your network. Please put your thoughts and feedback in the comments section.</p>
<div id="dvBottomContent">
<p><strong>PS:</strong> If you found this content valuable and want to return the favour, then
<a href="https://www.buymeacoffee.com/talkingdotnet"><img src="https://www.talkingdotnet.com/wp-content/plugins/lazy-load/images/1x1.trans.gif" data-lazy-src="https://www.buymeacoffee.com/assets/img/custom_images/yellow_img.png" alt="Buy Me A Coffee" target="_blank"></a></p>
</div>
					</div><!-- .entry-content -->

		<!-- .entry-meta -->
	</div>

	
</article></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
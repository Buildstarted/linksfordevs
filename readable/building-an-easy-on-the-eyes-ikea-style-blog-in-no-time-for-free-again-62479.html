<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Building an easy on the eyes IKEA style blog, in no time, for free, again - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Building an easy on the eyes IKEA style blog, in no time, for free, again - linksfor.dev(s)"/>
    <meta property="article:author" content="https://twitter.com/SGolemac"/>
    <meta property="og:description" content=" It&#x27;s been over a year since I bought a new domain and redesigned my blog. I wrote a post about Medium&#x2026;"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://sgolem.com/building-an-easy-on-the-eyes-ikea-style-blog-in-no-time-for-free-again/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
	<div class="devring" style="background: #222">
		<div class="grid">
			<div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
				<span class="devring-title">devring.club</span>
				<a href="https://devring.club/site/1/previous" class="devring-previous">Previous</a>
				<a href="https://devring.club/random" class="devring-random">Random</a>
				<a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
			</div>
		</div>
	</div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Building an easy on the eyes IKEA style blog, in no time, for free, again</title>
<div class="readable">
        <h1>Building an easy on the eyes IKEA style blog, in no time, for free, again</h1>
            <div>by https://twitter.com/SGolemac</div>
            <div>Reading time: 6-7 minutes</div>
        <div>Posted here: 05 Jun 2020</div>
        <p><a href="https://sgolem.com/building-an-easy-on-the-eyes-ikea-style-blog-in-no-time-for-free-again/">https://sgolem.com/building-an-easy-on-the-eyes-ikea-style-blog-in-no-time-for-free-again/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div><p>It's been over a year since I bought a new domain and redesigned my blog. I wrote a post <a href="https://sgolem.com/getting-away-from-click-hunting-alternative-to-medium/">about Medium and why I decided to stop writing there</a>. I was planning to write about many things, I set up a nice Markdown editor on my Mac, everything was ready to go. <strong>Then I did nothing, for a year.</strong> ðŸ˜´</p>
<p>During this lockdown, I felt the urge to do it all over again but I successfully resisted it. Then I caved in one evening and rebuilt everything. This time it's much simpler and I'm much more pleased with the tech stack.</p>
<h2 id="the-future-is-nextjs-static"><a href="#the-future-is-nextjs-static">The future is (NextJS) static</a></h2>
<p>I'm happy to say this blog is built with <a href="https://nextjs.org/">NextJS</a> which is <strong>one of the best and most polished pieces of software I've ever used</strong>. I don't say this lightly as I've been a huge <a href="http://gatsbyjs.org/">Gatsby</a> fan and I still am.</p>
<p>Not long ago I was suggesting people to use Gatsby for almost any kind of site. Probably the only exceptions were complex client-only apps and sites with tens of thousands of unique URLs. Still, I was constantly being dragged to NextJS as it could easily handle any amount of pages. I haven't dwelled too much on it though, it couldn't generate pages during build time, and that bugged me.</p>
<p><strong>Oh, how the tables have turned!</strong> The last two NextJS releases were ðŸ”¥. I've closely followed the discussion in the <a href="https://github.com/vercel/next.js/issues/9524">SSG PR</a> almost since it appeared. Now NextJS can generate pages during the build, and not only that, but you can also set it up to render some of those pages on demand. ðŸ¤¯ There's more, they've recently shipped <a href="https://nextjs.org/blog/next-9-4#incremental-static-regeneration-beta"><code>unstable-revalidate</code></a> option that allows you to <em>refresh</em> pages even though they were rendered during the build.</p>
<p>I'm pretty sure I won't be going back to Gatsby any time soon. I was always uncertain about their GraphQL data ingestion API. In some ways, I do like it (<a href="https://github.com/gatsbyjs/gatsby/issues/10090">when it works</a>). Nonetheless, it's not easy to debug something if a plugin doesn't work properly. Choosing between static, page, or build time queries to load data feels like arcane art when you have a lot of data to pull. In my experience, the only bearable approach was to load everything in <code>gatsby-node.js</code> and then pass it to pages. Maybe I'll cover that in another post.</p>
<h2 id="cms"><a href="#cms">CMS</a></h2>
<p>I'm used to Contentful. I've worked with it both for my projects and at work. It might be one of the best headless CMSs out there. It's super easy to set up a new space and create content. It supports webhooks for any kind of content update. It took me 3 minutes to set up rebuilding on <a href="https://vercel.com/">Vercel</a> every time the content changes.</p>
<p>The major game-changer was the <a href="https://www.contentful.com/developers/docs/references/content-preview-api/">Preview API</a>. I was expecting a lot more hassle to set it up but the NextJS <a href="https://nextjs.org/docs/advanced-features/preview-mode">guides</a> were fantastic and straightforward. It probably took me around 10 minutes. Having the ability to see content changes almost in real-time is amazing!</p>
<h2 id="pages"><a href="#pages">Pages</a></h2>
<p>This blog is super simple. The index page is static, generated during the build. I might enable fallback on it. Since the CMS triggers a rebuild on every change, I'm not sure if it wouldn't make a huge difference.</p>
<p>The posts are static too but they have the <code>fallback</code> option enabled, along with the <code>unstable_revalidate</code>. This allows them to be regenerated on demand. This is a huge thing for me as it's doing wonders for <strong>previewing unpublished posts</strong>.</p>
<h2 id="seo"><a href="#seo">SEO</a></h2>
<p>I discovered a cool plugin <a href="https://github.com/garmeeh/next-seo"><code>next-seo</code></a> that allowed me to set up SEO related stuff in no time. Setting up opengraph data is a breeze. It even has predefined components for some common <code>JSON+LD</code> types so now my blog has that too.</p>
<p>It took me some time to figure out how to set up a <code>robots.txt</code> but in the end, I just needed to put it in the <code>public/</code> directory.</p>
<p>The sitemap was a different story. I was expecting there would be a plugin of some sort. I first tried making an API endpoint that builds and serves the XML. That was working fine but there was no way I could make it available at <code>/sitemap.xml</code>. The solution was to "hack" the <code>sitemap.xml.js</code> page's <code>getServerSideProps</code> to generate and respond with the XML by using the <code>res</code> inside the <code>context</code> (argument of the function).</p>
<p>The sitemap is generated by the <a href="https://github.com/ekalinin/sitemap.js">sitemap</a> package.</p>

<p>I added a feed too. That was straightforward after dealing with the sitemap as I made an API endpoint that generates and serves it. I used the <a href="https://github.com/dylang/node-rss">rss</a> package even though its API is somewhat weird. It uses streams to improve the responsiveness. However, I expected a simple "bulk" option which is not available.</p>
<h2 id="conclusion"><a href="#conclusion">Conclusion</a></h2>
<p>I think it was <strong>never easier</strong> to build something on the web. It amazes me how much complexity has been successfully hidden under the hood. All the parts just fit together.</p>
<p>Even though I wrote this from scratch I spent almost no time on CI/CD, previewing, SEO, and performance. It's like shopping for unassembled products at IKEA and still ending up with an interesting room with unique character.</p>
<blockquote>
<p>The IKEA effect is simple: when you work for something you fall in love with it.</p>
</blockquote>
<p>One could argue there are simpler ways to build a blog, and to be honest I did look into <a href="https://www.getzola.org/">Zola</a>. Even though those kinds of generators don't have React as a dependency and generally produce even smaller pages, the editing process cannot be compared to what I have now.</p>
<p>I haven't even thought about performance yet but I'll just leave this screenshot here.</p>
<p><img src="https://images.ctfassets.net/d0dqkpgki2io/1Gj9whCOx9mNmsmoSOIu8F/b91c2a95074c8a399cb999c48b2924ee/image.png" alt="performance audit"></p>
<p>The "Best practices" section is complaining about a few NextJS preloading errors in the console. This one is basically a <strong>100</strong> too.</p>
<p>Visually, this blog is almost entirely inspired by the minimal design of <a href="https://rauchg.com/">rauchg.com</a>, the blog of Guillermo Rauch, CEO of Vercel. Even though it's open-source I wanted to build mine from scratch. In the end, I opted for a similar "timeless" design.</p>
<p><em>Let me know if you'd like me to cover something specific in detail. I haven't got a subscription form yet, but you can follow me on Twitter (link at the top ðŸ‘†).</em></p>
</div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
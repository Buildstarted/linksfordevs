<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Go faster with your own re-usable Blazor components - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.min.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Go faster with your own re-usable Blazor components - linksfor.dev(s)"/>
    <meta property="article:author" content="Jon Hilton"/>
    <meta property="og:description" content="You can easily avoid re-inventing the same wheels over and over when you break your UI down into re-usable components"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://jonhilton.net/build-your-own-re-usable-blazor-components/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1 style="margin: unset">
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Go faster with your own re-usable Blazor components</title>
<div class="readable">
        <h1>Go faster with your own re-usable Blazor components</h1>
            <div>by Jon Hilton</div>
            <div>Reading time: 10-12 minutes</div>
        <div>Posted here: 01 Jul 2020</div>
        <p><a href="https://jonhilton.net/build-your-own-re-usable-blazor-components/">https://jonhilton.net/build-your-own-re-usable-blazor-components/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><section><p>Take a look at any web application these days and you’ll notice something…</p><p>No matter what the sector, design or purpose, the “modern web app” generally consists of a few key UI elements or components.</p><p>Even the most unusual, complex, visually interesting designs have some degree of consistent UI, with specific elements or components used and re-used throughout the application.</p><p>Take the BBC homepage for example.</p><p><img src="https://jonhilton.net/img/BlazorWASMByExample/2020-06-29-10-10-17.png" alt="BBC Homepage"></p><p>Look at this with a view to identifying the key elements and they soon start to leap off the screen.</p><p>The obvious ones here are the stories, each with their own headline, image and category.</p><p>But we also have sections, and even things like the heading “Welcome to the BBC” (chances are these headings are consistent across the site).</p><p><img src="https://jonhilton.net/img/BlazorWASMByExample/2020-06-29-11-52-45.png" alt=""></p><p>There are probably more, but here are the key “elements”…</p><ul><li>Heading</li><li>Date</li><li>Section<ul><li>Story<ul><li>Headline</li><li>Category</li><li>Image</li></ul></li></ul></li></ul><p>Notice too how these are hierarchical in nature (so a section can contain one or more stories, each story includes a headline etc.)</p><p>This is a perfect fit for a “component-based” approach to building your web application, where each component is relatively straightforward in itself and can be used in lots of places to build your entire application (with as little effort and fuss as possible!)</p><p>So how do we tackle this with Blazor?</p><p>How can we create our own re-usable components and use them to rapidly build an entire application?</p><section><h2 id="standing-on-the-shoulders-of-giants">Standing on the shoulders of giants</h2><p>Worth saying, you always have the option of letting someone else do this work for you!</p><p>You can lean on any of <a href="https://jonhilton.net/blazor-component-libraries/">a number of existing component libaries for Blazor</a>.</p><p>These can be massive time-savers and also save you from spending endless hourse on non-functional requirements (like making your site responsive etc.)</p></section><p>Let’s say, for arguments sake we’re building a simple “dashboard”.</p><p>We want the dashboard to comprise several panels, something like this…</p><p><img src="https://jonhilton.net/img/BlazorWASMByExample/2020-06-29-14-09-05.png" alt=""></p><p>Visually a panel is pretty straighforward.</p><p>A couple of <code>div</code>s inside another <code>div</code> should do it!</p><div><pre><code data-lang="html">&lt;<span>div</span> <span>class</span><span>=</span><span>"border-2 border-gray-600 m-4"</span>&gt;
    &lt;<span>div</span> <span>class</span><span>=</span><span>"bg-gray-700 text-white text-2xl p-2 font-bold text-center"</span>&gt;
         Panel 1
    &lt;/<span>div</span>&gt;
    &lt;<span>div</span> <span>class</span><span>=</span><span>"p-6"</span>&gt;
        This is a panel
    &lt;/<span>div</span>&gt;
&lt;/<span>div</span>&gt;
</code></pre></div><section><p>Note, I’m using <a href="https://jonhilton.net/re-usable-components-with-blazor-and-tailwind-css/">TailwindCSS</a>, primarily because I find it a super fast way to iterate on a design and quickly modify the appearance of my components.</p><p>If that’s not your cup of tea you absolutely don’t have to use TailwindCSS to build re-usable components, ultimately you can choose to apply styles however you wish!</p><p>However, the strange thing about Tailwind (especially if you’ve never used it) is it <em>looks</em> really complicated and verbose, and like something you would never wish to use…</p><p>But then, when you do use it and you discover for yourself how quick it is to iteratively improve the look n’ feel of your site (and how easy it is to maintain your site when something needs tweaking later) the whole concept suddenly makes a lot of sense.</p><p>I swear it’s like some weird jedi mind trick or something!</p></section><p>Run this in the browser and we have a panel.</p><p><img src="https://jonhilton.net/img/BlazorWASMByExample/2020-06-29-15-24-52.png" alt=""></p><h2 id="make-it-re-usable">Make it re-usable</h2><p>So far so good, but is this really re-usable? Unless we want every panel to say “This is a panel”, probably not…</p><p>We need a way to set this title and contents to different values for each panel.</p><p>Let’s tackle the title first.</p><p><strong>Panel.razor</strong></p><div><pre><code data-lang="html">&lt;<span>div</span> <span>class</span><span>=</span><span>"border-2 border-gray-600 m-4"</span>&gt;
    &lt;<span>div</span> <span>class</span><span>=</span><span>"bg-gray-700 text-white text-2xl p-2 font-bold text-center"</span>&gt;
<span>         @Title
</span>    &lt;/<span>div</span>&gt;
    &lt;<span>div</span> <span>class</span><span>=</span><span>"p-6"</span>&gt;
        This is a panel
    &lt;/<span>div</span>&gt;
&lt;/<span>div</span>&gt;

<span>@code {
</span><span>    [Parameter]
</span><span>    public string Title { get; set; }
</span><span>}
</span>
</code></pre></div><p>Now we can set this title every time we render a panel.</p><p><strong>Index.razor</strong></p><div><pre><code data-lang="html">&lt;<span>Panel</span> <span>Title</span><span>=</span><span>"Still a panel"</span>/&gt;
&lt;<span>Panel</span> <span>Title</span><span>=</span><span>"Speak for yourself"</span>/&gt;
</code></pre></div><p>And here’s the result…</p><p><img src="https://jonhilton.net/img/BlazorWASMByExample/2020-06-29-15-27-55.png" alt=""></p><p>That’s better!</p><h2 id="different-content">Different content</h2><p>Now for the “contents” of the panel.</p><p>Unlike the title, the contents are likely to require more than just some text.</p><p>Imagine a real dashboard; panels could show graphs, tables, images and any number of other things.</p><p>What we need, is a way to declare an instance of our component, put content in the “middle” of it, and have that rendered in the component itself…</p><div><pre><code data-lang="html">&lt;<span>Panel</span> <span>Title</span><span>=</span><span>"Still a panel"</span>&gt;
    &lt;<span>p</span>&gt;This really could be anything: table, image, graph...&lt;/<span>p</span>&gt;
&lt;/<span>Panel</span>&gt;
</code></pre></div><p>With this approach we can keep our consistent look and feel, but put virtually anything in the panel itself.</p><p>Blazor handles this using something called a <code>RenderFragment</code>.</p><p>Here’s how it works.</p><div><pre><code data-lang="html">&lt;<span>div</span> <span>class</span><span>=</span><span>"border-2 border-gray-600 m-4"</span>&gt;
    &lt;<span>div</span> <span>class</span><span>=</span><span>"bg-gray-700 text-white text-2xl p-2 font-bold text-center"</span>&gt;
        @Title
    &lt;/<span>div</span>&gt;
    &lt;<span>div</span> <span>class</span><span>=</span><span>"p-6"</span>&gt;
<span>        @ChildContent
</span>    &lt;/<span>div</span>&gt;
&lt;/<span>div</span>&gt;

@code {

    [Parameter]
    public string Title { get; set; }

<span>    [Parameter]
</span><span>    public RenderFragment ChildContent { get; set; }
</span>
}
</code></pre></div><p>When we declare a property of type <code>RenderFragment</code> and call it <code>ChildContent</code> we tell Blazor to go ahead and automatically populate this with the contents we included when we declared an instance of our component.</p><p>From here we can simply render these contents wherever we wish in our component using <code>@ChildContent</code>.</p><p><img src="https://jonhilton.net/img/BlazorWASMByExample/2020-06-29-15-45-09.png" alt=""></p><h2 id="set-styles-from-the-outside">Set styles from “the outside”</h2><p>Finally, let’s say we’re happy with this basic panel but sometimes we want it to have a red background, and white text…</p><p>We need a way to specify our style preferences when we render the Panel…</p><p><strong>Panel.razor (code)</strong></p><div><pre><code data-lang="csharp">@code {
<span>
</span><span>    [Parameter]</span>
    <span>public</span> <span>string</span> Title { <span>get</span>; <span>set</span>; }
<span>
</span><span>    [Parameter]</span>
    <span>public</span> RenderFragment ChildContent { <span>get</span>; <span>set</span>; }
<span>
</span><span><span>    [Parameter]</span>
</span><span>    <span>public</span> <span>string</span> TitleStyle { <span>get</span>; <span>set</span>; }
</span>
}
</code></pre></div><p>Here we’ve exposed a <code>TitleStyle</code> parameter which expects a string (containing CSS classes).</p><p>Now we need a way to render these extra classes in the <code>div</code> which dispays our panel’s title…</p><p><strong>Panel.razor (markup)</strong></p><div><pre><code data-lang="html"><span>&lt;<span>div</span> <span>class</span><span>=</span><span>"@($"</span><span>text-white</span> <span>text-2xl</span> <span>p-2</span> <span>font-bold</span> <span>text-center</span> {<span>TitleStyle</span>}")"&gt;
</span>    @Title
&lt;/<span>div</span>&gt;
</code></pre></div><p>This is a littly clunky, but breaking it down, we’ve essentially wrapped the entire existing <code>class</code> value in this…</p><p>This makes it possible to use C# to declare an interpolated string…</p><div><pre><code data-lang="html">$"text-white text-2xl p-2 font-bold text-center {TitleStyle}"
</code></pre></div><p>Which means we can append the value of <code>TitleStyle</code> to the existing hardcoded CSS classes.</p><p>Now we can specify the style when we declare an instance of our <code>Panel</code> component.</p><div><pre><code data-lang="html"><span>&lt;<span>Panel</span> <span>Title</span><span>=</span><span>"Still a panel"</span> <span>TitleStyle</span><span>=</span><span>"bg-red-600"</span>&gt;
</span>    &lt;<span>p</span>&gt;This really could be anything: table, image, graph...&lt;/<span>p</span>&gt;
&lt;/<span>Panel</span>&gt;

&lt;<span>Panel</span> <span>Title</span><span>=</span><span>"Speak for yourself"</span> /&gt;
</code></pre></div><p>And when Blazor renders our two <code>Panel</code> instances, one will have a red background (because it’s important, so very important!)</p><p><img src="https://jonhilton.net/img/BlazorWASMByExample/2020-06-29-16-01-40.png" alt=""></p><p>Now this works, but what if we want to render more than one of these “important” panels?</p><p>We don’t really want to litter our code with repeated references to <code>bg-red-600</code>, not least because we might want to tweak that color, or add additional styles to it at a later date.</p><p>This is where a little component composition goes a very long way.</p><h2 id="compose-those-components">Compose those components</h2><p>The tempation is to somehow modify (or even duplicate) our existing <code>Panel</code> component to handle this requirement to have a re-usable “Important” panel.</p><p>However, components offer us an alternative approach.</p><p>We can create a more specialized version of <code>Panel</code> to use whenever we need an angry looking red panel.</p><p><strong>ImportantPanel.razor</strong></p><div><pre><code data-lang="html">&lt;<span>Panel</span> <span>Title</span><span>=</span><span>"@Title"</span> <span>TitleStyle</span><span>=</span><span>"bg-red-600"</span>&gt;
    @ChildContent
&lt;/<span>Panel</span>&gt;

@code {

    [Parameter]
    public string Title { get; set; }

    [Parameter]
    public RenderFragment ChildContent { get; set; }

}
</code></pre></div><p>Note how this wraps the existing component and sets its <code>TitleStyle</code> property…</p><p>Now we can use <code>ImportantPanel</code> and still specify a <code>Title</code> and <code>ChildContent</code> to render…</p><p><strong>Index.razor</strong></p><div><pre><code data-lang="html">&lt;<span>ImportantPanel</span> <span>Title</span><span>=</span><span>"Still a panel"</span>&gt;
    &lt;<span>p</span>&gt;This really could be anything: table, image, graph...&lt;/<span>p</span>&gt;
&lt;/<span>ImportantPanel</span>&gt;

&lt;<span>Panel</span> <span>Title</span><span>=</span><span>"Speak for yourself"</span> /&gt;
</code></pre></div><p>Are we done then?</p><p>Not quite.</p><p>I’m not sure about you, but I’m a little concerned about that <code>ImportantPanel</code>.</p><p>It’s fine at the moment, but if we add additional parameters to <code>Panel</code> it feels like it’s going to be a bit of a hassle to go and update <code>ImportantPanel</code> to pass them along.</p><p>It could get worse too, if we end up with lots more specialised panels, every one would need to be modified every time Panel exposes a new parameter.</p><p>Say for example we added an <code>Image</code> parameter to <code>Panel</code>.</p><p>We’d have to modify <code>ImportantPanel</code> and any other specialized panels to accept this <code>Image</code> parameter, even if they don’t need to do anything with it other than pass it along to the <code>Panel</code>.</p><p><img src="https://jonhilton.net/img/BlazorWASMByExample/2020-06-30-10-40-47.png" alt="Multiple specialized panels" title="Multiple specialised panels passing parameters to the Panel component"></p><p>Thankfully, there is an alternative.</p><p>We can drastically simplify <code>ImportantPanel</code> by making it accept and forward any and all parameters we throw at it.</p><p>Here’s how…</p><p><strong>ImportantPanel.razor</strong></p><div><pre><code data-lang="html">&lt;<span>Panel</span> @<span>attributes</span><span>=</span><span>"Attributes"</span> <span>TitleStyle</span><span>=</span><span>"bg-red-600"</span>/&gt;

@code {

    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary&lt;<span>string</span>, <span>object</span>&gt; Attributes { get; set; }

}
</code></pre></div><p>The <code>Attributes</code> dictionary is a Parameter decorated with the option to <code>CaptureUnmatchedValues</code>.</p><p>This means when we declare an instance of <code>ImportantPanel</code> and specify parameters, any parameters not explicitly referenced in <code>ImportantPanel</code> will be gathered up into this dictionary.</p><p>Then we just need a way to “splat” them on to our <code>Panel</code> component.</p><p>That’s what <code>@attributes="Attributes"</code> does; it’s literally called “Attribute Splatting”.</p><p>Now we have an <code>ImportantPanel</code> which should be a breeze to maintain. In fact, we only need to come back to and modify it if we decide that important panels need to behave differently, or we need to tweak its appearance.</p><h2 id="in-summary">In Summary</h2><p>Once you get the hang of “thinking in components”, composing your application from lots of small, single-purpose components becomes a breeze.</p><p>Use these Blazor features to keep your app on track:</p><ul><li>Parameters (to pass values to your components)</li><li><code>ChildContent</code> Parameters (to render the “contents” of your components)</li><li><code>CaptureUnmatchedValues</code> (to capture any parameters you don’t need to explicitly handle)</li><li>Attribute splatting (to pass multiple attributes onto another component in one go)</li></ul><h2>Next up</h2><span><a href="https://jonhilton.net/blazor-state-management/">3+1 ways to manage state in your Blazor application</a></span><p>As soon as you have more than one Blazor component you need to think how you’ll communicate between them.</p><span><a href="https://jonhilton.net/blazor-wasm-calling-a-api/">How easy is it to build a Marvel search engine with Blazor?</a></span><p>Blazor WASM is here, but just how quickly can you go from dotnet new to something useful up and running in the browser?</p><span><a href="https://jonhilton.net/build-anything-using-blazor-components/">Quickly transform any mockup or design into a working Blazor prototype</a></span><p>Even complicated applications can be broken down into small components, making them much less daunting to build.</p></section></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
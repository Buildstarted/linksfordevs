<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Profiling Mono and Mono Unity Apps on Windows, macOS, and Linux -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>Profiling Mono and Mono Unity Apps on Windows, macOS, and Linux</h1><div><div class="entry-content"><p>Back in Rider 2018.3, we added a performance profiler to Rider. As we try to deliver new features as quickly as possible, the integrated profiler had some limitations: it only supported the profiling of .NET Framework and .NET Core applications on Windows. Now, it’s time to fill the gap. <strong>In Rider 2019.1, the profiler gets support for Mono and Mono Unity</strong> – and not just on Windows but <strong>on macOS and Linux as well</strong>.</p><p>Let’s look at what it can do for you.</p><p align="center"><a class="jb-download-button" href="https://www.jetbrains.com/rider/eap"><i class="download-icon"></i>DOWNLOAD Rider 2019.1 EAP</a></p><h3>What is currently supported?</h3><table><tbody><tr><td></td><td>Windows</td><td>macOS</td><td>Linux</td></tr><tr><td>.NET Framework</td><td>+</td><td>n/a</td><td>n/a</td></tr><tr><td>.NET Core 1.0+</td><td>+</td><td>–</td><td>–</td></tr><tr><td>Mono 5.10+</td><td>+</td><td>+</td><td>+</td></tr><tr><td>Mono Unity 2018.3+</td><td>+</td><td>+</td><td>+</td></tr></tbody></table><p>As you can see, the profiler still lacks support for .NET Core on macOS and Linux. Unfortunately, we can’t do everything at once, so this will happen in a future release. Also, as of EAP3, there are no console profiling tools for macOS and Linux. But, unlike the support for .NET Core, the tools will be added in one of the upcoming 2019.1 EAP releases.</p><h2>How to profile Mono apps?</h2><p>Absolutely no changes here. The workflow is the same as with regular .NET Framework apps (more details in <a href="https://blog.jetbrains.com/dotnet/2018/10/22/performance-profiling-net-code-rider-integrated-dottrace/">this post</a>):</p><ol><li>Choose a run configuration (what you’re going to profile).</li><li>Choose a profiling configuration (how you’re going to profile). Note that there’s a special profiling configuration for Mono apps: <strong>Timeline (Mono)</strong>. Because of limitations in Mono, other profiling modes are not available.</li><li>Run profiling and take snapshots.</li></ol><p><img src="https://d3nmt5vlzunoa1.cloudfront.net/dotnet/files/2019/03/profiling_mono_apps_thumb.png" alt="Profiling Mono apps on macOS" data-gif-src="https://d3nmt5vlzunoa1.cloudfront.net/dotnet/files/2019/03/profiling_mono_apps.gif"></p><h2>How to profile unit tests?</h2><p>Profiling of Mono unit tests is also supported. Simply select a unit test and then run <strong>Profile</strong> from the context menu.</p><p><img src="https://d3nmt5vlzunoa1.cloudfront.net/dotnet/files/2019/03/profiling_mono_unit_tests_thumb.png" alt="Profiling Mono apps on macOS" data-gif-src="https://d3nmt5vlzunoa1.cloudfront.net/dotnet/files/2019/03/profiling_mono_unit_tests.gif"></p><h2>How to profile Mono Unity apps?</h2><p>This one is a little bit more complicated. The workflow is almost the same, but there’s a difference when it comes to running a profiling session:</p><ol><li>Choose a run configuration: For a Unity app, it’s always either <strong>Attach to Unity Editor</strong> or <strong>Attach to Unity Editor and Play</strong> configs.</li><li>Choose a profiling configuration. As well as with Mono apps, there’s a separate profiling configuration: <strong>Timeline (Unity)</strong>.</li><li>Run profiling and get snapshots.<br>When profiling a Unity application, the profiling target is always the Unity Editor. The problem is that the Editor is probably running simultaneously with Rider, so you cannot start profiling it. Therefore, when trying to run <strong>Timeline (Unity)</strong>, Riders asks you to:<ol><li>Close the Unity Editor first.</li><li>Run the <strong>Timeline (Unity)</strong> profiling one more time. Rider will take care of the rest: it will run the Unity Editor and start the profiling session.</li></ol></li></ol><p><img src="https://d3nmt5vlzunoa1.cloudfront.net/dotnet/files/2019/03/profiling_unity_apps.png" alt="Profiling Unity apps on macOS" data-gif-src="https://d3nmt5vlzunoa1.cloudfront.net/dotnet/files/2019/03/profiling_unity_apps.gif"></p><p>Note that instead of restarting Unity Editor, you have an alternative to simply run the compiled game under profiling. In this case, in step 1 you should select the <strong>Unity Executable</strong> run configuration and specify the path to the game executable.</p><p><img src="https://d3nmt5vlzunoa1.cloudfront.net/dotnet/files/2019/04/profiling_unity_exec.png" alt="Profiling Unity apps on macOS" data-gif-src="https://d3nmt5vlzunoa1.cloudfront.net/dotnet/files/2019/04/profiling_unity_exec.gif"></p><p>Another usage of the <strong>Unity Executable</strong> configuration is to run one more Unity Editor instance with profiling enabled. All you need is to specify the path to the Unity Editor executable instead of the game.<br><a href="https://d3nmt5vlzunoa1.cloudfront.net/dotnet/files/2019/04/profiling_unity_exec_unity.png" rel="attachment wp-att-22190"><img class="alignnone size-full wp-image-22190" src="https://d3nmt5vlzunoa1.cloudfront.net/dotnet/files/2019/04/profiling_unity_exec_unity.png" alt="Profiling Unity executable" width="700"></a></p><p>That’s all for now! <strong>To try new Rider profiling capabilities, <a href="https://www.jetbrains.com/rider/eap">download the latest Rider 2019.1 EAP</a>.</strong> Stay tuned!</p></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Constructing a cubic Bezier that passes through four points - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Constructing a cubic Bezier that passes through four points - linksfor.dev(s)"/>
    <meta property="og:description" content="1-Feb-2019"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="http://apoorvaj.io/cubic-bezier-through-four-points.html"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Constructing a cubic Bezier that passes through four points</title>
<div class="readable">
        <h1>Constructing a cubic Bezier that passes through four points</h1>
            <div>Reading time: 5-7 minutes</div>
        <div>Posted here: 27 Feb 2019</div>
        <p><a href="http://apoorvaj.io/cubic-bezier-through-four-points.html">http://apoorvaj.io/cubic-bezier-through-four-points.html</a></p>
        <hr/>
<div id="readability-page-1" class="page"><article>
<title>Constructing a cubic Bezier that passes through four points</title>

<p>1-Feb-2019</p>

<section>
    <p>
    <label for="mn-1">⊕</label>
    
    <span>Drag any point <span><span id="MJXp-Span-1"><span id="MJXp-Span-2">{</span><span id="MJXp-Span-3"><span id="MJXp-Span-4">P</span><span id="MJXp-Span-5">0</span></span><span id="MJXp-Span-6">,</span><span id="MJXp-Span-7"><span id="MJXp-Span-8">P</span><span id="MJXp-Span-9">1</span></span><span id="MJXp-Span-10">,</span><span id="MJXp-Span-11"><span id="MJXp-Span-12">P</span><span id="MJXp-Span-13">2</span></span><span id="MJXp-Span-14">,</span><span id="MJXp-Span-15"><span id="MJXp-Span-16">P</span><span id="MJXp-Span-17">3</span></span><span id="MJXp-Span-18">}</span></span></span> to refit the spline, or drag either tangent <span><span id="MJXp-Span-19"><span id="MJXp-Span-20">{</span><span id="MJXp-Span-21"><span id="MJXp-Span-22">T</span><span id="MJXp-Span-23">0</span></span><span id="MJXp-Span-24">,</span><span id="MJXp-Span-25"><span id="MJXp-Span-26">T</span><span id="MJXp-Span-27">1</span></span><span id="MJXp-Span-28">}</span></span></span> to manually change the spline.</span>
    </p><figure>
        <div>
            <p>
                <svg id="svg" style="width: 100%; height: 100%; stroke:black; stroke-width:1.5px; fill:white;">
                    <text id="lbl_p0" style="stroke-width:0px; fill:black; font: italic 20px serif;" x="158.20000000000002" y="306.75">P₀</text>
                    <text id="lbl_p1" style="stroke-width:0px; fill:black; font: italic 20px serif;" x="260.078" y="163.375">P₁</text>
                    <text id="lbl_p2" style="stroke-width:0px; fill:black; font: italic 20px serif;" x="515.156" y="450.125">P₂</text>
                    <text id="lbl_p3" style="stroke-width:0px; fill:black; font: italic 20px serif;" x="617.8000000000001" y="306.75">P₃</text>
                    <text id="lbl_t1" style="stroke-width:0px; fill:black; font: italic 20px serif;" x="324.31508157981733" y="159.86333622066653">T₁</text>
                    <text id="lbl_t2" style="stroke-width:0px; fill:black; font: italic 20px serif;" x="450.7215391992645" y="453.53303673439297">T₂</text>
                    <path id="c01" fill="transparent" stroke="#0004" d="M 153.20000000000002 286.75 C 187.15933333333336 238.95833333333334, 211.59128764596002 145.75229842172592, 255.078 143.375"></path>
                    <path id="c12" fill="transparent" d="M 255.078 143.375 C 319.31508157981733 139.86333622066653, 445.7215391992645 433.53303673439297, 510.156 430.125"></path>
                    <path id="c23" fill="transparent" stroke="#0004" d="M 510.156 430.125 C 553.8314536058855 427.8149387621097, 612.1224818481857 287.69636963696337, 612.8000000000001 286.75"></path>
                    <path id="p1ht1" stroke="#0004" d="M 255.078 143.375 L 211.59128764596002 145.75229842172592"></path>
                    <path id="p1t1" stroke-dasharray="8,4" d="M 255.078 143.375 L 319.31508157981733 139.86333622066653"></path>
                    <path id="p2t2" stroke-dasharray="8,4" d="M 510.156 430.125 L 445.7215391992645 433.53303673439297"></path>
                    <path id="p2ht2" stroke="#0004" d="M 510.156 430.125 L 553.8314536058855 427.8149387621097"></path>
                    <circle id="p0" r="4" style="fill:black;" cx="153.20000000000002" cy="286.75"></circle>
                    <circle id="p1" r="4" style="fill:black;" cx="255.078" cy="143.375"></circle>
                    <circle id="p2" r="4" style="fill:black;" cx="510.156" cy="430.125"></circle>
                    <circle id="p3" r="4" style="fill:black;" cx="612.8000000000001" cy="286.75"></circle>
                    <circle id="t1" r="4" cx="319.31508157981733" cy="139.86333622066653"></circle>
                    <circle id="t2" r="4" cx="445.7215391992645" cy="433.53303673439297"></circle>
                </svg>
            </p>
        </div>
    </figure>
    

<p>
    
    <span><span id="MJXp-Span-29"><span id="MJXp-Span-30">α</span><span id="MJXp-Span-31">=</span></span></span>
    <span id="lbl_alpha">0.5</span>
</p>
</section>

<section>
    <p>Bezier curves are extremely useful constructs that allow users to intuitively create smooth curves by adjusting end points and tangents. Mathematically, they are polynomials. In this article, we'll focus on the most popular variant—the cubic Bezier curve.</p>

    <p>Most applications have composite Bezier curves, i.e. curves constructed by chaining together multiple polynomials. The diagram above consists of three curves. For most of this article, we'll focus on the middle curve one going from <span><span id="MJXp-Span-32"><span id="MJXp-Span-33"><span id="MJXp-Span-34">P</span><span id="MJXp-Span-35">1</span></span></span></span> to <span><span id="MJXp-Span-36"><span id="MJXp-Span-37"><span id="MJXp-Span-38">P</span><span id="MJXp-Span-39">2</span></span></span></span>. This curve is defined by the four points <span><span id="MJXp-Span-40"><span id="MJXp-Span-41">{</span><span id="MJXp-Span-42"><span id="MJXp-Span-43">P</span><span id="MJXp-Span-44">1</span></span><span id="MJXp-Span-45">,</span><span id="MJXp-Span-46"><span id="MJXp-Span-47">T</span><span id="MJXp-Span-48">1</span></span><span id="MJXp-Span-49">,</span><span id="MJXp-Span-50"><span id="MJXp-Span-51">T</span><span id="MJXp-Span-52">2</span></span><span id="MJXp-Span-53">,</span><span id="MJXp-Span-54"><span id="MJXp-Span-55">P</span><span id="MJXp-Span-56">2</span></span><span id="MJXp-Span-57">}</span></span></span>, given by the parametric equation:

    <span><span id="MJXp-Span-58"><span id="MJXp-Span-59">b</span><span id="MJXp-Span-60">e</span><span id="MJXp-Span-61">z</span><span id="MJXp-Span-62">i</span><span id="MJXp-Span-63">e</span><span id="MJXp-Span-64">r</span><span id="MJXp-Span-65">(</span><span id="MJXp-Span-66">t</span><span id="MJXp-Span-67">)</span><span id="MJXp-Span-68">=</span><span id="MJXp-Span-69"><span id="MJXp-Span-70"><span id="MJXp-Span-71">P</span><span id="MJXp-Span-72">1</span></span></span><span id="MJXp-Span-73">⋅</span><span id="MJXp-Span-74">(</span><span id="MJXp-Span-75">1</span><span id="MJXp-Span-76">−</span><span id="MJXp-Span-77">t</span><span id="MJXp-Span-78"><span id="MJXp-Span-79">)</span><span id="MJXp-Span-80">3</span></span><span id="MJXp-Span-81">+</span><span id="MJXp-Span-82"><span id="MJXp-Span-83"><span id="MJXp-Span-84">T</span><span id="MJXp-Span-85">1</span></span></span><span id="MJXp-Span-86">⋅</span><span id="MJXp-Span-87">3</span><span id="MJXp-Span-88">⋅</span><span id="MJXp-Span-89">(</span><span id="MJXp-Span-90">1</span><span id="MJXp-Span-91">−</span><span id="MJXp-Span-92">t</span><span id="MJXp-Span-93"><span id="MJXp-Span-94">)</span><span id="MJXp-Span-95">2</span></span><span id="MJXp-Span-96">⋅</span><span id="MJXp-Span-97">t</span><span id="MJXp-Span-98">+</span><span id="MJXp-Span-99"><span id="MJXp-Span-100"><span id="MJXp-Span-101">T</span><span id="MJXp-Span-102">2</span></span></span><span id="MJXp-Span-103">⋅</span><span id="MJXp-Span-104">3</span><span id="MJXp-Span-105">⋅</span><span id="MJXp-Span-106">(</span><span id="MJXp-Span-107">1</span><span id="MJXp-Span-108">−</span><span id="MJXp-Span-109">t</span><span id="MJXp-Span-110">)</span><span id="MJXp-Span-111">⋅</span><span id="MJXp-Span-112"><span id="MJXp-Span-113">t</span><span id="MJXp-Span-114">2</span></span><span id="MJXp-Span-115">+</span><span id="MJXp-Span-116"><span id="MJXp-Span-117"><span id="MJXp-Span-118">P</span><span id="MJXp-Span-119">2</span></span></span><span id="MJXp-Span-120">⋅</span><span id="MJXp-Span-121"><span id="MJXp-Span-122">t</span><span id="MJXp-Span-123">3</span></span></span></span></p>

    <p>
        The other two curves are defined by their respective end points, and their tangents which are omitted from the diagram. I won't go into too much Bezier math theory.<label for="sn-1"></label>
        
        <span>This is thoroughly covered in <a href="https://pomax.github.io/bezierinfo/"><em>A Primer on Bézier Curves</em></a> by Pomax.</span>
    </p>

    <p>It is very useful to edit the curve using its tangent points, and most spline tools support this. However, it is also very useful to just drag/create points and make the curve automatically fit them. Very few applications support this use case.</p>

    <p>Bezier curves' formulation doesn't describe the curve in terms of four points it needs to pass through. They describe the curve in terms of two end points and two tangent points, as we saw above.</p>

    <p>
        However there does exist a class of curves that does support this four-point formulation—Catmull-Rom curves<label for="sn-2"></label>.
        
        <span>Most of the math in this article is based on <a href="http://www.cemyuksel.com/research/catmullrom_param/catmullrom_cad.pdf"><em>Parameterization and Applications of
Catmull-Rom Curves</em></a> by Cem Yuksel, Scott Schaefer, John Keyser.</span>

        There is a sub-class of these called Centripetal Catmull-Rom curves, that guarantees the absence of cusps (<em>i.e.</em> loops), which is exactly what we want.

    </p>

    <p>
        Both—Bezier curves and Catmull-Rom curves—are cubic polynomials, and hence interconvertible.<label for="sn-3"></label>
        
    <span><a href="http://www.joshbarczak.com/blog/?p=730"><em>Splines Are Just Obfuscated Beziers</em></a> by Joshua Barczak.</span></p>

    <p><b>Therefore, by keeping things in Bezier form while also supporting Catmull-Rom-like behavior, we get the best of both worlds—fine-grained tangent control, and intuitive point-fitting.</b></p>
</section>

<section>
    <h2>The math</h2>

    <p>Given four points, <span><span id="MJXp-Span-124"><span id="MJXp-Span-125">{</span><span id="MJXp-Span-126"><span id="MJXp-Span-127">P</span><span id="MJXp-Span-128">0</span></span><span id="MJXp-Span-129">,</span><span id="MJXp-Span-130"><span id="MJXp-Span-131">P</span><span id="MJXp-Span-132">1</span></span><span id="MJXp-Span-133">,</span><span id="MJXp-Span-134"><span id="MJXp-Span-135">P</span><span id="MJXp-Span-136">2</span></span><span id="MJXp-Span-137">,</span><span id="MJXp-Span-138"><span id="MJXp-Span-139">P</span><span id="MJXp-Span-140">3</span></span><span id="MJXp-Span-141">}</span></span></span>, we want to find the tangent points <span><span id="MJXp-Span-142"><span id="MJXp-Span-143">{</span><span id="MJXp-Span-144"><span id="MJXp-Span-145">T</span><span id="MJXp-Span-146">1</span></span><span id="MJXp-Span-147">,</span><span id="MJXp-Span-148"><span id="MJXp-Span-149">T</span><span id="MJXp-Span-150">2</span></span><span id="MJXp-Span-151">}</span></span></span>. They are given by:</p>

    <p>
        <span><span id="MJXp-Span-152"><span id="MJXp-Span-153"><span><span id="MJXp-Span-154"><span id="MJXp-Span-155"><span id="MJXp-Span-156"><span id="MJXp-Span-157">T</span><span id="MJXp-Span-158">1</span></span></span><span id="MJXp-Span-159"><span id="MJXp-Span-160"></span><span id="MJXp-Span-161">=</span><span id="MJXp-Span-162"><span><span id="MJXp-Span-163"><span id="MJXp-Span-164">d</span><span><span><span><span><span id="MJXp-Span-166">2</span></span></span></span><span><span><span><span id="MJXp-Span-165">1</span></span></span></span></span></span><span id="MJXp-Span-167"><span id="MJXp-Span-168">P</span><span id="MJXp-Span-169">2</span></span><span id="MJXp-Span-170">−</span><span id="MJXp-Span-171"><span id="MJXp-Span-172">d</span><span><span><span><span><span id="MJXp-Span-174">2</span></span></span></span><span><span><span><span id="MJXp-Span-173">2</span></span></span></span></span></span><span id="MJXp-Span-175"><span id="MJXp-Span-176">P</span><span id="MJXp-Span-177">0</span></span><span id="MJXp-Span-178">+</span><span id="MJXp-Span-179">(</span><span id="MJXp-Span-180">2</span><span id="MJXp-Span-181"><span id="MJXp-Span-182">d</span><span><span><span><span><span id="MJXp-Span-184">2</span></span></span></span><span><span><span><span id="MJXp-Span-183">1</span></span></span></span></span></span><span id="MJXp-Span-185">+</span><span id="MJXp-Span-186">3</span><span id="MJXp-Span-187"><span id="MJXp-Span-188">d</span><span id="MJXp-Span-189">1</span></span><span id="MJXp-Span-190"><span id="MJXp-Span-191">d</span><span id="MJXp-Span-192">2</span></span><span id="MJXp-Span-193">+</span><span id="MJXp-Span-194"><span id="MJXp-Span-195">d</span><span><span><span><span><span id="MJXp-Span-197">2</span></span></span></span><span><span><span><span id="MJXp-Span-196">2</span></span></span></span></span></span><span id="MJXp-Span-198">)</span><span id="MJXp-Span-199"><span id="MJXp-Span-200">P</span><span id="MJXp-Span-201">1</span></span></span><span><span><span><span></span></span><span><span><span id="MJXp-Span-202">3</span><span id="MJXp-Span-203"><span id="MJXp-Span-204">d</span><span id="MJXp-Span-205">1</span></span><span id="MJXp-Span-206">(</span><span id="MJXp-Span-207"><span id="MJXp-Span-208">d</span><span id="MJXp-Span-209">1</span></span><span id="MJXp-Span-210">+</span><span id="MJXp-Span-211"><span id="MJXp-Span-212">d</span><span id="MJXp-Span-213">2</span></span><span id="MJXp-Span-214">)</span></span></span></span></span></span></span></span><span id="MJXp-Span-215"><span id="MJXp-Span-216"><span id="MJXp-Span-217"><span id="MJXp-Span-218">T</span><span id="MJXp-Span-219">2</span></span></span><span id="MJXp-Span-220"><span id="MJXp-Span-221"></span><span id="MJXp-Span-222">=</span><span id="MJXp-Span-223"><span><span id="MJXp-Span-224"><span id="MJXp-Span-225">d</span><span><span><span><span><span id="MJXp-Span-227">2</span></span></span></span><span><span><span><span id="MJXp-Span-226">3</span></span></span></span></span></span><span id="MJXp-Span-228"><span id="MJXp-Span-229">P</span><span id="MJXp-Span-230">1</span></span><span id="MJXp-Span-231">−</span><span id="MJXp-Span-232"><span id="MJXp-Span-233">d</span><span><span><span><span><span id="MJXp-Span-235">2</span></span></span></span><span><span><span><span id="MJXp-Span-234">2</span></span></span></span></span></span><span id="MJXp-Span-236"><span id="MJXp-Span-237">P</span><span id="MJXp-Span-238">3</span></span><span id="MJXp-Span-239">+</span><span id="MJXp-Span-240">(</span><span id="MJXp-Span-241">2</span><span id="MJXp-Span-242"><span id="MJXp-Span-243">d</span><span><span><span><span><span id="MJXp-Span-245">2</span></span></span></span><span><span><span><span id="MJXp-Span-244">3</span></span></span></span></span></span><span id="MJXp-Span-246">+</span><span id="MJXp-Span-247">3</span><span id="MJXp-Span-248"><span id="MJXp-Span-249">d</span><span id="MJXp-Span-250">3</span></span><span id="MJXp-Span-251"><span id="MJXp-Span-252">d</span><span id="MJXp-Span-253">2</span></span><span id="MJXp-Span-254">+</span><span id="MJXp-Span-255"><span id="MJXp-Span-256">d</span><span><span><span><span><span id="MJXp-Span-258">2</span></span></span></span><span><span><span><span id="MJXp-Span-257">2</span></span></span></span></span></span><span id="MJXp-Span-259">)</span><span id="MJXp-Span-260"><span id="MJXp-Span-261">P</span><span id="MJXp-Span-262">2</span></span></span><span><span><span><span></span></span><span><span><span id="MJXp-Span-263">3</span><span id="MJXp-Span-264"><span id="MJXp-Span-265">d</span><span id="MJXp-Span-266">3</span></span><span id="MJXp-Span-267">(</span><span id="MJXp-Span-268"><span id="MJXp-Span-269">d</span><span id="MJXp-Span-270">3</span></span><span id="MJXp-Span-271">+</span><span id="MJXp-Span-272"><span id="MJXp-Span-273">d</span><span id="MJXp-Span-274">2</span></span><span id="MJXp-Span-275">)</span></span></span></span></span></span></span></span></span></span></span></span>
    </p>

    <p>where <span><span id="MJXp-Span-276"><span id="MJXp-Span-277"><span id="MJXp-Span-278">d</span><span id="MJXp-Span-279">i</span></span><span id="MJXp-Span-280">=</span><span id="MJXp-Span-281"><span id="MJXp-Span-282">|</span></span><span id="MJXp-Span-283"><span id="MJXp-Span-284">P</span><span id="MJXp-Span-285">i</span></span><span id="MJXp-Span-286">−</span><span id="MJXp-Span-287"><span id="MJXp-Span-288">P</span><span id="MJXp-Span-289"><span id="MJXp-Span-290">i</span><span id="MJXp-Span-291">−</span><span id="MJXp-Span-292">1</span></span></span><span id="MJXp-Span-293"><span id="MJXp-Span-294"><span id="MJXp-Span-295">|</span></span><span id="MJXp-Span-296">α</span></span></span></span>.</p>

    <p><span><span id="MJXp-Span-297"><span id="MJXp-Span-298">α</span></span></span> is a constant, which dictates the "tightness" of the curve. When <span><span id="MJXp-Span-299"><span id="MJXp-Span-300">α</span><span id="MJXp-Span-301">=</span><span id="MJXp-Span-302">0</span></span></span>, the parameterization is said to be uniform. When <span><span id="MJXp-Span-303"><span id="MJXp-Span-304">α</span><span id="MJXp-Span-305">=</span><span id="MJXp-Span-306">1</span></span></span>, it is said to be chordal. When <span><span id="MJXp-Span-307"><span id="MJXp-Span-308">α</span><span id="MJXp-Span-309">=</span><span id="MJXp-Span-310">0.5</span></span></span>, it is said to be centripetal, which is the one we're interested in the most, since it guarantees lack of cusps.</p>
</section>

<section>
    <h2>Composite curves</h2>
    <p>You may have noticed that the above formulation requires four points <span><span id="MJXp-Span-311"><span id="MJXp-Span-312">{</span><span id="MJXp-Span-313"><span id="MJXp-Span-314">P</span><span id="MJXp-Span-315">0</span></span><span id="MJXp-Span-316">,</span><span id="MJXp-Span-317"><span id="MJXp-Span-318">P</span><span id="MJXp-Span-319">1</span></span><span id="MJXp-Span-320">,</span><span id="MJXp-Span-321"><span id="MJXp-Span-322">P</span><span id="MJXp-Span-323">2</span></span><span id="MJXp-Span-324">,</span><span id="MJXp-Span-325"><span id="MJXp-Span-326">P</span><span id="MJXp-Span-327">3</span></span><span id="MJXp-Span-328">}</span></span></span>, but only generates the curve between the middle two <span><span id="MJXp-Span-329"><span id="MJXp-Span-330">{</span><span id="MJXp-Span-331"><span id="MJXp-Span-332">P</span><span id="MJXp-Span-333">1</span></span><span id="MJXp-Span-334">,</span><span id="MJXp-Span-335"><span id="MJXp-Span-336">P</span><span id="MJXp-Span-337">2</span></span><span id="MJXp-Span-338">}</span></span></span>. So how did we generate the other (greyed out) curves in the figure?</p>

    <p>We generate phantom points. <em>E.g.</em> the curve between <span><span id="MJXp-Span-339"><span id="MJXp-Span-340">{</span><span id="MJXp-Span-341"><span id="MJXp-Span-342">P</span><span id="MJXp-Span-343">0</span></span><span id="MJXp-Span-344">,</span><span id="MJXp-Span-345">P</span><span id="MJXp-Span-346">1</span><span id="MJXp-Span-347">}</span></span></span> is given by the phantom point <span><span id="MJXp-Span-348"><span id="MJXp-Span-349"><span id="MJXp-Span-350">P</span><span id="MJXp-Span-351">0</span></span><span id="MJXp-Span-352">+</span><span id="MJXp-Span-353">ε</span><span id="MJXp-Span-354">(</span><span id="MJXp-Span-355"><span id="MJXp-Span-356">P</span><span id="MJXp-Span-357">0</span></span><span id="MJXp-Span-358">−</span><span id="MJXp-Span-359"><span id="MJXp-Span-360">P</span><span id="MJXp-Span-361">1</span></span><span id="MJXp-Span-362">)</span></span></span> and the points <span><span id="MJXp-Span-363"><span id="MJXp-Span-364">{</span><span id="MJXp-Span-365"><span id="MJXp-Span-366">P</span><span id="MJXp-Span-367">0</span></span><span id="MJXp-Span-368">,</span><span id="MJXp-Span-369"><span id="MJXp-Span-370">P</span><span id="MJXp-Span-371">1</span></span><span id="MJXp-Span-372">,</span><span id="MJXp-Span-373"><span id="MJXp-Span-374">P</span><span id="MJXp-Span-375">2</span></span><span id="MJXp-Span-376">}</span></span></span>. <span><span id="MJXp-Span-377"><span id="MJXp-Span-378">ε</span></span></span> is any arbitrarily small number. In this example I'm using 0.0001; the main constraint is that the phantom point should be colinear to its adjacent real points, for best-looking results.</p>
</section>

<section>
    <h2>The code</h2>

    <p> Here's the pertinent Javascript code that powers the interactive figure up top. While the example supports 2D curves, the technique works with any number of dimensions.</p>

    <pre><code><span><span>function</span> <span>vec2_dist</span>(<span>a, b</span>) </span>{
    <span>return</span> <span>Math</span>.sqrt((a.x - b.x) * (a.x - b.x) + (a.y - b.y) * (a.y - b.y));
}

<span><span>function</span> <span>refit_bezier</span>(<span>
    passthru_0, passthru_1, passthru_2, passthru_3,
    out_tangent_1, out_tangent_2
</span>) </span>{
    <span>let</span> d1 = <span>Math</span>.pow(vec2_dist(passthru_1, passthru_0), alpha);
    <span>let</span> d2 = <span>Math</span>.pow(vec2_dist(passthru_2, passthru_1), alpha);
    <span>let</span> d3 = <span>Math</span>.pow(vec2_dist(passthru_3, passthru_2), alpha);
    
    {
        <span>let</span> a = d1 * d1;
        <span>let</span> b = d2 * d2;
        <span>let</span> c = (<span>2</span> * d1 * d1) + (<span>3</span> * d1 * d2) + (d2 * d2);
        <span>let</span> d = <span>3</span> * d1 * (d1 + d2);
        out_tangent_1.x = (a * passthru_2.x - b * passthru_0.x + c * passthru_1.x) / d;
        out_tangent_1.y = (a * passthru_2.y - b * passthru_0.y + c * passthru_1.y) / d;
    }
    
    {
        <span>let</span> a = d3 * d3;
        <span>let</span> b = d2 * d2;
        <span>let</span> c = (<span>2</span> * d3 * d3) + (<span>3</span> * d3 * d2) + (d2 * d2);
        <span>let</span> d = <span>3</span> * d3 * (d3 + d2);
        out_tangent_2.x = (a * passthru_1.x - b * passthru_3.x + c * passthru_2.x) / d;
        out_tangent_2.y = (a * passthru_1.y - b * passthru_3.y + c * passthru_2.y) / d;
    }

}</code></pre>
    
</section>



</article></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
BlazorHelp Website &gt; Blog - Deploying Your Blazor App Using GitHub Actions -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>BlazorHelp Website &gt; Blog - Deploying Your Blazor App Using GitHub Actions</h1><div><div class="BlogBody"><acronym class="BlogPublished" title="11/28/2019 9:42 AM"><span class="BlogPubMonth"><span id="dnn_ctr382_MainView_ViewEntry_lblEntryMonth">Nov</span></span><span class="BlogPubDate"><span id="dnn_ctr382_MainView_ViewEntry_lblEntryDay">28</span></span></acronym><p class="BlogSubHead"><span class="blog_author"><span id="dnn_ctr382_MainView_ViewEntry_lblPostedBy">Written by:</span><span id="dnn_ctr382_MainView_ViewEntry_lblUserID">Michael Washington</span></span><br><span id="dnn_ctr382_MainView_ViewEntry_lblDateTime" class="BlogDate">11/28/2019 9:42 AM</span>&nbsp;
  <a id="dnn_ctr382_MainView_ViewEntry_lnkRss" href="http://blazorhelpwebsite.com/Blog/tabid/61/rssid/1/Default.aspx" target="_blank"><img id="dnn_ctr382_MainView_ViewEntry_lnkRssIcon" src="/desktopmodules/Blog/Images/feed-icon-12x12.gif" alt="RssIcon"></a></p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4367/Windows-Live-Writer-0da5e3b8556e_128D6-image_93795725-7e5c-43d5-8ece-1402beb7e002.png" width="601" height="334"></p><p>You can easily deploy updates to your <strong>Blazor</strong> application to <strong>Azure</strong> using <a href="https://help.github.com/en/actions/automating-your-workflow-with-github-actions">GitHub Actions</a>.</p><h1>Deploy Your Blazor Application To Azure</h1><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4367/Windows-Live-Writer-0da5e3b8556e_128D6-image_2cf578cc-9d4d-43e3-924b-a9a87f059048.png" width="607" height="316"></p><p>In the following example, we will assume you have already deployed your <strong>Blazor</strong> application to <strong>Azure</strong>.</p><p>See the article: <a href="/Blog/tabid/61/EntryId/4349/Deploying-A-Server-Side-Blazor-Application-To-Azure.aspx">Deploying A Server Side Blazor Application To Azure</a>, for instructions on how to do this.</p><h1>Get The Azure Publishing Profile</h1><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4367/Windows-Live-Writer-0da5e3b8556e_128D6-image_dc0f6bf3-2ceb-4808-ac68-4507823e022e.png" width="486" height="420"></p><p>The first step is to <a href="https://azure.github.io/AppService/2019/08/10/Github-actions-for-webapps.html">follow the directions here</a> to download the <strong>Azure Publishing Profile</strong> for the <strong>Azure App Service</strong>, and use it to set the secret in <strong>GitHub</strong>.</p><p>Log into <a href="https://portal.azure.com/">https://portal.azure.com/</a> and select the <strong>App Service</strong> you want to deploy to.</p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4367/Windows-Live-Writer-0da5e3b8556e_128D6-image_d755be51-a8bc-4cec-b987-c2687dd72eef.png" width="705" height="306"></p><p>Select <strong>Get publish profile</strong>.</p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4367/Windows-Live-Writer-0da5e3b8556e_128D6-image_86d8e108-8ad3-4c1b-bc51-c17a3ee3bb4d.png" width="608" height="167"></p><p>Download the file and open it in a <strong>text editor</strong>.</p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4367/Windows-Live-Writer-0da5e3b8556e_128D6-image_4c84cf62-f243-45b3-8b6e-5f88481cb105.png" width="676" height="281"></p><p><a href="https://github.com/">Log into</a> the <strong>GitHub</strong> site you want to deploy from and select <strong>Settings</strong>.</p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4367/Windows-Live-Writer-0da5e3b8556e_128D6-image_7164887f-5dd8-4b3f-8592-8da7368a0084.png" width="679" height="355"></p><p>Select <strong>Secrets</strong>, then <strong>Add a new secret</strong>.</p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4367/Windows-Live-Writer-0da5e3b8556e_128D6-image_201d2a4a-6c44-4394-9fb4-aacfb2f4178e.png" width="571" height="480"></p><ol><li><span><span><p><span>Name the secret: <strong>azureWebAppPublishProfile</strong></span></p></span></span></li><li><p><code><span>Paste in the contents of the Azure publishing profile in the <strong>Value</strong> box.</span></code></p></li><li><code><span><code><span><p><code><span>Click <strong>Add secret</strong>.</span></code></p></span></code></span></code></li></ol><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4367/Windows-Live-Writer-0da5e3b8556e_128D6-image_96c7b558-faa9-451d-baad-3ab9cea3a5c9.png" width="677" height="476"></p><p>The secret will be created.</p><h1>Create GitHub Action</h1><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4367/Windows-Live-Writer-0da5e3b8556e_128D6-image_5322dc49-3254-461a-a0ba-273b4ec0d713.png" width="384" height="217"></p><p>Select <strong>Actions</strong>, then <strong>New workflow</strong>.</p><p>&nbsp;<img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4367/Windows-Live-Writer-0da5e3b8556e_128D6-image_a043b66c-08df-44eb-85b8-2920d1538eb4.png" width="676" height="410"></p><p>Select, <strong>Set up a workflow yourself</strong>.</p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4367/Windows-Live-Writer-0da5e3b8556e_128D6-image_883f149c-5649-4386-9415-db73bc2cd6d7.png" width="691" height="466"></p><p>We start with the script we grab <a href="https://github.com/Azure/actions-workflow-samples/blob/master/AppService/asp.net-core-webapp-on-azure.yml">from this link</a>.</p><p>We alter it so this is the final script:</p><pre><pre><span>name</span>: <span>Deploy</span><span>To</span><span>Azure</span></pre><pre><span>on</span>:</pre><pre><span>push</span>:</pre><pre><span>branches</span>:</pre><pre><span>-</span><span>master</span></pre><pre><span>jobs</span>:</pre><pre><span>build-and-deploy</span>:</pre><pre><span>runs-on</span>: <span>ubuntu-latest</span></pre><pre><span>steps</span>:</pre><pre><span>#</span><span>checkout</span><span>the</span><span>repo</span></pre><pre><span>-</span><span>uses</span>: <span>actions</span>/<span>checkout</span>@<span>master</span></pre><pre></pre><pre><span>-</span><span>name</span>: <span>Setup</span> .<span>NET</span><span>Core</span></pre><pre><span>uses</span>: <span>actions</span>/<span>setup-dotnet</span>@<span>v1</span></pre><pre><span>with</span>:</pre><pre><span>dotnet-version</span>: <span>3</span>.<span>0</span>.<span>100</span><span>#</span><span>Replace</span><span>with</span><span>specific</span><span>dotnet</span><span>core</span><span>version</span></pre><pre></pre><pre><span>#</span><span>dotnet</span><span>build</span><span>and</span><span>publish</span></pre><pre><span>-</span><span>name</span>: <span>Build</span><span>with</span><span>dotnet</span></pre><pre><span>run</span>: <span>dotnet</span><span>build</span><span>--configuration</span><span>Release</span></pre><pre><span>-</span><span>name</span>: <span>dotnet</span><span>publish</span></pre><pre><span>run</span>: |</pre><pre><span>dotnet</span><span>publish</span><span>-c</span><span>Release</span><span>-o</span> ${{<span>env</span>.DOTNET_ROOT}}/<span>myapp</span></pre><pre><span>-</span><span>name</span>: '<span>Run</span><span>Azure</span><span>webapp</span><span>deploy</span><span>action</span><span>using</span><span>publish</span><span>profile</span><span>credentials</span>'</pre><pre><span>uses</span>: <span>azure</span>/<span>webapps-deploy</span>@<span>v1</span></pre><pre><span>with</span>: </pre><pre><span>app-name</span>: <span>mydotnetcoreapp</span><span>#</span><span>Replace</span><span>with</span><span>your</span><span>app</span><span>name</span></pre><pre><span>publish-profile</span>: ${{ <span>secrets</span>.azureWebAppPublishProfile }} </pre><pre><span>package</span>: ${{<span>env</span>.DOTNET_ROOT}}/<span>myapp</span></pre><pre></pre></pre><p><strong>Commit</strong> the file.</p><p>(<strong>Note:</strong> You literally can keep the name as <em>mydotnetcoreapp</em> and it will still work)</p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4367/Windows-Live-Writer-0da5e3b8556e_128D6-image_d641f2fb-fbaa-4aba-bebb-ee8c75989ed3.png" width="641" height="185"></p><p>The file will show up in the <strong>/.github/workflows</strong> directory.</p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4367/Windows-Live-Writer-0da5e3b8556e_128D6-image_9a8d8928-9ac2-4a3d-a235-e20dea010457.png" width="501" height="242"></p><p><strong>Note:</strong> The file is set to: <strong><em>on: [push]</em></strong></p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4367/Windows-Live-Writer-0da5e3b8556e_128D6-image_f48f8c16-b1d5-4d56-bdac-377990517975.png" width="671" height="217"></p><p>We can always <em>edit</em> the file, by selecting it, and then selecting the <strong>edit</strong> button.</p><p><img title="image" border="0" alt="image" src="/Portals/0/Blog/Files/1/4367/Windows-Live-Writer-0da5e3b8556e_128D6-image_fd6a0ce3-c1a3-4ffd-8422-9a4abd057b4a.png" width="249" height="155"></p><p>We could change it to only run when we push to the <strong>master</strong> branch.</p><p>We can see all the options at this link:</p><p><a href="https://help.github.com/en/actions/automating-your-workflow-with-github-actions/events-that-trigger-workflows">https://help.github.com/en/actions/automating-your-workflow-with-github-actions/events-that-trigger-workflows</a></p><p>Now, every time we check in code to the <strong>master</strong> branch, it will be deployed to <strong>Azure</strong>.</p><h1>Links</h1><p><a href="https://docs.microsoft.com/en-us/azure/app-service/deploy-continuous-deployment#what-happens-to-my-app-during-deployment">What happens to my app during deployment?</a></p><p><a href="https://github.com/projectkudu/kudu/wiki/Investigating-continuous-deployment">Investigating continuous deployment</a></p><p><a href="https://help.github.com/en/actions/automating-your-workflow-with-github-actions">GitHub Actions</a></p><p><a href="https://www.youtube.com/watch?v=zcYqejz6Iig">How to get started with GitHub Actions for Azure (Video)</a></p><p><a href="https://github.com/sdras/awesome-actions">Awesome-Actions</a></p><p><a href="https://abelsquidhead.com/index.php/2019/08/30/github-actions-2-0-is-here/">GitHub Actions 2.0 IS HERE</a></p><p><a href="https://www.codeproject.com/Articles/1214409/Learn-YAML-in-five-minutes">Learn YAML in five minutes!</a></p><p><a href="https://help.github.com/en/actions/automating-your-workflow-with-github-actions/workflow-syntax-for-github-actions#about-yaml-syntax-for-workflows">Workflow syntax for GitHub Actions</a></p><p><a href="/Blog/tabid/61/EntryId/4349/Deploying-A-Server-Side-Blazor-Application-To-Azure.aspx">Deploying A Server Side Blazor Application To Azure</a></p></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
dotnet-counters - .NET Core - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="dotnet-counters - .NET Core - linksfor.dev(s)"/>
    <meta property="article:author" content="sdmaclea"/>
    <meta property="og:description" content="Learn how to install and use the dotnet-counter command-line tool."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://docs.microsoft.com/en-us/dotnet/core/diagnostics/dotnet-counters"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - dotnet-counters - .NET Core</title>
<div class="readable">
        <h1>dotnet-counters - .NET Core</h1>
            <div>by sdmaclea</div>
            <div>Reading time: 6-7 minutes</div>
        <div>Posted here: 25 Mar 2020</div>
        <p><a href="https://docs.microsoft.com/en-us/dotnet/core/diagnostics/dotnet-counters">https://docs.microsoft.com/en-us/dotnet/core/diagnostics/dotnet-counters</a></p>
        <hr/>
<div id="readability-page-1" class="page">


	<div data-bi-name="body">

		<div>

			

			<section>
				<div>


				<div id="main-column">

					<main id="main" role="main" data-bi-name="content" lang="en-us" dir="ltr">



						

						<ul data-bi-name="page info" lang="en-us" dir="ltr">
							<li>
								<time role="presentation" datetime="2020-02-26T00:00:00.000Z" data-article-date-source="ms.date">02/26/2020</time>
							</li>
								<li>3 minutes to read</li>
							<li>
								<a href="https://github.com/dotnet/docs/blob/master/docs/core/diagnostics/dotnet-counters.md" title="5 Contributors" aria-label="5 Contributors">
									
								</a>
							</li>

						</ul>

						<nav id="center-doc-outline" data-bi-name="intopic toc" role="navigation" aria-label="Article Outline">
							<h3>In this article</h3>
						<ol><li><a href="#install-dotnet-counters">Install dotnet-counters</a></li><li><a href="#synopsis">Synopsis</a></li><li><a href="#description">Description</a></li><li><a href="#options">Options</a></li><li><a href="#commands">Commands</a></li><li><a href="#dotnet-counters-collect">dotnet-counters collect</a></li><li><a href="#dotnet-counters-list">dotnet-counters list</a></li><li><a href="#dotnet-counters-monitor">dotnet-counters monitor</a></li><li><a href="#dotnet-counters-ps">dotnet-counters ps</a></li></ol></nav>

						<!-- <content> -->
							
<p><strong>This article applies to:</strong> ✔️ .NET Core 3.0 SDK and later versions</p>
<h2 id="install-dotnet-counters">Install dotnet-counters<a href="#install-dotnet-counters" aria-labelledby="install-dotnet-counters"></a></h2>
<p>To install the latest release version of the <code>dotnet-counters</code> <a href="https://www.nuget.org/packages/dotnet-counters" data-linktype="external">NuGet package</a>, use the <a href="https://docs.microsoft.com/en-us/dotnet/core/tools/dotnet-tool-install" data-linktype="relative-path">dotnet tool install</a> command:</p>
<pre tabindex="0"><code data-author-content="dotnet tool install --global dotnet-counters
"><span><span>dotnet</span> <span>tool</span> install<span> --global</span> dotnet-counters
</span></code></pre>
<h2 id="synopsis">Synopsis<a href="#synopsis" aria-labelledby="synopsis"></a></h2>
<pre tabindex="0"><code data-author-content="dotnet-counters [-h|--help] [--version] <command>
"><span>dotnet-counters [-h|--help] [--version] &lt;command&gt;
</span></code></pre>
<h2 id="description">Description<a href="#description" aria-labelledby="description"></a></h2>
<p><code>dotnet-counters</code> is a performance monitoring tool for ad-hoc health monitoring and first-level performance investigation. It can observe performance counter values that are published via the <a href="https://docs.microsoft.com/en-us/dotnet/api/system.diagnostics.tracing.eventcounter" data-linktype="absolute-path">EventCounter</a> API. For example, you can quickly monitor things like the CPU usage or the rate of exceptions being thrown in your .NET Core application to see if there's anything suspicious before diving into more serious performance investigation using <code>PerfView</code> or <code>dotnet-trace</code>.</p>
<h2 id="options">Options<a href="#options" aria-labelledby="options"></a></h2>
<ul>
<li><p><strong><code>--version</code></strong></p>
<p>Displays the version of the dotnet-counters utility.</p>
</li>
<li><p><strong><code>-h|--help</code></strong></p>
<p>Shows command-line help.</p>
</li>
</ul>
<h2 id="commands">Commands<a href="#commands" aria-labelledby="commands"></a></h2>

<h2 id="dotnet-counters-collect">dotnet-counters collect<a href="#dotnet-counters-collect" aria-labelledby="dotnet-counters-collect"></a></h2>
<p>Periodically collect selected counter values and export them into a specified file format for post-processing.</p>
<h3 id="synopsis-1">Synopsis<a href="#synopsis-1" aria-labelledby="synopsis-1"></a></h3>
<pre tabindex="0"><code data-author-content="dotnet-counters collect [-h|--help] [-p|--process-id] [--refreshInterval] [counter_list] [--format] [-o|--output]
"><span>dotnet-counters collect [-h|--help] [-p|--process-id] [--refreshInterval] [counter_list] [--format] [-o|--output]
</span></code></pre>
<h3 id="options-1">Options<a href="#options-1" aria-labelledby="options-1"></a></h3>
<ul>
<li><p><strong><code>-p|--process-id &lt;PID&gt;</code></strong></p>
<p>The ID of the process to be monitored.</p>
</li>
<li><p><strong><code>--refresh-interval &lt;SECONDS&gt;</code></strong></p>
<p>The number of seconds to delay between updating the displayed counters</p>
</li>
<li><p><strong><code>counter_list &lt;COUNTERS&gt;</code></strong></p>
<p>A space separated list of counters. Counters can be specified <code>provider_name[:counter_name]</code>. If the <code>provider_name</code> is used without a qualifying <code>counter_name</code>, then all counters are shown. To discover provider and counter names, use the <a href="#dotnet-counters-list" data-linktype="self-bookmark">dotnet-counters list</a> command.</p>
</li>
<li><p><strong><code>--format &lt;csv|json&gt;</code></strong></p>
<p>TThe format to be exported. Currently available: csv, json.</p>
</li>
<li><p><strong><code>-o|--output &lt;output&gt;</code></strong></p>
<p>The name of the output file.</p>
</li>
</ul>
<h3 id="examples">Examples<a href="#examples" aria-labelledby="examples"></a></h3>
<ul>
<li><p>Collect all counters at a refresh interval of 3 seconds and generate a csv as output:</p>
<pre tabindex="0"><code data-author-content="> dotnet-counters collect --process-id 1902 --refresh-interval 3 --format csv

counter_list is unspecified. Monitoring all counters by default.
Starting a counter session. Press Q to quit.
"><span><span>&gt;</span><span> dotnet-counters collect --process-id 1902 --refresh-interval 3 --format csv</span>

counter_list is unspecified. Monitoring all counters by default.
Starting a counter session. Press Q to quit.
</span></code></pre>
</li>
</ul>
<h2 id="dotnet-counters-list">dotnet-counters list<a href="#dotnet-counters-list" aria-labelledby="dotnet-counters-list"></a></h2>
<p>Displays a list of counter names and descriptions, grouped by provider.</p>
<h3 id="synopsis-2">Synopsis<a href="#synopsis-2" aria-labelledby="synopsis-2"></a></h3>
<pre tabindex="0"><code data-author-content="dotnet-counters list [-h|--help]
"><span>dotnet-counters list [-h|--help]
</span></code></pre>
<h3 id="example">Example<a href="#example" aria-labelledby="example"></a></h3>
<pre tabindex="0"><code data-author-content="> dotnet-counters list

    Showing well-known counters only. Specific processes may support additional counters.
    System.Runtime
        cpu-usage                    Amount of time the process has utilized the CPU (ms)
        working-set                  Amount of working set used by the process (MB)
        gc-heap-size                 Total heap size reported by the GC (MB)
        gen-0-gc-count               Number of Gen 0 GCs / sec
        gen-1-gc-count               Number of Gen 1 GCs / sec
        gen-2-gc-count               Number of Gen 2 GCs / sec
        exception-count              Number of Exceptions / sec
"><span><span>&gt;</span><span> dotnet-counters list</span>

    Showing well-known counters only. Specific processes may support additional counters.
    System.Runtime
        cpu-usage                    Amount of time the process has utilized the CPU (ms)
        working-set                  Amount of working set used by the process (MB)
        gc-heap-size                 Total heap size reported by the GC (MB)
        gen-0-gc-count               Number of Gen 0 GCs / sec
        gen-1-gc-count               Number of Gen 1 GCs / sec
        gen-2-gc-count               Number of Gen 2 GCs / sec
        exception-count              Number of Exceptions / sec
</span></code></pre>
<h2 id="dotnet-counters-monitor">dotnet-counters monitor<a href="#dotnet-counters-monitor" aria-labelledby="dotnet-counters-monitor"></a></h2>
<p>Displays periodically refreshing values of selected counters.</p>
<h3 id="synopsis-3">Synopsis<a href="#synopsis-3" aria-labelledby="synopsis-3"></a></h3>
<pre tabindex="0"><code data-author-content="dotnet-counters monitor [-h|--help] [-p|--process-id] [--refreshInterval] [counter_list]
"><span>dotnet-counters monitor [-h|--help] [-p|--process-id] [--refreshInterval] [counter_list]
</span></code></pre>
<h3 id="options-2">Options<a href="#options-2" aria-labelledby="options-2"></a></h3>
<ul>
<li><p><strong><code>-p|--process-id &lt;PID&gt;</code></strong></p>
<p>The ID of the process to be monitored.</p>
</li>
<li><p><strong><code>--refresh-interval &lt;SECONDS&gt;</code></strong></p>
<p>The number of seconds to delay between updating the displayed counters</p>
</li>
<li><p><strong><code>counter_list &lt;COUNTERS&gt;</code></strong></p>
<p>A space separated list of counters. Counters can be specified <code>provider_name[:counter_name]</code>. If the <code>provider_name</code> is used without a qualifying <code>counter_name</code>, then all counters are shown. To discover provider and counter names, use the <a href="#dotnet-counters-list" data-linktype="self-bookmark">dotnet-counters list</a> command.</p>
</li>
</ul>
<h3 id="examples-1">Examples<a href="#examples-1" aria-labelledby="examples-1"></a></h3>
<ul>
<li><p>Monitor all counters from <code>System.Runtime</code> at a refresh interval of 3 seconds:</p>
<pre tabindex="0"><code data-author-content="> dotnet-counters monitor --process-id 1902  --refresh-interval 3 System.Runtime

Press p to pause, r to resume, q to quit.
  System.Runtime:
    CPU Usage (%)                                 24
    Working Set (MB)                            1982
    GC Heap Size (MB)                            811
    Gen 0 GC / second                             20
    Gen 1 GC / second                              4
    Gen 2 GC / second                              1
    Number of Exceptions / sec                     4
"><span><span>&gt;</span><span> dotnet-counters monitor --process-id 1902  --refresh-interval 3 System.Runtime</span>

Press p to pause, r to resume, q to quit.
  System.Runtime:
    CPU Usage (%)                                 24
    Working Set (MB)                            1982
    GC Heap Size (MB)                            811
    Gen 0 GC / second                             20
    Gen 1 GC / second                              4
    Gen 2 GC / second                              1
    Number of Exceptions / sec                     4
</span></code></pre>
</li>
<li><p>Monitor just CPU usage and GC heap size from <code>System.Runtime</code>:</p>
<pre tabindex="0"><code data-author-content="> dotnet-counters monitor --process-id 1902 System.Runtime[cpu-usage,gc-heap-size]

Press p to pause, r to resume, q to quit.
  System.Runtime:
    CPU Usage (%)                                 24
    GC Heap Size (MB)                            811
"><span><span>&gt;</span><span> dotnet-counters monitor --process-id 1902 System.Runtime[cpu-usage,gc-heap-size]</span>

Press p to pause, r to resume, q to quit.
  System.Runtime:
    CPU Usage (%)                                 24
    GC Heap Size (MB)                            811
</span></code></pre>
</li>
<li><p>Monitor <code>EventCounter</code> values from user-defined <code>EventSource</code>. For more information, see <a href="https://github.com/dotnet/runtime/blob/master/src/libraries/System.Diagnostics.Tracing/documentation/EventCounterTutorial.md" data-linktype="external">Tutorial: How to measure performance for very frequent events using EventCounters</a>.</p>
<pre tabindex="0"><code data-author-content="> dotnet-counters monitor --process-id 1902 Samples-EventCounterDemos-Minimal

Press p to pause, r to resume, q to quit.
    request                                      100
"><span><span>&gt;</span><span> dotnet-counters monitor --process-id 1902 Samples-EventCounterDemos-Minimal</span>

Press p to pause, r to resume, q to quit.
    request                                      100
</span></code></pre>
</li>
</ul>
<h2 id="dotnet-counters-ps">dotnet-counters ps<a href="#dotnet-counters-ps" aria-labelledby="dotnet-counters-ps"></a></h2>
<p>Display a list of dotnet processes that can be monitored.</p>
<h3 id="synopsis-4">Synopsis<a href="#synopsis-4" aria-labelledby="synopsis-4"></a></h3>
<pre tabindex="0"><code data-author-content="dotnet-counters ps [-h|--help]
"><span>dotnet-counters ps [-h|--help]
</span></code></pre>
<h3 id="example-1">Example<a href="#example-1" aria-labelledby="example-1"></a></h3>
<pre tabindex="0"><code data-author-content="> dotnet-counters ps
  
  15683 WebApi     /home/suwhang/repos/WebApi/WebApi
  16324 dotnet     /usr/local/share/dotnet/dotnet
"><span><span>&gt;</span><span> dotnet-counters ps</span>
  
  15683 WebApi     /home/suwhang/repos/WebApi/WebApi
  16324 dotnet     /usr/local/share/dotnet/dotnet
</span></code></pre>

						<!-- </content> -->

						</main>

						<!-- recommended content page section -->

							<nav data-bi-name="recommendation-bottom" hidden="" id="recommended-content-center" aria-labelledby="recommended-content-center-title">
								<h3 id="recommended-content-center-title">Related Articles</h3>
							</nav>

						<!-- end recommended content page section -->

						<!-- page rating section -->
								
						<!-- end page rating section -->


						<!-- feedback section -->
<section data-bi-name="feedback-section">

    <h2 id="feedback">Feedback</h2>

    

    

    

    <div data-tab-group-independent="" hidden="" data-bi-name="tab-group">
        <ul role="tablist">
            <li role="presentation">
                <a aria-controls="tabpanel-issues-open" data-tab="issues-open" href="#tabpanel-issues-open" role="tab" data-bi-name="tab" aria-selected="true" tabindex="0"></a>
            </li>
            <li role="presentation">
                <a aria-controls="tabpanel-issues-closed" data-tab="issues-closed" href="#tabpanel-issues-closed" role="tab" data-bi-name="tab" aria-selected="false" tabindex="-1"></a>
            </li>
        </ul>
        <section data-tab="issues-open" id="tabpanel-issues-open" role="tabpanel">
            
            <ul aria-label="Open Issues"></ul>
        </section>
        <section data-tab="issues-closed" id="tabpanel-issues-closed" role="tabpanel" hidden="hidden" aria-hidden="true">
            <div>There are no closed issues</div>
            <ul aria-label="Closed Issues"></ul>
        </section>
    </div>
    
</section>

						<!-- end feedback section -->

						<!-- feedback report section -->
						<!-- end feedback report section -->

						
					</div>

					

					<!--end of div.columns -->
				</div>

			<!--end of .primary-holder -->
			</section>

			
		</div>

		<!--end of .mainContainer -->
	</div>

	

	

		
		
	


</div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs" /></noscript>
</body>
</html>
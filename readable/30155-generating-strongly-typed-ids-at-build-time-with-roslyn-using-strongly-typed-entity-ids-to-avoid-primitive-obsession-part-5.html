<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Generating strongly-typed IDs at build-time with Roslyn: Using strongly-typed entity IDs to avoid primitive obsession - Part 5 -
linksfor.dev(s)
    </title>
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <style type="text/css">
        html {
            font-family: sans-serif;
            line-height: 1.15;
            -webkit-text-size-adjust: 100%;
            -webkit-tap-highlight-color: transparent;
            height: 100%;
        }

        *, ::after, ::before {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";
            font-size: 1rem;
            font-weight: 400;
            line-height: 1.5;
            color: #60656a;
            text-align: left;
            background-color: #323b44;
        }

        h1 {
            font-size: 6rem;
            font-weight: 300;
            line-height: 1.2;
            margin-top: 0;
            margin-bottom: 0.5rem;
            margin-bottom: 0.5rem
        }

        a {
            color: #007bff;
            color: #ccc;
            text-decoration: none;
            background-color: transparent;
            word-break: break-all;
        }

        .unseen a {
            font-weight: bold;
        }

        h3 {
            margin-top: 0;
            padding-top: 0;
            font-weight: normal;
        }

        .grid {
            -ms-flex-direction: column;
            flex-direction: column;
            width: 1024px;
            margin: 0 auto;
            flex: 1 0 auto;
        }

        .row {
            -ms-flex-direction: row;
            flex-direction: row;
            width: 100%;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            display: -ms-flexbox;
            display: flex;
        }

        .col {
            margin: 0 10px 0 10px;
            box-sizing: border-box;
            vertical-align: top;
        }

        .col-3-of-4, .col-6-of-8, .col-9-of-12 {
            width: calc(75% - 20px);
        }

        .col-1-of-4, .col-2-of-8, .col-3-of-12 {
            width: calc(25% - 20px);
        }

        @media (max-width:1023px) {
            /* big landscape tablets, laptops, and desktops */
            body {
                overflow-x: hidden;
            }

            main {
                width: 99%;
            }

            h1 {
                font-size: 50px;
            }
        }

        .text-right {
            text-align: right;
        }

        footer {
            left: 0;
            width: 100%;
            margin-top: 2em;
            padding: 50px 0;
            text-align: center;
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }

        .readable {
            color: #949ba2;
        }

        svg:not(:root).svg-inline--fa {
            color: #60656a;
            overflow: visible;
        }

        .svg-inline--fa.fa-w-12 {
            width: 0.75em;
        }

        svg:not(:root) {
            overflow: hidden;
        }

        .svg-inline--fa {
            display: inline-block;
            font-size: inherit;
            height: 1em;
            overflow: visible;
            vertical-align: -0.125em;
        }

        img {
            max-width: 100%;
        }

        .text-center {
            text-align: center;
        }

        .readable h1 {
            font-size: 2em;
        }
    </style>
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <h1>Generating strongly-typed IDs at build-time with Roslyn: Using strongly-typed entity IDs to avoid primitive obsession - Part 5</h1>
    <div class="post-content">
<p>This is another post in my series on strongly-typed IDs. In the <a href="/using-strongly-typed-entity-ids-to-avoid-primitive-obsession-part-1/">first</a> and <a href="/using-strongly-typed-entity-ids-to-avoid-primitive-obsession-part-2/">second</a> posts, I looked at the reasons for using strongly-typed IDs, and how to add converters to interface nicely with ASP.NET Core. In <a href="/using-strongly-typed-entity-ids-to-avoid-primitive-obsession-part-3/">part 3</a> and <a href="/strongly-typed-ids-in-ef-core-using-strongly-typed-entity-ids-to-avoid-primitive-obsession-part-4/">part 4</a> I looked at ways of using strongly-typed IDs with EF Core. This post deals with the most common argument against strongly-typed IDs - the shear amount of boilerplate code required for each strongly-typed ID.</p>
<p>In this post I introduce <a href="https://github.com/andrewlock/StronglyTypedId">the <em>StronglyTypedId</em> NuGet package</a> I&apos;ve created. It uses build-time code generation to create all the strongly-typed ID boilerplate code for you automatically, simply by decorating your type with an attribute:</p>
<pre class="language-csharp"><code class="language-csharp"><span class="token punctuation">[</span><span class="token class-name">StronglyTypedId</span><span class="token punctuation">]</span>
<span class="token keyword">partial</span> <span class="token keyword">struct</span> MyTypeId <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre>
<p>When you save this file, a separate <code>partial struct</code> is created that contains all the boilerplate code I included in the snippet in <a href="/using-strongly-typed-entity-ids-to-avoid-primitive-obsession-part-2/#a-full-example-implementation">part 2 of this series</a>. No need for snippets, full IntelliSense, but all the benefits of strongly-typed IDs!</p>
<picture>
<source srcset="https://buff.ly/content/images/2019/strongly_typed_id.mp4" type="video/mp4">
<img src="/content/images/2019/strongly_typed_id.gif" alt="Generating a strongly-typed ID using the StronglyTypedId packages">
</picture> <p>If you want to give the strongly-typed ID code generators a try in your application, you need to install the <em>StronglyTypedId</em> package, and also add the .NET Core code generation tool <em>dotnet-codegen</em>, as shown below. If you want <a href="/using-strongly-typed-entity-ids-to-avoid-primitive-obsession-part-2/#creating-a-custom-jsonconverter">to generate a <code>JsonConverter</code> for your ID</a> and aren&apos;t already referencing <em>Newtonsoft.Json</em> (you probably are!) then you&apos;ll need to add an extra reference.</p>
<p>To add these packages, edit your <em>csproj</em> file so that it looks something like the following. The example below is for a .NET core Console app:</p>
<pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Project</span> <span class="token attr-name">Sdk</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Microsoft.NET.Sdk<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PropertyGroup</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>OutputType</span><span class="token punctuation">&gt;</span></span>Exe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>OutputType</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TargetFramework</span><span class="token punctuation">&gt;</span></span>netcoreapp2.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TargetFramework</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>PropertyGroup</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ItemGroup</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Newtonsoft.Json<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>12.0.2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>StronglyTypedId<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>0.1.2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DotNetCliToolReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>dotnet-codegen<span class="token punctuation">&quot;</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>0.5.13<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ItemGroup</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Project</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<blockquote>
<p>Note that DotNetCliToolReference tools <a href="https://github.com/dotnet/announcements/issues/107">are being phased out in .NET Core 3</a>, so I suspect this process will be changing soon!</p>
</blockquote>
<p>After these tools are restored with <code>dotnet restore</code>, you&apos;ll have the <code>[StronglyTypedId]</code> attribute available in the global namespace. You can add it to any <code>struct</code>, and the code shown <a href="/using-strongly-typed-entity-ids-to-avoid-primitive-obsession-part-2/">in previous posts</a> is automatically generated for you.</p>
<pre class="language-csharp"><code class="language-csharp"><span class="token punctuation">[</span><span class="token class-name">StronglyTypedId</span><span class="token punctuation">]</span> <span class="token keyword">public</span> <span class="token keyword">partial</span> <span class="token keyword">struct</span> FooId <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre>
<blockquote>
<p>Note that the class must be marked <code>partial</code>, due to the way the boilerplate is generated (shown later).</p>
</blockquote>
<p>That&apos;s pretty much all there is to it! After adding the attribute and saving the file, Visual Studio will automatically generate the backing code. JetBrains Rider and VS Code aren&apos;t <em>quite</em> as nice, as you seem to need to do an explicit build before the IntelliSense catches up, but I don&apos;t think that&apos;s a very big deal.</p>
<p>One of the really nice things about this approach is that the generated class really is exactly the same as if it was written by hand. There&apos;s no extra runtime dependencies in your build output, and even the <code>[StronglyTypedId]</code> attribute is removed as part of the build!</p>
<p><img src="/content/images/2019/strongly_typed_id_build_output.png" alt="Output dlls showing that there&apos;s nothing specific to the code-generation"></p> <p>As a little bonus, I added some extra configuration options to the <code>[StronglyTypedId]</code> attribute. By passing in additional arguments to the attribute constructor, you can control whether a custom <code>JsonConverter</code> is generated, and even change the backing <code>Type</code> of the strongly-typed ID from a <code>Guid</code> to an <code>int</code> or a <code>string</code>:</p>
<pre class="language-csharp"><code class="language-csharp">
<span class="token punctuation">[</span><span class="token class-name">StronglyTypedId</span><span class="token punctuation">(</span>generateJsonConverter<span class="token punctuation">:</span> <span class="token keyword">false</span><span class="token punctuation">,</span> backingType<span class="token punctuation">:</span> StronglyTypedIdBackingType<span class="token punctuation">.</span>Int<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">partial</span> <span class="token keyword">struct</span> NoJsonIntId <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre>
<p>The code generated by the above attribute looks similar to the following: </p>
<pre class="language-csharp"><code class="language-csharp"><span class="token punctuation">[</span><span class="token class-name">TypeConverter</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>NoJsonIntIdTypeConverter<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">readonly</span> <span class="token keyword">partial</span> <span class="token keyword">struct</span> NoJsonIntId <span class="token punctuation">:</span> IComparable<span class="token operator">&lt;</span>NoJsonIntId<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token punctuation">.</span>IEquatable<span class="token operator">&lt;</span>NoJsonIntId<span class="token operator">&gt;</span>
<span class="token punctuation">{</span> <span class="token keyword">public</span> <span class="token keyword">int</span> Value <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">public</span> <span class="token function">NoJsonIntId</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token keyword">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> Value <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">readonly</span> <span class="token class-name">NoJsonIntId</span> Empty <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NoJsonIntId</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">public</span> <span class="token keyword">bool</span> <span class="token function">Equals</span><span class="token punctuation">(</span><span class="token class-name">NoJsonIntId</span> other<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>Value<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">CompareTo</span><span class="token punctuation">(</span><span class="token class-name">NoJsonIntId</span> other<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> Value<span class="token punctuation">.</span><span class="token function">CompareTo</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">bool</span> <span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword">object</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">ReferenceEquals</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">false</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">return</span> obj <span class="token keyword">is</span> <span class="token class-name">NoJsonIntId</span> other <span class="token operator">&amp;&amp;</span> <span class="token function">Equals</span><span class="token punctuation">(</span>other<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">int</span> <span class="token function">GetHashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> Value<span class="token punctuation">.</span><span class="token function">GetHashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">string</span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> Value<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">bool</span> <span class="token keyword">operator</span> <span class="token operator">==</span><span class="token punctuation">(</span><span class="token class-name">NoJsonIntId</span> a<span class="token punctuation">,</span> <span class="token class-name">NoJsonIntId</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span><span class="token function">CompareTo</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">bool</span> <span class="token keyword">operator</span> <span class="token operator">!=</span><span class="token punctuation">(</span><span class="token class-name">NoJsonIntId</span> a<span class="token punctuation">,</span> <span class="token class-name">NoJsonIntId</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token operator">!</span><span class="token punctuation">(</span>a <span class="token operator">==</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">class</span> <span class="token class-name">NoJsonIntIdTypeConverter</span> <span class="token punctuation">:</span> <span class="token class-name">TypeConverter</span> <span class="token punctuation">{</span> <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">bool</span> <span class="token function">CanConvertFrom</span><span class="token punctuation">(</span><span class="token class-name">ITypeDescriptorContext</span> context<span class="token punctuation">,</span> <span class="token class-name">System<span class="token punctuation">.</span>Type</span> sourceType<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> sourceType <span class="token operator">==</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">CanConvertFrom</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> sourceType<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">object</span> <span class="token function">ConvertFrom</span><span class="token punctuation">(</span><span class="token class-name">ITypeDescriptorContext</span> context<span class="token punctuation">,</span> <span class="token class-name">CultureInfo</span> culture<span class="token punctuation">,</span> <span class="token keyword">object</span> <span class="token keyword">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">value</span> <span class="token keyword">is</span> <span class="token keyword">int</span> intValue<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">NoJsonIntId</span><span class="token punctuation">(</span>intValue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">ConvertFrom</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> culture<span class="token punctuation">,</span> <span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>By removing the <code>JsonConverter</code>, you no longer need to take a dependency on <em>Newtonsoft.Json</em>, but obviously JSON serialization is no longer handled directly by the type.</p>
<blockquote>
<p>I feel like these configuration options will cover most cases, but if you have other ideas, feel free to raise an issue on <a href="https://github.com/andrewlock/StronglyTypedId">the GitHub repository</a>. I think the main thing missing is support for <code>class</code> based IDs, as well as <code>struct</code> based.</p>
</blockquote> <p>I&apos;m not going to go into depth about how it all works in this post, but I&apos;ll provide an overview, and likely expand on it in later posts.</p>
<p>The <em>StronglyTypedId</em> library relies on the work in <a href="https://github.com/AArnott/CodeGeneration.Roslyn">AArnott&apos;s CodeGeneration.Roslyn</a> library. This provides all the pieces you need to create your own code generators and for them to work at build/design time so you get full IntelliSense. The <a href="https://github.com/AArnott/CodeGeneration.Roslyn">GitHub README for CodeGeneration.Roslyn</a> describes how to create a code generator in your own project, including all the dependencies you need and requirements on target frameworks and such.</p>
<p>Getting started with the example wasn&apos;t too difficult, but you have to make sure to follow along carefully - if you miss a step it can be difficult to understand what&apos;s going on when things don&apos;t work. I had the most difficulty wrapping up the library in an appropriate NuGet package, as you have to be careful about the format of the NuGet. For that, I followed the example of a very similar project, <a href="https://github.com/amis92/RecordGenerator">RecordGenerator</a>. </p>
<blockquote>
<p><a href="https://amis92.github.io/RecordGenerator/">RecordGenerator</a> works in a very similar way to the <a href="https://github.com/andrewlock/StronglyTypedId/"><em>StronglyTypedId</em> package</a>, but with even more functionality. It allows you to create immutable <code>Record</code> types, along with appropriate builders, deconstructors, and other helpers</p>
</blockquote>
<p>Behind the scenes, the <em>dotnet-codgen</em> tool and the <em>CodeGeneration.Roslyn</em> library add extra MSBuild targets that run generators as part of your app&apos;s build. These generators can only <em>add</em> files to the build, and can&apos;t change existing code. You can find them in the <em>obj</em> folder for your project. </p>
<p>That&apos;s not a problem for <em>StronglyTypedId</em> as long as you mark the type as <code>partial</code> - the generated code is also a partial (in the same namespace) which keeps the compiler happy. You can actually navigate directly to the generated code by pressing F12 on your type:</p>
<pre class="language-csharp"><code class="language-csharp"> <span class="token keyword">using</span> System<span class="token punctuation">;</span> <span class="token keyword">namespace</span> ConsoleApp1
<span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token class-name">System<span class="token punctuation">.</span>ComponentModel<span class="token punctuation">.</span>TypeConverter</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>FooIdTypeConverter<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token class-name">Newtonsoft<span class="token punctuation">.</span>Json<span class="token punctuation">.</span>JsonConverter</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>FooIdJsonConverter<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">readonly</span> <span class="token keyword">partial</span> <span class="token keyword">struct</span> FooId <span class="token punctuation">:</span> System<span class="token punctuation">.</span>IComparable<span class="token operator">&lt;</span>FooId<span class="token operator">&gt;</span><span class="token punctuation">,</span> System<span class="token punctuation">.</span>IEquatable<span class="token operator">&lt;</span>FooId<span class="token operator">&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">public</span> <span class="token class-name">System<span class="token punctuation">.</span>Guid</span> Value <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">public</span> <span class="token function">FooId</span><span class="token punctuation">(</span><span class="token class-name">System<span class="token punctuation">.</span>Guid</span> <span class="token keyword">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> Value <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
</code></pre>
<p>That&apos;s pretty much all I want to cover in this post, other than a quick shout out to <a href="https://twitter.com/KirillOsenkov">Kirill Osenkov</a> for the excellent <a href="https://roslynquoter.azurewebsites.net/">https://roslynquoter.azurewebsites.net/</a> - this site lets you paste in C#, and it spits out the Roslyn syntax for you, super useful!</p>
<p><img src="/content/images/2019/roslyn_generator.png" alt="RoslynQuoter website that generates a Roslyn syntax tree given C#"></p>
<p>If you&apos;ve been holding off on strongly-typed IDs because of the boilerplate code, why not give the attributes a try and see what you think!</p> <p>In this post I introduced the <em>StronglyTypedId</em> package. This uses a Roslyn-powered build-time code generation to create the boilerplate required for the strongly-typed IDs I&apos;ve been describing in this series. By referencing the package (and the required dependencies), you can generate strongly-typed IDs by decorating your <code>struct</code> with a <code>[StronglyTypedId]</code> attribute. You can also configure the code-generation somewhat, by changing the <code>Type</code> of the backing-value, and choosing whether or not to generate a custom <code>JsonConverter</code>.</p>
</div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2019 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
    </footer>
    
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
(Angular &amp; ASP.NET) Gurustop.NET By @Meligy - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="(Angular &amp; ASP.NET) Gurustop.NET By @Meligy - linksfor.dev(s)"/>
    <meta property="article:author" content="Meligy"/>
    <meta property="og:description" content="JavaScript newsletter, C#, Node, and more&#x2026;"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://www.gurustop.net/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
	<div class="devring" style="background: #222">
		<div class="grid">
			<div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
				<span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
				<a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
				<a href="https://devring.club/random" class="devring-random">Random</a>
				<a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
			</div>
		</div>
	</div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - (Angular &amp; ASP.NET) Gurustop.NET By @Meligy</title>
<div class="readable">
        <h1>(Angular &amp; ASP.NET) Gurustop.NET By @Meligy</h1>
            <div>by Meligy</div>
            <div>Reading time: 70-89 minutes</div>
        <div>Posted here: 03 Apr 2020</div>
        <p><a href="https://www.gurustop.net/">https://www.gurustop.net/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>

	

<section role="main">

	
	
		


<div id="post-wrap">


	<article id="post-4293">

		
		

<!-- /.post-header -->

<section>

	<p>Hi there,<br>
It’s been&nbsp;a bit&nbsp;quiet for both Angular and&nbsp;<a href="https://www.meetup.com/ng-sydney/" target="_blank" rel="external nofollow">ng-sydney</a>&nbsp;lately, although as a consultant I’ve been seeing a lot more projects using Angular in the wild than I thought I would, and as&nbsp;an ng-sydney&nbsp;organiser, I’m working on the group bit. But this post is about Angular.</p>
<p>The biggest thing that happened to Angular recently was having&nbsp;<a href="https://twitter.com/mgechev" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?q=https://twitter.com/mgechev&amp;source=gmail&amp;ust=1548207463261000&amp;usg=AFQjCNG_gnqEtxINIC5Qb6uNIC2WPbG-5w">Minko Gechev</a>&nbsp;join the Angular team, working on the Angular CLI.<br>
Minko is the creator of the Angular tslint rules that ship with the CLI (called&nbsp;<a href="http://codelyzer.com/" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?q=http://codelyzer.com/&amp;source=gmail&amp;ust=1548207463261000&amp;usg=AFQjCNHhzlrefEUM1emkxcdDuJma123eQQ">codelyzer</a>).<br>
He also created many other open source tools, like&nbsp;<a href="https://github.com/mgechev/ngx-quicklink" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?q=https://github.com/mgechev/ngx-quicklink&amp;source=gmail&amp;ust=1548207463261000&amp;usg=AFQjCNEaNhMuXR_G9nUd2jOQ_HyTj4Lazw">ngx-quicklink</a>&nbsp;which downloads lazy-loaded Angular routes&nbsp;in the background if they have visible links, for super fast browsing.<br>
He has been helping the CLI quietly ship awesome features in 7.x&nbsp;minor versions, like&nbsp;<a href="https://twitter.com/mgechev/status/1085737147393486848" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?q=https://twitter.com/mgechev/status/1085737147393486848&amp;source=gmail&amp;ust=1548207463261000&amp;usg=AFQjCNF9THDYD8ZHR5qsAT99hdNrLo-CPg">conditional pollyfills</a>.</p>
<p>But this is not the only quiet official release happening in Angular universe.&nbsp;<a href="https://github.com/angular/angular/blob/master/CHANGELOG.md#800-beta0-2019-01-16" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?q=https://github.com/angular/angular/blob/master/CHANGELOG.md%23800-beta0-2019-01-16&amp;source=gmail&amp;ust=1548207463261000&amp;usg=AFQjCNGbc6157EV83wmLm6xYvUofH9ZLnQ">Angular 8 first beta</a>&nbsp;also came out last&nbsp;week.<br>
It seems to be just the right time for betas to start rolling, so that the final release can be on time for the usual March / April timeframe.</p>
<p>The first beta focuses mainly on Bazel, Google’s build system that talks to Webpack and others to make the build faster. It’s also highly expected that Ivy, the new Angular templates compiler that promises smaller size, better performance, and enable new features like&nbsp;<a href="https://mobile.twitter.com/esosanderelias/status/1075269705257095169/photo/1" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?q=https://mobile.twitter.com/esosanderelias/status/1075269705257095169/photo/1&amp;source=gmail&amp;ust=1548207463261000&amp;usg=AFQjCNGJ4sA-9CcLc9H2lG_2wIGi7n85tg">component lifecycle hooks</a>&nbsp;(unrelated to React Hooks).</p>
<p>That’s it for now, till we continue the conversation in the next Open Talk session…</p>
<p>Stay tuned.</p>
<p>Cheers,</p>

</section><!-- /.article-content -->
				<!-- /.post-meta -->
		
	</article><!-- #post-4293 -->


	<article id="post-4272">

		
		

<!-- /.post-header -->

<section>

	<p>I recently upgraded a relatively big project to Angular and Angular CLI v7.<br>
The instructions were the same as upgrading to v6. Except, for both versions there were missing pieces that I didn’t see fully documented in one place, and the most comprehensive docs I saw on how to do it involved more manual work than I liked, so, I decided to share my findings here for the next person.</p>
<p>Let’s upgrade…</p>
<h2>Prerequisites</h2>
<h3>NPM</h3>
<p>Before we continue, make sure to have latest NPM (at least 6.2). You can upgrade your NPM by running:</p>



		
<p>We’ll use the <code>npx</code> tool from NPM to run binaries from local and global packages as needed.<br>
I don’t like installing the CLI globally, that’s why you’ll see me often run <code>npx ng</code> instead of just <code>ng</code>.</p>
<h3>Angular v7 Or Angular v6</h3>
<p>If for some reason you really want to upgrade to v6 first, replace <code>latest</code> below with something like <code>^6.0.0</code> and add a <code>--to</code> argument to <code>ng update</code>, but in my experience, going to v7 from v5 didn’t require this step.</p>
<h2>ng update</h2>
<p>This is the tool that takes care of upgrading all dependencies in <code>package.json</code>, and some breaking code changes between Angular versions.</p>
<p>It’s awesome, but it doesn’t do everything as we’ll see below.</p>
<h3>Installing Latest Angular CLI</h3>
<p>First, you need to install the latest Angular CLI locally before running <code>ng update</code>.<br>
We cannot just run it with <code>npx</code> without install, because the global CLI always passes commands to the project specific version if applicable, so, to run the command, it needs to be locally installed.</p>



		<div id="crayon-5e867d230e128365876100" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>npm<span> </span>i<span> </span>-D<span> </span>@angular/cli@latest</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>There’s another missing dependency which might break the upgrade, and you’ll have to install it as well.</p>



		<div id="crayon-5e867d230e144050976912" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>npm<span> </span>i<span> </span>-D<span> </span>@angular-devkit/build-angular</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>Later below you’ll run <code>npx ng build</code> to make sure everything else is alright. If it or <code>ng update</code> itself complain about missing packages, just add them. For example, my project required me to add <code>date-fns</code> for some reason to build.</p>
<h3>Running The Update Command</h3>
<p>The minimum you need is something like:</p>



		<div id="crayon-5e867d230e14e535388218" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>npx<span> </span>ng<span> </span>update<span> </span>@angular/cli<span> </span>@angular/core<span> </span>--force<span> </span>--from<span> </span>1.5.0</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>The <code>--force</code> is required to ignore peer dependency warning.<br>
The <code>--from</code> must be the previous Angular CLI version you had before. Angular CLI can be confused without it.</p>
<p>If you have other libraries that support upgrading, and you probably do, the more generic form of above becomes:</p>



		<div id="crayon-5e867d230e157828827568" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>npx<span> </span>ng<span> </span>update<span> </span>--all<span> </span>--force<span> </span>--from<span> </span>1.5.0</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>See below for more about libraries.</p>
<h2>Manual File Changes</h2>
<p>Unfortunately the following files will have to be updated and merged by hand:</p>
<ul>
<li><code>angular.json</code>, from an existing <code>.angular-cli.json</code> or similar</li>
<li><code>tsline.json</code></li>
<li><code>src/polyfills.ts</code></li>
</ul>
<p>Create a new project using the CLI, copy the files from that project, and then look in git diff or something to restore any customizations you might have, like <code>styles</code> / <code>scripts</code> / <code>assets</code> in <code>angular.json</code>, or uncommenting/restoring some <code>import</code> statements in <code>src/polyfills.ts</code>.</p>
<p>Remember to go to a different directory outside your project to create a new project to copy the files from.<br>
The command for creating new project without installing the CLI is:</p>



		<div id="crayon-5e867d230e162811878379" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>npx<span> </span>-p<span> </span>@angular/cli@latest<span> </span>ng<span> </span>new<span> </span>use-same-project-name-and-options</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<h2>RxJS Automatic Upgrade</h2>
<p>That’s another one where order of steps is important.</p>
<p>First, you need to install these 2 packages:</p>



		<div id="crayon-5e867d230e16a419001895" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>npm<span> </span>i<span> </span>-D<span> </span>rxjs-compat<span> </span>rxjs-tslint</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>Then import the compatibility package in your code, so that the app still compiles, as it’ll be broken with RxJS upgraded to v6+. Add the following line at the end of <code>src/main.ts</code>.</p>



		
<p>Then, automatically convert all files to the new RxJS syntax:</p>



		<div id="crayon-5e867d230e189154491104" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>npx<span> </span>tslint<span> </span>--fix<span> </span>-c<span> </span>"./node_modules/rxjs-tslint/rxjs-5-to-6-migrate.json"<span> </span>-p<span> </span>tsconfig.json</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>Note that this command might take LONG time if you have a big project.<br>
Give it time. Don’t panic!<br>
Also note that I used <code>tsconfig.json</code> here, the one intended for the editor, not the project specific <code>tsconfig.app.json</code>. It’s because it might be better to upgrade any code in tests too.</p>
<p>The reason I used <code>tslint</code> directly is that the <code>-c</code> flag didn’t work for me on Windows, not from <code>rxjs-5-to-6-migrate</code> directly (it is a CLI), and not from <code>npx ng lint</code>.<br>
After you finish. You can also copy the contents of <code>node_modules/rxjs-tslint/rxjs-5-to-6-migrate.json</code> and merge them into your project’s <code>tslint.json</code> file, and do the whole thing using just <code>npx ng lint --fix</code>.</p>
<p>After that, run <code>npx ng build</code> and see if there are any few left over errors, and correct them manually.</p>
<p>Then you can try removing the <code>import</code> in <code>main.ts</code>, and <code>npx ng serve</code> to see if everything is good, and no other library breaks.</p>
<h3>Manual RXJS Upgrades</h3>
<p>After the RxJS automatic upgrade, <code>npx ng build</code> will probably still give you RxJS related errors.</p>
<p>Don’t worry about <code>cannot find module ...</code> errors. These are fake and caused by other errors above them.</p>
<p>The one manual change I had to do after running the above command was to go in VS Code, and Find &amp; Replace all <code>ObservableOf</code> to just <code>of</code>. I didn’t need to fix the <code>import</code> statements.</p>
<p>You may also get a few duplicate <code>import</code> errors. This is rare. In my project it was caused by some file importing <code>delay</code> from lodash, and using the RxJS <code>delay</code> operator instead. They should be few enough to be not too bad to fix manually.</p>
<p>If you get too many errors for too many operators, make sure you did install and import <code>rxjs-compat</code> BEFORE running the RxJS upgrade.</p>
<h2>Manual Library Upgrades</h2>
<p>Some libraries might require manual upgrade.</p>
<p>For example, The Telerik (now Progress) Kendo UI library can be upgraded by running:</p>



		<div id="crayon-5e867d230e196540695979" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>npx<span> </span>-p<span> </span>npm-check-updates<span> </span>ncu<span> </span>-u<span> </span>-f<span> </span>/^@progress/</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>Some libraries will be upgraded automatically for you, but have some code left behind.<br>
You’ll just have to run <code>ng build</code>, and fix errors manually by checking the libraries’ docs and searching.</p>
<p>In my experience on a relatively big project, that wasn’t too much work.</p>
<h2>That’s It</h2>
<p>Hopefully no pain from libraries etc.</p>
<p>If you are able to get the site running in the browser, and all functionality seems to be working as before, create a pull request for your team, and apologize to them for the massive size of changes due to RxJS upgrade!</p>
<p>Cheers,</p>

</section><!-- /.article-content -->
				<!-- /.post-meta -->
		
	</article><!-- #post-4272 -->


	<article id="post-4258">

		
		

<!-- /.post-header -->

<section>

	<p>There are some pretty nice features in Angular CLI 7, like user prompts offering multiple options when creating new projects. Also it comes with Angular 7 support, which itself has some nice features like performance and routing improvements, the new Ivy compiler, and support for latest TypeScript.</p>
<p>In this post I’ll show how to try out the new combo easily.</p>
<h2 title="Too Long; Didn't Read">TL;DR</h2>
<p><img src="https://i1.wp.com/www.gurustop.net/wp-content/uploads/2018/10/angular-cli-latest-ivy.png?resize=731%2C235&amp;ssl=1" alt="" width="691" height="222" srcset="https://i1.wp.com/www.gurustop.net/wp-content/uploads/2018/10/angular-cli-latest-ivy.png?w=731&amp;ssl=1 731w, https://i1.wp.com/www.gurustop.net/wp-content/uploads/2018/10/angular-cli-latest-ivy.png?resize=300%2C96&amp;ssl=1 300w" sizes="(max-width: 731px) 100vw, 731px"></p>
<h2>Prerequisites</h2>
<p>Make sure you have Node 8.x or higher (run <code>node -v</code> to check). Then that you have NPM 6.2 or higher (run <code>npm -v</code> to check).</p>
<p>I highly recommend upgrading NPM at least to latest, by running <code>npm install --global npm</code>, or <code>npm i -g npm</code> for short.</p>
<h2>Using the CLI Without Install</h2>
<p>Recent versions of NPM come with a nice utility called <code>npx</code>. It allows us to run any CLI package without installing it. If we are inside a Node project already (we have <code>package.json</code>), it allows us to call any CLI tool from inside our project’s <code>node_modules/.bin</code> folder.</p>
<p>For Angular CLI, the NPM package name is <code>@angular/cli</code>, and it gives you the CLI command <code>ng</code>.<br>
So, this is how I’d create a new project using the current version of the CLI, and run it in the browser, using <code>ng serve -o</code> (<code>-o</code> opens it in the browser).</p>



		<div id="crayon-5e867d231095d090226655" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>npx<span> </span>@angular/cli<span> </span>new<span> </span>sample-project</p><p>cd<span> </span>sample-project</p><p>npx<span> </span>ng<span> </span>serve<span> </span>-o</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>In the first line, we downloaded <code>@angular/cli</code> from the NPM registry, that’s why we needed the full package name. In the last line we just used the command <code>ng</code> that we knew was available in <code>sample-project/node_modules/.bin</code>.</p>
<p>Note that we didn’t need to escape the <code>-o</code> flag in the last command.<br>
The Angular CLI usually sets the <code>npm start</code> script to <code>ng serve</code>, so the line <code>npx ng serve -o</code> is the same as:</p>



		
<p>Except we didn’t need the <code>--</code> bit, that makes npm send the argument to the actual CLI command instead of NPM itself.</p>
<h2>Managing The Correct Version</h2>
<p>If we already have the Angular CLI globally installed (via <code>npm i -g @angular/cli</code>), <code>npx</code> will use the version that’s installed by default. We can force a download of the current version by adding <code>-p</code> to the first line, and specifying that we want the <code>ng</code> command manually, like:</p>



		<div id="crayon-5e867d2310987381236110" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>npx<span> </span>-p<span> </span>@angular/cli<span> </span>ng<span> </span>new<span> </span>sample-project</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>Another way is to include the version in the command, like:</p>



		<div id="crayon-5e867d2310990812261442" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>npx<span> </span>@angular/cli@^6.0.0<span> </span>new<span> </span>sample-project</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>I added <code>^</code> to ensure I get the latest 6.x.x, but it’s optional.</p>
<p>Instead of a version, we can use a tag (a named version), let’s see what tags are available for Angular CLI by running <code>npm info @angular/cli dist-tags</code>. The output might look like:</p>



		<div id="crayon-5e867d2310999947509960" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>{<span> </span>latest:<span> </span>'6.2.4',<span> </span>next:<span> </span>'7.0.0-rc.2'<span> </span>}</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>You can run <code>npm info @angular/cli</code>, without appending <code>dist-tags</code>, to learn so much more about the package, like all versions, description, license, dependencies, and more.</p>
<p>Now, to make sure we get the latest version of the CLI, we can use the tag instead of the version, like:</p>



		<div id="crayon-5e867d23109a5419622170" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>npx<span> </span>@angular/cli@latest<span> </span>new<span> </span>sample-project</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>You do NOT need to do this if you never install the package globally (or if you globally remove it).<br>
I usually do NOT install it myself.<br>
But there’s benefit in learning about the gotchas, and about tags.</p>
<h3>Using Prerelease Version (No Ivy Yet)</h3>
<p>As you saw above, we don’t have many tags really. The only tag other than <code>latest</code>, is <code>next</code>.<br>
So, to create a new Angular project using the latest beta/RC version of the Angular CLI, we can simply run:</p>



		<div id="crayon-5e867d23109af463878564" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>npx<span> </span>@angular/cli@next<span> </span>new<span> </span>sample-project</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>You’ll see the fancy new project prompts, and after that, you can confirm the version that was installed by running:</p>



		<div id="crayon-5e867d23109be529593674" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>cd<span> </span>sample-project</p><p>npm<span> </span>ls<span> </span>@angular/cli</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p><code>npm ls</code> shows the locally installed version of the package, and you should then see the latest beta or RC being used.</p>
<p>Go ahead and play with it!</p>
<h3>Enabling Ivy compiler</h3>
<p>There’s another flag you have to add when creating projects in order to use the Ivy compiler, which is <code>--experimental-ivy</code>. The command to create a new project becomes:</p>



		<div id="crayon-5e867d23109c8588074464" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>npx<span> </span>@angular/cli@next<span> </span>new<span> </span>sample-project<span> </span>--experimental-ivy</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>Some Ivy compiler guides suggest that you need to activate Ivy compilation by adding <code>angularCompilerOptions</code> object to your <code>tsconfig.json</code> file, with a <code>enableIvy</code> property set to <code>true</code> or <code>"ngtsc"</code> or <code>"tsc"</code> , but I didn’t seem to need to do any that.</p>
<p>To be impressed by Ivy, run:</p>



		
<p>And notice how the <code>main</code> .js file is only 32KB!</p>
<h2>Upgrading Existing Projects</h2>
<p>If you already have an Angular CLI project, using the latest stable version of Angular CLI and Angular itself, you can use <code>ng update</code> to try out the upcoming bits.</p>
<p>It would look something like:</p>



		<div id="crayon-5e867d23109da998052030" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>npx<span> </span>ng<span> </span>update<span> </span>@angular/cli<span> </span>--next</p><p>npx<span> </span>ng<span> </span>update<span> </span>@angular/core<span> </span>--next</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>And if you use Angular material, also add:</p>



		<div id="crayon-5e867d23109e3169439587" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>npx<span> </span>ng<span> </span>update<span> </span>@angular/material<span> </span>--next</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>Note that these commands are pure Angular CLI schematics magic not NPM as most of the other stuff mentioned here.</p>
<h2>Conclusion</h2>
<p>That’s all you need to start playing with the newest bits, so go on and hack along!</p>
<p>Cheers,</p>

</section><!-- /.article-content -->
				<!-- /.post-meta -->
		
	</article><!-- #post-4258 -->


	<article id="post-4256">

		
		

<!-- /.post-header -->

<section>

	<p>Quite often I get to recommend some of the books I read (or in fact, listened to, via Audible) on the soft skills topic, so, I thought I’d share the links to the audio books here, and refer people to this page in the future.</p>
<p>Here are the books:</p>
<p><a href="https://www.amazon.com/gp/product/B00AQ4CFIU/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B00AQ4CFIU&amp;linkCode=as2&amp;tag=meligy-20&amp;linkId=8f340dbbff772b7f7bd269fbe18f25d7" target="_blank" rel="external nofollow"><img src="https://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;MarketPlace=US&amp;ASIN=B00AQ4CFIU&amp;ServiceVersion=20070822&amp;ID=AsinImage&amp;WS=1&amp;Format=_SL250_&amp;tag=meligy-20"></a><img src="https://ir-na.amazon-adsystem.com/e/ir?t=meligy-20&amp;l=am2&amp;o=1&amp;a=B00AQ4CFIU" alt="" width="1" height="1"></p>
<p><a href="https://www.amazon.com/gp/product/B004YZ4NCI/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B004YZ4NCI&amp;linkCode=as2&amp;tag=meligy-20&amp;linkId=49d813d7495d613160614a5edba9aeb7" target="_blank" rel="external nofollow"><img src="https://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;MarketPlace=US&amp;ASIN=B004YZ4NCI&amp;ServiceVersion=20070822&amp;ID=AsinImage&amp;WS=1&amp;Format=_SL250_&amp;tag=meligy-20"></a><img src="https://ir-na.amazon-adsystem.com/e/ir?t=meligy-20&amp;l=am2&amp;o=1&amp;a=B004YZ4NCI" alt="" width="1" height="1"></p>
<p><a href="https://www.amazon.com/gp/product/B009S8GO14/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B009S8GO14&amp;linkCode=as2&amp;tag=meligy-20&amp;linkId=be247fcb7d030822bf9bd97f4ded3f15" target="_blank" rel="external nofollow"><img src="https://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;MarketPlace=US&amp;ASIN=B009S8GO14&amp;ServiceVersion=20070822&amp;ID=AsinImage&amp;WS=1&amp;Format=_SL250_&amp;tag=meligy-20"></a><img src="https://ir-na.amazon-adsystem.com/e/ir?t=meligy-20&amp;l=am2&amp;o=1&amp;a=B009S8GO14" alt="" width="1" height="1"></p>
<p><a href="https://www.amazon.com/gp/product/B00TKMBJKE/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B00TKMBJKE&amp;linkCode=as2&amp;tag=meligy-20&amp;linkId=49aa8637f5176454ecad94d457b707ae" target="_blank" rel="external nofollow"><img src="https://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;MarketPlace=US&amp;ASIN=B00TKMBJKE&amp;ServiceVersion=20070822&amp;ID=AsinImage&amp;WS=1&amp;Format=_SL250_&amp;tag=meligy-20"></a><img src="https://ir-na.amazon-adsystem.com/e/ir?t=meligy-20&amp;l=am2&amp;o=1&amp;a=B00TKMBJKE" alt="" width="1" height="1"></p>
<p>They are in the order I listened to, and for such topic maybe listening will be easier than reading.</p>
<p>But you can start with either of them, and don’t have to listen to all 4 of course.</p>

</section><!-- /.article-content -->
				<!-- /.post-meta -->
		
	</article><!-- #post-4256 -->


	<article id="post-4241">

		
		

<!-- /.post-header -->

<section>

	<p>I recently had a new Mac, and that made me revisit my terminal setup, which I’m now sharing with you.</p>
<h2>The Terminal Itself</h2>
<p>When I had my old MacBook in 2014, I wanted to go full experience, got iTerm2 and Oh My Zsh.</p>
<h3>iTerm2 Vs Default Terminal</h3>
<p>Later I learned that if I wanted to get a consistent experience, it’s easier to just use the built-in terminal.app, and it’s not that bad.</p>
<p>I still made some modifications to it. I found most commands work better with dark shell so I duplicaed the “Pro” theme and used it (a duplicate was just to increase font size).</p>
<p>I also used <a href="https://github.com/magicmonty/bash-git-prompt" target="_blank" rel="external nofollow">bash-git-prompt</a> (via Homebrew) to get a beautiful prompt with full path and git status.</p>
<p>And there’s a lot more when I talk about dot files and .bashrc…</p>
<h2>Oh My Zsh Vs Bash</h2>
<p>I also learned that from time to time you’d hit a few subtle script differences between Oh My Zsh and the default Bash, usually arround having to quote some strings that Bash doesn’t require quoting. This made copying and pasting commands from tutorials etc a pain sometimes, so I defaulted to Bash this time.</p>
<p>You see the pattern here, I try to utilise the power of defaults.</p>
<h2>Homebrew</h2>
<p>There’re a lot more Brew apps than there are for Mac Ports. Some of you might even not have heard of the latter, so, I just use Brew.</p>
<p>One thing I learned over time is that if something has an installer, I’d better use that installer itself, unless the installer is really a shell script itself.</p>
<p>I’ll talk about each case separately below.</p>
<h2>Terminal Dot File Tweaks: .profile, .bash_profile, and .bashrc</h2>
<p>I got quite confused between the 3 files at first, and head to learn about all this crap about login shells and non login shells, and how Mac is not standard itself. I ended up changing my files as below:</p>
<h3>.bash_profile</h3>
<p>Run the terminal-type-agnoistic (forgive my lack of clever wording here) <code>.profile</code> file if it exists:</p>



		<div id="crayon-5e867d231283a999797539" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>if<span> </span>[<span> </span>-f<span> </span>"$HOME/.profile"<span> </span>];<span> </span>then</p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>.<span> </span>"$HOME/.profile"</p><p>fi</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<h3>.profile</h3>
<p>Just run the <code>~/.bashrc</code> file if it exists</p>



		<div id="crayon-5e867d2312862781467322" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>if<span> </span>[<span> </span>-f<span> </span>"$HOME/.bashrc"<span> </span>];<span> </span>then</p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span>.<span> </span>"$HOME/.bashrc"</p><p>fi</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<h3>.bashrc</h3>
<p>That’s where I end up putting all my terminal customizations. The next steps are to divide these into smaller files kept in a directory really.</p>
<p>For example, that’s where I enable the git prompt, which was by following their README by the way if the code feels complex:</p>



		<div id="crayon-5e867d2312875945796974" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>if<span> </span>[<span> </span>-f<span> </span>"/usr/local/opt/bash-git-prompt/share/gitprompt.sh"<span> </span>];<span> </span>then</p><p><span>&nbsp;&nbsp;</span>__GIT_PROMPT_DIR="/usr/local/opt/bash-git-prompt/share"</p><p><span>&nbsp;&nbsp;</span>source<span> </span>"/usr/local/opt/bash-git-prompt/share/gitprompt.sh"</p><p>fi</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>And also show hidden files in completions:</p>



		<div id="crayon-5e867d2312885403376184" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>bind<span> </span>'set<span> </span>match-hidden-files<span> </span>on'</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<h2>Relative .bashrc Files!!</h2>
<p>This is a good one, and the motivation for writing this blog post, seriously.</p>
<p>I like to have the latest version of everything I use, but I had a React Native project that required Node 8 (for some dependencies that are not updated yet), and Java 8 (for Android).</p>
<p>I decided that I’m going to install multiple versions of Java and Node (via NVM), and pre-select the correct version in my project folder using a .bashrc file.</p>
<p>I wanted the versions to be pre-selected for me so I have to remember to select them less often. Then came the idea:</p>
<p>What if the terminal could load a .bashrc file for me automatically based on directory?</p>
<p>I usually use VS Code integrated terminal, or use its menu to start the terminal app in the project directory, so that will work great.</p>
<p>But the .bashrc file will have to live outside outside of the repository, because I cannot modify the repository for everyone else or a file that gets lost with <code>git clean -dfx</code>, so it needs to be something like:</p>



		<div id="crayon-5e867d2312896908920639" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>-<span> </span>project-parent-dir</p><p><span>&nbsp;&nbsp;</span>|-<span> </span>.bashrc</p><p><span>&nbsp;&nbsp;</span>|-<span> </span>project-git-clone-dir</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>And I did it simply by adding the following to the <code>~/.bashrc</code> file, the one in my home directory which gets loaded automatically as I explained:</p>



		<div id="crayon-5e867d23128b6567495618" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>#<span> </span>This<span> </span>finds<span> </span>the<span> </span>closest<span> </span>folder,<span> </span>starting<span> </span>with<span> </span>current,<span> </span>that<span> </span>has<span> </span>a<span> </span>.bashrc<span> </span>file</p><p>#<span> </span>It's<span> </span>based<span> </span>on<span> </span>some<span> </span>StackOverflow<span> </span>question<span> </span>about<span> </span>finding<span> </span>.git<span> </span>folder<span> </span>:D</p><p>bashrc_dir=$(pwd<span> </span>-P<span> </span>2<span>&gt;</span>/dev/null<span> </span>||<span> </span>command<span> </span>pwd)</p><p>while<span> </span>[<span> </span>!<span> </span>-e<span> </span>"$bashrc_dir/.bashrc"<span> </span>];<span> </span>do</p><p><span>&nbsp;&nbsp;</span>bashrc_dir=${bashrc_dir%/*}</p><p><span>&nbsp;&nbsp;</span>if<span> </span>[<span> </span>"$bashrc_dir"<span> </span>=<span> </span>""<span> </span>];<span> </span>then<span> </span>break;<span> </span>fi</p><p>done</p><p>if<span> </span>[<span> </span>-f<span> </span>"$bashrc_dir/.bashrc"<span> </span>]<span> </span>&amp;&amp;<span> </span>[<span> </span>"$bashrc_dir"<span> </span>!=<span> </span>"$HOME"<span> </span>];<span> </span>then</p><p><span>&nbsp;&nbsp;</span>#<span> </span>Let<span> </span>me<span> </span>know<span> </span>when<span> </span>you<span> </span>source<span> </span>non<span> </span>standard<span> </span>files!</p><p><span>&nbsp;&nbsp;</span>echo<span> </span>"sourcing:<span> </span>$bashrc_dir/.bashrc"</p><p><span>&nbsp;&nbsp;</span>#<span> </span>This<span> </span>loads<span> </span>the<span> </span>file<span>&nbsp;&nbsp;</span></p><p><span>&nbsp;&nbsp;</span>.<span> </span>"$bashrc_dir/.bashrc"</p><p>fi</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>Remember that I’m a true newbie when it comes to this stuff. There’s probably a better way to write this, and I probably should have capitalised <code>bashrc_dir</code>, and sure violated other bash conversions, but it works!</p>
<p>I’ll talk below about what it enabled me to do.</p>
<h2>Bash Completions</h2>
<p>For a long time I felt that I wasn’t getting any tab completion (auto-complete menu on pressing tab after a command) in my new setup. At first I thought it was just Bash vs Zsh, but I recently learned that I can enhance it a bit.</p>
<p>I installed <code>bash-completion</code> using Homebrew, which was not enough by itself, so I added the following to my home dir <code>~/.bashrc</code>:</p>



		<div id="crayon-5e867d23128cc860526098" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>#<span> </span>Bash<span> </span>completions</p><p>if<span> </span>[<span> </span>-f<span> </span>$(brew<span> </span>--prefix)/etc/bash_completion<span> </span>];<span> </span>then</p><p><span>&nbsp;&nbsp;</span>.<span> </span>$(brew<span> </span>--prefix)/etc/bash_completion</p><p>fi</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>Now I started seeing completions. For example if I type <code>npm run</code> inside a folder with <code>package.json</code> file, and press TAB twice (not sure why twice), I see a list of npm scripts. Similarly if I’m in a git folder and type <code>git checkout</code> TAB TAB, I get to see all branch name (or a warning if there are so many).</p>
<h2>Watching Files for Development</h2>
<p>A lot of stuff, especially NodeJS stuff, watch files for changes during development. Think Webpack or TypeScript compiling your files, or React Native packager watching files to send them to mobile device app, etc.</p>
<p>To make this work with no errors, there’s something to do, and something NOT to do.</p>
<p>DO NOT install <code>fsevents</code> or <code>watchman</code> using NPM global install. This will only cause issues.</p>
<p>Instead, just install watchman using Homebrew:</p>



		
<p>If you still have <code>watchman</code> or <code>fsevents</code> errors. Check if you have either of them installed via NPM, remove them, remove <code>watchman</code> from Homebrew and install it again.</p>
<h2>Git</h2>
<p>I installed git via Homebrew. That way it’s pretty easy to update it. I also installed bash-git-prompt similarly as I mentioned above.</p>
<h3>VSTS</h3>
<p>Another tool I installed via Homebrew is <code>git-credential-manager</code>, which allowed me to login to Visual Studio Team Services (VSTS) git repositories in a slightly fancier way (using browser login, that’s later cached).</p>
<h3>GUI Client</h3>
<p>Coming from Windows, I originally cired for lack of a good alternative for <a href="https://github.com/gitextensions/gitextensions" target="_blank" rel="external nofollow">Git Extensions</a>. SourceTree was the closesth but wasn’t close enough, and GitHub for Mac was overly simplified for me, that it felt lacking.</p>
<p>Nowadays I’m pretty happy using <a href="https://git-fork.com/" target="_blank" rel="external nofollow">Fork</a> which I got using the official installer. It is a great git client for when I want to look as graphical log or mess with my changed files diff before committing. I still use the terminal for switching branching, pulling/fetching/pushing, etc.</p>
<h4>Terminal Intgeration</h4>
<p>In Fork preference, the Integration tab, you’ll find a button to install <code>fork</code> as a command to your terminal. This allows me to type <code>fork .</code> in the terminal in any folder in my git repository to open that repository in Fork.</p>
<h3>Diff Tool</h3>
<p>For some reason my head refuses to understand any 3-way diff tool other than <a href="http://kdiff3.sourceforge.net/" target="_blank" rel="external nofollow">Kdiff3</a>, which used to come with Git Extensions. I still use it now, installed via <code>brew cask</code>.</p>
<h2>VS Code</h2>
<p>Since we are talking about modifying files here, I’d like to talk about how I modify them. I use VS Code, please do not hate me Vim users!</p>
<p>I use the Insiders edition of VS Code. This is like a daily build of VS Code. You get all new features weeks before others do, which is awesome. The Insiders edition is fairly stable in my experience, and the update is very quick on Mac too (unlike Windows), so it’s awesome.</p>
<p>To get the Insiders edition, I just google <code>VSCode Insiders</code> and click on first result.</p>
<h3>VS Code To Terminal</h3>
<p>The only caveat of frquently updating VS Code is: because I don’t know when I might want to restart my VS Code for update, I avoid running long running tasks in its terminal.</p>
<p>I can press CMD+SHIFT+P to show command palette, and type <code>new t</code> then select <code>Open New Terminal</code> to open a new tab of the default terminal app, started in the project folder. You’ll see later why this is so cool.</p>
<h3>Terminal To VS Code</h3>
<p>To easily open files and folders in VS Code from the terminal, I can press CMD+SHIFT+P to show command palette, and type <code>install</code> then select the command that installs the <code>code-insiders</code> command in my PATH.</p>
<p>Sometimes I feel that this is a long command though, completion works startingfrom <code>code-</code>, I probably should add just <code>code</code> as an alias.</p>
<h2>Java</h2>
<p>I wasn’t sure whether to go with installer or brew for this one. I knew I’ll have to fiddle with paths anyway, so, I thought I’d use Brew so it’ll be more transparent to me. I used <code>brew cask</code> to install both <code>java</code> (latest) and <code>java8</code>.</p>
<p>In my user <code>~/.bashrc</code> file I added:</p>



		<div id="crayon-5e867d23128f7857043223" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>export<span> </span>JAVA_HOME=$(/usr/libexec/java_home)</p><p>export<span> </span>PATH=$JAVA_HOME/bin:$JAVA_HOME/include:$JAVA_HOME:$PATH</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<h3>Java 8 for Android</h3>
<p>In my project specific <code>.bashrc</code>, I added:</p>



		<div id="crayon-5e867d231290f082056412" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>JDK_ALL=/Library/Java/JavaVirtualMachines</p><p>JDK_8=$(ls<span> </span>$JDK_ALL<span> </span>|<span> </span>grep<span> </span>jdk1.8<span> </span>|<span> </span>sort<span> </span>|<span> </span>tail<span> </span>-1)</p><p>export<span> </span>JAVA_HOME=$JDK_ALL/$JDK_8/Contents/Home</p><p>export<span> </span>PATH=$JAVA_HOME/bin:$JAVA_HOME/include:$JAVA_HOME:$PATH</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>That’s a lie. I only did when I was writing this post. I made up the first two lines. My real old code looked like:</p>



		<div id="crayon-5e867d231291f289104904" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>export<span> </span>JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_181.jdk//Contents/Home</p><p>export<span> </span>PATH=$JAVA_HOME/bin:$JAVA_HOME/include:$JAVA_HOME:$PATH</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>Note the <code>jdk1.8.0_181</code> bit, which is whatever exact Java 8 version I got from <code>brew cask</code>. I replaced it in the first snippet to be dynamic, and it might be worth mentioning that I made up the <code>JDK_ALL</code> and <code>JDK_8</code> variables.</p>
<p>To test that it still works, I opened my project in VS Code, and in the terminal I typed <code>java -version</code>, must be a single <code>-</code> BTW!</p>
<h2>Installing Android Itself</h2>
<p>After struggling a lot with Android and Homebrew on my new machine, knowing that I got it to work somehow before on my old MacBook (which was out for repair at the time of new machine setup), or did I? I decided to go with the official installer for it.</p>
<p>I googled for Android, downloaded Android Studio from it, and then ran it to install the actual Android SDK the first time it opened.</p>
<p>I later discovered issues (maybe) specific to my active project, like Java version as I mentioned, but also found myself having to set a few extra global variables to ny home <code>~/.bashrc</code> file – besides project-specific Java 8 which I mentioned separately above:</p>



		<div id="crayon-5e867d2312930292884342" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>export<span> </span>ANT_HOME=/usr/local/opt/ant/libexec</p><p>export<span> </span>MAVEN_HOME=/usr/local/opt/maven</p><p>export<span> </span>GRADLE_HOME=/usr/local/opt/gradle</p><p>export<span> </span>ANDROID_HOME=~/Library/Android/sdk</p><p>export<span> </span>ANDROID_SDK_HOME=$ANDROID_HOME</p><p>export<span> </span>ANDROID_NDK_HOME=$ANDROID_HOME/ndk-bundle</p><p>export<span> </span>PATH=$ANT_HOME/bin:$PATH</p><p>export<span> </span>PATH=$MAVEN_HOME/bin:$PATH</p><p>export<span> </span>PATH=$GRADLE_HOME/bin:$PATH</p><p>export<span> </span>PATH=$ANDROID_HOME/tools/bin:$PATH</p><p>export<span> </span>PATH=$ANDROID_HOME/platform-tools:$PATH</p><p>export<span> </span>PATH=$ANDROID_NDK_HOME:$PATH</p><p>export<span> </span>PATH=$ANDROID_HOME/build-tools/$(ls<span> </span>$ANDROID_HOME/build-tools<span> </span>|<span> </span>sort<span> </span>|<span> </span>tail<span> </span>-1):$PATH</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>All the <code>usr/local</code> stuff is probably from Homebrew, could have been replaced with <code>$(brew prefix)</code>, and all <code>~/Library/Android/sdk</code> is from official install.</p>
<p>Maybe next time I get a clean environment I’ll do it differently. I don’t know!</p>
<h2>.NET Core</h2>
<p>I used the official installer for .NET Core runtime and SDK as it allowed me to easily install multiple versions of the SDK, which Brew didn’t. I did have a project pinned to a specific SDK version via <code>global.json</code> in its repository.</p>
<p>I went to <a href="https://dot.net/" target="_blank" rel="external nofollow">dot.net</a>, clicked on Download, looked at the end of the page for <code>download archives</code>, checked for latest <code>current</code> version for my machine, and for 2.0 for my project, then found the exact version fo the SDK in the 2.0 page.</p>
<p>Note that SDK <code>2.1.2</code> is for .NET Core is NOT the same as SDK <code>2.1.200</code>, and that both are for .NET Core <code>2.0</code> not <code>2.1</code>!</p>
<h2>Node</h2>
<p>I installed both Node and nvm (Node Version Manager) via Homebrew.</p>
<p>I don’t relying on NVM too much. Things can get funny with global NPM dependencies when you switch Node versions using it, so, I keep that to a minimum. Here’s the idea:</p>
<p>In my home <code>~/.bashrc</code>, I added the following lines:</p>



		<div id="crayon-5e867d231294b186453644" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>#<span> </span>The<span> </span>default<span> </span>commands<span> </span>recommended<span> </span>by<span> </span>brew<span> </span>post-install<span> </span>caveats</p><p>export<span> </span>NVM_DIR="$HOME/.nvm"</p><p>.<span> </span>"/usr/local/opt/nvm/nvm.sh"<span> </span><span>&gt;</span><span> </span>/dev/null<span> </span>2<span>&gt;</span><span>&amp;1</span></p><p>#<span> </span>`system`<span> </span>means<span> </span>the<span> </span>version<span> </span>of<span> </span>Node<span> </span>I<span> </span>already<span> </span>have<span> </span>installed<span> </span>without<span> </span>nvm</p><p>nvm<span> </span>use<span> </span>system<span> </span>--delete-prefix<span> </span>--silent<span> </span><span>&gt;</span><span> </span>/dev/null<span> </span>2<span>&gt;</span><span>&amp;1</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>The <code>&gt; /dev/null 2&gt;&amp;1</code> bit is to hide a false negative error from the console, that I get about NPM prefix. You see I try really hard to hide that error in other ways in vain!</p>
<p>Then, in the folder right above my project get repository, where I had another relative <code>.bashrc</code> file as I mentioned above, I added:</p>



		<div id="crayon-5e867d231295e606294166" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>nvm<span> </span>use<span> </span>"8.11.3"<span> </span>--delete-prefix<span> </span>v8.11.3<span> </span>--silent</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>I can confirm that I have a different version of Node by opening my project VS Code workspace, and typing <code>node -v</code> in the terminal.</p>
<h3>Upgrading NPM</h3>
<p>With the above setup, it’s worth noting that I get 2 NPM installs, one that’s the global / default, and one that’s specific to my project.</p>
<p>Node 8 comes with a slightly outdated version of NPM, so, to update that, I opened the VS Code terminal inside my project workspace, ran <code>node -v</code> to confirm it’s picking it correctly, then I upgraded NPM by running <code>npm install -g npm</code>, and after it finished, I ran <code>npm -v</code> to confirm it’s picking the new version.</p>
<p>I did the same thing with my global Node install BTW. I told you I love to use latest versions of my stuff.</p>
<h2>Golang (Go)</h2>
<p>This was another silly one. I remember struggling with code paths on my old machine after installing via Homebrew, so, like Android, I just went to the official website and installed it via the official installer.</p>
<p>After that, I learned how that if your Go code doesn’t live under <code>~/go/src/project-name</code>, you can get a lot of problems because of <code>GOPATH</code> environment viable. I really wanted to fix this!</p>
<p>That annoying problem is what prompted me to finally blog about relative <code>.bashrc</code> files, after posponing that for a very long time.</p>
<p>The following snippet, which I’m experiencing with in a project-specific <code>.bashrc</code> file, but can also be in the home <code>~/.bashrc</code> file, fixes this problem:</p>



		<div id="crayon-5e867d2312973889572045" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>#<span> </span>If<span> </span>there's<span> </span>an<span> </span>existing<span> </span>GOPATH,<span> </span>prepend<span> </span>it</p><p>#<span> </span>If<span> </span>there<span> </span>isn't,<span> </span>prepend<span> </span>default<span> </span>location</p><p>#<span> </span>Then<span> </span>add<span> </span>current<span> </span>directory<span> </span>as<span> </span>well</p><p>export<span> </span>GOPATH=${GOPATH:-$HOME/go/}:$(pwd)/</p><p>#<span> </span>Do<span> </span>the<span> </span>same<span> </span>idea<span> </span>with<span> </span>GOBIN</p><p>#<span> </span>This<span> </span>was<span> </span>required<span> </span>for<span> </span>`go<span> </span>get`<span> </span>commands<span> </span>to<span> </span>work</p><p>export<span> </span>GOBIN=${GOBIN:-$HOME/go/bin/}:$(pwd)/bin/</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>Turns out you can set multiple <code>GOPATH</code> folders, separating them by <code>:</code> (or <code>;</code> in Windows). I also had to set <code>GOBIN</code> as you see in the script comment.</p>
<h2>RVM (Ruby Version Manager)</h2>
<p>I don’t do Ruby really, but my current project had a script that ues it. There’s no homebrew option for RVM, and following the official instructions -which you get by googling <code>RVM</code>– failed on my Mac.</p>
<p>The error is around a pre-install command you need to run, which uses some signing / signature verification tool called <code>gpg</code>, which is not available on Mac.</p>
<p>I found <a href="http://usabilityetc.com/articles/ruby-on-mac-os-x-with-rvm/" target="_blank" rel="external nofollow">this blog post</a> which suggested another command to run before the installation:</p>



		
<p>Now I was able to follow up with the official install.</p>
<p>I also made sure I have the following in my home dir <code>~/.bashrc</code> of course, this code is a copy-paste from instructions:</p>



		<div id="crayon-5e867d23129b9294947889" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>export<span> </span>PATH="$PATH:$HOME/.rvm/bin"</p><p>[[<span> </span>-s<span> </span>"$HOME/.rvm/scripts/rvm"<span> </span>]]<span> </span>&amp;&amp;<span> </span>source<span> </span>"$HOME/.rvm/scripts/rvm"<span> </span>#<span> </span>Load<span> </span>RVM<span> </span>into<span> </span>a<span> </span>shell<span> </span>session<span> </span>*as<span> </span>a<span> </span>function*</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<h2>Performance And Battery</h2>
<p>Away from terminal really, more into the menu bar, but still especially useful for me as a developer and pro user, I have a few apps to ensure I ge the best performance and battery life I can from my Mac</p>
<h3>Macs Fan Control</h3>
<p><a href="https://www.crystalidea.com/macs-fan-control" target="_blank" rel="external nofollow">MacsFanControl</a> is an almost-necessary free app to prevent my i9 MacBook 2018 pro from throttling while I’m doing heavy work.</p>
<h3>Turbo Boost Switcher Pro</h3>
<p>I bought the paid (Pro) version of <a href="https://www.rugarciap.com/turbo-boost-switcher-for-os-x/" target="_blank" rel="external nofollow">Turbo Boost Switcher</a> so that I can turn off Intel Turbo Boost automically when I’m running on batteries.</p>
<p>It’s a of the opposite of the previous app I know, but quite often when I’m running on battery I need it to stay alive longer. Or when I don’t, I just turn off the auto mode and explicitly turn turbo boost on, and continue working.</p>
<h3>Battery Health</h3>
<p><a href="https://fiplab.com/apps/battery-health-3-for-mac" target="_blank" rel="external nofollow">Battery Health</a> is another paid app for the battery, but this time just for monitoring.</p>
<p>I like to know how my overall battery life going over the year, and this is the app for that. But I also LOVE to see an estimate time of how long it’s until I run out of battery, a feature that used to be built into macOS itself then got removed.</p>
<h2>Touchbar Tweak</h2>
<p>If you are like my, you probably hate a lot of things about the MacBook 2016+ keyboards, especially the touchbar, especially how the Esc key has no feedback. Yuck!</p>
<p>A few people thought that the best tweak for the touch bar is by giving it Haptic feedback (a vibration feel on touch). Until Apple implements that, we can use the free <a href="https://github.com/niw/HapticKey" target="_blank" rel="external nofollow">HapticKey</a> app, which vibrates the touchpad when you tap the touchbar.</p>
<p>It’s not the real thing, but it’s close!</p>
<p>P.S.</p>
<p>Apple, if you ever see this, please in addition to haptic feedback on the entire touchbar, please also change the Esc key to the same kind of physical key you use for the power button, PLEASE!</p>
<h2>Other Tools</h2>
<p>I defintely missed a few more here. There are specific extensions and settings in VS Code, fixes for common Node package install issues, and more, but each feel like they should be their own blog post.</p>
<p>For now, I’ll mention that I also have these in my home <code>.bashrc</code> folder, and I don’t remember now what problem they were fixing – I should have added comments, I know!</p>



		<div id="crayon-5e867d23129d2386019416" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>export<span> </span>PATH="/usr/local/opt/gettext/bin:$PATH"</p><p>export<span> </span>LDFLAGS="-L/usr/local/opt/gettext/lib"</p><p>export<span> </span>CPPFLAGS="-I/usr/local/opt/gettext/include"</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>There’s also another tool I have called <a href="https://github.com/Bash-it/bash-it" target="_blank" rel="external nofollow">bash-it</a>. It supposedly adds some nice stuff to Bash that makes it closer to Zsh, but I haven’d noticed any specific benefit yet. They also have customization bash prompt themes, but I use <a href="https://github.com/magicmonty/bash-git-prompt" target="_blank" rel="external nofollow">bash-git-prompt</a> as I mentioned.</p>
<p>And I use SnagIt for taking screenshots, and Audacity for fine-tuning audio of my YouTube videos, which I haven’t posted in a while, so, that doesn’t matter.</p>
<p>I also use this old tool on Github called <a href="https://github.com/avibrazil/RDM" target="_blank" rel="external nofollow">RDM</a> when I want to experiment with non HiDPI resolutions (which seem to increase the battery life slightly, unless I’m imagining), but the effect is not confirmed, so who case.</p>
<p>And if it counts, I installed Docker using the official installer, and using Docker for Mac official support for Kubernetes to install that.</p>
<h2>Conclusion &amp; Updates</h2>
<p>When I try to modularize my <code>~/.bashrc</code> file, and check my old Mac for anything else I had in the past that’s still useful, I might put it all on github and add it to the post. Make sure you <a href="https://twitter.com/meligy" target="_blank" rel="external nofollow">follow me on Twitter</a> for updates.</p>
<p>Cheers,</p>

</section><!-- /.article-content -->
				<!-- /.post-meta -->
		
	</article><!-- #post-4241 -->


	<article id="post-4185">

		
		

<!-- /.post-header -->

<section>

	<p>Recently I have been asked a few times about how to become recognized as a leader when you are not officially appointed a Team Lead title, or even worse, when the particular team you are working on is too small, or you are even working solo on an independent piece.</p>
<p>Another common question I see people around me ask is: how to introduce new practises to a team that still doesn’t recognize what’s holding them back or what they are missing out on, without having too much resistance, especially from senior people. It’s interesting to note that this question is often asked out of a specific struggle, and that leadership is not usually mentioned when the question is framed.</p>
<h4>But “how to lead” and “how to drive change” are very related</h4>
<p>This blog post was motivated by a question I answered recently on Quora, and another one I answered in a tech group on facebook.</p>
<p>The Quora question is just an example of how this works, so do not mind the specifics.</p>
<p><a href="https://www.quora.com/How-can-I-ask-a-senior-developer-to-learn-Git-properly-as-he-always-commit-code-directly-on-the-master-branch/answer/Meligy?srid=uRZ" target="_blank" rel="external nofollow">How can I ask a senior developer to learn Git properly as he always commit code directly on the master branch?</a></p>
<p>The other question is what I’m sharing with you here. Let’s look at what it says:</p>
<blockquote><p>
  What are your tips for developing company performance in Agile, clean code, unit testing, good software design, etc.?<br>
  Habits are usually a problem, and there’s difficulty of persuasion
</p></blockquote>
<p>Below I answer the question from my observations working as a consultant for 7+ years, and as a software developer for over 12 years.</p>
<h3>The Answer</h3>
<p>It depends on your role, your power, how much buy in you got from leadership, etc.<br>
But…</p>
<p>This is the general framework I apply as a consultant whenever I go to a new place (usually every 4 – 14 months):</p>
<h4>I keep my ears open all the time, looking for opportunities to help people technically etc.</h4>
<p>I like to help, but it’s also good to have people recognize you as someone who helps and come to you directly for help after that. When they come to you for help, they develop habit of listening to what you say, and accepting it.</p>
<h4>I ask tough questions from day 1, although only when a relevant topic comes</h4>
<p>Questions have always been key to how I function. Asking the right question gets you a very good idea on where the team / company stand relative to what you are asking, and much more.</p>
<p>It tells you whether they already do things better than you thought, or otherwise, how close they are, and whether they acknowledge that they are missing something.</p>
<p>The question also communicates to the team what to expect you to push, what you stand behind. If you ask the question in a neutral tone, and only focus on understanding their position (via few follow up questions as time and situation permit) instead of enforcing a suggestion solution at the time, it also signals to them that you are not a perfectionist who wants to move everything upside down in their comfort zone.</p>
<h4>Small talk, coffees, etc.</h4>
<p>I have room for improvement here, but small talk, chatting to people about their lives, their kids, their favourite sport / movie, without being judgemental of course, really helps make you a friend.</p>
<p>If your time permits, join in the coffee trips and sit with them for lunch if applicable. This one is optional, but it helps deepen the “one team” feeling.</p>
<h4>I embrace coming as honest / vulnerable, do not act like “I know it all”</h4>
<p>Stating the obvious, but, I do make mistakes, and that’s OK. When you push for change, even by just asking innocent questions, people hold you to a higher standard, and that’s also OK. Actually it’s a good thing.</p>
<p>When you create a Pull Request, and other people point at a mistake you did, and you smile and fix it. What happened in here? Two things: They put on their “What’s the right thing to do” hat, and you put on the “I hold myself to the same values I ask you to stand for” hat.</p>
<p>This really helps in getting people to have a development mentality, and also helps them own the improvements. It’s not about you anymore, we are all peers, and we all hold each other to what we agree is correct.</p>
<p>It also works in non tech areas, like applying a process etc. When you make the rule become how they judge you, they stand more for it.</p>
<h4>I look for opportunities for small wins.</h4>
<p>A small Agile or tech practice that people can apply without much effort and can appreciate the results. There is always one if you keep your ears and eyes open, and ask the right questions. The whole point here it to get them to appreciate that change (a small change in this case, that they don’t feel a strong urge to resist) is actually beneficial, which helps when you start pushing bigger changes.</p>
<h4>Now that I built enough credibility, I start making the case for the bigger items</h4>
<p>This works because I’m often injected into teams as a developer and a mentor, or leading a smallish team of 3-4 developers. It’s different when I’m expected to be an advisor to the leadership.</p>
<h4>I watch what we agree on, to decide whether to keep asking or start making statements</h4>
<p>Asking works most of the time, but telling / making firm statements is needed too. When people say they don’t want to do something, quite often they ignore the result of their old approach vs the new approach. Your friend in these objection time is the word “Why?”.</p>
<p>If you keep asking “Why?” and “What will happen if…”, people will stop answering at some point, and you’ll have to “tell” them what you think the answer is, and get them to agree or make their own answer. That’s one kind of telling.</p>
<p>When you reach to a point where the flaw of some approach is stated, then it’s time to put on your firm face and “tell” them that we should avoid this problem using the change you are suggesting (detailing the change not using words like “my change”, you don’t want it to be them vs you), and “tell” them that unless they find a bigger flaw in it, that’s what we should follow</p>
<p>At the end of the day, quite often most decisions are trade-offs. You just need to agree on which trade-off has higher cost.</p>
<p>When you do this, you should also sense the air to see if it’s better to make your statements use a neutral tone, or sound a bit more firm, which still should not mean shouting!</p>
<h4>Praise and recognition, lots of it, but keep it genuine</h4>
<h5>Recognition</h5>
<p>I make sure to give people credit for everything good they do, no matter how small. I repeat it in front of more people, and in front of other teams.</p>
<p>Side note: When you do this, you don’t worry about others taking credit for what you did. Because when you keep giving credit to other people around you, external people and management DO see that you are a common factor in these, and while the people you praise get the credit, you too get extra credit!</p>
<p>This plays well with the old leadership playbooks: When talking about good things, name people in every occasion. When talking about bad things, always name facts and avoid naming people, use “we” instead of specific person’s name. If you really have to mention a name, say it neutrally and quickly.</p>
<h5>Praise</h5>
<p>When someone does something good, whether related to the changes you suggest or not, make sure to praise them, in public, loudly. Praise for small things. And do not make up praise.</p>
<p>I learned an interesting secret: when you look for good things that people do, you always find them. Even people that your might consider a negative net producer will do good things and if you look for them you’ll find them (handling negative net producers is a whole topic on its own).</p>
<p>People love praise. It always strengthens your relationship with them. They also feel the urge to do better. It also helps you (me in this case) find positives in the relationship with the team when you are looking for genuine reasons to praise them.</p>
<p>Be warned though: It’s VERY important to keep your praise genuine and about good things you found NOT made up. Why? Besides being dishonest, people will see that you are just giving them empty praise. While empty praise still works on others, it reduces your creditability, and it sure still does not work on those who resist change the most (and hence recognize they have the most conflicts with you). It’ll just lead them to disrespect you and fight you harder.</p>
<p>People often recognize me as someone who is approachable and respectful, which I think is mainly due to vulnerability and positivity (which praise is part of), even though I’m also someone cites concerns in the form of questions or statements when required. This leads to them describing me <a href="https://www.linkedin.com/in/meligy" target="_blank" rel="external nofollow">in my LinkedIn profile recommendations</a> as someone who is they enjoy to work, but not afraid to speak up.</p>
<p>The good news is that there’s no secret about it. It’s not too hard to recognize all people for the good work they do when you are actually looking for it.</p>
<h3>Finally</h3>
<p>When you are already recognized as leader / coach, you don’t have to go through all these steps. You might be better off asking the existing leadership about their priorities and the work conditions, and directly start addressing the low hanging fruit from these.</p>
<h4>Do you have any experience / tip you’d like to share on this?</h4>
<p>Bring on your own version / perspective</p>

</section><!-- /.article-content -->
				<!-- /.post-meta -->
		
	</article><!-- #post-4185 -->


	<article id="post-4145">

		
		

<!-- /.post-header -->

<section>

	<p>This post is about a new feature / code restructure in Angular v4.3+ that is pretty well documented, yet, hardly talked about in posts, and worth drawing special attention to.</p>
<p>The feature we are talking about here is Angular helpers for guarding against XSRF attacks in its old and new HTTP modules.</p>
<h3>What Is XSRF? (Cross Site Request Forgery)</h3>
<p><a href="https://en.wikipedia.org/wiki/Cross-site_request_forgery" target="_blank" rel="external nofollow">XSRF (Also knwon as CSRF)</a> is a form of web security attack that can allow others to impersonate your identify and perform some actions on websites that you are already logged in to. Let’s start with an over simplified version of how the attack and protection work (as I understand them).</p>
<h4>XSRF Attack</h4>
<ul>
<li>You login to website A and get a session cookie, maybe use it a bit</li>
<li>You open website B in a new tab or even the same tab, you are still logged into website A</li>
<li>The owner of website B (or someone who hacked it) happens to be a user of website A too, and knows what calls it sends to the server to perform different tasks</li>
<li>Website B loads a hidden form with the submit URL going to website A<br>
. It could be sending an email on your behalf, deleting many important items, whatever that is you can perform in website A</li>
<li>Website A takes the request and performs it, because you are still logged in</li>
</ul>
<h4>XSRF Protection</h4>
<p>There are many ways to protect against this attack. Mainly you’d use server-generated token stored in somewhere that’s not a cookie.</p>
<p>A classic server side application with a single form each page that submits back to the server can generate a token as a hidden field in the form, and then validate it on submit, and generate a new token for the next page etc. Website B will not have a way to generate a valid token when trying to simulate the server form.</p>
<p>A client side application (SPA) could do the same with headers, sending the token in a header when making any API request (A.K.A AJAX call), and getting the new token in the response of that API / AJAX call.</p>
<p>The initial token may be obtained via a call to a known API, or in a cookie that’s downloaded when the HTML page is loaded. Since the other site can only do only put a form on its own page, it cannot modify headers to inject the token, or call the API directly due to CORS (Cross Original Resource Sharing) policy.</p>
<h3>Angular HTTP APIs &amp; XSRF Protection</h3>
<p><img src="https://i2.wp.com/www.gurustop.net/wp-content/uploads/2016/12/angular.png?resize=250%2C250&amp;ssl=1" alt="" width="250" height="250" srcset="https://i2.wp.com/www.gurustop.net/wp-content/uploads/2016/12/angular.png?w=250&amp;ssl=1 250w, https://i2.wp.com/www.gurustop.net/wp-content/uploads/2016/12/angular.png?resize=150%2C150&amp;ssl=1 150w" sizes="(max-width: 250px) 100vw, 250px"></p>
<p>By default the Angular v2+ <code>Http</code> service (from <code>angular/http</code> <code>HttpModule</code>) had builtin support for the <a href="https://en.wikipedia.org/wiki/Cross-site_request_forgery#Cookie-to-header_token" target="_blank" rel="external nofollow">Cookies To Headers</a> XSRF protection technique we just mentioned.<br>
If it detects a cookie with the name <code>XSRF-TOKEN</code>, it adds an HTTP header named <code>X-XSRF-TOKEN</code> with the same value to the next HTTP request you make.</p>
<p>Since the support is so transparent, I have seen developers who did not even realise it’s there. If you are a front end developer who had someone else on the backend implement the server issuing and validation of the tokens, you may not even realise it’s there.</p>
<p>But things changed slightly in Angular v4.3, that you probably need to be aware of.</p>
<h4>HttpClient</h4>
<p>In Angular v4.3, a new library for creating HTTP (AJAX) requests was added to Angular.</p>
<p>Instead of injecting an <code>Http</code> object from <code>@angular/http</code> as you did since v2.0, you inject an <code>HttpClient</code> from <code>@angular/common/http</code>. The new <code>HttpClient</code> has several new features but most notably:</p>
<ul>
<li>Automatically maps responses to JSON by default (configurable)</li>
<li>Added a pipeline for injecting middleware to requests/responses (called interceptors, like those of AngularJS v1.x)</li>
<li>Has some really cool testing utilities that are much simpler than the old v2.0 <code>Http</code> module</li>
</ul>
<p>Whether you like it or not, you’ll probably end up using the new <code>HttpClient</code> in your Angular applications. This is because starting Angular v5.0, the old <code>Http</code> <a href="https://github.com/angular/angular/pull/18906" target="_blank" rel="external nofollow">will be deprecated</a> (so it may be removed entirely in v6).</p>
<blockquote><p>
  For the record, the relatively quiet introduction of the new module in v4.3 and the deprecation of the old in v5 still makes me feel anxious regardless of how good the new one is. The old one generally just worked, and the way it’s replaced reminds me of the 3 router versions that were written during Angular v2.0 pre-releases.
</p></blockquote>
<h4>XSRF Interceptors</h4>
<p>Since the new <code>HttpClient</code> came with proper support for request and response interceptors, it made total sense for the XSRF support in it to be implemented as interceptors as wel, not as part of <code>HttpClient</code> itself.</p>
<p>This is all cool and good design, but there is a catch, which although is well documented, it’s not having enough people talking about on Medium and Twitter etc.</p>
<p>The XSRF in <code>HttpClient</code> is an opt-in feature. It’s NOT enabled by default, unlike the <code>Http</code> service. This means that you could easily migrate your code from <code>Http</code> to <code>HttpClient</code> and not realise that your builtin XSRF support has been lost, until you test the application and you start getting <code>403 Unauthorized</code> errors from your API of course.</p>
<p>Luckily, all you need to do to get the support back is just import another module, like:</p>
<div> <pre data-line="3,17" data-start="1" data-line-offset="0"><code>
<span>import</span> <span>{</span>
  HttpClientModule<span>,</span> HttpClientXsrfModule
<span>}</span> from <span>'@angular/common/http'</span><span>;</span>


<span>@NgModule</span><span>(</span><span>{</span>
  declarations<span>:</span> <span>[</span>
    AppComponent<span>,</span>
    
  <span>]</span><span>,</span>
  imports<span>:</span> <span>[</span>
    
    

    
    HttpClientModule<span>,</span>
    
    HttpClientXsrfModule<span>,</span>
    
  <span>]</span><span>,</span>
  providers<span>:</span> <span>[</span><span>]</span><span>,</span>
  bootstrap<span>:</span> <span>[</span>AppComponent<span>]</span>
<span>}</span><span>)</span>
export <span>class</span> <span>AppModule</span> <span>{</span> <span>}</span></code></pre>  </div>
<h4>Gotcha</h4>
<p>The old <code>HttpModule</code> supported sending the XSRF-TOKEN header for all HTTP requests. While the new <code>HttpClientXsrfModule</code> made sure it doesn’t send the header for GET or HEAD requests.</p>
<p>GET requests don’t make much sense for XSRF attacks anyway because the attack is about changing data while impersonating you (the attacker cannot get the result anyway because of <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" target="_blank" rel="external nofollow">CORS</a> rules). GET requests by definition should not change data.</p>
<p>However, if your API relies on this, your app might break when you move to <code>HttpClient</code>. In that case you might want to look at this Github issue I created and apply the workaround <a href="https://github.com/angular/angular/issues/19885" target="_blank" rel="external nofollow">github.com/angular/angular/issues/19885</a></p>
<h4>More Goodies</h4>
<p>The <code>HttpClientXsrfModule</code> also makes it easy to change the cookie &amp; HTTP header keys separately if you require that.</p>
<p>Of course you have to remember that both XSRF protection and JSONP require server support as well from the API server you are calling for them to function.</p>
<p>Finally, the same support is also included as opt-in for JSONP requests as well, by adding <code>HttpClientJsonpModule</code> (also from <code>@angular/common/http</code>) to your <code>imports</code>. This utilizes the power of interceptors that allows them to avoid sending an HTTP request completely and do something completely different instead.</p>
<p>As I said, the usage of HttpClient in general, as well XSRF support (and what is XSRF in general) is well documented by the Angular team.<br>
Check it out at <a href="https://angular.io/guide/http" target="_blank" rel="external nofollow">https://angular.io/guide/http</a>.<br>
I still noticed that not enough people are talking about this feature and the actual change, so, hopefully this post can bring some awareness to it.</p>

</section><!-- /.article-content -->
				<!-- /.post-meta -->
		
	</article><!-- #post-4145 -->


	<article id="post-4122">

		
		

<!-- /.post-header -->

<section>

	<p>Hello,</p>
<p>This is Meligy from GuruStop.NET, and this is a special letter celebrating Angular 4.2…&nbsp;Actually, Angular 4.2.1 already!</p>
<p>Let’s see what good content I have found on the Internet since last letter, that you should find super useful as well. Of course it’s not just going to be about Angular, but also AWS, Node, .NET Core, and more…</p>
<h3>Angular Releases</h3>
<h4>Angular 4.2</h4>
<p>As mentioned, Angular 4.2 is here already. In addition to the&nbsp;<a href="http://gurustop.us8.list-manage.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=24686f65a2&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D24686f65a2%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357712000&amp;usg=AFQjCNFbjyLmK1kR0N6r_EooJCRVR9i0PA">Changelog</a>&nbsp;which describes what’s new in every new beta/final build, here’s also&nbsp;<a href="http://gurustop.us8.list-manage.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=e9df2cfa12&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3De9df2cfa12%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357712000&amp;usg=AFQjCNEo4VfQ_MHEl4RHAVuv6dzneuCyIw">a good write up</a>&nbsp;on the release highlights.</p>
<p>Reading through the post, I think the most exciting features for me are the new fake async helpers for tests, allowing to test async code&nbsp;while&nbsp;not having to wait for real <code>setTimeout()</code> calls, etc, which helps tests run faster! There’re also enhancements&nbsp;for animations, and more features relying on TypeScript 2.3+ strict features.</p>
<h3>ng-sydney</h3>
<p>The Angular usergroup I run in Sydney is experimenting with recording sessions simply by using a mobile phone. While there’s a lot of room for improvements, this approach allowed capturing some very good content. Like a session about Angular 4 from an official Angular team member in April, and these sessions from May:</p>
<h4>Amazon AWS Getting Started</h4>
<p>[Video]&nbsp;<a href="http://gurustop.us8.list-manage.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=59533da972&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D59533da972%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357712000&amp;usg=AFQjCNGLFtw5Fa1DbnuRTp4OpVuf72Kzcw">Create Your Personal Website with Angular &amp; Deploy to Amazon AWS</a></p>

<p>If you are like me, you might have heard several people talk about AWS.</p>
<p>Everything is going to the cloud, and Amazon is the biggest player in this field. But how do you get started?&nbsp;What would you build in the first place? Would you use Angular for it? And once it’s ready, how do you get it to <em>the cloud</em>?</p>
<p>Well, that’s exactly what this video talks about!</p>
<p>The speaker’s challenge was quite the opposite. She is fairly comfortable with AWS, and still learning Angular. So, she decided to build herself a new personal website to show her work and more.&nbsp;She used Angular and the Angular CLI, and of course she deployed it to AWS.</p>
<p>In the video, she explains why this is a good idea you should try too, and goes through all the different options that make sense for getting started, with demos covering both Amazon CLI tools and UI console.</p>
<p>She also wrote&nbsp;<a href="http://gurustop.us8.list-manage1.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=61d9be1012&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage1.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D61d9be1012%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357712000&amp;usg=AFQjCNEVidbNsxSEwljUcf-R6X4E-UjhCQ">a very good tutorial on how to do it</a>, with a lot of links to learn about specific topics. Highly recommended.</p>
<p>I’m referring to it myself to learn this stuff.</p>
<h4>Angular Modules &amp; Lazy Loading</h4>
<p>[Video]&nbsp;<a href="http://gurustop.us8.list-manage2.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=776ba4636e&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage2.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D776ba4636e%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357712000&amp;usg=AFQjCNFPEy_02YJYEsX2woMwdVSqGSnRag">Angular Modules, Lazy Loading, &amp; Analysing Your Bundle Content</a></p>

<p>In this video by&nbsp;Aliaksei Kuncevic, an Angular expert, and a frequent ng-sydney attendee and speaker, we go into the lesser known official Angular guidance around Core Modules, Feature Modules, and structuring your real world Angular projects.</p>
<p>It covers even less known tools that help you analyse the size of the JS files that tools like Webpack etc generate, to see what JS modules take up the most space and make them big. He shows some interesting cases with RxJS, lodash, momentJS, and other libraries.</p>
<p>Aliaksei also made both&nbsp;<a href="http://gurustop.us8.list-manage.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=a62037cd9d&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3Da62037cd9d%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357712000&amp;usg=AFQjCNF_zMzK9B1dsc5lCMYzgrFmdje85w">the talk slides</a>&nbsp;and&nbsp;<a href="http://gurustop.us8.list-manage.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=858afe7617&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D858afe7617%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357713000&amp;usg=AFQjCNG-UX7MMwec8bt4RUbLZajhfjoZnQ">demo sources</a>&nbsp;available for download.</p>
<p>You might also want to check my earlier very quick&nbsp;<a href="http://gurustop.us8.list-manage.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=f57a84599e&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3Df57a84599e%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357713000&amp;usg=AFQjCNHnMHfWXUt5gPmyaZ3Mv5BGQH2c9w">blog post</a>&nbsp;on shared modules.</p>
<h3>TypeScript Releases</h3>
<h4>TypeScript 2.4</h4>
<p>While still a pre-release version, which you can npm install as <code>typescript@next</code>, TypeScript 2.4 is already some awesome features that I’d love to mention here. Also it doesn’t seem to pose any breaking changes that prevent you from experimenting with it in your Angular 4+ projects (which officially support TypeScript 2.3 already).</p>
<p>The first feature, as&nbsp;<a href="http://gurustop.us8.list-manage2.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=c266ca7348&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage2.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3Dc266ca7348%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357713000&amp;usg=AFQjCNEV6ZM99ulj3jaXW8w0myeN_xRanw">explained in wiki</a>, is native support for lazy-loaded imports, which promises to make lazy loading much easier in future applications (although will probably need to wait for tools like Webpack to support fully).</p>
<p>This is going to be a big deal soon I hope, as now people often rely on complex solutions for lazy loading that’s often encapsulated by routing tools (like Angular CLI routing support) because it’s just too much.</p>
<p>There’s also better type inference all over the place. That’s something you can take advantage of today, and it basically means less places where you don’t have to specify the types manually thinking “Grr.. the compiler should’ve known that by itself already”, and still get proper typing support.</p>
<p>If you are not familiar with what’s new in TypeScript 2.3 itself, or other earlier versions, check the same wiki page,&nbsp;<a href="http://gurustop.us8.list-manage.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=4e99169beb&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D4e99169beb%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357713000&amp;usg=AFQjCNEnb6sDCGwwpKr7p-PKOyEt8pVY6Q">What’s new in TypeScript</a>, which explains almost all the TypeScript features as of the versions they were added to the language, and also explain what real world scenario tempted the team to add each feature, and how you case use it for your own uses.</p>
<h3>Node &amp; Build Tools</h3>
<h4>Node 8 &amp; Canary</h4>
<p>In case you missed the news,&nbsp;<a href="http://gurustop.us8.list-manage1.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=5c862857bb&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage1.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D5c862857bb%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357713000&amp;usg=AFQjCNEnBBB80aKeGkfp4U3Zri8TxoqawA">Node 8 is a final release now</a>. This is an important update mainly because&nbsp;it’s an even number release, which in Node ecosystem means after a few more minor versions, it’ll become the next Long Term Support “LTS” release, most suitable for production apps (<a href="http://gurustop.us8.list-manage.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=f3b293e872&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3Df3b293e872%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357713000&amp;usg=AFQjCNEpTSmpsZa4ZoQ1dMs0h_QSD5B6eQ">Node 8.1</a>&nbsp;is already out!).</p>
<p>It also includes&nbsp;<a href="http://gurustop.us8.list-manage.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=6d752c4293&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D6d752c4293%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357713000&amp;usg=AFQjCNE_2jlHpkjT__E6i4SSl5cHKdh6Aw">some performance improvements</a>, and new APIs. Although most of the new APIs are low level ones, this means that as native modules etc start relying on them, more and more tools will require moving to Node 8. Luckily, it doesn’t seem to break anything noticeable&nbsp;if you are already using Node 6.</p>
<p>And in other news, there’s also a&nbsp;<a href="http://gurustop.us8.list-manage.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=b1133d83cc&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3Db1133d83cc%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357713000&amp;usg=AFQjCNH6jhY0tih_VJlkFVPL4wWEErakow">Node Canary</a>&nbsp;release channel, which uses the most bleeding edge version of Chrome’s V8 engine!</p>
<h4>NPM 5</h4>
<p>With Node 8, we also get&nbsp;<a href="http://gurustop.us8.list-manage.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=67161872d2&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D67161872d2%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357713000&amp;usg=AFQjCNGe4LKv-eldzPwh5VO4j-COA-KO5Q">NPM 5</a>. The release seems to be heavily influenced by alternative NPM client,&nbsp;<a href="http://gurustop.us8.list-manage.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=7edddb4945&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D7edddb4945%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357713000&amp;usg=AFQjCNG4E1vSCE6IEUi2p2JiXYYGjCgXjg">Yarn</a>.</p>
<p>The biggest feature of the release IMO is much faster package installs (comparable to Yarn), Using <code>--save</code> by default (like, err, Yarn), and better <code>npm link</code> workflows for open source developers (not the same as Yarn, but this area is not ideal with all current tools anyway, and only affects those who play with non releases open source tools).</p>
<p>And yes, no surprises, should be a straightforward update from NPM 4, with a single exception that you’ll NPM local package cache will be cleared, but the speed of installs should make up for that anyway.</p>
<h4>Webpack 3</h4>
<p>Although not final yet, Webpack 3 seems to be&nbsp;<a href="http://gurustop.us8.list-manage.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=c65773ccd5&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3Dc65773ccd5%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357713000&amp;usg=AFQjCNG6pxLYxcdwey5jsXmdoim7W003mA">moving fast</a>. For the vast majority of us, it’s going to be a mostly backwards compatible version with Webpack 2 that gives us free performance and saves all the time we spend waiting for the build to finish!</p>
<p>For plugin creators, there might be a bit more fiddling. If you are using the Angular CLI, they are<a href="http://gurustop.us8.list-manage1.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=5b5b59a2e4&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage1.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D5b5b59a2e4%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357713000&amp;usg=AFQjCNFLiNA_CYyriUEoUjJgDJVFwxoWrA">already working</a>&nbsp;on a version that works with Webpack 3.</p>
<h3>.NET [Core]</h3>
<h4>.NET Fringe Conference Videos</h4>
<p>One thing to love about .NET is that no matter what time of the year it is, there’s always some good .NET conference going on! This time it’s&nbsp;<a href="http://gurustop.us8.list-manage.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=510cbd446c&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D510cbd446c%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357713000&amp;usg=AFQjCNHsmIF-xjtYo9zdesVVkWTePNxnFg">.NET Fringe</a>.</p>
<p>[Video List]:&nbsp;<a href="https://www.youtube.com/playlist?list=PLwZVRWVJepJtK6UZD-m2VLU2k2V-O5OrG" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage2.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D91a79dc18e%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357713000&amp;usg=AFQjCNEiiXybtkmn1tnfQE1-pPRNaf3WNw">.NET Fringe 2017 Conference Videos</a></p>

<p>The conference took place a few days ago, and the videos area already available. There’re many good topics like&nbsp;<a href="http://gurustop.us8.list-manage.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=8592ff5f39&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D8592ff5f39%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357713000&amp;usg=AFQjCNFlzlxLDTGhI0pQJFZHo4gNLSxQ8Q">this</a>&nbsp;and&nbsp;<a href="http://gurustop.us8.list-manage1.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=13f42b5f71&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage1.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D13f42b5f71%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357713000&amp;usg=AFQjCNGyhTo5nz7m04Hft1lPahwhW88JeQ">this</a>&nbsp;on Open Source in .NET,&nbsp;<a href="http://gurustop.us8.list-manage1.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=def9bbd525&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage1.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3Ddef9bbd525%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357713000&amp;usg=AFQjCNEpUTEZ1U6-hOLgUZhUNiUrJ8P6VQ">this</a>&nbsp;on what on earth does .NET Standard mean,&nbsp;<a href="http://gurustop.us8.list-manage.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=2ba40d0615&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D2ba40d0615%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357714000&amp;usg=AFQjCNEaiYXMx7TcwEYQxpCQj4OCZI78ug">this</a>&nbsp;on whether Mono is dead,&nbsp;<a href="http://gurustop.us8.list-manage.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=cb6fa82d37&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3Dcb6fa82d37%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357714000&amp;usg=AFQjCNH16G4V_23JrzvpBvNfXlvbAdKe9Q">this</a>&nbsp;on&nbsp;<a href="http://gurustop.us8.list-manage.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=14959e12dc&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D14959e12dc%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357714000&amp;usg=AFQjCNGy5sUeA2R1MAslB-GfKF1uFy3G-Q">DotNetCoreKoans</a>&nbsp;C# exercises,&nbsp;<a href="http://gurustop.us8.list-manage.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=8da0ddfed8&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D8da0ddfed8%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357714000&amp;usg=AFQjCNGh2VLOy0up7CJsPUbD1F74AMaFSA">this</a>&nbsp;about the&nbsp;<a href="http://gurustop.us8.list-manage1.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=8086bccc6b&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage1.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D8086bccc6b%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357714000&amp;usg=AFQjCNF0JuAGdNLEkQTuq4j7iMnaSj3Kpw">A Wider .NET</a>&nbsp;initiative, and a lot more.</p>
<p>And of course it wouldn’t be a recent .NET conference without talks about&nbsp;<a href="http://gurustop.us8.list-manage.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=1ace861a75&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D1ace861a75%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357714000&amp;usg=AFQjCNFUTOnjUgEx1KLjBqkGC7HmA__GiQ">Docker</a>&nbsp;and&nbsp;<a href="http://gurustop.us8.list-manage1.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=61041c39f0&amp;e=f6824a5c08" target="_blank" rel="external nofollow" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage1.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D61041c39f0%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357714000&amp;usg=AFQjCNF4aaYe75yiI2uLOqtbTwMCnVy8Gg">F#</a>!</p>
<p>There are many lightning talks as well. They don’t have the titles in the YouTube list for these unfortunately, but the entire channel is worth browsing.</p>
<h4>Other Worthy Content</h4>
<p>[Article]&nbsp;<a href="http://gurustop.us8.list-manage.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=948fa96a7e&amp;e=f6824a5c08" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D948fa96a7e%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357714000&amp;usg=AFQjCNFaEOvfgZWfn3sMZNasz7vGudSRnA">MSDN Blogs: Performance Improvements in .NET Core<br>
</a>Performance is obviously a big thing in .NET Core, and this details some of the specifics.</p>
<p>[Opinion]&nbsp;<a href="http://gurustop.us8.list-manage2.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=4bbde8e611&amp;e=f6824a5c08" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage2.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D4bbde8e611%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357714000&amp;usg=AFQjCNEjpsMq6ucC5Rx6u0bbQwqELjcggg">The Coming .NET Renaissance<br>
</a>While there’s some crazy fun with .NET Core versioning and tutorials and all, it seems to be all for the good. Or is it?</p>
<p>[Article]&nbsp;<a href="http://gurustop.us8.list-manage.com/track/click?u=103eed6ca1865dfc1e9fb92a9&amp;id=7d2f19300b&amp;e=f6824a5c08" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=http://gurustop.us8.list-manage.com/track/click?u%3D103eed6ca1865dfc1e9fb92a9%26id%3D7d2f19300b%26e%3Df6824a5c08&amp;source=gmail&amp;ust=1497239357714000&amp;usg=AFQjCNHHNbWDcs9fy-06Hox66wB_gVcIEw">Scott Hanselman: .NET and Docker<br>
</a>A lot of the docker tutorials around .NET focus on Visual Studio integration etc. This one covers a wider view, including realistic production workflows.</p>
<h3>Gotta Stop Here…</h3>
<p>Alright, there’re many more things I’d like to share with you here, but then the email would go forever, and a lot of the really good things here would be lost. So, gotta stop somewhere.</p>
<p>Feel free to reply directly to this email and tell me which resource you liked the most, and what topics you’d rather I mention or reference more info about in the next letter to make it more useful for you.</p>
<p>Until then!</p>
<p>Cheers,</p>

</section><!-- /.article-content -->
				<!-- /.post-meta -->
		
	</article><!-- #post-4122 -->


	<article id="post-4099">

		
		

<!-- /.post-header -->

<section>

	<p>I told a few people how I joined Readify, but I never wrote it down. Here’s more than you ever wanted to know:</p>
<h3>Before The Beginning</h3>
<p>I didn’t have a computer when I was a kid, until I was 14 or something. I only had access to DOS computer in the mid-to-late 90s in a community center, where I was not allowed to run Norton Commander, because “you won’t learn anything like that”. I learned DBASE III, at the time my teacher was using Windows 95 or 98.</p>
<p>Then I got a computer. Internet came later. I noticed I could be a web developer. PHP was the craze at the time. I jumped on it, and learned some C and Visual Basic too. I didn’t get so far with either.</p>
<p>Then my family moved into another house. My new neighbour who attended a Computer Science college said they had free lectures on Visual Studio 2002 beta during summer, and I couldn’t have missed them! I got the software with a help of the public library I used to go to. The IT manager there was so helpful, even though I was barely allowed in the “grownups” section at the time. That reminds me of something else that’s useless in this context, which is how for over a year I used to note “useful URLs” in a small book, until an affordable Internet Cafe was open in the same library, and I was able to surf like a guru!</p>
<h3>My First Company</h3>
<p>I started work when I was at uni. I attended a international Microsoft developers conference in Egypt on 2004 and was picked as a best attendee by one of the speakers, to win a Microsoft MCAD training track (8 courses). I was in my first year of 5 years engineering uni.</p>
<p>It wasn’t easy doing a 4 hour training 3 days a week plus uni, but it paid off. I was lucky that most students were senior developers at the time, and all somewhat new to .NET.</p>
<p>A friend recommended me as a trainee in her company in the summer. She left the company, and shortly after, the other 2 developers left on the same day. It was funny. I had to handle this little company myself, with an interesting technical founder who at the time only knew classic ASP. I was interviewing both junior and senior hires technically while still called a trainee!<br>
I also wrote a PoS Windows app that sync’ed with my web app’s SQL DB via Access and DataSets!</p>
<h3>My First Move</h3>
<p>Then one of the 2 developers who left invited me to work as a freelancer in her company, for a month, with 6 times my full time trainee salary. It was a custom CMS written by someone who left and no one else could wrap their head around the code, and the company needed to extend it in ways it was never meant to work.</p>
<p>That was flattering, and I was crazy about CMSes at the time. I took it, and after a few weeks of day and night work, I decided to dedicate my day to the new work.</p>
<p>It was uni time again (September 2005). My work was successful and led to more work. Eventually someone else left, and he was taking care of a system that nobody wanted to touch for a very different reason. It was in VB.NET! I didn’t know VB.NET at the time, but I took it, and it had some interesting business challenges, and .. em .. KSA remote client management challenges.</p>
<p>I decided to continue working as a part-timer during uni. It was the beginning of crazy era.</p>
<h3>The Work – Uni Balance</h3>
<h4>A New Life</h4>
<p>I’d go to uni, finish and head to the company, through a very crowded road (about 2 hours long, including 45 minutes in a single crossing), finish work so late I’m too tired to go home, pull in some chairs together to sleep on, to wake up early enough before anybody comes, and go to uni.</p>
<p>I’d go back home every 2-3 days to change my clothes. I also would take 2-4 weeks off before and during exams. I was so proud I was so rich I could order food whenever I wanted, and was being treated just like all the “big developers”.</p>
<h4>Officially A Full-Timer</h4>
<p>Then the same person who brought me to the company told me about this American company opening in Egypt, that is always working with pre-release technologies. She said she failed their test because she didn’t take it seriously as the company didn’t seem to have a proper office or anything. She told me she thought she was wrong, as it’s just a different culture. She told me the UX designer I liked the most in our company went to work there.</p>
<p>So, right after finishing a uni final test, I went to this other company for a tech test. It was a horrible idea. I think I did too bad, but having been blogging for a while about tech events in Egypt and other tech stuff, when .NET bloggers were relatively rare at the time (talking 2006), especially in Egypt, I was a well known person to the guys who worked there. Also one of them knew me from a tech forum we both used to help people in.</p>
<p>So, I got to the interview with the tech founder. He’s an Indonesian from a Chinese background, who I think holds a degree from Australia, and is partnering with an American in founding a company in Egypt! He was a legend!</p>
<p>These maybe were some of my best times in life. I worked as a full-time junior developer for pretty much the same salary as my previous company. I worked in the same way I did in the other company plus 10 hours a day in weekends to have 40 hours total. That was doable because our main account was in the U.S., and the time difference was in my favor as I was working mostly by night during uni.</p>
<h3>A Senior Title</h3>
<p>I really enjoyed the company. The founder made it ever better. He was an awesome geek. He stayed late with me, came on weekends, and sometimes we both would go out to eat or just walk. That was life!</p>
<p>I was the only junior developer at the time. A year later they started hiring junior developers and I was promoted to a senior developer. I was proud I got the title while still a student, even though that didn’t include a pay rise. That came a few months later though.</p>
<p>The company also encouraged me to start public speaking. I was a semi-frequent speaker at the only .NET usergroup in Egypt at the time, and the company itself held its own conference every year, having me as a speaker twice. That was cool, and helped more people recognize me.</p>
<h3>The “Experts” Team</h3>
<p>After graduating (2008), a friend from the MCAD courses told me his friend left his well-paying online freelancing work to go back to their old company, which was re-opening. It was a part of a very large well known brand in Egypt. He called me to join him in an architecture team they called “The Experts Team”.</p>
<p>It also had the guy I liked the most from the usergroup organizer team. I was getting ready for marriage at the time, and for those who don’t know, marriage costs tens of thousands in Egypt — that’s IF you have an apartment, and I was lucky that my parents suffered from paying loans for many years to ensure I had one before I understood why that was important.</p>
<h3>Flying To Abu Dhabi</h3>
<h4>The Decision I Never Considered</h4>
<p>So, I moved to the same team as that friend. I got married. I was happy where I was, working with nice people in a big company. Then the same guy who got me in the company told me about a senior position in a big company in Abu Dhabi. He told me he was called for the opportunity but he felt it was small for him, but OK for me. At first, I rejected the idea. I was still new in my company and wouldn’t want to leave so quick. I also never thought about traveling, but -let me admit- mostly because I never thought I’d be able to do it.</p>
<p>Then someone else from the company encouraged me to take it. My father, whom I thought would say don’t go, encouraged me to go abroad in a way that was very touchy. We are talking 2009. Things weren’t that bad in Egypt, but they were still definitely not good. Having recommendations from the company I didn’t want to leave, and also because the phone interview with my team leader was so nice (He was sure a geek I’d enjoy working with), all led me to go ahead with the offer.</p>
<p>That was the best decision I have taken in my life. Not just because the Egyptian company closed again in a year or two (the parent company thought software was lengthy and expensive compared to integration like SharePoint etc), but also due to political issues later, etc.</p>
<h4>Life In Abu Dhabi</h4>
<p>I arrived to Abu Dhabi. First time to travel by air. I got freaked out in Abu Dhabi airport when they couldn’t get a scan of my “eye print” and kept me held for an hour. But I was let in! And I started work. I was well respected and had my fame with me, which was nice at first. It wasn’t an oil company but the closest to that (half owned by government). I didn’t have the best salary, but had the highest medical insurance etc.</p>
<h3>The Real Beginning</h3>
<h4>Meligy, The Backend-Focused Speaker</h4>
<p>At this time I was all about design patterns and framework design. I had already spoken in the usergroup about all of these. I was being followed by Scott Hanselman on Twitter!</p>
<p>I also went too fast with Entity Framework when it was very new and it screwed me up. I turned to NHibernate, and after joining their mailing list looking for help, I myself became someone who helps others, and someone who interferes with some of the maintainers for how they’d make fun of some of the questions etc. I made good friends with some NHibernate core members. And this was how I heard about Readify.</p>
<p>In February 2010, I was invited by the .NET usergroup I used to speak in, to speak in a big conference they organized, called Cairo Code Camp. It was the 2nd one and I had already spoken at the first. I couldn’t miss it. Scott Hanselman was there. I’ll see him for the first time, AND, as a speaker, both of us, WOW!</p>
<p>I was delivering a session called “Framework Design Guidelines”. That is, stuff inspired by MSDN  Patterns and Practices, and Design Patterns and Domain Driven Design.</p>
<p>Someone else was in there, Mitch Denny, the Readify CTO at the time (now in Microsoft U.S.). I enjoyed a nice conversation with him during speaker dinner party, although I didn’t know where he was working at the moment.</p>
<h4>My Friend, From The NHibernate Core Team</h4>
<p>Now, back to Abu Dhabi. Work was getting boring. I was hoping for some challenging work in U.A.E (Abu Dhabi or Dubai), again, not thinking about travel. It wasn’t very successful. I chatted to my NHibernate core team member friend, and he pointed me to someone he knew, who blogged about his interview process at Readify.</p>
<p>I was pretty impressed. I thought they’ll never take me. There were so many celebrities who worked there that I just knew I won’t be good enough to work there. I tried anyway!</p>
<p>And guess what? They called me back! I learned that Mitch actually remembered me, and knew where he works! I still had to go through a tough interview, and I passed! Hooray!!</p>
<h4>The Foolish Call That Made Me Decide To Join Readify</h4>
<p>But I wasn’t sure whether <em>I</em> want to make such a big move myself. Fun fact: when they asked me: “which state would you be interested in going to?” I said Sydney only because it was the only city I knew its name (and didn’t remember how I knew it). I wanted to get something extra to weigh the decision.</p>
<p>I DM’ed Scott Hanselman. Didn’t I tell you he was following me on Twitter and knew me in person? I asked for someone who can tell me in all fairness whether Readify was a good company. He pointed me to Tatham Oddie, our current Delivery Lead today :D — He had his phone number on his blog at the time. He picked up the phone once to find an anonymous international caller saying Scott Hanselman recommended him for asking whether Readify was a good company. Of course he wouldn’t say anything bad about his company to a stranger! It was a foolish call, but it was all I needed to get going.</p>
<h3>Making The Move</h3>
<p>My annual-paid rent was expiring — I had to borrow 60% of my salary to pay that rent (Not having a good enough eyesight for driving made cheaper out of the city options impractical for me). I had to live in a temporary apartment that had legal issues and could have had me kicked out any time because it was cheap and had nice furniture for me and wife. The visa took from April to August, which was very unusual, but it came, and I arrived in Australia!</p>
<p>Since I arrived, so many things happened. I hated Sydney at first because Abu Dhabi was so fancy (I used to move around in latest-model taxi cars, for 6 Dirhams or so — the city was so small). I learned to see the beauty of Sydney only a few months later. My son spoke his first words here, and I and him call it home today.</p>
<p>It’s been long time since arrival in September 2010. During the time I only left Sydney to one-day company annual events in other states, and a one week holiday in Melbourne earlier this year.</p>
<h3>Life At Readify</h3>
<p>I joined Readify and worked in the same company as so many celebrities I used to fancy, and so many great other people I discovered while working here.</p>
<p>I saw the company go through several growing stages, every time feeling a worry about losing the culture I love in the company, then feeling happy that it is as awesome as ever.</p>
<p>It is definitely an awesome place to work. There’s countless number of great people around here, and I also more than often get to either work at great customer sites with great people I loved to go back to and help with the great work they are doing (my current client is one of them), and other sites that are not as great as I’d hope to see them yet, but instead of feeling feeling bad, I feel inspired to help them make things better bit by bit. Because that’s why you’d hire a Readifarian :)</p>
<h3>Yesterday And Today</h3>
<p>I got to work with so many clients in different industries, from finance to media to charity to met and livestock handling(!), and many others. I got to play different roles, as a team member, as a mentor, as an appointed tech lead, etc. etc.</p>
<p>I spoke at ALT .NET and SydJS usergroups, and DDD Sydney and NDC Sydney conferences.</p>
<p>And I learned a lot more, not just at work.</p>
<p>I attended several workshops, like Distributed Software Architecture and Messaging by Greg Young, and International Domain Driven Design Tour workshop by Vaughn Vernon. I attended workshops on being a Scrum Product Owner, and a Scrum Master (and learned that I cannot be both at the time time, before they are different interests).</p>
<p>And then I somehow became known as a JavaScript guy. That’s me, who in 2007 was very happy that UpdatePanel in Webforms could abstract AJAX, and thought that people who could write code with Scriptaculous (before jQuery) were magicians. I even run a usergroup for one of popular JavaScript frameworks in Sydney!!!</p>
<p>I’m very proud of what I have done so far, and am still hungry for more learning and achievements. This is a journey that will hopefully never end before I die. One that I wanted to document the past pieces of before I start losing some of the important details.</p>
<p>Thanks for sticking with me till the end. in this long post :)</p>
<p>Cheers,</p>

</section><!-- /.article-content -->
				<!-- /.post-meta -->
		
	</article><!-- #post-4099 -->


	<article id="post-4084">

		
		

<!-- /.post-header -->

<section>

	<img width="1024" height="698" src="https://i2.wp.com/www.gurustop.net/wp-content/uploads/2017/04/angular-jest.png?fit=1024%2C698&amp;ssl=1" alt="" srcset="https://i2.wp.com/www.gurustop.net/wp-content/uploads/2017/04/angular-jest.png?w=1274&amp;ssl=1 1274w, https://i2.wp.com/www.gurustop.net/wp-content/uploads/2017/04/angular-jest.png?resize=300%2C204&amp;ssl=1 300w, https://i2.wp.com/www.gurustop.net/wp-content/uploads/2017/04/angular-jest.png?resize=768%2C523&amp;ssl=1 768w, https://i2.wp.com/www.gurustop.net/wp-content/uploads/2017/04/angular-jest.png?resize=1024%2C698&amp;ssl=1 1024w" sizes="(max-width: 1024px) 100vw, 1024px"><p><a href="https://facebook.github.io/jest/" target="_blank" rel="external nofollow">Jest</a> is an alternative test runner by Facebook. It’s popular in React world. I was wondering how it’ll be like in an Angular CLI app. I knew a new semi-empty app won’t be a good enough test, so, I checked it in a real private project I’m working on, so see if it has any benefits for the project and the team.</p>
<p>While I cannot share the project codes, I can still share how the experiment went, as I talked about it yesterday at the <a href="https://www.meetup.com/ng-sydney" target="_blank" rel="external nofollow">ng-sydney</a> Angular usergroup April gathering, also, as I logged it in a related Angular CLI github <a href="https://github.com/angular/angular-cli/issues/4543" target="_blank" rel="external nofollow">issue</a> by a friend ng-sydney attendee.</p>
<h3>Introduction</h3>
<p>For the record, I tried Jest with instructions from <a href="https://github.com/thymikee" target="_blank" rel="external nofollow">@thymikee</a>‘s <a href="https://www.xfive.co/blog/testing-angular-faster-jest/" target="_blank" rel="external nofollow">post</a> (which uses <a href="https://github.com/thymikee/jest-preset-angular" target="_blank" rel="external nofollow">jest-preset-angular</a>), and it worked just fine.</p>
<p>Let me share my findings:</p>
<h3>Result Summary</h3>
<ul>
<li>It works!</li>
<li>It took some small changes.</li>
<li>It seemed slower in my case.</li>
<li>It caught more errors than Webpack/Karma/Jasmine, which I was very grateful for.</li>
<li>The experience is quite different though that I won’t make it the default my team yet.</li>
</ul>
<h3>Required Changes</h3>
<ul>
<li>I started with all the steps in the post above.
</li>
<li>
<p>For some libraries I had to follow this <a href="https://github.com/thymikee/jest-preset-angular#unexpected-token-importexportother" target="_blank" rel="external nofollow">github guidance</a>, which made the <code>jest</code> property in my <code>package.json</code> look like:</p>



		<div id="crayon-5e867d2315286301255340" data-settings=" no-popup minimize scroll-mouseover disable-anim">
		
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p>"jest":<span> </span>{</p><p>"preset":<span> </span>"jest-preset-angular",</p><p>"setupTestFrameworkScriptFile":<span> </span>"<span>&lt;</span>rootDir<span>&gt;</span>/src/setupJest.ts",</p><p>"transformIgnorePatterns":<span> </span>[</p><p><span>&nbsp;&nbsp;</span>"^<span>&lt;</span>rootDir<span>&gt;</span>
ode_modules(?!ng2-bootstrap|angular2-json2csv|angular2-datatable)."</p><p>]</p><p>}</p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<p>The <code>transformIgnorePatterns</code> is the most interesting here. I used <code></code> because I’m on Windows, and I used <code>^&lt;rootDir&gt;</code> to try to speed things, although it didn’t make a big difference. There’s also <code>"allowJs": true</code> in <code>"compilerOptions"</code> in <code>src/tsconfig.spec.json</code>.</p>
</li>
<li>
<p>I also had to change the tests. The post mentions all the changes needed (mostly only changing <code>jasmine.</code> to <code>expect.</code> in a few places).</p>
<p>But there’s another change I had to do, which is removing any <code>expectationFailOutput</code>, which is when you give a custom error message for when a matcher fails to match. Seems Jest does not support that.</p>
</li>
</ul>
<h3>Gains</h3>
<ul>
<li>
<p>Jest seems to run tests in more isolation than the current Webpack/Karma/Jasmine combo, which showed me some errors in my tests that somehow didn’t show before.</p>
</li>
<li>
<p>Jest is reporting which tests are taking too long, the slowness warnings were useful smells to identify not-greatly-written tests.</p>
</li>
<li>
<p>The watch mode is very nice, even though it seems to work off git changes not file watching, which can be confusing at first when you see slightly more files than expected, but it’s still very useful.</p>
</li>
</ul>
<h3>Issues</h3>
<ul>
<li>
<p>As mentioned in Required Changes above, now I cannot use custom error messages in my test matchers (that said, it’s true that default matcher errors are very beautiful and obvious, but still).</p>
</li>
<li>
<p>At the moment, it seems the jest-preset-angular initialization code needs optimization. It doesn’t call <code>polyfills.ts</code> and instead calls its own set, even though it’s optimized for Angular CLI (for example, it uses <code>src/tsconfig.spec.json</code>).</p>
<p>More importantly, it imports the entire rxjs library, which might hide errors when you forget to import some operators.</p>
</li>
<li>
<p>It’s surprisingly slower than the Webpack/Karma/Jasmine combo!</p>
<p>For my 196 tests, the Angular CLI v1.0.0 default test runner (with Angular 4) takes ~ 55 seconds, while Jest takes ~100 seconds.</p>
<p><strong>Update:</strong> That conclusion might not be accurate. The time I quoted for each test runner is what the test runner reported. This might for example not include Webpack compilation and browser opening in Karma and might be total time in Jest. If so, then the total time would be the same.<br>
Thanks <a href="https://twitter.com/hugoccampos" target="_blank" rel="external nofollow">@hugoccampos</a> for <a href="https://twitter.com/hugoccampos/status/852391541591216128" target="_blank" rel="external nofollow">bringing this</a> to my attention.</p>
</li>
<li>
<p>No browser tests debugging apparently (It might be my ignorance here). A bit harder maybe for those starting testing.</p>
<p>The Angular CLI does a great job at making testing easy for those not used to it.</p>
</li>
<li>
<p>When Jest itself fails to run, for example if I put a badly formatted regex for <code>transformIgnorePatterns</code> shown above, or mess up something in my <code>src/tsconfig.spec.json</code> file, the errors it shows are very cryptic and tell you nothing that can lead to the real issue (unlike matching errors in tests, which are very nice).</p>
</li>
</ul>

</section><!-- /.article-content -->
				<!-- /.post-meta -->
		
	</article><!-- #post-4084 -->


</div><!--/.post-wrap-->


	
			<nav role="navigation">
			

		
						
			
			
		
		</nav>
		
</section>









		
		</div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
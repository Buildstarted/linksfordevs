<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Introducing Caddy 2 - The Ultimate Server with Automatic HTTPS - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Introducing Caddy 2 - The Ultimate Server with Automatic HTTPS - linksfor.dev(s)"/>
    <meta property="article:author" content="Caddy Web Server"/>
    <meta property="og:description" content="Caddy is a powerful, enterprise-ready, open source web server with automatic HTTPS written in Go"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://caddyserver.com/v2"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Introducing Caddy 2 - The Ultimate Server with Automatic HTTPS</title>
<div class="readable">
        <h1>Introducing Caddy 2 - The Ultimate Server with Automatic HTTPS</h1>
            <div>by Caddy Web Server</div>
            <div>Reading time: 11-13 minutes</div>
        <div>Posted here: 04 May 2020</div>
        <p><a href="https://caddyserver.com/v2">https://caddyserver.com/v2</a></p>
        <hr/>
<div id="readability-page-1" class="page">
		

		<section>
			<div>
				<div>
					<div>
						<h3>All-new core ‚ú®</h3>
						<p>
							After 14 months of redesign, Caddy 2 has a <a href="https://caddyserver.com/docs/architecture">whole new architecture</a> inspired by 5 years of experience and feedback from v1.
						</p>
					</div>
					
					<div>
						<h3>Fewer moving parts ‚öôÔ∏è</h3>
						<p>
							Caddy saves money, increases developer productivity, and reduces problems in production.
						</p>
					</div>
					<!-- <div>
						<h3>Configure your way üë®‚Äçüíª</h3>
						<p>
							Caddy's native config format is <a href="/docs/json/">JSON</a>, but you can use <a href="/docs/config-adapters">config adapters</a> to configure Caddy any way you prefer.
						</p>
					</div> -->
				</div>
			</div>
		</section>




		<section>
			<div>
				<h2>A whole new server experience</h2>
				<div>
					<div>
						<div>
							<div>
								<asciinema-player src="/resources/321140.cast" cols="79" rows="20" preload="true" poster="npt:0:30" speed="1.5"></asciinema-player><p>
								Play screencast to see Caddy serve HTTPS in &lt; 1 minute.
							</p></div>
						</div>
					</div>
					<div>
						<p>
							Caddy is <b><a href="https://twitter.com/JackEllis/status/1250779043051388931">"really fun to use"</a></b> and <b>helps make complex deployments simpler</b>. Your Caddy site will have <b>fewer moving parts</b> which <b>lowers costs, increases productivity, and improves reliability</b>.
						</p>
						<p>
							Use Caddy's native <a href="https://caddyserver.com/docs/json/">JSON configuration</a> to customize every inch of your server, or use the <a href="https://caddyserver.com/docs/caddyfile">Caddyfile</a> to stand up a production site in just a few easy lines.
						</p>
						<p>
							With Caddy, <a href="https://caddyserver.com/docs/automatic-https">HTTPS just works</a>; and you can configure and deploy your site in <a href="https://caddyserver.com/docs/config-adapters">more ways</a> than you ever thought possible. The days of hacking your deployment workflows around the limitations of your web server are over!
						</p>
						<p><a href="https://caddyserver.com/docs/quick-starts/https">HTTPS quick-start</a>
						&nbsp;
						<a href="https://caddyserver.com/docs/v2-upgrade">Upgrade guide</a>
					</p></div>
				</div>
			</div>
		</section>





		<section>
			<div>
				<h2>More than just a web server</h2>
				<div>
					<div>
						<p>
							Caddy 2 is a <a href="https://caddyserver.com/docs/extending-caddy">highly extensible</a>, self-hosted platform on which you can build, configure, and deploy long-running services ("apps").
						</p>
						<p>
							Caddy ships with apps for an <a href="https://caddyserver.com/docs/modules/http">HTTPS server</a> (static files, reverse proxing, load balancing, etc.), <a href="https://caddyserver.com/docs/modules/tls">TLS certificate manager</a>, and <a href="https://caddyserver.com/docs/modules/pki">fully-managed internal PKI</a>. Caddy apps collaborate to make complex infrastructure just work with fewer moving parts.
						</p>
						<p>
							<b>For example, the config shown here keeps your TLS certificates renewed for other programs to use;</b> no external tools or HTTP daemon required!
						</p>
						<p>
							Providing a unified configuration, on-line <a href="https://caddyserver.com/docs/api">config API</a>, and <a href="https://caddyserver.com/docs/json/">automatic documentation</a> for all apps, Caddy is nearly infinitely extensible. Thanks to its unique <a href="https://caddyserver.com/docs/architecture">modular architecture</a>, we can offer unlimited features without bloating the code base.
						</p>
					</div>
					<div>
						<p><code>{
  "apps": {
    "tls": {
      "certificates": {
        "automate": [
          "example.com",
          "example.net"
        ]
      }
    }
  }
}</code></p>
					</div>
				</div>
				
			</div>
		</section>


		<div>
			<h2>Thank you</h2>
			<p><a href="https://apilayer.com/" title="API Layer (business management)"><img src="https://caddyserver.com/resources/images/apilayer-logo.svg" alt="API Layer"></a>
				<a href="https://ardanlabs.com/" title="Ardan Labs (business support)"><img src="https://caddyserver.com/resources/images/ardan-labs.svg" alt="Ardan Labs"></a>
				<a href="https://smallstep.com/" title="Smallstep (special integration partner)"><img src="https://caddyserver.com/resources/images/smallstep.png" alt="Smallstep"></a>
			</p>
			

			<hr>

			<p>
				As I feel our contributors and sponsors do not get enough recognition or appreciation, allow me to interrupt this release announcement with a personal, open letter to the above named...
			</p>
			<p>
				If you're reading this: <i>thank you</i>. You were the primary collaborators on Caddy 2, and this would not have been possible without you. You gave Caddy new <a href="https://github.com/caddyserver/dist">distribution packages</a>, <a href="https://hub.docker.com/_/caddy">containers</a>, docs, features, field testing; and <a href="https://caddy.community/u?period=all">helped countless users</a>. I think almost no topic in our <a href="https://caddy.community/">community forums</a> has gone unanswered. That's truly amazing!
			</p>
			<p>
				Thanks for sticking with the project and believing in it enough to yield a second version. We've solved some hard problems together‚Äîusually during nights and weekends‚Äîand in days of isolation during this pandemic, no less.
			</p>
			<p>
				Now look at what we have made! Caddy is the only server that grants privacy to its sites' visitors <i>by default</i>. We've raised the bar for the rest of the Web. I hope you are as pleased with our results as I am. Millions more people will soon benefit from your contributions.
			</p><p>
			
			‚Äì&nbsp;Matt
		</p></div>



		<section>
			<div>
				<div>
					<p><b>Twenty</b>
						beta versions
					</p>
					<p><b>Thousands</b>
						of businesses
					</p>
					<p><b>Millions</b>
						of production hours
					</p>
					<p><b>Billions</b>
						of connections secured
					</p>
					<p><b>Trillions</b>
						of requests served
					</p>
				</div>

				<p>
					<b>Caddy 2 is production-ready.</b> It is already serving thousands of sites for businesses and has an unparalleled reliability record in the face of external factors that negatively affect HTTPS uptime. <b>Caddy stays up when other servers let you down.</b>
				</p>
				<p>
					Try your current server with tens of thousands of sites and certificates, then try them with Caddy ‚Äì you'll see what we mean.
				</p>

				<p>
					<a href="https://hub.docker.com/_/caddy">Deploy with <b>Docker</b></a>
					&nbsp;
					<a href="https://marketplace.digitalocean.com/apps/caddy">Deploy on <b>DigitalOcean</b></a>
				</p>
			</div>
		</section>
		



		<section>
			<div>
				<h2>Familiar Caddyfile, now even better</h2>
				<div>
					<div>
						<div>
							<p><code>caddyserver.com

root * src

file_server
templates
encode zstd gzip

redir   /docs/json   /docs/json/
rewrite /docs/json/* /docs/json/index.html
rewrite /docs/*      /docs/index.html

reverse_proxy /api/* localhost:9002</code></p><p>Actual config used by this site.</p>
						</div>
					</div>
					
				</div>
			</div>
		</section>


		<section>
			<div>
				<h2>Config API for dynamic, on-line updates</h2>
				<div>
					<div>
						<p>
							Caddy is <a href="https://caddyserver.com/docs/api">configured through an intuitive REST API</a> that offers ACID guarantees:
						</p>
						<ul>
							<li><b>Atomic:</b> Multiple changes in a single request are treated as a single unit; any failed change aborts all the other changes.</li>
							<li><b>Consistent:</b> No invalid configurations can be loaded; your server will never break if a problem is detected at config load.</li>
							<li><b>Isolated:</b> No config changes rely on another. (It helps that HTTP is a stateless protocol!)</li>
							<li><b>Durable:</b> Caddy automatically persists the current, valid configuration to disk and can safely resume it after a power cycle if the <code>--resume</code> flag is used.</li>
						</ul>
						<p>
							In addition, Caddy's API is <b>safely scoped</b>, meaning the URI path restricts changes, making it impossible to accidentally alter other parts of your config.
						</p>
						<p><a href="https://caddyserver.com/docs/api-tutorial">API <b>tutorial</b></a>
						&nbsp;
						<a href="https://caddyserver.com/docs/api">API <b>reference</b></a>
					</p></div>
					<div>
						<p><code>$ caddy start --config caddy.json

$ curl localhost:2019/id/my_handler 
	-X PATCH 
	-H "Content-Type: application/json" 
	-d '{
			"handler": "static_response",
			"body": "Work smarter, not harder."
		}'

$ curl localhost:2019/config/ | jq</code>
						</p>
					</div>
				</div>
			</div>
		</section>



		<section>
			<div>
				<h2>Powered by&nbsp;... nginx.conf? ü§î</h2>
				<div>
					<div>
						<p><code>$ caddy run 
	--config nginx.conf 
	--adapter nginx</code>
						</p>
					</div>
					<div>
						<p>
							Sure, why not!
						</p>
						<p>
							With first-class support for <a href="https://caddyserver.com/docs/config-adapters">config adaptation</a>, <b>you can use whatever configuration language you prefer</b>, such as <a href="https://github.com/caddyserver/nginx-adapter">NGINX config files</a>! Several other config adapters are already available, including JSONC, JSON5, YAML, and CUE.
						</p>
						<p>
							Our <a href="https://github.com/caddyserver/nginx-adapter">NGINX adapter</a> is still a work in progress, but for some of you Caddy could be a drop-in <strike>replacement</strike> upgrade for NGINX, with memory safety!
						</p>
						<!-- <p>
							Fewer moving parts means fewer failures, lower costs, and less sunk time.
						</p> -->
						<p><a href="https://caddyserver.com/docs/config-adapters">Config adapters</a>
					</p></div>
				</div>
			</div>
		</section>



		<section>
			<div>
				<h2>Every site on HTTPS ‚Äì including local and internal sites</h2>
				<div>
					<div>
						<p>
							Caddy has always been known for serving sites over <a href="https://caddyserver.com/docs/automatic-https">HTTPS by default</a>, and now we're extending that to internal and local development sites, too.
						</p>
						<p>
							<b>Powered by open source <a href="https://smallstep.com/certificates/">Smallstep libraries</a>, Caddy automatically acts as a fully-featured, self-hosted CA when necessary.</b> If you configure sites with local or internal addresses (e.g. localhost or IP addresses), Caddy will still serve them over HTTPS using its locally-trusted certificate authority with short-lived, auto-renewing certificates. This makes it easy to mimic production environments in dev!
						</p>
						<p><a href="https://smallstep.com/" title="Powered by Smallstep"><img src="https://caddyserver.com/resources/images/smallstep.png" alt="Smallstep"></a>
					</p></div>
					<div>
						<p><code>192.168.1.10 {
	respond "Hello from HTTPS!"
}

http://localhost {
	respond "Plain HTTP"
}</code>
						</p>
					</div>
				</div>
			</div>
		</section>



		<section>
			<div>
				<h2>We fixed all known limitations of v1</h2>
				<p>
					With an <a href="https://caddyserver.com/docs/architecture">all-new architecture</a>, the development of Caddy 2 closed <a href="https://github.com/caddyserver/caddy/issues?q=is%3Aclosed+v2">about 400 issues</a> and solved all known limitations on Caddy 1 caused by fundamental design constraints.
				</p>
				<p>
					Caddy 2 is designed to be highly flexible when needed, but also highly focused on its core competency. If there was anything in Caddy 1 that felt out of place or hacky, it won't in v2.
				</p>
				<p>
					This design was an incredible undertaking: of the approximate 14 months spent developing Caddy 2, only about 7 of them actually consisted of writing code; the other half was solely focused on the design of the underlying architecture.
				</p>
			</div>
		</section>


		<section>
			<div>
				<h2>Keeps your sites online when other servers... don't</h2>
				<p>
					Caddy has the most robust TLS stack on the market. With <b>stronger memory safety guarantees</b> than OpenSSL (Apache &amp; NGINX) and <b>more advanced certificate automation logic</b> than any other server or utility, Caddy <b>keeps your sites online</b> through problems that other servers don't handle.
				</p>
				<div>
					<div>
						<h3>Advanced TLS automation</h3>
						<p>
							Caddy was the first server to fully automate public certificate management‚Äîso we've been doing this longer than anyone. With more than 5 million certificates under management, Caddy has set the gold standard for other servers to live up to:
						</p>
						<ul>
							<li><b>Async management.</b> Certificate automation never blocks the main thread of the web server.</li>
							<li><b>Gentle retries.</b> Failed validation attempts are retried with exponential backoff for up to 1 month. They don't count against normal rate limits; Caddy uses staging/test endpoints during retries.</li>
							<li><b>OCSP stapling and caching.</b> Caddy staples OCSP to all qualifying certificates and keeps them conservatively fresh. It even caches them to disk in case of extended OCSP responder outages.</li>
							<li><b>Auto-replace after revocation.</b> If the latest OCSP staple indicates a revocation, Caddy automatically replaces the revoked certificate with a new one.</li>
							<li><b>Storage pre-checks.</b> Before attempting costly or valuable ACME transactions, Caddy checks to ensure its storage space is sufficient and writeable.</li>
							<li><b>Internal throttling and job scheduling.</b> Give Caddy a million certs to manage: no problem, it will gracefully manage them as fast as it can without hammering the CA or duplicating jobs over a long period of time.</li>
							<li><b>TLS session ticket key rotation.</b> Caddy automatically rotates TLS 1.2 session ticket keys for better privacy. It can even do this across a cluster!</li>
							<li><b>Fleet coordination.</b> All Caddy instances configured for the same storage backend will automatically share certificate and coordinate management in its cluster.</li>
						</ul>
					</div>
					<div>
						<h3>Real-life examples</h3>
						<p>
							In 2018, several popular sites went down for many users of mainstream clients because crucial OCSP infrastructure had an extended outage. Only Caddy staples and caches OCSP responses by default, so all Caddy sites were unaffected.
						</p>
						<p>
							More recently in 2020, a mass certificate revocation event left many sysadmins scrambling to renew their certificates ahead of schedule. Caddy automatically renews certificates that get revoked, and all Caddy sites were unaffected.
						</p>
						<p>
							Companies have deployed Caddy in front of their site just hours before important audits‚Äîpotentially saving their compliance status‚Äîbecause of Caddy's safe defaults and "batteries included" approach.
						</p>
						<!-- <p>
							Severa customers have been able to replace piles of scripts, external dependencies, and convoluted deployment workflows with Caddy, which manages complex parts of their infrastructure for them.
						</p> -->

						<h3>Recommended by experts</h3>
						<p>
							<b>"TLS must be enabled by default ... and the Caddy web server is a good and usable example."</b> &nbsp; ‚Äî<a href="https://www.usenix.org/conference/usenixsecurity17/technical-sessions/presentation/krombholz">Krombholz et al., USENIX 2017</a>
						</p>
						<p>
							<b>"Caddy is impressive. This is what we want, setting up a secure website."</b> &nbsp; ‚Äî<a href="https://www.youtube.com/watch?v=OE5UhQGg_Fo">Josh Aas, Executive Director, Let's Encrypt</a>
						</p>
						<p>
							<b>"No popular server software does [session ticket key rotation], with the exception of Caddy."</b> &nbsp; ‚Äî<a href="https://dl.acm.org/doi/10.1145/2987443.2987480">Springall et al., ACM IMC 2016</a>
						</p>
					</div>
				</div>
			</div>
		</section>


		<section>
			
		</section>

		

		

		
	

</div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
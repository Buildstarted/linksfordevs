<!DOCTYPE html>
<html lang="en">
<head>
    <title>
String-based enums &#xB7; Issue #2849 &#xB7; dotnet/csharplang &#xB7; GitHub -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>String-based enums Â· Issue #2849 Â· dotnet/csharplang Â· GitHub</h1><div><div id="" class="d-block comment-body markdown-body  js-comment-body"><p>Man, I have wanted this feature for years. -- For everyone arguing that it would promote crazy values coming in to your methods, the alternative right now is to use regular strings. Or to write your own enum class (which even the Azure team is doing apparently).</p><p>Both of those approaches do allow crazy values, and there's always the discoverability headache.</p><p>This is just asking the .NET team to widen what we allow enum to inherit from to also include strings, and seriously, people have wanted to do this since the .NET 1.0 days (it just makes sense, and it's an intuitive way to get rid of magic strings -- everyone has tried to inherit from string at one point or another and been sad when it didn't work). -- It really feels like an oversight that this isn't already present in the framework.</p><p>Enums exist to reduce the usage of magic values in code.  Strings shouldn't be a special case.  I've seen my fair share of magic strings in code, and if there was an easy and intuitive way to get rid of them, I think it would be widely adopted. <g-emoji class="g-emoji" alias="slightly_smiling_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f642.png">ðŸ™‚</g-emoji></p><p>Btw, it would also be nice if you supported the regular enum syntax of not providing a value for each member, e.g.:</p><pre><code>public enum Foo: string
{
    Bar,
    Baz,
    Biff
}
</code></pre><p>would be equivalent to:</p><pre><code>public enum Foo: string
{
    Bar = nameof(Bar),
    Baz = nameof(Baz),
    Biff = nameof(Biff)
}
</code></pre><p>For <code>[Flags]</code>, I propose just doing what we already do with other enum types, use a comma separated list, e.g.:</p><pre><code>[Flags] public enum Foo: byte { Bar = 1, Baz = 2, Biff = 4 }

public static class Program
{
    public static void Main(string[] args)
    {
        var x = Foo.Bar | Foo.Baz;
        Console.WriteLine(x);
    }
}
</code></pre><p>Outputs:</p><pre><code>Bar, Baz
</code></pre><p>There doesn't need to be any deviation from this behavior.  <code>Enum.Parse</code> already supports it, etc.</p><p>Also, +1 for reference first, then case-insensitive comparison second.  Though I would recommend using <code>InvariantCultureIgnoreCase</code> over <code>OrdinalCultureIgnoreCase</code>, as my team has experienced a LOT of issues with Strings from SQL not being considered Equal (despite being the same length, and same letters, no special characters, etc.).  Invariant comparison says they're equal, but ordinal says they're not.  I think it has something to do with the default code page of Azure hosted SQL databases... but anyway, it's a thing, and comparison of enum values shouldn't be culture specific anyways.</p></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Elegant way of producing HTTP responses in ASP.NET Core outside of MVC controllers | StrathWeb. A free flowing web tech monologue. - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Elegant way of producing HTTP responses in ASP.NET Core outside of MVC controllers | StrathWeb. A free flowing web tech monologue. - linksfor.dev(s)"/>
    <meta property="og:description" content="ASP.NET Core 2.1 introduced support for a little (or, should I say, not at all) documented feature called IActionResultExecutor&lt;T&gt;. It allows us to use some of the action results -those that we are used to from MVC controllers &#x2013; outside of the controller context, so for example from a middleware component."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://www.strathweb.com/2019/03/elegant-way-of-producing-http-responses-in-asp-net-core-outside-of-mvc-controllers/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Elegant way of producing HTTP responses in ASP.NET Core outside of MVC controllers | StrathWeb. A free flowing web tech monologue.</title>
<div class="readable">
        <h1>Elegant way of producing HTTP responses in ASP.NET Core outside of MVC controllers | StrathWeb. A free flowing web tech monologue.</h1>
            <div>Reading time: 14-17 minutes</div>
        <div>Posted here: 11 Mar 2019</div>
        <p><a href="https://www.strathweb.com/2019/03/elegant-way-of-producing-http-responses-in-asp-net-core-outside-of-mvc-controllers/">https://www.strathweb.com/2019/03/elegant-way-of-producing-http-responses-in-asp-net-core-outside-of-mvc-controllers/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="main-wrapper">	

<!-- begin #main -->
        <div id="main">
        	<!-- Main Menu -->
						<section id="content">
						<!-- begin article -->
				<article>
					
						
						<div>
														<p>ASP.NET Core 2.1 introduced support for a little (or, should I say, not at all) documented feature called <em>IActionResultExecutor&lt;T&gt;</em>. It allows us to use some of the action results -those that we are used to from MVC controllers – outside of the controller context, so for example from a middleware component.</p>
<p>Kristian has a great <a href="https://kristian.hellang.com/using-mvc-result-executors-in-middleware/">blog post</a> about result executors, that I recommend you check out. From my side, I wanted to show you today a set of extension methods that were recently introduced into <a href="https://github.com/WebApiContrib/WebAPIContrib.Core">WebApiContrib.Core</a> that make working with <em>IActionResultExecutor&lt;T&gt;</em> and in general authoring HTTP endpoints outside of controllers even easier.
</p>

<h3 id="toc_1">Controller helper methods</h3>
<p>The most important of the <em>ActionResult</em> family is the <em>ObjectResult</em> – which internally handles content negotiation – so determines what media type is suitable for the response, and serializes the response accordingly using the selected formatter (JSON, XML, Protobuf or whatever you support). The typical controller, using an <em>ObjectResult</em> might look like this:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c839541e9425020951082" data-settings=" minimize scroll-mouseover wrap">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>[</span><span>HttpGet</span><span>(</span><span>"contacts"</span><span>)</span><span>]</span></p><p><span>public</span><span> </span><span>IActionResult </span><span>Get</span><span>(</span><span>)</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>var</span><span> </span><span>contacts</span><span> </span><span>=</span><span> </span><span>new</span><span>[</span><span>]</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>new</span><span> </span><span>Contact</span><span> </span><span>{</span><span> </span><span>Name</span><span> </span><span>=</span><span> </span><span>"Filip"</span><span>,</span><span> </span><span>City</span><span> </span><span>=</span><span> </span><span>"Zurich"</span><span> </span><span>}</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>new</span><span> </span><span>Contact</span><span> </span><span>{</span><span> </span><span>Name</span><span> </span><span>=</span><span> </span><span>"Not Filip"</span><span>,</span><span> </span><span>City</span><span> </span><span>=</span><span> </span><span>"Not Zurich"</span><span> </span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// will do content negotiation</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>new</span><span> </span><span>ObjectResult</span><span>(</span><span>contacts</span><span>)</span><span>;</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0018 seconds] -->

<p>We could also return a POCO directly from the action, but the framework would still end up using <em>ObjectResult</em> to process that, so ultimately it is still the same thing.</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c839541e9438364204749" data-settings=" minimize scroll-mouseover wrap">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>[</span><span>HttpGet</span><span>(</span><span>"contacts"</span><span>)</span><span>]</span></p><p><span>public</span><span> </span><span>IEnumerable</span><span>&lt;</span><span>Contact</span><span>&gt;</span><span> </span><span>Get</span><span>(</span><span>)</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>var</span><span> </span><span>contacts</span><span> </span><span>=</span><span> </span><span>new</span><span>[</span><span>]</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>new</span><span> </span><span>Contact</span><span> </span><span>{</span><span> </span><span>Name</span><span> </span><span>=</span><span> </span><span>"Filip"</span><span>,</span><span> </span><span>City</span><span> </span><span>=</span><span> </span><span>"Zurich"</span><span> </span><span>}</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>new</span><span> </span><span>Contact</span><span> </span><span>{</span><span> </span><span>Name</span><span> </span><span>=</span><span> </span><span>"Not Filip"</span><span>,</span><span> </span><span>City</span><span> </span><span>=</span><span> </span><span>"Not Zurich"</span><span> </span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// will do content negotiation</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>contacts</span><span>;</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0073 seconds] -->

<p>Finally, and this is what this post is about, you could replace our usage of <em>ObjectResult</em>, or the POCO, with a call to <em>Ok()</em> on the base controller:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c839541e9443973898524" data-settings=" minimize scroll-mouseover wrap">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>[</span><span>HttpGet</span><span>(</span><span>"contacts"</span><span>)</span><span>]</span></p><p><span>public</span><span> </span><span>IActionResult </span><span>Get</span><span>(</span><span>)</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>var</span><span> </span><span>contacts</span><span> </span><span>=</span><span> </span><span>new</span><span>[</span><span>]</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>new</span><span> </span><span>Contact</span><span> </span><span>{</span><span> </span><span>Name</span><span> </span><span>=</span><span> </span><span>"Filip"</span><span>,</span><span> </span><span>City</span><span> </span><span>=</span><span> </span><span>"Zurich"</span><span> </span><span>}</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>new</span><span> </span><span>Contact</span><span> </span><span>{</span><span> </span><span>Name</span><span> </span><span>=</span><span> </span><span>"Not Filip"</span><span>,</span><span> </span><span>City</span><span> </span><span>=</span><span> </span><span>"Not Zurich"</span><span> </span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// will do content negotiation</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>Ok</span><span>(</span><span>contacts</span><span>)</span><span>;</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0075 seconds] -->

<p>This is really still the same as before, because <em>Ok()</em> actually uses <em>ObjectResult</em> under the hood, it’s just expressed in a slightly different way. Now, if you have done any work with MVC controllers, I am sure you are used to those helper methods that are there on the the framework’s <em>ControllerBase</em>, like our <em>Ok()</em> or other – for example <em>Unauthorized()</em> or <em>File()</em>, to name just two of them. </p>
<p>They come in many, many variants (the base controller is 2700+ lines of code…), and are used as shortcuts into the many <em>ActionResults</em> that the framework offers. You can find a full list <a href="https://github.com/aspnet/AspNetCore/blob/master/src/Mvc/Mvc.Core/src/ControllerBase.cs">here</a>. From my experience with various ASP.NET Core MVC projects, I would say that these helper methods are extremely popular among developers – they make the code very concise. They also hide certain complexity level of dealing with producing the HTTP responses, yet still make it very obvious to understand what is going on.</p>
<h3 id="toc_2">Controller feeling, without a controller</h3>
<p>What we recently introduced into <a href="https://github.com/WebApiContrib/WebAPIContrib.Core">WebApiContrib.Core</a> is a similar set of methods as found on the base controller, but ported as extension methods on top of <em>HttpContext</em>. This is done as a combination of <em>IActionResultExecutor&lt;T&gt;</em> features and “manual” response creation. Meaning we either mimic the behavior of the method from base controller by manually crafting the HTTP response, setting headers, status codes and so on, or we really reach into the <em>IActionResultExecutor&lt;T&gt;</em> infrastructure and invoke the relevant action result from the MVC framework.</p>
<p>The end result is very neat, and you get very similar helper method set that you can now enjoy from your non-controller code – primarily middleware but potentially some other places too. </p>
<p>So imagine you are creating a “lightweight” HTTP endpoint using the new <a href="https://devblogs.microsoft.com/aspnet/aspnet-core-3-preview-2/">Endpoint Routing</a> feature. You can now use the new helper methods to produce the response. Here is a full sample application setup:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c839541e944f011493442" data-settings=" minimize scroll-mouseover wrap">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p><p>34</p></div>
				</td>
						<td><div><p><span>public</span><span> </span><span>static</span><span> </span><span>async</span><span> </span><span>Task </span><span>Main</span><span>(</span><span>string</span><span>[</span><span>]</span><span> </span><span>args</span><span>)</span><span> </span><span>=</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>await</span><span> </span><span>WebHost</span><span>.</span><span>CreateDefaultBuilder</span><span>(</span><span>args</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>ConfigureServices</span><span>(</span><span>s</span><span> </span><span>=</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>s</span><span>.</span><span>AddRouting</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// necessary to wire in ActionResults</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// and content negotiation</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// you can manually register other formatters here</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// for example Messagepack or Protobuf</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>s</span><span>.</span><span>AddMvc</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// note: due to the current state of ASP.NET Core 3.0 (preview3)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// you need to manually call: s.AddMvc().AddNewtonsoftJson()</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// to use JSON formatter. This will be fixed in the future in the framework</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>.</span><span>Configure</span><span>(</span><span>app</span><span> </span><span>=</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>app</span><span>.</span><span>UseRouting</span><span>(</span><span>r</span><span> </span><span>=</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>r</span><span>.</span><span>MapGet</span><span>(</span><span>"contacts"</span><span>,</span><span> </span><span>async</span><span> </span><span>context</span><span> </span><span>=</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>var</span><span> </span><span>contacts</span><span> </span><span>=</span><span> </span><span>new</span><span>[</span><span>]</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>new</span><span> </span><span>Contact</span><span> </span><span>{</span><span> </span><span>Name</span><span> </span><span>=</span><span> </span><span>"Filip"</span><span>,</span><span> </span><span>City</span><span> </span><span>=</span><span> </span><span>"Zurich"</span><span> </span><span>}</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>new</span><span> </span><span>Contact</span><span> </span><span>{</span><span> </span><span>Name</span><span> </span><span>=</span><span> </span><span>"No Filip"</span><span>,</span><span> </span><span>City</span><span> </span><span>=</span><span> </span><span>"Not Zurich"</span><span> </span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// from WebApiContrib.Core</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// will do content negotation</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>await</span><span> </span><span>context</span><span>.</span><span>Ok</span><span>(</span><span>contacts</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>)</span><span>.</span><span>Build</span><span>(</span><span>)</span><span>.</span><span>RunAsync</span><span>(</span><span>)</span><span>;</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0036 seconds] -->

<p>In order to make this work, the only thing that is needed, is that it’s necessary to have a call to <em>services.AddMvc()</em> in the DI container setup, as the action result and the executor infrastructure is bootstrapped there.</p>
<p>Other than that, this <em>Ok()</em> extension method on <em>HttpContext</em> will behave exactly the same as the <em>Ok()</em> on base controller – including performing the full content negotiation. The example uses endpoint routing from ASP.NET Core 3.0, but it would work from any place in ASP.NET Core request processing pipeline, for example with an <em>IRouter</em> in ASP.NET Core 2.1 or any middleware.</p>
<p>This is an extremely concise approach, and a very elegant way of building lightweight HTTP APIs. We have actually <a href="https://www.strathweb.com/2017/01/building-microservices-with-asp-net-core-without-mvc/">already talked about that</a> in one of my older blog posts, and this approach very nicely extends those older examples.</p>
<p>Another example we could quickly look at here, is returning a file stream – instead of dealing with it manually, including all the complexity of async reading of the stream or stuff related to <em>Content-Disposition</em> headers and so on, we can simply use an extension method now:</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c839541e945a311774661" data-settings=" minimize scroll-mouseover wrap">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>app</span><span>.</span><span>UseRouting</span><span>(</span><span>r</span><span> </span><span>=</span><span>&gt;</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>r</span><span>.</span><span>MapGet</span><span>(</span><span>"download"</span><span>,</span><span> </span><span>async</span><span> </span><span>context</span><span> </span><span>=</span><span>&gt;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// some file path</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>var</span><span> </span><span>path</span><span> </span><span>=</span><span> </span><span>Path</span><span>.</span><span>GetFullPath</span><span>(</span><span>Path</span><span>.</span><span>Combine</span><span>(</span><span>"files"</span><span>,</span><span> </span><span>"myfile.pdf"</span><span>)</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// from WebApiContrib.Core</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>await</span><span> </span><span>context</span><span>.</span><span>PhysicalFile</span><span>(</span><span>path</span><span>,</span><span> </span><span>"application/pdf"</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>)</span><span>;</span></p><p><span>}</span><span>)</span><span>;</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0015 seconds] -->

<p>In this particular case, the helper method would end up using an action result, a <em>PhysicalFileActionResult</em>, which will take care of reading the file in a non-blocking way and make sure all HTTP response details are correctly handled. And just like before, <em>PhysicalFile()</em> mimics a corresponding method from the MVC base controller.</p>
<p>The full list of the available extension methods can be found below. And I really encourage you to try them – they are part of <a href="https://www.nuget.org/packages/WebApiContrib.Core/2.2.0">WebApiContrib.Core 2.2.0</a>.</p>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5c839541e9465178550793" data-settings=" minimize scroll-mouseover wrap">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p><p>34</p><p>35</p><p>36</p><p>37</p><p>38</p><p>39</p><p>40</p><p>41</p><p>42</p><p>43</p><p>44</p><p>45</p><p>46</p><p>47</p><p>48</p><p>49</p><p>50</p><p>51</p><p>52</p><p>53</p><p>54</p><p>55</p><p>56</p><p>57</p><p>58</p><p>59</p><p>60</p><p>61</p><p>62</p><p>63</p><p>64</p><p>65</p><p>66</p><p>67</p><p>68</p><p>69</p><p>70</p><p>71</p><p>72</p><p>73</p><p>74</p></div>
				</td>
						<td><div><p><span>Task </span><span>Accepted</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>Uri </span><span>uri</span><span>,</span><span> </span><span>object</span><span> </span><span>value</span><span>)</span><span>;</span></p><p><span>Task </span><span>Accepted</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>uri</span><span>,</span><span> </span><span>object</span><span> </span><span>value</span><span>)</span><span>;</span></p><p><span>Task </span><span>Accepted</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>uri</span><span>)</span><span>;</span></p><p><span>Task </span><span>Accepted</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>Uri </span><span>uri</span><span>)</span><span>;</span></p><p><span>Task </span><span>Accepted</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>object</span><span> </span><span>value</span><span>)</span><span>;</span></p><p><span>Task </span><span>Accepted</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>)</span><span>;</span></p><p><span>Task </span><span>BadRequest</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>)</span><span>;</span></p><p><span>Task </span><span>BadRequest</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>object</span><span> </span><span>error</span><span>)</span><span>;</span></p><p><span>Task </span><span>BadRequest</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>ModelStateDictionary </span><span>modelState</span><span>)</span><span>;</span></p><p><span>Task </span><span>Conflict</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>object</span><span> </span><span>error</span><span>)</span><span>;</span></p><p><span>Task </span><span>Conflict</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>ModelStateDictionary </span><span>modelState</span><span>)</span><span>;</span></p><p><span>Task </span><span>Conflict</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>)</span><span>;</span></p><p><span>Task </span><span>Content</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>content</span><span>,</span><span> </span><span>MediaTypeHeaderValue </span><span>contentType</span><span>)</span><span>;</span></p><p><span>Task </span><span>Content</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>content</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>Encoding </span><span>contentEncoding</span><span>)</span><span>;</span></p><p><span>Task </span><span>Content</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>content</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>)</span><span>;</span></p><p><span>Task </span><span>Content</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>content</span><span>)</span><span>;</span></p><p><span>Task </span><span>Created</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>uri</span><span>,</span><span> </span><span>object</span><span> </span><span>value</span><span>)</span><span>;</span></p><p><span>Task </span><span>Created</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>Uri </span><span>uri</span><span>,</span><span> </span><span>object</span><span> </span><span>value</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>virtualPath</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>Stream </span><span>fileStream</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>DateTimeOffset</span><span>?</span><span> </span><span>lastModified</span><span>,</span><span> </span><span>EntityTagHeaderValue </span><span>entityTag</span><span>,</span><span> </span><span>bool</span><span> </span><span>enableRangeProcessing</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>Stream </span><span>fileStream</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>string</span><span> </span><span>fileDownloadName</span><span>,</span><span> </span><span>DateTimeOffset</span><span>?</span><span> </span><span>lastModified</span><span>,</span><span> </span><span>EntityTagHeaderValue </span><span>entityTag</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>Stream </span><span>fileStream</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>string</span><span> </span><span>fileDownloadName</span><span>,</span><span> </span><span>DateTimeOffset</span><span>?</span><span> </span><span>lastModified</span><span>,</span><span> </span><span>EntityTagHeaderValue </span><span>entityTag</span><span>,</span><span> </span><span>bool</span><span> </span><span>enableRangeProcessing</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>virtualPath</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>string</span><span> </span><span>fileDownloadName</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>virtualPath</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>string</span><span> </span><span>fileDownloadName</span><span>,</span><span> </span><span>bool</span><span> </span><span>enableRangeProcessing</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>virtualPath</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>DateTimeOffset</span><span>?</span><span> </span><span>lastModified</span><span>,</span><span> </span><span>EntityTagHeaderValue </span><span>entityTag</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>virtualPath</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>DateTimeOffset</span><span>?</span><span> </span><span>lastModified</span><span>,</span><span> </span><span>EntityTagHeaderValue </span><span>entityTag</span><span>,</span><span> </span><span>bool</span><span> </span><span>enableRangeProcessing</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>Stream </span><span>fileStream</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>DateTimeOffset</span><span>?</span><span> </span><span>lastModified</span><span>,</span><span> </span><span>EntityTagHeaderValue </span><span>entityTag</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>virtualPath</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>bool</span><span> </span><span>enableRangeProcessing</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>Stream </span><span>fileStream</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>string</span><span> </span><span>fileDownloadName</span><span>,</span><span> </span><span>bool</span><span> </span><span>enableRangeProcessing</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>byte</span><span>[</span><span>]</span><span> </span><span>fileContents</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>string</span><span> </span><span>fileDownloadName</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>Stream </span><span>fileStream</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>bool</span><span> </span><span>enableRangeProcessing</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>Stream </span><span>fileStream</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>byte</span><span>[</span><span>]</span><span> </span><span>fileContents</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>string</span><span> </span><span>fileDownloadName</span><span>,</span><span> </span><span>DateTimeOffset</span><span>?</span><span> </span><span>lastModified</span><span>,</span><span> </span><span>EntityTagHeaderValue </span><span>entityTag</span><span>,</span><span> </span><span>bool</span><span> </span><span>enableRangeProcessing</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>byte</span><span>[</span><span>]</span><span> </span><span>fileContents</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>string</span><span> </span><span>fileDownloadName</span><span>,</span><span> </span><span>DateTimeOffset</span><span>?</span><span> </span><span>lastModified</span><span>,</span><span> </span><span>EntityTagHeaderValue </span><span>entityTag</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>byte</span><span>[</span><span>]</span><span> </span><span>fileContents</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>DateTimeOffset</span><span>?</span><span> </span><span>lastModified</span><span>,</span><span> </span><span>EntityTagHeaderValue </span><span>entityTag</span><span>,</span><span> </span><span>bool</span><span> </span><span>enableRangeProcessing</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>byte</span><span>[</span><span>]</span><span> </span><span>fileContents</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>DateTimeOffset</span><span>?</span><span> </span><span>lastModified</span><span>,</span><span> </span><span>EntityTagHeaderValue </span><span>entityTag</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>byte</span><span>[</span><span>]</span><span> </span><span>fileContents</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>string</span><span> </span><span>fileDownloadName</span><span>,</span><span> </span><span>bool</span><span> </span><span>enableRangeProcessing</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>virtualPath</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>string</span><span> </span><span>fileDownloadName</span><span>,</span><span> </span><span>DateTimeOffset</span><span>?</span><span> </span><span>lastModified</span><span>,</span><span> </span><span>EntityTagHeaderValue </span><span>entityTag</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>byte</span><span>[</span><span>]</span><span> </span><span>fileContents</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>bool</span><span> </span><span>enableRangeProcessing</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>byte</span><span>[</span><span>]</span><span> </span><span>fileContents</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>Stream </span><span>fileStream</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>string</span><span> </span><span>fileDownloadName</span><span>)</span><span>;</span></p><p><span>Task </span><span>File</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>virtualPath</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>string</span><span> </span><span>fileDownloadName</span><span>,</span><span> </span><span>DateTimeOffset</span><span>?</span><span> </span><span>lastModified</span><span>,</span><span> </span><span>EntityTagHeaderValue </span><span>entityTag</span><span>,</span><span> </span><span>bool</span><span> </span><span>enableRangeProcessing</span><span>)</span><span>;</span></p><p><span>Task </span><span>Forbid</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>)</span><span>;</span></p><p><span>Task </span><span>LocalRedirect</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>localUrl</span><span>)</span><span>;</span></p><p><span>Task </span><span>LocalRedirectPermanent</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>localUrl</span><span>)</span><span>;</span></p><p><span>Task </span><span>LocalRedirectPermanentPreserveMethod</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>localUrl</span><span>)</span><span>;</span></p><p><span>Task </span><span>LocalRedirectPreserveMethod</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>localUrl</span><span>)</span><span>;</span></p><p><span>Task </span><span>NoContent</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>)</span><span>;</span></p><p><span>Task </span><span>NotFound</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>object</span><span> </span><span>value</span><span>)</span><span>;</span></p><p><span>Task </span><span>NotFound</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>)</span><span>;</span></p><p><span>Task </span><span>Ok</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>)</span><span>;</span></p><p><span>Task </span><span>Ok</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>object</span><span> </span><span>value</span><span>)</span><span>;</span></p><p><span>Task </span><span>PhysicalFile</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>physicalPath</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>string</span><span> </span><span>fileDownloadName</span><span>,</span><span> </span><span>DateTimeOffset</span><span>?</span><span> </span><span>lastModified</span><span>,</span><span> </span><span>EntityTagHeaderValue </span><span>entityTag</span><span>,</span><span> </span><span>bool</span><span> </span><span>enableRangeProcessing</span><span>)</span><span>;</span></p><p><span>Task </span><span>PhysicalFile</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>physicalPath</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>string</span><span> </span><span>fileDownloadName</span><span>,</span><span> </span><span>DateTimeOffset</span><span>?</span><span> </span><span>lastModified</span><span>,</span><span> </span><span>EntityTagHeaderValue </span><span>entityTag</span><span>)</span><span>;</span></p><p><span>Task </span><span>PhysicalFile</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>physicalPath</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>DateTimeOffset</span><span>?</span><span> </span><span>lastModified</span><span>,</span><span> </span><span>EntityTagHeaderValue </span><span>entityTag</span><span>,</span><span> </span><span>bool</span><span> </span><span>enableRangeProcessing</span><span>)</span><span>;</span></p><p><span>Task </span><span>PhysicalFile</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>physicalPath</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>)</span><span>;</span></p><p><span>Task </span><span>PhysicalFile</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>physicalPath</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>DateTimeOffset</span><span>?</span><span> </span><span>lastModified</span><span>,</span><span> </span><span>EntityTagHeaderValue </span><span>entityTag</span><span>)</span><span>;</span></p><p><span>Task </span><span>PhysicalFile</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>physicalPath</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>string</span><span> </span><span>fileDownloadName</span><span>,</span><span> </span><span>bool</span><span> </span><span>enableRangeProcessing</span><span>)</span><span>;</span></p><p><span>Task </span><span>PhysicalFile</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>physicalPath</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>string</span><span> </span><span>fileDownloadName</span><span>)</span><span>;</span></p><p><span>Task </span><span>PhysicalFile</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>physicalPath</span><span>,</span><span> </span><span>string</span><span> </span><span>contentType</span><span>,</span><span> </span><span>bool</span><span> </span><span>enableRangeProcessing</span><span>)</span><span>;</span></p><p><span>Task </span><span>Redirect</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>url</span><span>)</span><span>;</span></p><p><span>Task </span><span>RedirectPermanent</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>url</span><span>)</span><span>;</span></p><p><span>Task </span><span>RedirectPermanentPreserveMethod</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>url</span><span>)</span><span>;</span></p><p><span>Task </span><span>RedirectPreserveMethod</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>string</span><span> </span><span>url</span><span>)</span><span>;</span></p><p><span>Task </span><span>StatusCode</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>int</span><span> </span><span>statusCode</span><span>)</span><span>;</span></p><p><span>Task </span><span>StatusCode</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>int</span><span> </span><span>statusCode</span><span>,</span><span> </span><span>object</span><span> </span><span>value</span><span>)</span><span>;</span></p><p><span>Task </span><span>Unauthorized</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>)</span><span>;</span></p><p><span>Task </span><span>Unauthorized</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>object</span><span> </span><span>value</span><span>)</span><span>;</span></p><p><span>Task </span><span>UnprocessableEntity</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>object</span><span> </span><span>error</span><span>)</span><span>;</span></p><p><span>Task </span><span>UnprocessableEntity</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>ModelStateDictionary </span><span>modelState</span><span>)</span><span>;</span></p><p><span>Task </span><span>UnprocessableEntity</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>)</span><span>;</span></p><p><span>Task </span><span>ValidationProblem</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>ValidationProblemDetails </span><span>descriptor</span><span>)</span><span>;</span></p><p><span>Task </span><span>ValidationProblem</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>ModelStateDictionary </span><span>modelStateDictionary</span><span>)</span><span>;</span></p><p><span>Task </span><span>WriteActionResult</span><span>&lt;</span><span>TResult</span><span>&gt;</span><span>(</span><span>this</span><span> </span><span>HttpContext</span><span> </span><span>c</span><span>,</span><span> </span><span>TResult </span><span>result</span><span>)</span><span> </span><span>where </span><span>TResult</span><span> </span><span>:</span><span> </span><span>IActionResult</span><span>;</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0614 seconds] -->

						</div>
										</article>
			<!-- end article -->
			<hr>
			
			


					</section>

        </div>
        <!-- end #main -->

<!-- begin aside -->
</div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Announcing Entity Framework Core 3.0 Preview 8 and Entity Framework 6.3 Preview 8 | .NET Blog -
linksfor.dev(s)
    </title>
	<link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <style type="text/css">
        html {
            font-family: sans-serif;
            line-height: 1.15;
            -webkit-text-size-adjust: 100%;
            -webkit-tap-highlight-color: transparent;
            height: 100%;
        }

        *, ::after, ::before {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";
            font-size: 1rem;
            font-weight: 400;
            line-height: 1.5;
            color: #60656a;
            text-align: left;
            background-color: #323b44;
        }

        h1 {
            font-size: 6rem;
            font-weight: 300;
            line-height: 1.2;
            margin-top: 0;
            margin-bottom: 0.5rem;
            margin-bottom: 0.5rem
        }

        a {
            color: #007bff;
            color: #ccc;
            text-decoration: none;
            background-color: transparent;
            word-break: break-all;
        }

        .unseen a {
            font-weight: bold;
        }

        h3 {
            margin-top: 0;
            padding-top: 0;
            font-weight: normal;
        }

        .grid {
            -ms-flex-direction: column;
            flex-direction: column;
            width: 1024px;
            margin: 0 auto;
            flex: 1 0 auto;
        }

        .row {
            -ms-flex-direction: row;
            flex-direction: row;
            width: 100%;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            display: -ms-flexbox;
            display: flex;
        }

        .col {
            margin: 0 10px 0 10px;
            box-sizing: border-box;
            vertical-align: top;
        }

        .col-3-of-4, .col-6-of-8, .col-9-of-12 {
            width: calc(75% - 20px);
        }

        .col-1-of-4, .col-2-of-8, .col-3-of-12 {
            width: calc(25% - 20px);
        }

        @media (max-width:1023px) {
            /* big landscape tablets, laptops, and desktops */
            body {
                overflow-x: hidden;
            }

            main {
                width: 99%;
            }

            h1 {
                font-size: 50px;
            }
        }

        .text-right {
            text-align: right;
        }

        footer {
            left: 0;
            width: 100%;
            margin-top: 2em;
            padding: 50px 0;
            text-align: center;
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }

        .readable {
            color: #949ba2;
        }

        svg:not(:root).svg-inline--fa {
            color: #60656a;
            overflow: visible;
        }

        .svg-inline--fa.fa-w-12 {
            width: 0.75em;
        }

        svg:not(:root) {
            overflow: hidden;
        }

        .svg-inline--fa {
            display: inline-block;
            font-size: inherit;
            height: 1em;
            overflow: visible;
            vertical-align: -0.125em;
        }

        img {
            max-width: 100%;
        }

        .text-center {
            text-align: center;
        }

        .readable h1 {
            font-size: 2em;
        }
    </style>
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <h1>Announcing Entity Framework Core 3.0 Preview 8 and Entity Framework 6.3 Preview 8 | .NET Blog</h1>
    <div class="entry-content col-12 sharepostcontent"><div class="row justify-content-center"><div class="col-md-4"><div><img src="https://secure.gravatar.com/avatar/c16238388fe24348cb8d7c4cf974bb7b?s=58&amp;d=mm&amp;r=g" width="58" alt="Avatar" class="avatar avatar-58 wp-user-avatar wp-user-avatar-58 photo avatar-default"><p>Diego</p></div></div></div><p>The Preview 8 versions of the&#xA0;<a href="https://www.nuget.org/packages/Microsoft.EntityFrameworkCore/3.0.0-preview8.19405.11">EF Core 3.0 package</a>&#xA0;and the&#xA0;<a href="https://www.nuget.org/packages/EntityFramework/6.3.0-preview8-19405-04">EF 6.3 package</a>&#xA0;are now available for download from&#xA0;<a href="https://www.nuget.org/">nuget.org</a>.</p><p>New previews of <a href="https://devblogs.microsoft.com/dotnet/announcing-net-core-3-0-preview-8/">.NET Core 3.0</a> and <a href="https://devblogs.microsoft.com/aspnet/asp-net-core-and-blazor-updates-in-net-core-3-0-preview-8/">ASP.NET Core 3.0</a> are also available today.</p><p><strong>Please install these previews to validate that all the functionality required by your applications is available and works correctly.&#xA0;</strong></p><p><strong>Please report any issues you find as soon as possible to either the&#xA0;<a href="https://github.com/aspnet/EntityFrameworkCore/issues/new">EF Core issue tracker</a>&#xA0;or the&#xA0;<a href="https://github.com/aspnet/EntityFramework6/issues/new">EF 6 issue tracker</a>&#xA0;on GitHub.</strong></p><p><strong>At this point, we are especially interested in hearing about any unexpected issues blocking you from upgrading to the new releases, but you are also welcome to try new functionality and provide general feedback.</strong></p><h2 id="what-s-new-in-ef-core-30">What&#x2019;s new in EF Core 3.0</h2><p>Preview 8 includes&#xA0;<a href="https://github.com/aspnet/EntityFrameworkCore/issues?q=is%3Aissue+milestone%3A3.0.0-preview8+is%3Aclosed">fixes for 68 issues</a>&#xA0;that we resolved since Preview 7. Here are a few highlights:</p><ul><li>Some functionality that we had temporarily disabled while working on our new LINQ implementation is now restored. For example, compiling queries explicitly is now possible, and owned entity types are once again automatically included in query results.</li><li>Several existing and new APIs across EF Core have been tweaked as a result of API reviews.</li><li>Numerous APIs required by providers have been made public.</li><li>The new interception feature has been enhanced to allow intercepting&#xA0;<code>DbCommand</code>&#xA0;creation.</li><li><code>KeyAttribute</code>&#xA0;is now scaffolded even if EF Core won&#x2019;t use it, for example for composite keys (contributed by&#xA0;<a href="https://github.com/ErikEJ">Erik Ejlskov Jensen</a>).</li><li>Various improvements were made to the scaffolding of comments from SQL Server database objects (also contributed by&#xA0;<a href="https://github.com/ErikEJ">Erik Ejlskov Jensen</a>).</li><li>Support for scaffolding of views was extended to SQLite (also contributed by&#xA0;<a href="https://github.com/ErikEJ">Erik Ejlskov Jensen</a>).</li><li><code>EF.Functions.IsDate()</code>&#xA0;was added for SQL Server (contributed by&#xA0;<a href="https://github.com/ralmsdeveloper">Rafael Almeida</a>).</li><li>The Cosmos DB provider was upgraded to use the&#xA0;<a href="https://www.nuget.org/packages/Microsoft.Azure.Cosmos/3.0.0">3.0 RTM version of the Azure Cosmos SDK</a>.</li><li>The SQL Server provider was upgraded to a newer preview version of&#xA0;<a href="https://www.nuget.org/packages/Microsoft.Data.SqlClient/1.0.19189.1-Preview">Microsoft.Data.SqlClient</a>.</li></ul><p>Most of the major pieces of the new EF Core LINQ implementation are now in place. However, in Preview 8 the functionality of the in-memory provider is still very limited, and global query filters are still not correctly applied to navigation properties. The fix for the latter is available in daily builds, as well as fixes for many other issues.</p><h3><a id="user-content-consider-installing-daily-builds" class="anchor" href="https://github.com/microsoft/dotnet-blog/blob/99d0831861290ded4592c9a16a973050b96bd98f/2019/08-Aug/ef-core-3-preview8/ef-core-3-preview8.md#consider-installing-daily-builds"></a>Consider installing daily builds</h3><p>In fact,&#xA0;<a href="https://github.com/aspnet/EntityFrameworkCore/milestone/42?closed=1">we have already fixed more than 50 issues</a>&#xA0;that aren&#x2019;t included in Preview 8, and&#xA0;<a href="https://github.com/aspnet/EntityFrameworkCore/issues?q=is%3Aopen+is%3Aissue+milestone%3A3.0.0">we are tracking several more</a>&#xA0;to be fixed before RTM.</p><p>Given that we are fixing issues very rapidly, we recommend switching to a daily build to verify the latest fixes.</p><p>Detailed instructions to install daily builds, including the necessary NuGet feeds, can be found&#xA0;in the <a href="https://github.com/aspnet/AspNetCore/blob/master/docs/DailyBuilds.md">How to get daily builds of ASP.NET Core</a> article.</p><h3 id="common-workarounds-for-linq-queries">Common workarounds for LINQ queries</h3><p>The LINQ implementation in EF Core 3.0 is designed to work very differently from the one used in previous versions of EF Core, and in some areas, it&#x2019;s still a work in progress. For these reasons, you are likely to run into issues with LINQ queries, especially when upgrading existing applications. Here are some workarounds that might help you get things working:</p><ul><li><strong>Try a&#xA0;<a href="https://github.com/aspnet/AspNetCore/blob/master/docs/DailyBuilds.md">daily build</a></strong> (as previously mentioned) to confirm that you aren&#x2019;t hitting an issue that has already been fixed.</li><li><strong>Switch to client evaluation explicitly:</strong>&#xA0;If your query filters data based on an expression that cannot be translated to SQL, you may need to switch to client evaluation explicitly by inserting a call to either&#xA0;<code>AsEnumerable()</code>,&#xA0;<code>AsAsyncEnumerable()</code>,&#xA0;<code>ToList()</code>, or&#xA0;<code>ToListAsync()</code>&#xA0;in the middle of the query. For example, the following query will no longer work in EF Core 3.0 because one of the predicates in the&#xA0;<em>where</em> clause requires client evaluation:<div class="highlight highlight-source-cs"><div id="crayon-5d540bb895a4d061708452" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate"><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums "></td><td class="crayon-code"><div class="crayon-pre"><div class="crayon-line" id="crayon-5d540bb895a4d061708452-1"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">specialCustomers</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">context</span><span class="crayon-sy">.</span><span class="crayon-i">Customers</span></div><div class="crayon-line" id="crayon-5d540bb895a4d061708452-2"><span class="crayon-h">&#xA0;&#xA0;</span><span class="crayon-sy">.</span><span class="crayon-e">Where</span><span class="crayon-sy">(</span><span class="crayon-v">c</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">c</span><span class="crayon-sy">.</span><span class="crayon-v">Name</span><span class="crayon-sy">.</span><span class="crayon-e">StartsWith</span><span class="crayon-sy">(</span><span class="crayon-v">n</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-e">IsSpecialCustomer</span><span class="crayon-sy">(</span><span class="crayon-v">c</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td></tr></table></div></div></div><p>But if you know it is reasonable to process part of the filter on the client, you can rewrite the query as:</p><div class="highlight highlight-source-cs"><div id="crayon-5d540bb895a68501818991" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate"><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums "></td><td class="crayon-code"><div class="crayon-pre"><div class="crayon-line" id="crayon-5d540bb895a68501818991-1"><span class="crayon-h">&#xA0;&#xA0; </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">specialCustomers</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">context</span><span class="crayon-sy">.</span><span class="crayon-i">Customers</span></div><div class="crayon-line" id="crayon-5d540bb895a68501818991-2"><span class="crayon-h">&#xA0;&#xA0;&#xA0;&#xA0; </span><span class="crayon-sy">.</span><span class="crayon-e">Where</span><span class="crayon-sy">(</span><span class="crayon-v">c</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">c</span><span class="crayon-sy">.</span><span class="crayon-v">Name</span><span class="crayon-sy">.</span><span class="crayon-e">StartsWith</span><span class="crayon-sy">(</span><span class="crayon-v">n</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5d540bb895a68501818991-3"><span class="crayon-h">&#xA0;&#xA0;&#xA0;&#xA0; </span><span class="crayon-sy">.</span><span class="crayon-e">AsEnumerable</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c">// Start using LINQ to Objects (switch to client evaluation)</span></div><div class="crayon-line" id="crayon-5d540bb895a68501818991-4"><span class="crayon-h">&#xA0;&#xA0;&#xA0;&#xA0; </span><span class="crayon-sy">.</span><span class="crayon-e">Where</span><span class="crayon-sy">(</span><span class="crayon-v">c</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-e">IsSpecialCustomer</span><span class="crayon-sy">(</span><span class="crayon-v">c</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td></tr></table></div></div></div><p>Remember that this is by-design: In EF Core 3.0,&#xA0;<a href="https://docs.microsoft.com/ef/core/what-is-new/ef-core-3.0/breaking-changes#linq-queries-are-no-longer-evaluated-on-the-client">LINQ operations that cannot be translated to SQL are no longer automatically evaluated on the client</a>.</p></li><li><strong>Use raw SQL queries:</strong>&#xA0;If some expression in your LINQ query is not translated correctly (or at all) to SQL, but you know what translation you would want to have generated, you may be able to work around the issue by executing your own SQL statement using the&#xA0;<code>FromSqlRaw()</code>&#xA0;or&#xA0;<code>FromSqlInterpolated()</code>&#xA0;methods.<p>Also make sure an issue exists in&#xA0;<a href="https://github.com/aspnet/EntityFrameworkCore/issues">our issue tracker on GitHub</a>&#xA0;to support the translation of the specific expression.</p></li></ul><h3 id="breaking-changes">Breaking changes</h3><p>All breaking changes in this release are&#xA0;listed in the <a href="https://docs.microsoft.com/ef/core/what-is-new/ef-core-3.0/breaking-changes">Breaking Changes in EF Core 3.0</a> article. We keep the list up to date on every preview, with the most impactful changes near the top of the list, to make it easier for you to react.</p><h3 id="obtaining-the-preview-8-packages">Obtaining the Preview 8 packages</h3><p>EF Core 3.0 is distributed exclusively as NuGet packages. As usual, add or upgrade the runtime to preview 8 via the NuGet user interface, the Package Manager Console in Visual Studio, or via the&#xA0;<code>dotnet add package</code> command. In all cases, include the option to allow installing pre-release versions. For example, you can execute the following command to install the SQL Server provider:</p><div class="highlight highlight-text-shell-session"><div id="crayon-5d540bb895a79310863780" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate"><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums "></td><td class="crayon-code"><div class="crayon-pre"><div class="crayon-line" id="crayon-5d540bb895a79310863780-1"><span class="crayon-e">dotnet </span><span class="crayon-e">add </span><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-v">Microsoft</span><span class="crayon-sy">.</span><span class="crayon-v">EntityFrameworkCore</span><span class="crayon-sy">.</span><span class="crayon-v">SqlServer</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-i">version</span><span class="crayon-h"> </span><span class="crayon-cn">3.0.0</span><span class="crayon-o">-</span><span class="crayon-o">*</span></div></div></td></tr></table></div></div></div><p>With .NET Core 3.0, the&#xA0;<code>dotnet ef</code>&#xA0;command-line tool is no longer included in the .NET Core SDK. Before you can execute EF Core migration or scaffolding commands, you&#x2019;ll have to install it as either a global or local tool. Due to limitations in&#xA0;<code>dotnet tool install</code>, installing preview tools requires specifying at least part of the preview version on the installation command. For example, to install the 3.0 Preview 8 version of&#xA0;<code>dotnet ef</code>&#xA0;as a global tool, execute the following command:</p><div class="highlight highlight-text-shell-session"><div id="crayon-5d540bb895a89270010586" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate"><div class="crayon-main"><table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums "></td><td class="crayon-code"><div class="crayon-pre"><div class="crayon-line" id="crayon-5d540bb895a89270010586-1"><span class="crayon-e">dotnet </span><span class="crayon-e">tool </span><span class="crayon-v">install</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-m">global</span><span class="crayon-h"> </span><span class="crayon-v">dotnet</span><span class="crayon-o">-</span><span class="crayon-v">ef</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-i">version</span><span class="crayon-h"> </span><span class="crayon-cn">3.0.0</span><span class="crayon-o">-</span><span class="crayon-o">*</span></div></div></td></tr></table></div></div></div><h2 id="whats-new-in-ef-63-preview-8">What&#x2019;s new in EF 6.3 Preview 8</h2><p>With the added ability to execute migration commands against .NET Core projects in Visual Studio, most of the work planned for the EF 6.3 package has been completed. We are now focused on fixing any bugs that arise.</p><p>As with EF Core, any bug fixes that happened after we branched for Preview 8 are available in&#xA0;<a href="https://github.com/aspnet/AspNetCore/blob/master/docs/DailyBuilds.md">our daily builds</a>.</p><p>On the tooling side, we plan to release an updated EF6 designer in an upcoming update of Visual Studio 2019 which will work with projects that target .NET Core (tracked in issue&#xA0;<a href="https://github.com/aspnet/EntityFramework6/issues/883">#883</a>).</p><p>Until this new version of the designer is available, we recommend that you work with your EDMX files inside projects that target .NET Framework and then copy the final version of your EDMX and related files to your .NET Core project. Note that due to a bug in current builds of Visual Studio, copying the files from within Solution Explorer may cause hangs. Copy the files using Windows Explorer or from the command line instead.</p><p>We are also seeking feedback and possible contributions to enable a cross-platform command line experience for migrations commands, similar to&#xA0;<code>dotnet ef</code>&#xA0;but for EF6 (tracked in issue&#xA0;<a href="https://github.com/aspnet/EntityFramework6/issues/1053">#1053</a>). If you would like to see this happen, or if you would like to contribute to it, please vote or comment on the issue.</p><p>Again, if you find any unexpected issues with EF 6.3 preview 8, please report it to&#xA0;<a href="https://github.com/aspnet/entityframework6/issues/new">our GitHub issue tracker</a>.</p><p>If you&#x2019;d like to track our progress more closely, we now publish weekly status updates to&#xA0;<a href="https://github.com/aspnet/EntityFrameworkCore/issues/15403">GitHub</a>. We also post these status updates to our Twitter account,&#xA0;<a href="https://twitter.com/efmagicunicorns">@efmagicunicorns</a>.</p><h2 id="thank-you">Thank you</h2><p>As usual, thank you for trying our preview bits, and for all the bug reports and contributions that will help make EF Core 3.0 and EF 6.3 much better releases.</p></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2019 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
    </footer>
    
</body>
</html>
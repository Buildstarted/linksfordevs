<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Names and default names for keys, constraints and indices &#xB7; Issue #12837 &#xB7; dotnet/efcore &#xB7; GitHub -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>Names and default names for keys, constraints and indices · Issue #12837 · dotnet/efcore · GitHub</h1><div><div id="" class="d-block comment-body markdown-body  js-comment-body"><blockquote><p>Thanks for the quick feedback. Adding the constraint name if its not the default sound like a good idea and it would also solve my problem.</p></blockquote><p>Great, I hope I'll get around to looking at this issue soon.</p><blockquote><p>You might also consider what <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/ErikEJ/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ErikEJ">@ErikEJ</a> does in his EF Core Power Tools, i.e. providing a method at the end of the OnModelCreating which calls an overridable method (<a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/ErikEJ/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ErikEJ">@ErikEJ</a> - can you provide info. I only found it by using your tool and I couldn't find it in your docs). That just gives you lots of room for doing complex things.</p></blockquote><p>I assume you're asking for this because you want to re-scaffoled an existing context from a database which has changed, and want to make sure some configuration isn't overwritten. If so, take a look at <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="329561653" data-permission-text="Issue title is private" data-url="https://github.com/dotnet/efcore/issues/12245" data-hovercard-type="issue" data-hovercard-url="/dotnet/efcore/issues/12245/hovercard" href="https://github.com/dotnet/efcore/issues/12245">#12245</a> which seems to be the same, but more in general, at <a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="45309329" data-permission-text="Issue title is private" data-url="https://github.com/dotnet/efcore/issues/831" data-hovercard-type="issue" data-hovercard-url="/dotnet/efcore/issues/831/hovercard" href="https://github.com/dotnet/efcore/issues/831">#831</a> which is a more general approach to updating the model. This would definitely be out of scope for this issue.</p><blockquote><p>One minor point. CompareEfSql uses the DbContext's Model property, with entityType.GetIndexes() to get the indexes and then ...Relational().Name to get the constraint name. This always returns a constraint name - either the default or one provided by HasName(). That means I don't need to do anything in CompareEfSql special - it just works.</p></blockquote><p>I understand, but I'm not sure if that's the right behavior for default names. Imagine a model scaffolded from one database (e.g. SQL Server), used to create another (e.g. PostgreSQL); is seems ideal if the default constraint names from SQL Server are <em>not</em> scaffolded in any way, allowing PostgreSQL's default names to be used. In other words, in my current mental model (which may change) you would see null as the constraint name, and would need to reconstruct the database's default name, possibly with the provider's help.</p></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
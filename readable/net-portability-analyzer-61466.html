<!DOCTYPE html>
<html lang="en">
<head>
    <title>
.NET Portability Analyzer - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.min.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content=".NET Portability Analyzer - linksfor.dev(s)"/>
    <meta property="og:description" content="Migrating to .NET Core? Use the .NET Portability Analyzer to determine code that isn&#x27;t supported by .NET Core or .NET Standard"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://codeopinion.com/net-portability-analyzer/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1 style="margin: unset">
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - .NET Portability Analyzer</title>
<div class="readable">
        <h1>.NET Portability Analyzer</h1>
            <div>Reading time: 4-5 minutes</div>
        <div>Posted here: 08 May 2020</div>
        <p><a href="https://codeopinion.com/net-portability-analyzer/">https://codeopinion.com/net-portability-analyzer/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
			
<figure><img src="https://codeopinion.com/wp-content/uploads/2020/05/PortabilityTwitter-1024x536.png" alt=".NET Portability Analyzer" srcset="https://codeopinion.com/wp-content/uploads/2020/05/PortabilityTwitter-1024x536.png 1024w, https://codeopinion.com/wp-content/uploads/2020/05/PortabilityTwitter-300x157.png 300w, https://codeopinion.com/wp-content/uploads/2020/05/PortabilityTwitter-768x402.png 768w, https://codeopinion.com/wp-content/uploads/2020/05/PortabilityTwitter.png 1200w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>


<p>In order to migrate your application from .NET Framework to .NET Core, one part of the migration is making sure your existing code that targets the .NET Framework BCL (Base Class Library) also works with the .NET Core BCL.  This is where the .NET Portability Analyzer comes in.</p>


<h2>Migrating from .NET Framework to .NET Core</h2>


<p>This post is in a blog series for migrating from .NET Framework to .NET Core.  Here’ are some earlier post if you need to catch up:</p>


<ul>
<li><a rel="noreferrer noopener" href="https://codeopinion.com/migrating-from-net-framework-to-net-core/" target="_blank">Migrating from .NET Framework to .NET Core Overview</a></li>
<li><a href="https://codeopinion.com/migrating-to-asp-net-core/" target="_blank" rel="noreferrer noopener">Migrating to ASP.NET Core</a></li>
</ul>


<h2>BCL</h2>


<p>.NET Framework and .NET Core are two entirely different things.  Yes, they share the name “.NET”, but they are comprised of different Runtimes and  Base Class Libraries.  The Base Class Library (BCL) is the foundation of the framework for .NET types such as Object, String, Boolean, Array, List, DateTime, and other primitive types and data structures.</p>


<h2>.NET Standard</h2>


<p>In order to share code/libraries between .NET Framework applications and .NET Core applications is where .NET Standard comes in.  I’ve found the simplest way to explain this is to think of .NET Standard as an interface (or a contract). </p>


<p>Both .NET Framework and .NET Core implement that interface.  </p>


<p>Because of this, if you write an application that is .NET Standard 2.0 compliant, you can then run your application on both .NET Framework or .NET Core.</p>


<ul>
<li>.NET Framework 4.8 supports .NET Standard 2.0</li>
<li>.NET Core 2.1 supports .NET Standard 2.0</li>
<li>.NET Core 3.1 supports .NET Standard 2.1</li>
</ul>


<p>Again, because both .NET Framework 4.8 and .NET Core 2.1 support .NET Standard 2.0, you could run your application on either.</p>


<p>Note that .NET Core 3.1 supports .NET Standard 2.1.  And it has been noted that .NET Framework will never support .NET Standard 2.1.</p>


<h2>.NET Portability Analyzer</h2>


<p>The .NET Portability Analyzer is a tool that analyzes your codebase and provides a report about what types you’re using from the BCL that are supported in .NET Standard or .NET Core.</p>


<p>This allows you to determine how close or far you are away from being able to migrate to .NET Core.  A lot of the Types and APIs that exist in .NET Framework also now exist in .NET Core.  There are however some gaps that will never be officially implemented in .NET Core.  Most notably this will be any type that lives in the System.Web namespace.</p>


<p>There are two ways to run the .NET Portability Analyzer.  The simplest is to use the <a rel="noreferrer noopener" href="https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer" target="_blank">Visual Studio Extension</a>.</p>


<p>Once installed, you can access the settings from the solution context menu:</p>


<figure><img src="https://codeopinion.com/wp-content/uploads/2020/05/analyzer1.png" alt="" srcset="https://codeopinion.com/wp-content/uploads/2020/05/analyzer1.png 683w, https://codeopinion.com/wp-content/uploads/2020/05/analyzer1-300x111.png 300w" sizes="(max-width: 683px) 100vw, 683px"></figure>


<p>The Portability Analyzer settings allow you to configure which target platforms to review against.  You can specify .NET Core specific or .NET Standard.</p>


<figure><img src="https://codeopinion.com/wp-content/uploads/2020/05/analyzer2-1024x933.png" alt=".NET Portability Analyzer" srcset="https://codeopinion.com/wp-content/uploads/2020/05/analyzer2-1024x933.png 1024w, https://codeopinion.com/wp-content/uploads/2020/05/analyzer2-300x273.png 300w, https://codeopinion.com/wp-content/uploads/2020/05/analyzer2-768x700.png 768w, https://codeopinion.com/wp-content/uploads/2020/05/analyzer2.png 1280w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>


<p>After configuring you can then run the “Analyzer Assembly Portability” from the solution context menu.  This will generate an Excel file (.xlsx) that will contain all the types that exist in your code that are not supported against the target platforms you specified.</p>


<p>The Portability Summary section gives overall % of each assembly/project in your solution and how it’s supported on the target platform.</p>


<figure><img src="https://codeopinion.com/wp-content/uploads/2020/05/Summary-1024x193.png" alt=".NET Portability Analyzer" srcset="https://codeopinion.com/wp-content/uploads/2020/05/Summary-1024x193.png 1024w, https://codeopinion.com/wp-content/uploads/2020/05/Summary-300x56.png 300w, https://codeopinion.com/wp-content/uploads/2020/05/Summary-768x145.png 768w, https://codeopinion.com/wp-content/uploads/2020/05/Summary-1536x289.png 1536w, https://codeopinion.com/wp-content/uploads/2020/05/Summary-2048x386.png 2048w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>


<p>The details section lists all the APIs that are missing from a target platform.</p>


<figure><img src="https://codeopinion.com/wp-content/uploads/2020/05/Detail-1024x45.png" alt="" srcset="https://codeopinion.com/wp-content/uploads/2020/05/Detail-1024x45.png 1024w, https://codeopinion.com/wp-content/uploads/2020/05/Detail-300x13.png 300w, https://codeopinion.com/wp-content/uploads/2020/05/Detail-768x33.png 768w, https://codeopinion.com/wp-content/uploads/2020/05/Detail-1536x67.png 1536w, https://codeopinion.com/wp-content/uploads/2020/05/Detail-2048x89.png 2048w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>


<p>The missing assemblies section of the report likely will include a list of dependencies that you are likely using via NuGet.  I’ll cover how to handle 3rd party dependencies in another post.</p>


<p>This report will be invaluable for tracking down APIs that you’re using that are not supported in .NET Core.  </p>


<p>Once you have these missing APIs in hand that are not supported in .NET Core, it really is up to you to determine how you want to handle or rewrite that code.</p>


<p>If you’re not using Visual Studio, you can simply build the .NET Portability Analyzer and run it against your assembly.  You can find the source and instructions on the projects <a rel="noreferrer noopener" href="https://github.com/microsoft/dotnet-apiport" target="_blank">GitHub repo</a>.</p>


<h2>Useful Links</h2>


<ul>
<li><a rel="noreferrer noopener" href="https://docs.microsoft.com/en-us/dotnet/standard/analyzers/portability-analyzer" target="_blank">Microsoft Docs</a></li>
<li><a href="https://github.com/microsoft/dotnet-apiport" target="_blank" rel="noreferrer noopener">GitHub Repo</a></li>
</ul>


<p>If you’ve used the portability analyzer and have and or comments that may help others, let me know in the comments or on Twitter.</p>



<!-- Mailchimp for WordPress v4.7.7 - https://wordpress.org/plugins/mailchimp-for-wp/ --><!-- / Mailchimp for WordPress Plugin -->


					</div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Exploring the Docker Extension for VS Code and .NET Core -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>Exploring the Docker Extension for VS Code and .NET Core</h1><div><div><p class="app-shell-loader">
        loading...
      </p><div id="page-content" class="universal-page-content-wrapper stories stories-show" data-current-page="stories-show"><div id="page-content-inner"><div class="home"><div class="container article" id="article-show-container" data-author-id="59907" data-live="false" data-path="/azure/exploring-the-docker-extension-for-vs-code-and-net-core-25b6" data-published="true"><article itemscope="itemscope" itemtype="http://schema.org/Article" itemprop="mainEntity"><meta itemprop="url" content="https://dev.to/azure/exploring-the-docker-extension-for-vs-code-and-net-core-25b6"><meta itemprop="image" content="https://res.cloudinary.com/practicaldev/image/url2png/s--ILsk-E5A--/c_fill,g_north,h_400,w_800/https://dev.to/social_previews/article/53483%3Fbust%3D0-Exploring%20the%20Docker%20Extension%20for%20VS%20Code%20and%20.NET%20Core-true"><section><header class="title" id="main-title"><a href="/azure" class="org-branded-title-link"><div class="org-branded-title"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--xI44_o_P--/c_fill,f_auto,fl_progressive,h_50,q_auto,w_50/https://dev-to-uploads.s3.amazonaws.com/uploads/organization/profile_image/512/64ce0b82-730d-4ca0-8359-2c21513a0063.jpg" class="org-pic" alt="Microsoft Azure profile image"><p class="readability-styled" style="display: inline;"> Microsoft Azure
            </p></div></a></header><div class="body" data-article-id="53483" id="article-body" itemprop="articleBody"><p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--nM45S0eH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/http://tattoocoder.com/content/images/2018/10/Screen-Shot-2018-10-04-at-11.56.04-AM.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--nM45S0eH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/http://tattoocoder.com/content/images/2018/10/Screen-Shot-2018-10-04-at-11.56.04-AM.png" alt="Exploring the Docker Extension for VS Code and .NET Core"></a></p><p>The <a href="https://marketplace.visualstudio.com/items?itemName=PeterJausovec.vscode-docker&amp;WT.mc_id=devto-blog-shboyer">Docker extension for VS Code</a> was recently updated to better support .NET Core applications and the experience is super nice!</p><p>The extension already has great support for building your containers, pushing images to Docker Hub, <a href="https://docs.microsoft.com/en-us/azure/container-registry/?WT.mc_id=devto-blog-shboyer">Azure Container Registry</a> and tasks such as running a specific image or tagging an image too. However, adding a Dockerfile to an ASP.NET Core application was not updated to support the <a href="https://hub.docker.com/r/microsoft/dotnet/">microsoft/dotnet</a> base images.</p><p>The Docker extension can be downloaded separately or is also available as a part of the <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.vscode-azureextensionpack&amp;WT.mc_id=devto-blog-shboyer">Azure extension pack for VS Code</a> which provides a number of other extensions for working with the many cloud services without leaving the editor.</p><p>First, I'll start by creating a quick Razor Pages app with the .NET CLI, change to the output directory and open in VS Code.</p><div class="highlight"><pre class="highlight plaintext"><code>&gt; dotnet new razor -o dotnet-docker-vscode
&gt; cd dotnet-docker-vscode
&gt; code .

</code></pre></div><p>Using the extension, I can now add the needed Dockerfile using the Command Pallete, CMD + Shift + P (MacOS) or Ctrl + Shift + P (Win), type <strong>Docker</strong> and the options are presented.</p><p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Tn35GT_w--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/0szn2homzw85mddr4deg.gif" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Tn35GT_w--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/0szn2homzw85mddr4deg.gif" alt="Exploring the Docker Extension for VS Code and .NET Core"></a></p><p>The extension adds the appropriate Dockerfile for ASP.NET Core 2.1</p><div class="highlight"><pre class="highlight plaintext"><code>FROM microsoft/dotnet:2.1-aspnetcore-runtime AS base  
WORKDIR /app  
EXPOSE 80

FROM microsoft/dotnet:2.1-sdk AS build  
WORKDIR /src  
COPY ["dotnet-docker-vscode.csproj", "./"]  
RUN dotnet restore "./dotnet-docker-vscode.csproj"  
COPY . .  
WORKDIR "/src/."  
RUN dotnet build "dotnet-docker-vscode.csproj" -c Release -o /app

FROM build AS publish  
RUN dotnet publish "dotnet-docker-vscode.csproj" -c Release -o /app

FROM base AS final  
WORKDIR /app  
COPY --from=publish /app .  
ENTRYPOINT ["dotnet", "dotnet-docker-vscode.dll"]  

</code></pre></div><p>Again using the extension we can build the image. When doing so it does ask for a tag, and in this case, I will prefix it with my Azure Container Registry name for pushing to later.</p><p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--6HfBZswP--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/aclnm7l517w4zlmq7yxy.gif" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--6HfBZswP--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/aclnm7l517w4zlmq7yxy.gif" alt="Exploring the Docker Extension for VS Code and .NET Core"></a></p><p>Expanding the <strong>Images</strong> section, we can see the <strong>shayne.azurecr.io/dotnet-docker-vscode</strong> image available now. Right-clicking the entry show the options you would expect; aligning with the most common commands from the Docker CLI.</p><p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--G_uRNBNY--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/http://tattoocoder.com/content/images/2018/10/Screen-Shot-2018-10-04-at-11.26.40-AM.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--G_uRNBNY--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/http://tattoocoder.com/content/images/2018/10/Screen-Shot-2018-10-04-at-11.26.40-AM.png" alt="Exploring the Docker Extension for VS Code and .NET Core"></a></p><p>The option I can select here is to <strong>Push</strong> the image now to my Azure Container Registry.</p><blockquote><p>You may need to authenticate to your ACR which can be accomplished in the terminal using <code>az acr login --name {name of your registry}</code> should you get an error when pushing your image.</p></blockquote><p>Now that the image is available in my private registry I can use the App Service extension to create an instance of the application using <a href="https://docs.microsoft.com/en-us/azure/app-service/containers/">App Service on Linux</a> and push my container.</p><p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--h4xvkYCD--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/tbk3ttfq5ywt3bncng59.gif" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--h4xvkYCD--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/tbk3ttfq5ywt3bncng59.gif" alt="Exploring the Docker Extension for VS Code and .NET Core"></a></p><p>All of these tasks we can accomplish without leaving Visual Studio Code. There are a bunch of great extensions for developing whatever language or stack you like. For .NET Core, Azure and Docker development the following are some of my favorites.</p><h3><a name="challenge" href="#challenge" class="anchor"></a>
  Challenge
</h3><p>There is a challenge here for you...go download the extension. Build something, publish it and let me know. I want to hear the feedback on the extension and experience.</p></div></section></article></div></div></div></div></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
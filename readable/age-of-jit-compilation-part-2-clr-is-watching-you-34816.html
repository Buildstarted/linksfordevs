<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Age of JIT Compilation. Part 2. CLR is Watching You - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Age of JIT Compilation. Part 2. CLR is Watching You - linksfor.dev(s)"/>
    <meta property="og:description" content="This article describes method dispatch of interfaces and generics, as well as debugging release-mode assemblies with optimization"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://codingsight.com/age-of-jit-compilation-part-2-clr-is-watching-you/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Age of JIT Compilation. Part 2. CLR is Watching You</title>
<div class="readable">
        <h1>Age of JIT Compilation. Part 2. CLR is Watching You</h1>
            <div>Reading time: 15-19 minutes</div>
        <div>Posted here: 30 Aug 2019</div>
        <p><a href="https://codingsight.com/age-of-jit-compilation-part-2-clr-is-watching-you/">https://codingsight.com/age-of-jit-compilation-part-2-clr-is-watching-you/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
			<p>In my <a href="https://codingsight.com/age-of-jit-compilation-part-i-genesis/" target="_blank" rel="noopener noreferrer">previous publication</a>, we have started analyzing JIT compilation. Today we are going to explore method dispatch of interfaces and generics (both for classes and separate methods along with real signatures), as well as how to debug release-mode assemblies with optimization. In addition, we’ll figure out the true purpose of System.__Canon.</p>

<h3>Environment configuration</h3>
<p>At first, we need to set up Visual Studio for debugging release-mode assemblies.</p>
<p>We are going to use VS 2013. Thus, I recommend doing the following:</p>
<ol>
<li>enable a compatibility mode to use SOS.dll.<br>
<b>Tools -&gt; Options -&gt; Debugging -&gt; General</b><br>
<a href="https://codingsight.com/wp-content/uploads/2017/04/2-1.png"><img src="https://codingsight.com/wp-content/uploads/2017/04/2-1.png" alt="" width="758" height="441"></a></li>
<li>uncheck Suppress JIT optimization on module load and Enable Just My Code.</li>
<li>Enable Native Debugging<br>
<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e4a196311dd2563183683" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>Project </span><span>Settings</span><span> </span><span>-&gt;</span><span> </span><span>Debug</span><span> </span><span>-&gt;</span><span> </span><span>Enable </span><span>native </span><span>code </span><span>debugging</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0012 seconds] -->

</li>
</ol>
<p>Now, we can move on to our analysis.</p>
<h2>Interface dispatch stubs (Virtual Stub Dispatch)</h2>
<p>CLR is constantly monitoring the whole code, especially interfaces. In addition, it has several strategies for updating method’s native code.</p>
<p>This feature appeared in CLR 2.0 in 2006. Since then it remained the same in many ways with new heuristics addition.</p>
<p>Consider the following example:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e4a196311ddc034121223" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p><p>34</p><p>35</p><p>36</p><p>37</p><p>38</p><p>39</p><p>40</p><p>41</p></div>
				</td>
						<td><div><p><span>class</span><span> </span><span>Program</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>static</span><span> </span><span>void</span><span> </span><span>Main</span><span>(</span><span>string</span><span>[</span><span>]</span><span> </span><span>args</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ICallable </span><span>target</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>FirstCallableImpl</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>CallInterface</span><span>(</span><span>target</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>ICallable </span><span>target2</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>SecondCallableImpl</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>CallInterface</span><span>(</span><span>target2</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>[</span><span>MethodImpl</span><span>(</span><span>MethodImplOptions</span><span>.</span><span>NoInlining</span><span>)</span><span>]</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>private</span><span> </span><span>static</span><span> </span><span>void</span><span> </span><span>CallInterface</span><span>(</span><span>ICallable </span><span>callable</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>for</span><span> </span><span>(</span><span>int</span><span> </span><span>i</span><span> </span><span>=</span><span> </span><span>0</span><span>;</span><span> </span><span>i</span><span> </span><span>&lt;</span><span> </span><span>1000000</span><span>;</span><span> </span><span>i</span><span>++</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>callable</span><span>.</span><span>DoSomething</span><span>(</span><span>)</span><span>;</span><span> </span><span>// place breakpoint</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>}</span></p><p><span>interface</span><span> </span><span>ICallable</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>void</span><span> </span><span>DoSomething</span><span>(</span><span>)</span><span>;</span></p><p><span>}</span></p><p><span>class</span><span> </span><span>FirstCallableImpl</span><span> </span><span>:</span><span> </span><span>ICallable</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>public</span><span> </span><span>void</span><span> </span><span>DoSomething</span><span>(</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>}</span></p><p><span>class</span><span> </span><span>SecondCallableImpl</span><span> </span><span>:</span><span> </span><span>ICallable</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>public</span><span> </span><span>void</span><span> </span><span>DoSomething</span><span>(</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0014 seconds] -->
<p>
Run Debug. Then, open the Disassembly window (Debug -&gt; Windows -&gt; Disassembly).</p>
<p><a href="https://codingsight.com/wp-content/uploads/2017/04/3-1.png"><img src="https://codingsight.com/wp-content/uploads/2017/04/3-1.png" alt="" width="609" height="407"></a></p>
<p>Take a look at the call <em>dword ptr ds:[00450010h]instruction</em>.</p>
<p>To find out a value by the 0x00450010 address, open the Memory window (Debug -&gt; Windows-&gt; Memory-&gt; Memory1).</p>
<p><a href="https://codingsight.com/wp-content/uploads/2017/04/4-1.png"><img src="https://codingsight.com/wp-content/uploads/2017/04/4-1.png" alt="" width="580" height="407"></a></p>
<p>At this stage, JIT has not created a required call node yet. Thus, the environment interprets a call of the interface method. It means that we can see a linear search of the required method at the runtime.</p>
<p>However, let’s run this code twice. After that, we will see that the value of the <u>0x0450010</u> address has been changed:</p>
<p><a href="https://codingsight.com/wp-content/uploads/2017/04/5-1.png"><img src="https://codingsight.com/wp-content/uploads/2017/04/5-1.png" alt="" width="580" height="407"></a></p>
<p>To check the 00457012 value, load SOS.dll:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e4a196311ddf511309648" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>Immediate </span><span>window</span><span> </span><span>-&gt;</span><span> </span><span>.</span><span>load </span><span>sos</span></p><p><span>!</span><span>u</span><span> </span><span>00457012</span></p><p><span>Unmanaged </span><span>code</span></p><p><span>00457012</span><span> </span><span>813908314400</span><span>&nbsp;&nbsp;&nbsp;&nbsp; </span><span>cmp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>dword </span><span>ptr</span><span> </span><span>[</span><span>ecx</span><span>]</span><span>,</span><span>443108h</span></p><p><span>00457018</span><span> </span><span>0F85F32F0000</span><span>&nbsp;&nbsp;&nbsp;&nbsp; </span><span>jne</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>0045A011</span></p><p><span>0045701E</span><span> </span><span>E9BD901D00&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>jmp</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>006300E0</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>
The jmp 006300E0 instruction is a call to the required interface method. You can check it using this code:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e4a196311de2131836737" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>!</span><span>u</span><span> </span><span>006300E0</span></p><p><span>Normal </span><span>JIT </span><span>generated </span><span>code</span></p><p><span>ConsoleApplication1</span><span>.</span><span>FirstCallableImpl</span><span>.</span><span>DoSomething</span><span>(</span><span>)</span></p><p><span>Begin</span><span> </span><span>006300e0</span><span>,</span><span> </span><span>size</span><span> </span><span>1</span></p><p><span>&gt;&gt;&gt;</span><span> </span><span>006300E0</span><span> </span><span>C3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>ret</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p>
Well… Let’s figure out what the cmp dword ptr [ecx],443108h&nbsp;instruction compares.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e4a196311de4078018900" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>!</span><span>DumpMT</span><span> </span><span>443108</span></p><p><span>EEClass</span><span>:</span><span> </span><span>00441378</span></p><p><span>Module</span><span>:</span><span> </span><span>00442c5c</span></p><p><span>Name</span><span>:</span><span> </span><span>ConsoleApplication1</span><span>.</span><span>FirstCallableImpl</span></p><p><span>mdToken</span><span>:</span><span> </span><span>02000004</span><span>&nbsp;&nbsp;</span><span>(</span><span>C</span><span>:</span><span>\</span><span>*</span><span>path </span><span>to </span><span>project</span><span>*</span><span>\</span><span>InterfaceStubsTest</span><span>.</span><span>exe</span><span>)</span></p><p><span>BaseSize</span><span>:</span><span> </span><span>0xc</span></p><p><span>ComponentSize</span><span>:</span><span> </span><span>0x0</span></p><p><span>Number </span><span>of </span><span>IFaces </span><span>in</span><span> </span><span>IFaceMap</span><span>:</span><span> </span><span>1</span></p><p><span>Slots </span><span>in</span><span> </span><span>VTable</span><span>:</span><span> </span><span>6</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>
Compare <strong>this </strong>to the <em>FirstCallableImpl </em>type (i.e. MethodTable). If it is <strong>true, </strong>call the <em>FirstCallableImpl.DoSomething</em>() method.</p>
<p>The jne 0045A011 instruction is fallback&nbsp;to a linear search (as it has been before caching).</p>
<p>When it comes to calling the next type – SecondCallableImpl, it will still be checked in the call-site exactly FirstCallableImpl, rather than SecondCallableImpl.</p>
<p>Still, it is not effective! Thus, after several iterations of code invocations, the environment will exchange the node with cache for a linear search.</p>
<p>Thus, caching is quite effective when we call methods of collections, for example.</p>
<h2>Generic type stubs</h2>
<p>The release of CLR 2.0 along with generics led to important changes in the runtime environment. Before we needed only the <strong>EEClass </strong>structure to describe a particular type. Now, we need binding <strong>EEClass+MethodTable.</strong></p>
<p>Moreover, List&lt;string&gt; and List&lt;int&gt; will have different EEClass.</p>
<p>Consider an example:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e4a196311de6340796872" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p></div>
				</td>
						<td><div><p><span>class</span><span> </span><span>Program</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>static</span><span> </span><span>void</span><span> </span><span>Main</span><span>(</span><span>string</span><span>[</span><span>]</span><span> </span><span>args</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>var</span><span> </span><span>refTypeHolder</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>HolderOf</span><span>&lt;</span><span>object</span><span>&gt;</span><span>(</span><span>null</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>var</span><span> </span><span>intTypeHolder</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>HolderOf</span><span>&lt;</span><span>int</span><span>&gt;</span><span>(</span><span>0</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// call JIT</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>refTypeHolder</span><span>.</span><span>GetPointer</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>intTypeHolder</span><span>.</span><span>GetPointer</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Console</span><span>.</span><span>Read</span><span>(</span><span>)</span><span>;</span><span> </span><span>// place breakpoint</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>}</span></p><p><span>class</span><span> </span><span>HolderOf</span><span>&lt;</span><span>T</span><span>&gt;</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>private</span><span> </span><span>readonly</span><span> </span><span>T</span><span> </span><span>_pointer</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>public</span><span> </span><span>HolderOf</span><span>(</span><span>T</span><span> </span><span>pointer</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>_pointer</span><span> </span><span>=</span><span> </span><span>pointer</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>public</span><span> </span><span>T</span><span> </span><span>GetPointer</span><span>(</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>_pointer</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p>
To check it, we will use the !dumpheap command:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e4a196311de8732285770" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>.</span><span>load </span><span>sos</span><span>.</span><span>dll</span></p><p><span>!</span><span>dumpheap</span><span> </span><span>-</span><span>type </span><span>HolderOf</span></p><p><span>PDB </span><span>symbol </span><span>for</span><span> </span><span>mscorwks</span><span>.</span><span>dll </span><span>not </span><span>loaded</span></p><p><span> </span><span>Address&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>MT&nbsp;&nbsp;&nbsp;&nbsp; </span><span>Size</span></p><p><span>02d332c8</span><span> </span><span>00f531e0</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>12</span><span>&nbsp;&nbsp;&nbsp;&nbsp; </span></p><p><span>02d332d4</span><span> </span><span>00f53268</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>12</span><span>&nbsp;&nbsp;&nbsp;&nbsp; </span></p><p><span>total</span><span> </span><span>2</span><span> </span><span>objects</span></p><p><span>Statistics</span><span>:</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>MT&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Count&nbsp;&nbsp;&nbsp;&nbsp;</span><span>TotalSize </span><span>Class</span><span> </span><span>Name</span></p><p><span>00f53268</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>1</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>12</span><span> </span><span>ConsoleApplication1</span><span>.</span><span>HolderOf</span><span>`</span><span>1</span><span>[</span><span>[</span><span>System</span><span>.</span><span>Int32</span><span>,</span><span> </span><span>mscorlib</span><span>]</span><span>]</span></p><p><span>00f531e0</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>1</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>12</span><span> </span><span>ConsoleApplication1</span><span>.</span><span>HolderOf</span><span>`</span><span>1</span><span>[</span><span>[</span><span>System</span><span>.</span><span>Object</span><span>,</span><span> </span><span>mscorlib</span><span>]</span><span>]</span></p><p><span>Total</span><span> </span><span>2</span><span> </span><span>objects</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p>
As you can see, the environment has created two different specializations of the HolderOf&lt;T&gt; class:</p>
<p>!dumpmt -md 00f53268 (HolderOf&lt;int&gt;)</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e4a196311dea796072511" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p></div>
				</td>
						<td><div><p><span>)</span>"<span> </span><span>&gt;</span><span>!</span><span>dumpmt</span><span> </span><span>-</span><span>md</span><span> </span><span>00f53268</span></p><p><span>EEClass</span><span>:</span><span> </span><span>00f514cc</span></p><p><span>Module</span><span>:</span><span> </span><span>00f52c5c</span></p><p><span>Name</span><span>:</span><span> </span><span>ConsoleApplication1</span><span>.</span><span>HolderOf</span><span>`</span><span>1</span><span>[</span><span>[</span><span>System</span><span>.</span><span>Int32</span><span>,</span><span> </span><span>mscorlib</span><span>]</span><span>]</span></p><p><span>mdToken</span><span>:</span><span> </span><span>02000006</span><span>&nbsp;&nbsp;</span><span>(</span><span>C</span><span>:</span><span>\</span><span>*</span><span>path </span><span>to </span><span>samples</span><span>*</span><span>\</span><span>InterfaceStubsTest</span><span>.</span><span>exe</span><span>)</span></p><p><span>BaseSize</span><span>:</span><span> </span><span>0xc</span></p><p><span>ComponentSize</span><span>:</span><span> </span><span>0x0</span></p><p><span>Number </span><span>of </span><span>IFaces </span><span>in</span><span> </span><span>IFaceMap</span><span>:</span><span> </span><span>0</span></p><p><span>Slots </span><span>in</span><span> </span><span>VTable</span><span>:</span><span> </span><span>6</span></p><p><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span></p><p><span>MethodDesc </span><span>Table</span></p><p><span>&nbsp;&nbsp; </span><span>Entry </span><span>MethodDesc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>JIT </span><span>Name</span></p><p><span>66ae6a30</span><span>&nbsp;&nbsp; </span><span>66964968</span><span>&nbsp;&nbsp; </span><span>PreJIT </span><span>System</span><span>.</span><span>Object</span><span>.</span><span>ToString</span><span>(</span><span>)</span></p><p><span>66ae6a50</span><span>&nbsp;&nbsp; </span><span>66964970</span><span>&nbsp;&nbsp; </span><span>PreJIT </span><span>System</span><span>.</span><span>Object</span><span>.</span><span>Equals</span><span>(</span><span>System</span><span>.</span><span>Object</span><span>)</span></p><p><span>66ae6ac0</span><span>&nbsp;&nbsp; </span><span>669649a0</span><span>&nbsp;&nbsp; </span><span>PreJIT </span><span>System</span><span>.</span><span>Object</span><span>.</span><span>GetHashCode</span><span>(</span><span>)</span></p><p><span>66b57940</span><span>&nbsp;&nbsp; </span><span>669649c4</span><span>&nbsp;&nbsp; </span><span>PreJIT </span><span>System</span><span>.</span><span>Object</span><span>.</span><span>Finalize</span><span>(</span><span>)</span></p><p><span>00f5c088</span><span>&nbsp;&nbsp; </span><span>00f53250</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>JIT </span><span>ConsoleApplication1</span><span>.</span><span>HolderOf</span><span>`</span><span>1</span><span>[</span><span>[</span><span>System</span><span>.</span><span>Int32</span><span>,</span><span> </span><span>mscorlib</span><span>]</span><span>]</span><span>.</span><span>.</span><span>ctor</span><span>(</span><span>Int32</span><span>)</span></p><p><span>00f5c090</span><span>&nbsp;&nbsp; </span><span>00f5325c</span><span>&nbsp;&nbsp;&nbsp;&nbsp; </span><span>NONE </span><span>ConsoleApplication1</span><span>.</span><span>HolderOf</span><span>`</span><span>1</span><span>[</span><span>[</span><span>System</span><span>.</span><span>Int32</span><span>,</span><span> </span><span>mscorlib</span><span>]</span><span>]</span><span>.</span><span>GetPointer</span><span>(</span><span>)</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0017 seconds] -->
<p>
!dumpmt -md 00f531e0 (HolderOf&lt;object&gt;)</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e4a196311dec707197530" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p></div>
				</td>
						<td><div><p><span>!</span><span>dumpmt</span><span> </span><span>-</span><span>md</span><span> </span><span>00f531e0</span></p><p><span>EEClass</span><span>:</span><span> </span><span>00f51438</span></p><p><span>Module</span><span>:</span><span> </span><span>00f52c5c</span></p><p><span>Name</span><span>:</span><span> </span><span>ConsoleApplication1</span><span>.</span><span>HolderOf</span><span>`</span><span>1</span><span>[</span><span>[</span><span>System</span><span>.</span><span>Object</span><span>,</span><span> </span><span>mscorlib</span><span>]</span><span>]</span></p><p><span>mdToken</span><span>:</span><span> </span><span>02000006</span><span>&nbsp;&nbsp;</span><span>(</span><span>C</span><span>:</span><span>\</span><span>*</span><span>path </span><span>to </span><span>samples</span><span>*</span><span>\</span><span>InterfaceStubsTest</span><span>.</span><span>exe</span><span>)</span></p><p><span>BaseSize</span><span>:</span><span> </span><span>0xc</span></p><p><span>ComponentSize</span><span>:</span><span> </span><span>0x0</span></p><p><span>Number </span><span>of </span><span>IFaces </span><span>in</span><span> </span><span>IFaceMap</span><span>:</span><span> </span><span>0</span></p><p><span>Slots </span><span>in</span><span> </span><span>VTable</span><span>:</span><span> </span><span>6</span></p><p><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span><span>--</span></p><p><span>MethodDesc </span><span>Table</span></p><p><span>&nbsp;&nbsp; </span><span>Entry </span><span>MethodDesc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>JIT </span><span>Name</span></p><p><span>66ae6a30</span><span>&nbsp;&nbsp; </span><span>66964968</span><span>&nbsp;&nbsp; </span><span>PreJIT </span><span>System</span><span>.</span><span>Object</span><span>.</span><span>ToString</span><span>(</span><span>)</span></p><p><span>66ae6a50</span><span>&nbsp;&nbsp; </span><span>66964970</span><span>&nbsp;&nbsp; </span><span>PreJIT </span><span>System</span><span>.</span><span>Object</span><span>.</span><span>Equals</span><span>(</span><span>System</span><span>.</span><span>Object</span><span>)</span></p><p><span>66ae6ac0</span><span>&nbsp;&nbsp; </span><span>669649a0</span><span>&nbsp;&nbsp; </span><span>PreJIT </span><span>System</span><span>.</span><span>Object</span><span>.</span><span>GetHashCode</span><span>(</span><span>)</span></p><p><span>66b57940</span><span>&nbsp;&nbsp; </span><span>669649c4</span><span>&nbsp;&nbsp; </span><span>PreJIT </span><span>System</span><span>.</span><span>Object</span><span>.</span><span>Finalize</span><span>(</span><span>)</span></p><p><span>00f5c068</span><span>&nbsp;&nbsp; </span><span>00f53154</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>JIT </span><span>ConsoleApplication1</span><span>.</span><span>HolderOf</span><span>`</span><span>1</span><span>[</span><span>[</span><span>System</span><span>.</span><span>__Canon</span><span>,</span><span> </span><span>mscorlib</span><span>]</span><span>]</span><span>.</span><span>.</span><span>ctor</span><span>(</span><span>System</span><span>.</span><span>__Canon</span><span>)</span></p><p><span>00f5c070</span><span>&nbsp;&nbsp; </span><span>00f53160</span><span>&nbsp;&nbsp;&nbsp;&nbsp; </span><span>NONE </span><span>ConsoleApplication1</span><span>.</span><span>HolderOf</span><span>`</span><span>1</span><span>[</span><span>[</span><span>System</span><span>.</span><span>__Canon</span><span>,</span><span> </span><span>mscorlib</span><span>]</span><span>]</span><span>.</span><span>GetPointer</span><span>(</span><span>)</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0016 seconds] -->
<p>
In the above-mentioned dump, we are interested in <strong>HolderOf&lt;T&gt;.GetPointer(). </strong>Consider:</p>
<p>!dumpmd 00f5325c (HolderOf&lt;int&gt;.GetPointer())</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e4a196311dee316970937" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>!</span><span>dumpmd</span><span> </span><span>00f5325c</span></p><p><span>Method </span><span>Name</span><span>:</span><span> </span><span>ConsoleApplication1</span><span>.</span><span>HolderOf</span><span>`</span><span>1</span><span>[</span><span>[</span><span>System</span><span>.</span><span>Int32</span><span>,</span><span> </span><span>mscorlib</span><span>]</span><span>]</span><span>.</span><span>GetPointer</span><span>(</span><span>)</span></p><p><span>Class</span><span>:</span><span> </span><span>00f514cc</span></p><p><span>MethodTable</span><span>:</span><span> </span><span>00f53268</span></p><p><span>mdToken</span><span>:</span><span> </span><span>0600000b</span></p><p><span>Module</span><span>:</span><span> </span><span>00f52c5c</span></p><p><span>IsJitted</span><span>:</span><span> </span><span>yes</span></p><p><span>CodeAddr</span><span>:</span><span> </span><span>01090318</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>
!dumpmd 00f53160 (HolderOf&lt;object&gt;.GetPointer())</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e4a196311df0682318949" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>!</span><span>dumpmd</span><span> </span><span>00f53160</span></p><p><span>Method </span><span>Name</span><span>:</span><span> </span><span>ConsoleApplication1</span><span>.</span><span>HolderOf</span><span>`</span><span>1</span><span>[</span><span>[</span><span>System</span><span>.</span><span>__Canon</span><span>,</span><span> </span><span>mscorlib</span><span>]</span><span>]</span><span>.</span><span>GetPointer</span><span>(</span><span>)</span></p><p><span>Class</span><span>:</span><span> </span><span>00f51438</span></p><p><span>MethodTable</span><span>:</span><span> </span><span>00f53178</span></p><p><span>mdToken</span><span>:</span><span> </span><span>0600000b</span></p><p><span>Module</span><span>:</span><span> </span><span>00f52c5c</span></p><p><span>IsJitted</span><span>:</span><span> </span><span>yes</span></p><p><span>CodeAddr</span><span>:</span><span> </span><span>010902b8</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->

<p><a href="https://codingsight.com/wp-content/uploads/2017/04/7-1.png"><img src="https://codingsight.com/wp-content/uploads/2017/04/7-1.png" alt="" width="777" height="107" srcset="https://codingsight.com/wp-content/uploads/2017/04/7-1.png 777w, https://codingsight.com/wp-content/uploads/2017/04/7-1-300x41.png 300w, https://codingsight.com/wp-content/uploads/2017/04/7-1-768x106.png 768w" sizes="(max-width: 777px) 100vw, 777px"></a></p>
<p>Thus, we can see that both Methodtable and a native code (CodeAddr) differ.</p>
<p>Please notice that there is no <strong>System.Object </strong>for Holderof&lt;object&gt;. Instead, we have <strong>System.__Canon</strong></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e4a196311df2634495247" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>[</span><span>Serializable</span><span>(</span><span>)</span><span>]</span></p><p><span>[</span><span>ClassInterface</span><span>(</span><span>ClassInterfaceType</span><span>.</span><span>AutoDual</span><span>)</span><span>]</span></p><p><span>[</span><span>ComVisible</span><span>(</span><span>true</span><span>)</span><span>]</span></p><p><span>internal</span><span> </span><span>class</span><span> </span><span>__Canon</span></p><p><span>{</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>
In short, it is usually considered that for reference types, the environment uses the System.__Canon type code sharing. But that’s not the point. Really.</p>
<p>The fact is that generic types may contain circular dependencies to other types which may lead to creating unlimited specializations of the code. For example:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e4a196311dff859980736" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p></div>
				</td>
						<td><div><p><span>class</span><span> </span><span>GenericClassOne</span><span>&lt;</span><span>T</span><span>&gt;</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>private</span><span> </span><span>T</span><span> </span><span>field</span><span>;</span></p><p><span>}</span></p><p><span>class</span><span> </span><span>GenericClassTwo</span><span>&lt;</span><span>U</span><span>&gt;</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>private</span><span> </span><span>GenericClassThree</span><span>&lt;</span><span>GenericClassOne</span><span>&lt;</span><span>U</span><span>&gt;&gt;</span><span> </span><span>field</span></p><p><span>}</span></p><p><span>class</span><span> </span><span>GenericClassThree</span><span>&lt;</span><span>S</span><span>&gt;</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>private</span><span> </span><span>GenericClassTwo</span><span>&lt;</span><span>GenericClassOne</span><span>&lt;</span><span>S</span><span>&gt;&gt;</span><span> </span><span>field</span></p><p><span>}</span></p><p><span>class</span><span> </span><span>Program</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>static</span><span> </span><span>void</span><span> </span><span>Main</span><span>(</span><span>string</span><span>[</span><span>]</span><span> </span><span>args</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>(</span><span>new</span><span> </span><span>GenericClassTwo</span><span>&lt;</span><span>object</span><span>&gt;</span><span>(</span><span>)</span><span>)</span><span>.</span><span>ToString</span><span>(</span><span>)</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Console</span><span>.</span><span>Read</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p>
However, this code won’t fail, but rather output <strong>GenericClassTwo`1[System.Object]</strong>.</p>
<p>So, what about dependencies?</p>
<p><strong>Type loader </strong>scans each generic type to find circular dependencies and assigns the order of priority – LoadLevel for a class. Though System.__Canon serves as a type argument for all specializations for reference types, it is a consequence, rather than a cause.</p>
<p>ClassLoadLevels:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e4a196311e02783664176" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>enum</span><span> </span><span>ClassLoadLevel</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>CLASS_LOAD_BEGIN</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>CLASS_LOAD_UNRESTOREDTYPEKEY</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>CLASS_LOAD_UNRESTORED</span><span>,</span><span>&nbsp;&nbsp;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>CLASS_LOAD_APPROXPARENTS</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>CLASS_LOAD_EXACTPARENTS</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>CLASS_DEPENDENCIES_LOADED</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>CLASS_LOADED</span><span>,</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>CLASS_LOAD_LEVEL_FINAL</span><span> </span><span>=</span><span> </span><span>CLASS_LOADED</span><span>,</span></p><p><span>}</span><span>;</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p>
For SSLCI (Rotor), The code responsible for scanning is in the file sscli20/clr/src/vm/Generics.cpp.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e4a196311e04591596923" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p><p>34</p><p>35</p><p>36</p><p>37</p><p>38</p><p>39</p><p>40</p><p>41</p><p>42</p><p>43</p><p>44</p><p>45</p><p>46</p><p>47</p><p>48</p><p>49</p><p>50</p><p>51</p><p>52</p><p>53</p><p>54</p><p>55</p><p>56</p><p>57</p><p>58</p><p>59</p><p>60</p></div>
				</td>
						<td><div><p><span>BOOL</span><span> </span><span>Generics</span><span>::</span><span>CheckInstantiationForRecursion</span><span>(</span><span>const</span><span> </span><span>unsigned </span><span>int</span><span> </span><span>nGenericClassArgs</span><span>,</span><span> </span><span>const</span><span> </span><span>TypeHandle </span><span>pGenericArgs</span><span>[</span><span>]</span><span>)</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>CONTRACTL</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>NOTHROW</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>GC_NOTRIGGER</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>CONTRACTL_END</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>if</span><span> </span><span>(</span><span>nGenericClassArgs</span><span> </span><span>==</span><span> </span><span>0</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>TRUE</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>_ASSERTE</span><span>(</span><span>pGenericArgs</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>struct</span><span> </span><span>PerIterationData</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>const</span><span> </span><span>TypeHandle</span><span> </span><span>*</span><span> </span><span>genArgs</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>int</span><span> </span><span>index</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>int</span><span> </span><span>numGenArgs</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>PerIterationData </span><span>stack</span><span>[</span><span>MAX_GENERIC_INSTANTIATION_DEPTH</span><span>]</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>stack</span><span>[</span><span>0</span><span>]</span><span>.</span><span>genArgs</span><span> </span><span>=</span><span> </span><span>pGenericArgs</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>stack</span><span>[</span><span>0</span><span>]</span><span>.</span><span>numGenArgs</span><span> </span><span>=</span><span> </span><span>nGenericClassArgs</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>stack</span><span>[</span><span>0</span><span>]</span><span>.</span><span>index</span><span> </span><span>=</span><span> </span><span>0</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>int</span><span> </span><span>curDepth</span><span> </span><span>=</span><span> </span><span>0</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// Walk over each instantiation, doing a depth-first search looking for any</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// instantiation with a depth of over 100, in an attempt at flagging </span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// recursive type definitions.&nbsp;&nbsp;We're doing this to help avoid a stack </span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// overflow in the loader.&nbsp;&nbsp;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// Avoid recursion here, to avoid a stack overflow.&nbsp;&nbsp;Also, this code</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// doesn't allocate memory.</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>while</span><span>(</span><span>curDepth</span><span> </span><span>&gt;=</span><span> </span><span>0</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>PerIterationData</span><span> </span><span>*</span><span> </span><span>cur</span><span> </span><span>=</span><span> </span><span>&amp;</span><span>stack</span><span>[</span><span>curDepth</span><span>]</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>if</span><span> </span><span>(</span><span>cur</span><span>-&gt;</span><span>index</span><span> </span><span>==</span><span> </span><span>cur</span><span>-&gt;</span><span>numGenArgs</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// Pop</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>curDepth</span><span>--</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>if</span><span> </span><span>(</span><span>curDepth</span><span> </span><span>&gt;=</span><span> </span><span>0</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>stack</span><span>[</span><span>curDepth</span><span>]</span><span>.</span><span>index</span><span>++</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>continue</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>if</span><span> </span><span>(</span><span>cur</span><span>-&gt;</span><span>genArgs</span><span>[</span><span>cur</span><span>-&gt;</span><span>index</span><span>]</span><span>.</span><span>HasInstantiation</span><span>(</span><span>)</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// Push</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>curDepth</span><span>++</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>if</span><span> </span><span>(</span><span>curDepth</span><span> </span><span>&gt;=</span><span> </span><span>MAX_GENERIC_INSTANTIATION_DEPTH</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>FALSE</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>stack</span><span>[</span><span>curDepth</span><span>]</span><span>.</span><span>genArgs</span><span> </span><span>=</span><span> </span><span>cur</span><span>-&gt;</span><span>genArgs</span><span>[</span><span>cur</span><span>-&gt;</span><span>index</span><span>]</span><span>.</span><span>GetInstantiation</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>stack</span><span>[</span><span>curDepth</span><span>]</span><span>.</span><span>numGenArgs</span><span> </span><span>=</span><span> </span><span>cur</span><span>-&gt;</span><span>genArgs</span><span>[</span><span>cur</span><span>-&gt;</span><span>index</span><span>]</span><span>.</span><span>GetNumGenericArgs</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>stack</span><span>[</span><span>curDepth</span><span>]</span><span>.</span><span>index</span><span> </span><span>=</span><span> </span><span>0</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>continue</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>// Continue to the next item</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>cur</span><span>-&gt;</span><span>index</span><span>++</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>TRUE</span><span>;</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0028 seconds] -->
<p>
For CoreCLR, a <a href="https://github.com/dotnet/coreclr/blob/master/src/vm/generics.cpp" target="_blank" rel="noopener noreferrer nofollow">code</a> has been changed towards ООP.</p>
<p>Thus, reference types have code sharing, while value types don’t. Why? After all, if it comes down to the size of the type (ref is the word size, In32 is 4 bytes, double is 8 bytes, etc.), then we can share DateTime’ and long’ specialization.</p>
<p>First, it is incorrect from the point of semantics. Second, the developers of CLR decided not to do this.</p>
<h2>Generic method stubs</h2>
<p>We have analyzed the code specialization for generic types. But how to find single methods outside the class.</p>
<p>Consider an example:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e4a196311e07981185745" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p><p>34</p><p>35</p><p>36</p><p>37</p><p>38</p></div>
				</td>
						<td><div><p><span>class</span><span> </span><span>Program</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>static</span><span> </span><span>void</span><span> </span><span>Main</span><span>(</span><span>string</span><span>[</span><span>]</span><span> </span><span>args</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>var</span><span> </span><span>refTypeHolder</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>HolderOf</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Test</span><span>(</span><span>refTypeHolder</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Test2</span><span>(</span><span>refTypeHolder</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Console</span><span>.</span><span>Read</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>[</span><span>MethodImpl</span><span>(</span><span>MethodImplOptions</span><span>.</span><span>NoInlining</span><span>)</span><span>]</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>static</span><span> </span><span>void</span><span> </span><span>Test</span><span>(</span><span>HolderOf </span><span>typeHolder</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>for</span><span> </span><span>(</span><span>int</span><span> </span><span>i</span><span> </span><span>=</span><span> </span><span>0</span><span>;</span><span> </span><span>i</span><span> </span><span>&lt;</span><span> </span><span>10</span><span>;</span><span> </span><span>i</span><span>++</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>typeHolder</span><span>.</span><span>GetPointer</span><span>&lt;</span><span>Program</span><span>&gt;</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span> </span><span>// place breakpoint</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>[</span><span>MethodImpl</span><span>(</span><span>MethodImplOptions</span><span>.</span><span>NoInlining</span><span>)</span><span>]</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>static</span><span> </span><span>void</span><span> </span><span>Test2</span><span>(</span><span>HolderOf </span><span>typeHolder</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>for</span><span> </span><span>(</span><span>int</span><span> </span><span>i</span><span> </span><span>=</span><span> </span><span>0</span><span>;</span><span> </span><span>i</span><span> </span><span>&lt;</span><span> </span><span>10</span><span>;</span><span> </span><span>i</span><span>++</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>typeHolder</span><span>.</span><span>GetPointer</span><span>&lt;</span><span>object</span><span>&gt;</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span> </span><span>// place breakpoint</span></p><p><span>}</span></p><p><span>class</span><span> </span><span>HolderOf</span></p><p><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>[</span><span>MethodImpl</span><span>(</span><span>MethodImplOptions</span><span>.</span><span>NoInlining</span><span>)</span><span>]</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>public</span><span> </span><span>void</span><span> </span><span>GetPointer</span><span>&lt;</span><span>T</span><span>&gt;</span><span>(</span><span>)</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>typeof</span><span>(</span><span>T</span><span>)</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0017 seconds] -->
<p>
At the breakpoint in the Disassembly window, you can see the following assembly code for method Test():</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e4a196311e0d239227973" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>00000045</span><span>&nbsp;&nbsp;</span><span>mov&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>ecx</span><span>,</span><span>dword </span><span>ptr</span><span> </span><span>[</span><span>ebp</span><span>-</span><span>3Ch</span><span>]</span><span> </span></p><p><span>00000048</span><span>&nbsp;&nbsp;</span><span>mov&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>edx</span><span>,</span><span>10031B8h</span><span> </span></p><p><span>0000004d</span><span>&nbsp;&nbsp;</span><span>cmp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>dword </span><span>ptr</span><span> </span><span>[</span><span>ecx</span><span>]</span><span>,</span><span>ecx</span><span> </span></p><p><span>0000004f</span><span>&nbsp;&nbsp;</span><span>call&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>FFE8BF40</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>
As for Test2(), consider the following:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e4a196311e10851660603" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>00000045</span><span>&nbsp;&nbsp;</span><span>mov&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>ecx</span><span>,</span><span>dword </span><span>ptr</span><span> </span><span>[</span><span>ebp</span><span>-</span><span>3Ch</span><span>]</span><span> </span></p><p><span>00000048</span><span>&nbsp;&nbsp;</span><span>mov&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>edx</span><span>,</span><span>1003574h</span><span> </span></p><p><span>0000004d</span><span>&nbsp;&nbsp;</span><span>cmp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>dword </span><span>ptr</span><span> </span><span>[</span><span>ecx</span><span>]</span><span>,</span><span>ecx</span><span> </span></p><p><span>0000004f</span><span>&nbsp;&nbsp;</span><span>call&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>FFE8BE40</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>
The <strong>ECX</strong>&nbsp;register contains a pointer to <strong>this </strong>(calling convention — FastCall). However, GetPointer() has no arguments. In this case, what is written into <strong>EDX</strong>?</p>
<p>Let’s check:</p>
<p>!dumpmd 10031B8 (from Test())</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e4a196311e12600411887" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>!</span><span>dumpmd</span><span> </span><span>10031B8</span></p><p><span>Method </span><span>Name</span><span>:</span><span> </span><span>ConsoleApplication1</span><span>.</span><span>HolderOf</span><span>.</span><span>GetPointer</span><span>[</span><span>[</span><span>ConsoleApplication1</span><span>.</span><span>Program</span><span>,</span><span> </span><span>InterfaceStubsTest</span><span>]</span><span>]</span><span>(</span><span>)</span></p><p><span>Class</span><span>:</span><span> </span><span>01001444</span></p><p><span>MethodTable</span><span>:</span><span> </span><span>01003118</span></p><p><span>mdToken</span><span>:</span><span> </span><span>0600000e</span></p><p><span>Module</span><span>:</span><span> </span><span>01002c5c</span></p><p><span>IsJitted</span><span>:</span><span> </span><span>no</span></p><p><span>CodeAddr</span><span>:</span><span> </span><span>ffffffffffffffff</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>
!dumpmd 1003574 (from Test2())</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5e4a196311e18988432054" data-settings=" minimize scroll-mouseover">
		
			
			
			
			<div>
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>!</span><span>dumpmd</span><span> </span><span>1003574</span></p><p><span>Method </span><span>Name</span><span>:</span><span> </span><span>ConsoleApplication1</span><span>.</span><span>HolderOf</span><span>.</span><span>GetPointer</span><span>[</span><span>[</span><span>System</span><span>.</span><span>Object</span><span>,</span><span> </span><span>mscorlib</span><span>]</span><span>]</span><span>(</span><span>)</span></p><p><span>Class</span><span>:</span><span> </span><span>01001444</span></p><p><span>MethodTable</span><span>:</span><span> </span><span>01003118</span></p><p><span>mdToken</span><span>:</span><span> </span><span>0600000e</span></p><p><span>Module</span><span>:</span><span> </span><span>01002c5c</span></p><p><span>IsJitted</span><span>:</span><span> </span><span>no</span></p><p><span>CodeAddr</span><span>:</span><span> </span><span>ffffffffffffffff</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>
Bingo! The&nbsp;<strong>MethodDesc </strong>structure is passed, which contains a pointer to MethodTable (note: both descriptors point to the same MethodTable&nbsp;<u>0x01003118</u>) and serves as a metadata source.</p>
<p>Thus, when calling generic methods, an additional parameter is passed with MethodDesc.</p>
<p>The addresses <u>FFE8BF40</u> and <u>FFE8BE40</u> themselves are the traps that forward the real specialized (for int, object, etc.) native code.</p>
<p>Due to fact that the descriptor itself also stores generic parameters, we gained in the reduction of the number of arguments passed, especially in the case of several generic parameters like Some&lt;T, TU, TResult&gt;(), for example.</p>

                         <div><ul> <li><a href="#abh_about">Author</a></li> <li><a href="#abh_posts">Recent Posts</a></li></ul><div><section><p><a href="https://codingsight.com/author/karlensimonyan/" title="Karlen Simonyan"> <img src="https://codingsight.com/wp-content/uploads/gravatar/ava5_200x200.jpg" width="250" alt="Karlen Simonyan"></a> </p><div><h3><a href="https://codingsight.com/author/karlensimonyan/">Karlen Simonyan</a></h3><p>Karlen is a senior developer at Luxoft. He is engaged in development of distributed applications. Author of atomics.net. Karlen also writes articles about the .NET platform.</p></div> </section><section><p><a href="https://codingsight.com/author/karlensimonyan/" title="Karlen Simonyan"><img src="https://codingsight.com/wp-content/uploads/gravatar/ava5_200x200.jpg" width="250" alt="Karlen Simonyan"></a></p><div><h4>Latest posts by Karlen Simonyan <span>(<a href="https://codingsight.com/author/karlensimonyan/">see all</a>)</span></h4></div> </section></div> </div><!-- AddThis Advanced Settings above via filter on the_content --><!-- AddThis Advanced Settings below via filter on the_content --><!-- AddThis Advanced Settings generic via filter on the_content --><!-- AddThis Share Buttons above via filter on the_content --><!-- AddThis Share Buttons below via filter on the_content --><!-- AddThis Share Buttons generic via filter on the_content -->					</div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
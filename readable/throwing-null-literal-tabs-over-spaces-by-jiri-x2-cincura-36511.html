<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Throwing null literal | tabs &#x21B9; over &#x2423; &#x2423; &#x2423; spaces by Ji&#x159;&#xED; {x2} &#x10C;in&#x10D;ura - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Throwing null literal | tabs &#x21B9; over &#x2423; &#x2423; &#x2423; spaces by Ji&#x159;&#xED; {x2} &#x10C;in&#x10D;ura - linksfor.dev(s)"/>
    <meta property="og:description" content="19 Sep 2019&#xA;&#x9;&#xA;&#x9; C#"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://www.tabsoverspaces.com/233800-throwing-null-literal"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
	<div class="devring" style="background: #222">
		<div class="grid">
			<div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
				<span class="devring-title">devring.club</span>
				<a href="https://devring.club/site/1/previous" class="devring-previous">Previous</a>
				<a href="https://devring.club/random" class="devring-random">Random</a>
				<a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
			</div>
		</div>
	</div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Throwing null literal | tabs &#x21B9; over &#x2423; &#x2423; &#x2423; spaces by Ji&#x159;&#xED; {x2} &#x10C;in&#x10D;ura</title>
<div class="readable">
        <h1>Throwing null literal | tabs &#x21B9; over &#x2423; &#x2423; &#x2423; spaces by Ji&#x159;&#xED; {x2} &#x10C;in&#x10D;ura</h1>
            <div>Reading time: 2-3 minutes</div>
        <div>Posted here: 19 Sep 2019</div>
        <p><a href="https://www.tabsoverspaces.com/233800-throwing-null-literal">https://www.tabsoverspaces.com/233800-throwing-null-literal</a></p>
        <hr/>
<div id="readability-page-1" class="page"><article>
	<h3>Throwing null literal <a href="https://www.tabsoverspaces.com/id/233800" rel="bookmark nofollow" title="Permalink"><span aria-label="Permalink"></span></a></h3>
	<p>
	<span aria-label="Published"></span> 19 Sep 2019
	<span></span>
	<span aria-label="Tags"></span> C#
</p>
<p>“Every” week I discover something new (and I’m not afraid to share it). Today isn’t any different. Apparently, C# compiler is fine with code throwing <code>null</code> literal. Yes, it looks weird, but if you think about it, it makes sense. Let me show you.</p>
<!-- excerpt -->
<p>The code below compiles fine and results in <code>NullReferenceException</code> being thrown.</p>
<pre><code>static void Test1()
{
	throw null;
}
</code></pre>
<p>I don’t know about you, but this, if not weird, looks funny. The <code>NullReferenceException</code> thrown isn’t anything special and you can catch it is as usual.</p>
<pre><code>static void Test2()
{
	try
	{
		throw null;
	}
	catch (NullReferenceException ex)
	{
		Console.WriteLine(ex.ToString());
	}
}
</code></pre>
<p>So why is <code>throw null</code> even allowed? It looks like a special case, to be disallowed, but it’s not. Following simple code is absolutely acceptable.</p>
<pre><code>static void Test3()
{
	Exception GetMeException() =&gt; DateTime.Now.DayOfWeek == DayOfWeek.Thursday ? null : new InvalidOperationException();

	throw GetMeException();
}
</code></pre>
<p>Basically “sometimes” my code returns <code>null</code> and that is then thrown. Discussion whether that is a bug or not is another discussion.</p>
<p>When I first saw (and it was in reference assemblies) the <code>throw null</code> I was perplexed. But trying it and then thinking about it in broader context, I realized it’s just a valid (but pretty stupid, don’t do it) code stripped to absolute minimum.</p>
<h5>Update (based on comment below)</h5>
<p>This, exactly, is part of the <a href="https://github.com/dotnet/csharplang/blob/master/spec/statements.md#the-throw-statement" target="_blank" rel="noopener">specification</a>.</p>

</article><article>
	<p>
		<a href="https://www.tabsoverspaces.com/about"><img src="https://www.tabsoverspaces.com/assets/bio_image.png" alt="Profile Picture" title="Profile Picture"></a>
		Jiří Činčura is an independent developer focusing on data and business layers, language constructs, parallelism and databases. Specifically Entity Framework, asynchronous and parallel programming, cloud and Azure. He's Microsoft Most Valuable Professional and you can read his articles, guides, tips and tricks at www.tabsoverspaces.com.
	</p>
</article></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
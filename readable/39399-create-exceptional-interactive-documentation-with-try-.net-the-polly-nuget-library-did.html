<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Create exceptional interactive documentation with Try .NET - The Polly NuGet library did! -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>Create exceptional interactive documentation with Try .NET - The Polly NuGet library did!</h1><div><div id="" class="containerInner blogBody"><p>I've blogged at length about the great open source project called "Polly"</p><p>and I've blogged about "Try .NET" which is a wonderful .NET Core global tool that lets you make interactive in-browser documentation and create workshops that can be run both online and locally (totally offline!)</p><p>If you've got <a href="http://www.dot.net">.NET Core</a> installed, you can try it in minutes! Just do this:</p><pre>dotnet tool install --global dotnet-try<br>dotnet try demo</pre><p>Even better, you can just clone a Try .NET enabled repository with markdown files that have a few magic herbs and spices, then run "<code>dotnet try</code>" in that cloned folder.</p><p>What does this have to do with <a href="http://www.thepollyproject.org/">Polly</a>, the lovely .NET resilience and transient fault handling library that YOU should be using every day? Well, my friends, check out <a href="https://github.com/bryanjhogan/trydotnet-polly">this lovely bit of work by <strong>Bryan J Hogan</strong></a>! He's created some interactive workshop-style demos using Try .NET! </p><p>How easy is it to check out? Let's give it a try. I've run <code>dotnet tool install --global dotnet-try</code> already. You may need to run update if you've installed it a while back.</p><pre>git clone https://github.com/bryanjhogan/trydotnet-polly.git<br>dotnet try</pre><p>That's it. What does it do? It'll launch your browser to a local website powered by Try .NET that looks like this!</p><figure><img title="Interactive local documentation with Try.NET" alt="Interactive local documentation with Try.NET" src="https://www.hanselman.com/blog/content/binary/Windows-Live-Writer/b465691bd4a9_12934/image_36a76845-155a-4d04-b635-31538db8e136.png" width="999" height="780"></figure><p>Sweet! Ah, but Dear Reader, scroll down! Let me try out one of the examples. You'll see a Monaco-based local text editor (the same edit that powers VS Code) and you're able to run - and modify - local code samples IN THE BROWSER!</p><figure><img title="Checking out Polly exception retries" alt="Checking out Polly exception retries" src="https://www.hanselman.com/blog/content/binary/Windows-Live-Writer/b465691bd4a9_12934/image_0baf3433-7dc8-4e68-a8cc-5f7c411342f0.png" width="999" height="780"></figure><p>Here's the code as text to make it more accessible.</p><pre class="brush: csharp; gutter: false; toolbar: false; auto-links: false;">RetryPolicy retryPolicy = Policy.Handle&lt;Exception&gt;()<br>.Retry(3, (exception, retryCount) =&gt;<br>{<br>Console.WriteLine($"{exception.GetType()} thrown, retrying {retryCount}.");<br>});<p>int result = retryPolicy.Execute(() =&gt; errorProneCode.QueryTheDatabase());</p><p>Console.WriteLine($"Received a response of {result}.");
</p></pre><p>And the output appears below the sample, again, in a console within the browser:</p><pre>System.Exception thrown, retrying 1.<br>System.InsufficientMemoryException thrown, retrying 2.<br>Received a response of 0.</pre><p>You can see that Polly gives you a RetryPolicy that can envelop your code and handle things like transient errors, occasional flaky server responses, or whatever else you want it to do. It can be configured as a policy outside your code, or coded inline fluently like this.</p><p>NOTE the URL! See that it's a .MD or Markdown file? Try .NET has a special handler that reads in a regular markdown file and executes it. The result is an HTML representation of your Markdown *and* your sample, now executable!</p><p>What's the page/image above look like as Markdown? Like this:</p><pre># Polly Retries Part 2<p>### Retrying When an Exception Occurs<br>The Polly NuGet package has been added and we are going to use the Retry Policy when querying database. <br>The policy states that if an exception occurs, it will retry up to three times.</p><p>Note how you execute the unreliable code inside the policy. `retryPolicy.Execute(() =&gt; errorProneCode.QueryTheDatabase());`</p><p>``` cs --region retryIfException --source-file .\src\Program.cs --project .\src\PollyDemo.csproj <br>```</p><p>#### Next: [Retrying Based on a Result  &amp;raquo;](./retryIfIncorrectStatus.md) Previous: [Before You Add Polly &amp;laquo;](../lettingItFail.md)

</p></pre><p>Note the special ``` region. The code isn't inline, but rather it lives in a <em>named region </em>in Program.cs in a project in this same repository, neatly under the /src folder. The region is presented in the sample, but as samples are usually more complex and require additional libraries and such, the region name and project context is passed into your app as Try.NET executes it.</p><p>Go check out some Try .NET enabled sample repositories. Just make sure you have the <a href="https://github.com/dotnet/try">Try .NET global tool</a> installed, then go clone and "dotnet try" any of these! </p><p>If you're doing classwork, teaching workshops, making assignments for homework, or even working in a low-bandwidth or remote environment this is great as you can put the repositories on a USB key and once they've run once they'll run offline! </p><p>Now, be inspired by (and star on GitHub) <a href="https://github.com/bryanjhogan/trydotnet-polly">Bryan's</a> great work and go make your own interactive .NET documentation! </p><hr><p><strong>Sponsor: </strong>Like C#? We do too! Thatâ€™s why we've developed a fast, smart, cross-platform .NET IDE which gives you even more coding power. Clever code analysis, rich code completion, instant search and navigation, an advanced debugger... With JetBrains Rider, everything you need is at your fingertips. Code C# at the speed of thought on Linux, Mac, or Windows. <a href="https://hnsl.mn/362RGqA">Try JetBrains Rider today</a>!</p></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
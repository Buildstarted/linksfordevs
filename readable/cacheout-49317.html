<!DOCTYPE html>
<html lang="en">
<head>
    <title>
CacheOut - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="CacheOut - linksfor.dev(s)"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://cacheoutattack.com/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="grid">
        <h1>
                <span style="cursor: default" title="linksfor.dev(s) has been running for 1 year! :partypopper:">ðŸŽ‰</span>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - CacheOut</title>
<div class="readable">
        <h1>CacheOut</h1>
            <div>Reading time: 8-10 minutes</div>
        <div>Posted here: 28 Jan 2020</div>
        <p><a href="https://cacheoutattack.com/">https://cacheoutattack.com/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
			<section id="abstract">
				<div>
					<p><img src="https://cacheoutattack.com/img/cacheout.svg" height="240px" id="logo" alt="CacheOut Logo"></p>
					<h2>Leaking Data on Intel CPUs via Cache Evictions</h2>
					<div>
						<p>
						We present CacheOut, a new speculative execution attack that is capable of leaking data from Intel CPUs across many security boundaries. We show that despite Intel's attempts to address previous generations of speculative execution attacks, CPUs are still vulnerable, allowing attackers to exploit these vulnerabilities to leak sensitive data. 
						</p>
						<p>
						Moreover, unlike previous MDS issues, we show in our work how an attacker can exploit the CPU's caching mechanisms to select what data to leak, as opposed to waiting for the data to be available. Finally, we empirically demonstrate that CacheOut can violate nearly every hardware-based security domain, leaking data from the OS kernel, co-resident virtual machines, and even SGX enclaves. 
						</p>									
						
					</div>
				</div>
			</section>

			<section id="people">
				<h4>People</h4>

				
			</section>

			<section id="qa">
				<h4>Questions &amp; Answers</h4>

				<div id="accordion">
					<div>
						

						<div id="answer1" aria-labelledby="question1">
							<div>
								<p>Probably yes, unless you happen to have a CPU released after Q4 2018. 
								</p>
								
								<p>
								For a select number of processors released after Q4 2018, Intel inadvertently managed to partially mitigate this issue while addressing a previous issue called <a href="https://software.intel.com/security-software-guidance/insights/deep-dive-intel-transactional-synchronization-extensions-intel-tsx-asynchronous-abort">TSX Asynchronous Abort (TAA)</a>. See Section 9 in our  <a href="https://cacheoutattack.com/CacheOut.pdf">our paper</a>.
								</p>
								
								<p>A list of affected products can be found <a href="https://software.intel.com/security-software-guidance/insights/processors-affected-l1d-eviction-sampling">here</a>.</p>
							</div>
						</div>
					</div>

					

					<div>
						

						<div id="answer3" aria-labelledby="question3">
							<div>
								<p>The first indication known to us of leakage from cache evictions can be seen in the <a href="https://mdsattacks.com/">Rogue In-Flight Data Load (RIDL)</a> paper, authored by <a href="https://www.synkhronix.com/about">Stephan van Schaik</a>, <a href="http://noopwafel.net/">Alyssa Milburn</a>, <a href="https://osterlund.xyz/">Sebastian Ã–sterlund</a>, <a href="https://www.vusec.net/people/pietro">Pietro Frigo</a>, <a href="https://www.vusec.net/people/kaveh-razavi">Kaveh Razavi</a>, <a href="https://www.vusec.net/people/herbert-bos">Herbert Bos</a> and <a href="http://cristianogiuffrida.com/">Cristiano Giuffrida</a> (<a href="https://vusec.net/">VUSec</a>). In addition, Intel also informed us that <a href="https://mlq.me/">Moritz Lipp</a>, <a href="https://misc0110.net/">Michael Schwarz</a>, and <a href="https://gruss.cc/">Daniel Gruss</a> (<a href="https://www.iaik.tugraz.at/">TU Graz</a>), as well as <a href="https://twitter.com/jovanbulck">Jo Van Bulck</a> (<a href="https://distrinet.cs.kuleuven.be/">KU Leuven</a>) also reported this issue.</p>

								<p><a href="https://www.synkhronix.com/about">Stephan van Schaik</a>, <a href="http://www-personal.umich.edu/~minkin/index.html">Marina Minkin</a>, <a href="https://andrewkwong.org/">Andrew Kwong</a>, <a href="https://web.eecs.umich.edu/~genkin/">Daniel Genkin</a> (<a href="https://www.cse.umich.edu/">University of Michigan</a>), and <a href="https://www.adelaide.edu.au/directory/yuval.yarom">Yuval Yarom</a> (<a href="https://www.adelaide.edu.au/">University of Adelaide</a> and <a href="https://data61.csiro.au/">Data61</a>) performed an extensive analysis of how this vulnerability works and how an attacker can exploit it.
								More information can be found in <a href="https://cacheoutattack.com/CacheOut.pdf">our paper</a>.</p>	
							</div>
						</div>
					</div>

					<div>
						

						<div id="answer4" aria-labelledby="question4">
							<div>
								<p>AMD is not affected by CacheOut, as AMD does not offer any feature akin to Intel TSX on their current offering of CPUs.</p>

								<p>Arm and IBM do have a feature similar to Intel TSX, but we are currently unaware of whether any of their products are affected.
								We are also unaware of any other attack vectors to exploit CacheOut.</p>
							</div>
						</div>
					</div>

					<div>
						

						<div id="answer5" aria-labelledby="question5">
							<p>No, these are bugs in the processor that an attacker can exploit.
								Software can mitigate these issues at the cost of features and/or performance.
								We hope that somewhere in the future Intel will release processors with in-silicon fixes against this issue.
							</p>
						</div>
					</div>

					<div>
						

						<div id="answer6" aria-labelledby="question6">
							<p>While it is possible in theory, this is currently unlikely in practice.
								However, your anti-virus software may detect malware which uses this attack by comparing binaries once they become known.</p>
						</div>
					</div>

					<div>
						

						<div id="answer7" aria-labelledby="question7">
							<p>Very unlikely.
								CacheOut does not leave any traces in traditional log files.</p>
						</div>
					</div>

					<div>
						

						<div id="answer8" aria-labelledby="question8">
							<p>As far as we know, there are no known instances of malicious actors abusing CacheOut in the wild.
								</p>
						</div>
					</div>

					<div>
						

						<div id="answer9" aria-labelledby="question9">
							<p>An operating system (OS) is system software responsible for managing your computer hardware by abstracting it through a common interface, which can be used by the software running on top of it.
								Furthermore, the operating system decides how this hardware is shared by your software, and as such has access to all the data stored in your computer's memory. Thus, it is essential to isolate the operating system from the other programs running on the machine.</p>
						</div>
					</div>

					<div>
						

						<div id="answer10" aria-labelledby="question10">
							<div>
								<p>CacheOut violates the operating system's privacy by extracting information from it that facilitates other attacks, such as buffer overflow attacks.</p>
								
								<p>
								More specifically, modern operating systems employ Kernel Address Space Layout Randomization (KASLR) and stack canaries.
								KASLR randomizes the location of the data structures and code used by the operating system, such that the location is unknown to an attacker.
								Stack canaries put secret values on the stack to detect whether an attacker has tampered with the stack. CacheOut extracts this information from the operating system, essentially enabling full exploitation via other software attacks, such such as buffer overflow attacks.

								</p>
							
							</div>
						</div>
					</div>

					<div>
						

						<div id="answer11" aria-labelledby="question11">
							<p>CacheOut can leak information from other processes running on the same thread, or across threads on the same CPU core.
								As an example, we successfully leaked both the decrypted output and the AES key from another process performing AES decryptions.</p>
						</div>
					</div>

					<div>
						

						<div id="answer12" aria-labelledby="question12">
							<div>
								<p> Virtualization is a feature supported by modern CPUs that enables software emulation of the computer's physical hardware. This essentially allows you to instantiate multiple computers (called virtual machines), each running their own operating system and software, all while sharing the same underlying physical hardware. 
								</p>
								<p>
								Cloud providers use virtualization to partition and isolate physical hardware, such that customers can rent the hardware instead of having to purchase, set up, and maintain their own infrastructure. As many cloud instances share the same physical hardware, it is essential that cloud vendors maintain isolation between these instances.</p>
							</div>
						</div>
					</div>

					<div>
						

						<div id="answer13" aria-labelledby="question13">
							<p>CacheOut exploits hardware security vulnerabilities inside the processor to leak information from both the virtual machine manager (hypervisor) and co-resident virtual machines.
								However, cloud providers have already deployed countermeasures against CacheOut as a result from our work.</p>
						</div>
					</div>

					<div>
						

						<div id="answer14" aria-labelledby="question14">
							<p>Intel Security Guard Extensions (SGX) offer an even stronger isolation guarantee that allows third parties to run their software in secure enclaves, with protection against a compromised operating system and/or hypervisor.</p>
						</div>
					</div>

					<div>
						

						<div id="answer15" aria-labelledby="question15">
							<p> CacheOut exploits the hardware vulnerabilities we uncovered to dump the contents of SGX enclaves. As such, any information stored inside the enclave can be potentially leaked by CacheOut.</p>
						</div>
					</div>

					<div>
						

						<div id="answer16" aria-labelledby="question16">
							<p>No, CacheOut cannot be exploited from a web browser, as web browsers currently don't expose the Intel TSX functionality to JavaScript.</p>
						</div>
					</div>

					<div>
						

						<div id="answer17" aria-labelledby="question17">
							<p>CacheOut is related to, and inspired by, previous work in speculative execution, including <a href="https://meltdownattack.com/">Spectre and Meltdown</a>. Moreover, CacheOut bypasses the hardware mitigations released by Intel in response to Meltdown, thereby necessitating additional software fixes.
								</p>
						</div>
					</div>

					<div>
						

						<div id="answer18" aria-labelledby="question18">
							<p><a href="https://mdsattacks.com/">Microarchitectural Data Sampling (MDS)</a> shows that an attacker can sample in-flight data from various microarchitectural buffers.
								As a response to this, Intel recommends that operating system vendors overwrite the contents of these buffers. However, CacheOut demonstrates that this mitigation is incomplete, as we can force the victim's data out of the L1-D Cache into the microarchitectural buffers after the operating system clears them. We then subsequently leak the contents of the buffers and obtain the victim's data.</p>
						</div>
					</div>

					<div>
						

						<div id="answer19" aria-labelledby="question19">
							<p>The main idea behind our attack is to force the victim's data out of the CPUs cache into a leaky buffer, and then subsequently leak it.
								Cache and cash also happen to be homophones, which means that CacheOut sounds the same as "cash out".
								This also explains our use of the dollar signs in the logo.</p>
						</div>
					</div>

					

					<div>
						

						<div id="answer21" aria-labelledby="question21">
							<p>Yes, with rights waived via <a href="https://creativecommons.org/publicdomain/zero/1.0/">CC0</a>. Logos are designed by <a href="http://www-personal.umich.edu/~minkin/index.html">Marina Minkin</a>. Click <a href="https://cacheoutattack.com/img/cacheout_text.svg">here</a> for the logo in SVG format and <a href="https://cacheoutattack.com/img/cacheout_text.png">here</a> for the logo in PNG format.</p>
						</div>
					</div>

					
				</div>
			</section>

			<section id="acknowledgements">
				<h4>Acknowledgements</h4>

				<div>
				<p>We would like to thank <a href="https://www.intel.com/">Intel</a> for working with us during the responsible disclosure.</p>

				<p>This research was supported by the Defense Advanced Research Projects Agency (DARPA) and Air Force Research Laboratory (AFRL) under contract FA8750-19-C0531, by an Australian Research Council Discovery Early Career Researcher Award (project number DE200101577), and by generous gifts from <a href="https://www.intel.com/">Intel</a> and <a href="https://www.amd.com/">AMD</a>.</p>
				</div>
			</section>
		</div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
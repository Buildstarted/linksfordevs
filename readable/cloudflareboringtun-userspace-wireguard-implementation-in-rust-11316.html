<!DOCTYPE html>
<html lang="en">
<head>
    <title>
cloudflare/boringtun - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="cloudflare/boringtun - linksfor.dev(s)"/>
    <meta property="article:author" content="cbranch"/>
    <meta property="og:description" content="Userspace WireGuard&#xAE; Implementation in Rust. Contribute to cloudflare/boringtun development by creating an account on GitHub."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://github.com/cloudflare/boringtun"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - cloudflare/boringtun</title>
<div class="readable">
        <h1>cloudflare/boringtun</h1>
            <div>by cbranch</div>
            <div>Reading time: 4-5 minutes</div>
        <div>Posted here: 28 Mar 2019</div>
        <p><a href="https://github.com/cloudflare/boringtun">https://github.com/cloudflare/boringtun</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="readme">
    
        

      <div>
        <article itemprop="text"><p><a target="_blank" rel="noopener noreferrer" href="https://github.com/cloudflare/boringtun/blob/master/banner.png"><img src="https://github.com/cloudflare/boringtun/raw/master/banner.png" alt="boringtun logo banner"></a></p>

<p><a href="https://crates.io/crates/boringtun" rel="nofollow"><img src="https://camo.githubusercontent.com/3ca2b68bd4645def98159ad7e46000e7676a410e/68747470733a2f2f6d6572697462616467652e6865726f6b756170702e636f6d2f626f72696e6774756e" alt="crates.io" data-canonical-src="https://meritbadge.herokuapp.com/boringtun"></a></p>
<p><strong>BoringTun</strong> is an implementation of the <a href="https://www.wireguard.com/" rel="nofollow">WireGuard<sup>®</sup></a> protocol designed for portability and speed.</p>
<p>The project consists of two parts:</p>
<ul>
<li>The executable <code>boringtun</code>, a <a href="https://www.wireguard.com/xplatform/" rel="nofollow">userspace WireGuard</a> implementation for Linux and macOS.</li>
<li>The library <code>boringtun</code> that can be used to implement fast and efficient WireGuard client apps on various platforms, including iOS and Android. It implements the underlying WireGuard protocol, without the network or tunnel stacks, those can be implemented in a platform idiomatic way.</li>
</ul>
<p><g-emoji alias="warning" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png">⚠️</g-emoji> <strong>NOTE:</strong> This crate is still undergoing review for security concerns. Therefore, we recommend that you take caution before using it in a production application.</p>
<h3>Installation</h3>
<p>You can install this project using <code>cargo</code>:</p>
<pre><code>cargo install boringtun
</code></pre>
<h3>Building</h3>
<ul>
<li>Library only: <code>cargo build --lib --release [--target $(TARGET_TRIPLE)]</code></li>
<li>Executable: <code>cargo build --bin boringtun --release [--target $(TARGET_TRIPLE)]</code></li>
</ul>
<p>By default the executable is placed in the <code>./target/release</code> folder. You can copy it to a desired location manually, or install it using <code>cargo install --bin boringtun --path .</code>.</p>
<h3>Running</h3>
<p>As per the specification, to start a tunnel use:</p>
<p><code>boringtun [-f/--foreground] INTERFACE-NAME</code></p>
<p>The tunnel can then be configured using <a href="https://git.zx2c4.com/WireGuard/about/src/tools/man/wg.8" rel="nofollow">wg</a>, as a regular WireGuard tunnel, or any other tool.</p>
<p>It is also possible to use with <a href="https://git.zx2c4.com/WireGuard/about/src/tools/man/wg-quick.8" rel="nofollow">wg-quick</a> by setting the environment variable <code>WG_QUICK_USERSPACE_IMPLEMENTATION</code> to <code>boringtun</code>. For example:</p>
<p><code>sudo WG_QUICK_USERSPACE_IMPLEMENTATION=boringtun WG_SUDO=1 wg-quick up CONFIGURATION</code></p>
<h3>Testing</h3>
<p>Testing this project has a few requirements:</p>
<ul>
<li><code>sudo</code>: required to create tunnels. When you run <code>cargo test</code> you'll be prompted for your password.</li>
<li>Docker: you can install it <a href="https://www.docker.com/get-started" rel="nofollow">here</a>. If you are on Ubuntu/Debian you can run <code>apt-get install docker.io</code>.</li>
</ul>
<h3>Benchmarking</h3>
<p>To benchmark this project you can run this command:</p>
<pre><code>cargo +nightly bench
</code></pre>
<p>This command depends on the unstable <code>test</code> feature of the Rust compiler. As a result, you'll need to use the <code>nightly</code> channel of Rust when you run it.</p>
<h2>Supported platforms</h2>
<table>
<thead>
<tr>
<th>Target triple</th>
<th>Binary</th>
<th>Library</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>x86_64-unknown-linux-gnu</td>
<td>✓</td>
<td>✓</td>
<td><a href="https://dev.azure.com/cloudflare-ps/wireguard-cf/_build/latest?definitionId=4&amp;branchName=master" rel="nofollow"><img src="https://camo.githubusercontent.com/59aa7af1c35578c0ab1ab1f2105d2c398b1e34fd/68747470733a2f2f6465762e617a7572652e636f6d2f636c6f7564666c6172652d70732f7769726567756172642d63662f5f617069732f6275696c642f7374617475732f636c6f7564666c6172652e626f72696e6774756e3f6272616e63684e616d653d6d6173746572266a6f624e616d653d4c696e757825323061726d7637" alt="Build Status" data-canonical-src="https://dev.azure.com/cloudflare-ps/wireguard-cf/_apis/build/status/cloudflare.boringtun?branchName=master&amp;jobName=Linux%20armv7"></a></td>
</tr>
<tr>
<td>aarch64-unknown-linux-gnu</td>
<td>✓</td>
<td>✓</td>
<td><a href="https://dev.azure.com/cloudflare-ps/wireguard-cf/_build/latest?definitionId=4&amp;branchName=master" rel="nofollow"><img src="https://camo.githubusercontent.com/588b50f824c19617406e34b27cfc631e3ef6f858/68747470733a2f2f6465762e617a7572652e636f6d2f636c6f7564666c6172652d70732f7769726567756172642d63662f5f617069732f6275696c642f7374617475732f636c6f7564666c6172652e626f72696e6774756e3f6272616e63684e616d653d6d6173746572266a6f624e616d653d4c696e757825323061617263683634" alt="Build Status" data-canonical-src="https://dev.azure.com/cloudflare-ps/wireguard-cf/_apis/build/status/cloudflare.boringtun?branchName=master&amp;jobName=Linux%20aarch64"></a></td>
</tr>
<tr>
<td>armv7-unknown-linux-gnueabihf</td>
<td>✓</td>
<td>✓</td>
<td><a href="https://dev.azure.com/cloudflare-ps/wireguard-cf/_build/latest?definitionId=4&amp;branchName=master" rel="nofollow"><img src="https://camo.githubusercontent.com/59aa7af1c35578c0ab1ab1f2105d2c398b1e34fd/68747470733a2f2f6465762e617a7572652e636f6d2f636c6f7564666c6172652d70732f7769726567756172642d63662f5f617069732f6275696c642f7374617475732f636c6f7564666c6172652e626f72696e6774756e3f6272616e63684e616d653d6d6173746572266a6f624e616d653d4c696e757825323061726d7637" alt="Build Status" data-canonical-src="https://dev.azure.com/cloudflare-ps/wireguard-cf/_apis/build/status/cloudflare.boringtun?branchName=master&amp;jobName=Linux%20armv7"></a></td>
</tr>
<tr>
<td>x86_64-apple-darwin</td>
<td>✓</td>
<td>✓</td>
<td><a href="https://dev.azure.com/cloudflare-ps/wireguard-cf/_build/latest?definitionId=4&amp;branchName=master" rel="nofollow"><img src="https://camo.githubusercontent.com/b45b941318504c8935790197c1c148dcf277c8dd/68747470733a2f2f6465762e617a7572652e636f6d2f636c6f7564666c6172652d70732f7769726567756172642d63662f5f617069732f6275696c642f7374617475732f636c6f7564666c6172652e626f72696e6774756e3f6272616e63684e616d653d6d6173746572266a6f624e616d653d6d61634f53" alt="Build Status" data-canonical-src="https://dev.azure.com/cloudflare-ps/wireguard-cf/_apis/build/status/cloudflare.boringtun?branchName=master&amp;jobName=macOS"></a></td>
</tr>
<tr>
<td>x86_64-pc-windows-msvc</td>
<td></td>
<td>✓</td>
<td><a href="https://dev.azure.com/cloudflare-ps/wireguard-cf/_build/latest?definitionId=4&amp;branchName=master" rel="nofollow"><img src="https://camo.githubusercontent.com/9116095c1834f5284a6295cf310338d599762831/68747470733a2f2f6465762e617a7572652e636f6d2f636c6f7564666c6172652d70732f7769726567756172642d63662f5f617069732f6275696c642f7374617475732f636c6f7564666c6172652e626f72696e6774756e3f6272616e63684e616d653d6d6173746572266a6f624e616d653d57696e646f7773" alt="Build Status" data-canonical-src="https://dev.azure.com/cloudflare-ps/wireguard-cf/_apis/build/status/cloudflare.boringtun?branchName=master&amp;jobName=Windows"></a></td>
</tr>
<tr>
<td>aarch64-apple-ios</td>
<td></td>
<td>✓</td>
<td>FFI bindings</td>
</tr>
<tr>
<td>armv7-apple-ios</td>
<td></td>
<td>✓</td>
<td>FFI bindings</td>
</tr>
<tr>
<td>armv7s-apple-ios</td>
<td></td>
<td>✓</td>
<td>FFI bindings</td>
</tr>
<tr>
<td>aarch64-linux-android</td>
<td></td>
<td>✓</td>
<td>JNI bindings</td>
</tr>
<tr>
<td>arm-linux-androideabi</td>
<td></td>
<td>✓</td>
<td>JNI bindings</td>
</tr>
</tbody>
</table>
<p><sub>Other platforms may be added in the future</sub></p>
<h4>Linux</h4>
<p><code>x86-64</code>, <code>aarch64</code> and <code>armv7</code> architectures are supported. The behaviour should be identical to that of <a href="https://git.zx2c4.com/wireguard-go/about/" rel="nofollow">wireguard-go</a>, with the following difference:</p>
<p><code>boringtun</code> will drop privileges when started. When privileges are dropped it is not possible to set <code>fwmark</code>. If <code>fwmark</code> is required, such as when using <code>wg-quick</code>, instead running with <code>sudo</code>, give the executable the <code>CAP_NET_ADMIN</code> capability using: <code>sudo setcap cap_net_admin+epi boringtun</code>. Alternatively run with <code>--disable-drop-privileges</code> or set the environment variable <code>WG_SUDO=1</code>.</p>
<h4>macOS</h4>
<p>The behaviour is similar to that of <a href="https://git.zx2c4.com/wireguard-go/about/" rel="nofollow">wireguard-go</a>. Specifically the interface name must be <code>utun[0-9]+</code> for an explicit interface name or <code>utun</code> to have the kernel select the lowest available. If you choose <code>utun</code> as the interface name, and the environment variable <code>WG_TUN_NAME_FILE</code> is defined, then the actual name of the interface chosen by the kernel is written to the file specified by that variable.</p>
<hr>
<h4>FFI bindings</h4>
<p>The library exposes a set of C ABI bindings, those are defined in the <code>wireguard_ffi.h</code> header file. The C bindings can be used with C/C++, Swift (using a bridging header) or C# (using <a href="https://docs.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.dllimportattribute?view=netcore-2.2" rel="nofollow">DLLImport</a> with <a href="https://docs.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.dllimportattribute.callingconvention?view=netcore-2.2" rel="nofollow">CallingConvention</a> set to <code>Cdecl</code>).</p>
<h4>JNI bindings</h4>
<p>The library exposes a set of Java Native Interface bindings, those are defined in <code>src/jni.rs</code>.</p>
<h2>License</h2>
<p>The project is licensed under the <a href="https://opensource.org/licenses/BSD-3-Clause" rel="nofollow">3-Clause BSD License</a>.</p>
<h3>Contribution</h3>
<p>Unless you explicitly state otherwise, any contribution intentionally submitted for inclusion in the work by you, as defined in the 3-Clause BSD License, shall licensed as above, without any additional terms or conditions.</p>
<p>If you want to contribute to this project, please read our <a href="https://github.com/cloudflare/.github/blob/master/CONTRIBUTING.md"><code>CONTRIBUTING.md</code></a>.</p>
<hr>
<p><sub><sub>WireGuard is a registered trademark of Jason A. Donenfeld. BoringTun is not sponsored or endorsed by Jason A. Donenfeld.</sub></sub></p>
</article>
      </div>
  </div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
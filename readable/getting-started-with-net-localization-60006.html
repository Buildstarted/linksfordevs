<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Getting Started With .NET Localization - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.min.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Getting Started With .NET Localization - linksfor.dev(s)"/>
    <meta property="article:author" content="Khalid Abuhakmeh"/>
    <meta property="og:description" content="I have a dirty little secret to admit, and I hope you don&#x2019;t think less of me for saying so. I have never localized any application that I&#x2019;ve ever built. Phew, I feel better getting that off my chest. I like to think it&#x2019;s something we&#x2019;ve all done."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://khalidabuhakmeh.com/getting-started-with-net-localization"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1 style="margin: unset">
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Getting Started With .NET Localization</title>
<div class="readable">
        <h1>Getting Started With .NET Localization</h1>
            <div>by Khalid Abuhakmeh</div>
            <div>Reading time: 7-8 minutes</div>
        <div>Posted here: 24 Mar 2020</div>
        <p><a href="https://khalidabuhakmeh.com/getting-started-with-net-localization">https://khalidabuhakmeh.com/getting-started-with-net-localization</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
                <p>I have a dirty little secret to admit, and I hope you don’t think less of me for saying so. <strong>I have never localized any application that I’ve ever built.</strong> Phew, I feel better getting that off my chest. I like to think it’s something we’ve all done.</p>

<p>We start our projects with the best intentions of helping as many users as possible, only to hardcode our labels, messages, and documentation. It begins innocently enough, “I’ll just hardcode it for now and come back to it later.” <em>We never come back to “it”</em>. Now we’ve limited the number of potential users we can help because we only target our native tongue.</p>

<p>In this post, we’ll see how straightforward it is to add localization to any .NET application. Our code will be more readable, appeal to a broader userbase, and we’ll be better developers for taking the extra step of localization.</p>

<!--more-->

<h2 id="what-is-localization"><a href="#what-is-localization">What Is Localization</a></h2>

<p>In general, localization is the process in which we adapt our applications to a specific region or market place. The goal of localization is to provide a tailored experience that intends to give users the most comfortable experience possible.</p>

<p>In the United States, it may be more about targeting particular demographic markets like English, Spanish, or Chinese native speakers. If users consume our apps at an international level, we may try to understand where our audience comes from and localize for the largest demographics.</p>

<p>Localization not only focuses on text but may also include graphics, layout, currency, date/phone/address formats, and local regulations and legal requirements.</p>

<h2 id="net-resources"><a href="#net-resources">.NET Resources</a></h2>

<p>.NET has had the concept of resources for as long as I can remember.  The Microsoft documentation has a succinct description of what classifies as a resource.</p>

<blockquote>
  <p>A resource is any nonexecutable data that is logically deployed with an app. <cite>–<a href="https://docs.microsoft.com/en-us/dotnet/framework/resources/" target="_blank" rel="noopener noreferrer">Microsoft</a></cite></p>
</blockquote>

<p>In this post, we will be using resource files, which are recognized by the file extension of <code>.resx</code>. The advantage of using <code>resx</code> files, is we can store more than just strings. We can store binary data, which can include images, audio, and other assets. The <code>resx</code> file is in XML format with specific attributes to identify additional metadata.</p>

<p><strong>To follow along, clone the <a href="https://github.com/khalidabuhakmeh/WorldTraveler.git" target="_blank" rel="noopener noreferrer">WorldTraveler Project</a> on GitHub.</strong></p>

<h2 id="hello-world-of-localization"><a href="#hello-world-of-localization">Hello World Of Localization</a></h2>

<p>We’ll start by creating a console application, either via the command line or our <a href="https://jetbrains.com/rider" target="_blank" rel="noopener noreferrer">favorite IDE</a>. In this post, I’ll be using <a href="https://jetbrains.com/rider" target="_blank" rel="noopener noreferrer">JetBrains Rider</a>, but feel free to use any development environment you would like.</p>

<div><div><pre><code><span>dotnet new console -o wt &amp;&amp; take wt
</span></code></pre></div></div>

<p>The next step is we’ll be creating some <code>resx</code> files file the following cultures: English, French, and Spanish.</p>

<div><div><pre><code><span>Language.resx
Language.es.resx
Language.fr.resx
</span></code></pre></div></div>

<p>Here are our files in Rider’s solution explorer.</p>

<p><img src="https://d33wubrfki0l68.cloudfront.net/5880a81641b585c75a7063fd3368cab2a184bfbb/d6c72/assets/images/generated/localization/localization-files-800-a755ca.png" alt="resx files" srcset="https://d33wubrfki0l68.cloudfront.net/a835502048a3b487c456619cdcf1913bbf42498a/5208b/assets/images/generated/localization/localization-files-400-a755ca.png 400w, https://d33wubrfki0l68.cloudfront.net/a5665fa60601574c3905d471706cd1af52d8d064/7c625/assets/images/generated/localization/localization-files-600-a755ca.png 600w, https://d33wubrfki0l68.cloudfront.net/5880a81641b585c75a7063fd3368cab2a184bfbb/d6c72/assets/images/generated/localization/localization-files-800-a755ca.png 800w, https://d33wubrfki0l68.cloudfront.net/b732df505bec9e3d64c60bb87313b44719be8bc5/2c5c6/assets/images/generated/localization/localization-files-1000-a755ca.png 1000w"></p>

<p>All three <code>resx</code> files will have a companion file of <code>*.Designer.cs</code> which will include our generated access mechanisms for our resources. Only our top-level <code>Language.resx</code> file will have any code associated with it. Before continuing, we need to mark each <code>resx</code> file as an embedded resource.</p>

<p><img src="https://d33wubrfki0l68.cloudfront.net/fe631da1b82e7afaedfb42c608d5b872b2a87b07/cd966/assets/images/generated/localization/localization-embedded-800-c2b2a6.png" alt="resx as embedded resource" srcset="https://d33wubrfki0l68.cloudfront.net/c75aa1a2d7d844feb2c1e85956d99675c0b86f0f/802b4/assets/images/generated/localization/localization-embedded-400-c2b2a6.png 400w, https://d33wubrfki0l68.cloudfront.net/bb6125e652d78d923db8889179e315653a0285f6/14584/assets/images/generated/localization/localization-embedded-600-c2b2a6.png 600w, https://d33wubrfki0l68.cloudfront.net/fe631da1b82e7afaedfb42c608d5b872b2a87b07/cd966/assets/images/generated/localization/localization-embedded-800-c2b2a6.png 800w, https://d33wubrfki0l68.cloudfront.net/3726ffbaeaec148e419f7813be5451bd712483f6/018eb/assets/images/generated/localization/localization-embedded-1000-c2b2a6.png 1000w"></p>

<p>The next step is to generate our <code>Language</code> class. This class will allow us to set the culture of the language of our application and have easier access to our resources. We do this in Rider, by right-clicking our <code>resx</code> file and selecting <code>Generate resources</code>.</p>

<p><img src="https://d33wubrfki0l68.cloudfront.net/365eaa65cef89160768a3ab039d796bd2f2a785d/2bf92/assets/images/generated/localization/localization-generate-800-379922.png" alt="resx generate" srcset="https://d33wubrfki0l68.cloudfront.net/9a3363929d444818acf6372aa2e8e84239737438/eec16/assets/images/generated/localization/localization-generate-400-379922.png 400w, https://d33wubrfki0l68.cloudfront.net/7df22c0bf427884de09ffd8d32595b62ffcf2cf0/16eb1/assets/images/generated/localization/localization-generate-600-379922.png 600w, https://d33wubrfki0l68.cloudfront.net/365eaa65cef89160768a3ab039d796bd2f2a785d/2bf92/assets/images/generated/localization/localization-generate-800-379922.png 800w, https://d33wubrfki0l68.cloudfront.net/4d3920eb5a2f983c8d1fe3e590a4fb21ebc4bc4b/59839/assets/images/generated/localization/localization-generate-1000-379922.png 1000w"></p>

<p>In our particular project, I have taken the liberty of adding two new resource strings of <code>HelloWorld</code> and <code>Woot</code>.</p>

<h3 id="the-resx-xml"><a href="#the-resx-xml">The Resx XML</a></h3>

<p>To understand how resources are stored, let us peek into the XML file. In our case, let us look at our first resource of <code>HelloWorld</code>.</p>

<div><div><pre><code><span>&lt;data</span> <span>name=</span><span>"HelloWorld"</span> <span>xml:space=</span><span>"preserve"</span><span>&gt;</span>
    <span>&lt;value&gt;</span>Hello World!<span>&lt;/value&gt;</span>
<span>&lt;/data&gt;</span>
</code></pre></div></div>

<p>In our different language files, we can also replace this particular value.</p>

<div><div><pre><code><span>&lt;!-- Language.fr.resx --&gt;</span>
<span>&lt;data</span> <span>name=</span><span>"HelloWorld"</span> <span>xml:space=</span><span>"preserve"</span><span>&gt;</span>
    <span>&lt;value&gt;</span>Bonjour le monde!<span>&lt;/value&gt;</span>
<span>&lt;/data&gt;</span>
<span>&lt;!-- Language.esresx --&gt;</span>
<span>&lt;data</span> <span>name=</span><span>"HelloWorld"</span> <span>xml:space=</span><span>"preserve"</span><span>&gt;</span>
    <span>&lt;value&gt;</span>Hola Mundo!<span>&lt;/value&gt;</span>
<span>&lt;/data&gt;</span>
</code></pre></div></div>

<h2 id="the-generated-access-class"><a href="#the-generated-access-class">The Generated Access Class</a></h2>

<p><code>Resx</code> files also generate access classes so that we can more naturally access our resources. In our case, we have a <code>Language</code> class created using the filename of our parent <code>resx</code> file. Let’s look at the exciting parts of this class.</p>

<h3 id="resourcemanager"><a href="#resourcemanager">ResourceManager</a></h3>

<p>The <code>ResourceManager</code> is the manager of our resources, reading our XML files into memory, and storing our values.</p>

<div><div><pre><code><span>internal</span> <span>static</span> <span>System</span><span>.</span><span>Resources</span><span>.</span><span>ResourceManager</span> <span>ResourceManager</span> <span>{</span>
    <span>get</span> <span>{</span>
        <span>if</span> <span>(</span><span>object</span><span>.</span><span>Equals</span><span>(</span><span>null</span><span>,</span> <span>resourceMan</span><span>))</span> <span>{</span>
            <span>System</span><span>.</span><span>Resources</span><span>.</span><span>ResourceManager</span> <span>temp</span> <span>=</span> <span>new</span> <span>System</span><span>.</span><span>Resources</span><span>.</span><span>ResourceManager</span><span>(</span><span>"WorldTraveler.Language"</span><span>,</span> <span>typeof</span><span>(</span><span>Language</span><span>).</span><span>Assembly</span><span>);</span>
            <span>resourceMan</span> <span>=</span> <span>temp</span><span>;</span>
        <span>}</span>
        <span>return</span> <span>resourceMan</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<h3 id="culture"><a href="#culture">Culture</a></h3>

<p>The <code>Culture</code> property allows us to set the <code>CultureInfo</code> of our <code>Language</code> class. As we’ll see later in the post, we can affect what resources we access by changing this property.</p>

<div><div><pre><code><span>internal</span> <span>static</span> <span>System</span><span>.</span><span>Globalization</span><span>.</span><span>CultureInfo</span> <span>Culture</span> <span>{</span>
    <span>get</span> <span>{</span>
        <span>return</span> <span>resourceCulture</span><span>;</span>
    <span>}</span>
    <span>set</span> <span>{</span>
        <span>resourceCulture</span> <span>=</span> <span>value</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<h3 id="resource-properties"><a href="#resource-properties">Resource Properties</a></h3>

<p>The resource generator will be helpful and generate named properties for each of our resource values. In this post, we can see a created string property for <code>HelloWorld</code> and <code>Woot</code>.</p>

<div><div><pre><code><span>internal</span> <span>static</span> <span>string</span> <span>HelloWorld</span> <span>{</span>
    <span>get</span> <span>{</span>
        <span>return</span> <span>ResourceManager</span><span>.</span><span>GetString</span><span>(</span><span>"HelloWorld"</span><span>,</span> <span>resourceCulture</span><span>);</span>
    <span>}</span>
<span>}</span>

<span>internal</span> <span>static</span> <span>string</span> <span>Woot</span> <span>{</span>
    <span>get</span> <span>{</span>
        <span>return</span> <span>ResourceManager</span><span>.</span><span>GetString</span><span>(</span><span>"Woot"</span><span>,</span> <span>resourceCulture</span><span>);</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<h2 id="putting-our-resx-files-to-work"><a href="#putting-our-resx-files-to-work">Putting Our Resx Files To Work</a></h2>

<p>In our project, which you can get from this <a href="https://github.com/khalidabuhakmeh/WorldTraveler.git" target="_blank" rel="noopener noreferrer">GitHub Repository</a>, you will see the usage of our resources.</p>

<div><div><pre><code><span>using</span> <span>System</span><span>;</span>
<span>using</span> <span>System.Globalization</span><span>;</span>

<span>namespace</span> <span>WorldTraveler</span>
<span>{</span>
    <span>class</span> <span>Program</span>
    <span>{</span>
        <span>private</span> <span>static</span> <span>void</span> <span>Main</span><span>(</span><span>string</span><span>[]</span> <span>args</span><span>)</span>
        <span>{</span>
            <span>var</span> <span>cultures</span> <span>=</span> <span>new</span><span>[]</span> <span>{</span><span>"en"</span><span>,</span> <span>"es"</span><span>,</span> <span>"fr"</span><span>};</span>

            <span>foreach</span> <span>(</span><span>var</span> <span>culture</span> <span>in</span> <span>cultures</span><span>)</span>
            <span>{</span>
                <span>Language</span><span>.</span><span>Culture</span> <span>=</span> <span>CultureInfo</span><span>.</span><span>GetCultureInfo</span><span>(</span><span>culture</span><span>);</span>
                <span>Console</span><span>.</span><span>Write</span><span>(</span><span>$"</span><span>{</span><span>Language</span><span>.</span><span>Culture</span><span>.</span><span>EnglishName</span><span>}</span><span> -"</span> <span>+</span>
                              <span>$" </span><span>{</span><span>Language</span><span>.</span><span>Culture</span><span>.</span><span>NativeName</span><span>}</span><span> says "</span><span>);</span>
                <span>Console</span><span>.</span><span>Write</span><span>(</span><span>$"</span><span>{</span><span>Language</span><span>.</span><span>HelloWorld</span><span>}</span><span>
"</span><span>);</span>
            <span>}</span>

            <span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>Language</span><span>.</span><span>Woot</span><span>);</span>
        <span>}</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>We can see the output for each localized culture.</p>

<div><div><pre><code><span>English - English says Hello World!
Spanish - español says Hola Mundo!
French - français says Bonjour le monde!
Woot!
</span></code></pre></div></div>

<p>Here is the result in my Rider’s console output.</p>

<p><img src="https://d33wubrfki0l68.cloudfront.net/1fbe33f94839e6e416dbf62e1805335faf0334ec/7c938/assets/images/generated/localization/localization-result-800-051b6d.png" alt="resx output" srcset="https://d33wubrfki0l68.cloudfront.net/cc3795543da683479b91d083522cc4e49771c7d1/94f78/assets/images/generated/localization/localization-result-400-051b6d.png 400w, https://d33wubrfki0l68.cloudfront.net/307ed1ff0f3f31b6a238bb5a6a2fc48a946fbc31/f2c66/assets/images/generated/localization/localization-result-600-051b6d.png 600w, https://d33wubrfki0l68.cloudfront.net/1fbe33f94839e6e416dbf62e1805335faf0334ec/7c938/assets/images/generated/localization/localization-result-800-051b6d.png 800w, https://d33wubrfki0l68.cloudfront.net/c4e62433feb31a133306cd025d7af8bfe60e9a6f/a25db/assets/images/generated/localization/localization-result-916-051b6d.png 916w"></p>

<h2 id="conclusion"><a href="#conclusion">Conclusion</a></h2>

<p>Localization may seem scary at first, but the .NET Framework has thought about and solved this issue for a long time now. There are definite advantages to localizing our applications from a broader userbase and a more efficient codebase. Using <code>resx</code> files is one of the better options as it allows us to store more than strings. I hope you give it a try and let me know what you think. Thank you for reading, and please leave a comment.</p>


            </div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
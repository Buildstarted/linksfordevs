<!DOCTYPE html>
<html lang="en">
<head>
    <title>
How Netflix brings safer and faster streaming experience to the living room on crowded networks&#x2026; - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="How Netflix brings safer and faster streaming experience to the living room on crowded networks&#x2026; - linksfor.dev(s)"/>
    <meta property="article:author" content="https://netflixtechblog.com/@NetflixTechBlog"/>
    <meta property="og:description" content="By Sekwon Choi"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://netflixtechblog.com/how-netflix-brings-safer-and-faster-streaming-experience-to-the-living-room-on-crowded-networks-78b8de7f758c?gi=5426b14ee704"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - How Netflix brings safer and faster streaming experience to the living room on crowded networks&#x2026;</title>
<div class="readable">
        <h1>How Netflix brings safer and faster streaming experience to the living room on crowded networks&#x2026;</h1>
            <div>by https://netflixtechblog.com/@NetflixTechBlog</div>
            <div>Reading time: 6-8 minutes</div>
        <div>Posted here: 21 Apr 2020</div>
        <p><a href="https://netflixtechblog.com/how-netflix-brings-safer-and-faster-streaming-experience-to-the-living-room-on-crowded-networks-78b8de7f758c?gi=5426b14ee704">https://netflixtechblog.com/how-netflix-brings-safer-and-faster-streaming-experience-to-the-living-room-on-crowded-networks-78b8de7f758c?gi=5426b14ee704</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div><section><div><div><div><div><div><div><p><a href="https://netflixtechblog.com/@NetflixTechBlog?source=post_page-----78b8de7f758c----------------------" rel="noopener"><img alt="Netflix Technology Blog" src="https://miro.medium.com/fit/c/96/96/1*ty4NvNrGg4ReETxqU2N3Og.png" width="48" height="48"></a></p></div></div></div></div><p id="2974" data-selectable-paragraph="">By Sekwon Choi</p><p id="f4d0" data-selectable-paragraph="">At Netflix, we are obsessed with the best streaming experiences. We want playback to start instantly and to never stop unexpectedly in any network environment. We are also committed to protecting users’ privacy and service security without sacrificing any part of the playback experience.</p><p id="a9fb" data-selectable-paragraph="">To achieve that, we are efficiently using ABR (adaptive bitrate streaming) for a better playback experience, DRM (Digital Right Management) to protect our service and TLS (Transport Layer Security) to protect customer privacy and to create a safer streaming experience.</p><p id="7a7b" data-selectable-paragraph="">Netflix on consumer electronics devices such as TVs, set-top boxes and streaming sticks was until recently using TLS 1.2 for streaming traffic. Now we support TLS 1.3 for safer and faster experiences.</p><p id="6e2b" data-selectable-paragraph="">For two parties to communicate securely, a secure channel is necessary. This needs to have the following three properties.</p><ul><li id="49e7" data-selectable-paragraph="">Authentication: Identity of the communicating party is verified.</li><li id="9ae3" data-selectable-paragraph="">Confidentiality: Data sent over the channel is only visible to the endpoints.</li><li id="54f1" data-selectable-paragraph="">Integrity: Data sent over the channel cannot be modified by attackers without detection.</li></ul><p id="cbd9" data-selectable-paragraph="">The TLS protocol is designed to provide a secure channel between two peers by providing tools and methods to achieve the above properties.</p><p id="35a2" data-selectable-paragraph="">TLS 1.3 is the latest version of the Transport Layer Security protocol. It is simpler, more secure and more efficient than its predecessor.</p><h2 id="e651" data-selectable-paragraph="">Perfect Forward Secrecy</h2><p id="bc61" data-selectable-paragraph="">One thing we believe is very important at Netflix is providing PFS (Perfect Forward Secrecy).</p><p id="a47e" data-selectable-paragraph="">PFS is a feature of the key exchange algorithm that assures that session keys will not be compromised, even if the server’s private key is compromised. By generating new keys for each session, PFS protects past sessions against the future compromise of secret keys.</p><p id="8417" data-selectable-paragraph="">TLS 1.2 supports key exchange algorithms with PFS, but it also allows key exchange algorithms that do not support PFS. Even with the previous version of TLS 1.2, Netflix has always selected a key exchange algorithm that provides PFS such as ECDHE (Elliptic Curve Diffie Hellman Ephemeral). TLS 1.3, however, enforces this concept even more by removing all the key exchange algorithms that do not provide PFS, such as static RSA.</p><h2 id="07ba" data-selectable-paragraph="">Authenticated Encryption</h2><p id="7e56" data-selectable-paragraph="">For encryption, TLS 1.3 removes all weak ciphers and uses only Authenticated Encryption with Associated Data (AEAD). This assures the confidentiality, integrity, and authenticity of the data. We use AES Galois/Counter Mode, as it also provides good performance and high throughput.</p><h2 id="b499" data-selectable-paragraph="">Secure Handshake</h2><p id="2dfc" data-selectable-paragraph="">While the above changes are important, the most important change in TLS 1.3 is perhaps its redesign of the handshake protocol.</p><p id="baa2" data-selectable-paragraph="">The TLS 1.2 handshake was not designed to protect the integrity of the entire handshake. It protected only the part of the handshake after the cipher suite negotiation and this opened up the possibility of downgrade attacks which may allow the attackers to force the use of insecure cipher suites.</p><p id="d293" data-selectable-paragraph="">With TLS 1.3, the server signs the entire handshake including the cipher suite negotiation and thus prevents the attacker from downgrading the cipher suite.</p><p id="3dd5" data-selectable-paragraph="">Also in TLS 1.2, extensions were sent in the clear in the ServerHello. Now with TLS 1.3, even extensions are encrypted and all handshake messages after ServerHello are now encrypted.</p><h2 id="1695" data-selectable-paragraph="">Reduced Handshake</h2><p id="3e7c" data-selectable-paragraph="">TLS 1.2 supports numerous key exchange algorithms, cipher suites and digital signatures, including weak and vulnerable ones. Therefore, it requires more messages to perform a handshake and two network round trips.</p><p id="6f44" data-selectable-paragraph="">In contrast, the handshake in TLS 1.3 now requires only one round trip, with a simplified design and with all weak and vulnerable algorithms removed.</p><p id="8b01" data-selectable-paragraph="">In addition, it has a new feature called 0-RTT, or TLS early data, for the resumed handshake. This allows an application to include application data with its initial handshake message, instead of having to wait until the handshake completes.</p><p id="ac2e" data-selectable-paragraph="">At Netflix, by the efficient resumption of the TLS session and careful use of 0-RTT for the streaming data, we can reduce the play delay.</p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*dwfkh2K4bBsQHdP_rEyH7Q.png?q=20" width="1102" height="283" role="presentation"></p><p><img width="1102" height="283" srcset="https://miro.medium.com/max/552/1*dwfkh2K4bBsQHdP_rEyH7Q.png 276w, https://miro.medium.com/max/1104/1*dwfkh2K4bBsQHdP_rEyH7Q.png 552w, https://miro.medium.com/max/1280/1*dwfkh2K4bBsQHdP_rEyH7Q.png 640w, https://miro.medium.com/max/1400/1*dwfkh2K4bBsQHdP_rEyH7Q.png 700w" sizes="700px" role="presentation"></p></div></div></div></div></figure><p id="920c" data-selectable-paragraph="">We were pretty confident that TLS 1.3 would bring us better security from the analysis of its protocol composition, but we did not know how it would perform in the context of streaming.</p><p id="c5de" data-selectable-paragraph="">Since TLS 1.3’s performance-related feature is the 0-RTT mode with the resumed handshake, our hypothesis is that TLS 1.3 would reduce play delay, as we are no longer required to wait for the handshake to finish and we can instead issue the HTTP request for media data and receive the HTTP response for media data earlier.</p><p id="c1ab" data-selectable-paragraph="">To see the actual performance of TLS 1.3 in the field, we performed an experiment with</p><ul><li id="82f6" data-selectable-paragraph="">User accounts: half-million user accounts per cell.</li><li id="25fb" data-selectable-paragraph="">Device type: mid-performance device with Quad ARM core @ 1.7GHz.</li><li id="fce4" data-selectable-paragraph="">Control cell: TLS 1.2</li><li id="6955" data-selectable-paragraph="">Treatment cell: TLS 1.3</li></ul><h2 id="ddff" data-selectable-paragraph="">Play Delay</h2><p id="2757" data-selectable-paragraph="">Play Delay is defined by how long it takes for playback to start. Below are the results of the play delay measured in the experiment. The results imply that on slower or congested networks, which can be represented by the quantiles of at least 0.75, TLS 1.3 achieves the largest gains, with improvements across all network conditions.</p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*So7N5ohUZYZnP2ZfgLyNEg.png?q=20" width="1139" height="441" role="presentation"></p><p><img width="1139" height="441" srcset="https://miro.medium.com/max/552/1*So7N5ohUZYZnP2ZfgLyNEg.png 276w, https://miro.medium.com/max/1104/1*So7N5ohUZYZnP2ZfgLyNEg.png 552w, https://miro.medium.com/max/1280/1*So7N5ohUZYZnP2ZfgLyNEg.png 640w, https://miro.medium.com/max/1400/1*So7N5ohUZYZnP2ZfgLyNEg.png 700w" sizes="700px" role="presentation"></p></div></div></div></div></figure><p id="49e4" data-selectable-paragraph="">Below is the time series median play delay graph for this mid-performance device in the field. It also shows that playback starts earlier with TLS 1.3.</p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*6Hkq1ZCussPA1s-qtcuYOg.png?q=20" width="1109" height="565" role="presentation"></p><p><img width="1109" height="565" srcset="https://miro.medium.com/max/552/1*6Hkq1ZCussPA1s-qtcuYOg.png 276w, https://miro.medium.com/max/1104/1*6Hkq1ZCussPA1s-qtcuYOg.png 552w, https://miro.medium.com/max/1280/1*6Hkq1ZCussPA1s-qtcuYOg.png 640w, https://miro.medium.com/max/1400/1*6Hkq1ZCussPA1s-qtcuYOg.png 700w" sizes="700px" role="presentation"></p></div></div></div></div></figure><h2 id="b950" data-selectable-paragraph="">Media Rebuffer</h2><p id="b409" data-selectable-paragraph="">At Netflix, we define a media rebuffer as a non-network originated rebuffer. It typically occurs when media data is not processed quickly enough by the device due to the high load on the CPU. Comparing the control cell with TLS 1.2, the experiment cell with TLS 1.3 showed about a 7.4% improvement in media rebuffers. This result implies that using TLS 1.3 with 0-RTT is more efficient and can reduce the CPU load.</p><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/1*sZY-mXVAxBMFMp9ZvVl5Aw.png?q=20" width="895" height="534" role="presentation"></p><p><img width="895" height="534" srcset="https://miro.medium.com/max/552/1*sZY-mXVAxBMFMp9ZvVl5Aw.png 276w, https://miro.medium.com/max/1104/1*sZY-mXVAxBMFMp9ZvVl5Aw.png 552w, https://miro.medium.com/max/1280/1*sZY-mXVAxBMFMp9ZvVl5Aw.png 640w, https://miro.medium.com/max/1400/1*sZY-mXVAxBMFMp9ZvVl5Aw.png 700w" sizes="700px" role="presentation"></p></div></div></div></div></figure><p id="4496" data-selectable-paragraph="">From the security analysis, we are confident that TLS 1.3 improves communication security over TLS 1.2. From the field test, we are confident that TLS 1.3 provides us a better streaming experience.</p><p id="50cf" data-selectable-paragraph="">At the time of writing this article, the Internet is experiencing higher than usual traffic and congestion. We believe saving even small amounts of data and round trips can be meaningful and even better if it also provides a more secure and efficient streaming experience.</p><p id="1bf0" data-selectable-paragraph="">Therefore, we have started deploying TLS 1.3 on newer consumer electronics devices and we are expecting even more devices to be deployed with TLS 1.3 capability in the near future.</p></div></div></section></div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
hundredrabbits/Orca-c: Live Programming Environment(C Port) -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>hundredrabbits/Orca-c: Live Programming Environment(C Port)</h1><div><div id="" class="markdown-body entry-content p-5"><p>Orca is an <a href="https://en.wikipedia.org/wiki/Esoteric_programming_language" rel="nofollow">esoteric programming language</a> designed to quickly create procedural sequencers, in which every letter of the alphabet is an operation, where lowercase letters operate on bang, uppercase letters operate each frame.</p><p>This application <strong>is not a synthesizer, but a flexible livecoding environment</strong> capable of sending MIDI, OSC &amp; UDP to your audio/visual interfaces, like Ableton, Renoise, VCV Rack or SuperCollider.</p><p>If you need <strong>help</strong>, visit the <a href="https://talk.lurk.org/channel/orca" rel="nofollow">chatroom</a> or the <a href="https://llllllll.co/t/orca-live-coding-tool/17689" rel="nofollow">forum</a>.</p><p>This is the <strong>C</strong> implementation of the <a href="https://github.com/hundredrabbits/Orca">ORCΛ</a> language and tools. The livecoding environment for this C version runs in a terminal. It's designed to be power efficient. It can handle large files, even if your terminal is small.</p><p><a target="_blank" rel="noopener noreferrer" href="https://raw.githubusercontent.com/wiki/hundredrabbits/Orca-c/PREVIEW.jpg"><img src="https://raw.githubusercontent.com/wiki/hundredrabbits/Orca-c/PREVIEW.jpg" width="600"></a></p><h2><a id="user-content-quick-start-for-debianraspbian-raspberry-pi" class="anchor" aria-hidden="true" href="#quick-start-for-debianraspbian-raspberry-pi"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Quick Start for Debian/Raspbian (Raspberry Pi)</h2><div class="highlight highlight-source-shell"><pre>sudo apt-get install git libncurses5-dev libncursesw5-dev libportmidi-dev
git clone https://github.com/hundredrabbits/Orca-c.git
<span class="pl-c1">cd</span> Orca-c
make          <span class="pl-c"><span class="pl-c">#</span> Compile orca</span>
build/orca    <span class="pl-c"><span class="pl-c">#</span> Run orca</span></pre></div><p>To choose your MIDI output device, press <code>F1</code> (or <code>Ctrl+D</code>) to open the main menu, and then select <code>MIDI Output...</code></p><pre><code>┌ ORCA ───────────────┐┌ PortMidi Device Selection ─────┐
│   New               ││ &gt; (*) #0 - Midi Through Port-0 │
│   Open...           ││   ( ) #2 - ES1371              │
│   Save              │└────────────────────────────────┘
│   Save As...        │
│                     │
│   Set BPM...        │
│   Set Grid Size...  │
│   Auto-fit Grid     │
│                     │
│   OSC Output...     │
│ &gt; MIDI Output...    │
│                     │
│   Clock &amp; Timing... │
│   Appearance...     │
│                     │
│   Controls...       │
│   Operators...      │
│   About ORCA...     │
│                     │
│   Quit              │
└─────────────────────┘
</code></pre><h2><a id="user-content-prerequisites" class="anchor" aria-hidden="true" href="#prerequisites"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Prerequisites</h2><p>Core library: A C99 compiler (no VLAs required), plus enough libc for <code>malloc</code>, <code>realloc</code>, <code>free</code>, <code>memcpy</code>, <code>memset</code>, and <code>memmove</code>. (Also, <code>#pragma once</code> must be supported.)</p><p>Command-line interpreter: The above, plus POSIX, and enough libc for the common string operations (<code>strlen</code>, <code>strcmp</code>, etc.)</p><p>Livecoding terminal UI: The above, plus ncurses (or compatible curses library), and floating point support (for timing.) Optionally, PortMidi can be used to enable direct MIDI output.</p><h2><a id="user-content-build" class="anchor" aria-hidden="true" href="#build"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Build</h2><p>The build script, called simply <code>tool</code>, is written in <code>bash</code>. It should work with <code>gcc</code> (including the <code>musl-gcc</code> wrapper), <code>tcc</code>, and <code>clang</code>, and will automatically detect your compiler. You can manually specify a compiler with the <code>-c</code> option.</p><p>Currently known to build on macOS (<code>gcc</code>, <code>clang</code>, <code>tcc</code>) and Linux (<code>gcc</code>, <code>musl-gcc</code>, <code>tcc</code>, and <code>clang</code>, optionally with <code>LLD</code>), and Windows via cygwin or WSL (<code>gcc</code> or <code>clang</code>, <code>tcc</code> untested).</p><p>There is a fire-and-forget <code>make</code> wrapper around the build script.</p><p>PortMidi is an optional dependency. It can be enabled by adding the option <code>--portmidi</code> when running the <code>tool</code> build script.</p><p>Mouse awareness can be disabled by adding the <code>--no-mouse</code> option.</p><h3><a id="user-content-build-using-the-tool-build-script" class="anchor" aria-hidden="true" href="#build-using-the-tool-build-script"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Build using the <code>tool</code> build script</h3><p>Run <code>./tool help</code> to see usage info. Examples:</p><div class="highlight highlight-source-shell"><pre>./tool build -c clang-7 --portmidi orca
    <span class="pl-c"><span class="pl-c">#</span> Build the livecoding environment with a compiler</span><span class="pl-c"><span class="pl-c">#</span> named clang-7, with optimizations enabled, and</span><span class="pl-c"><span class="pl-c">#</span> with PortMidi enabled for MIDI output.</span><span class="pl-c"><span class="pl-c">#</span> Binary placed at build/orca</span>

./tool build -d orca
    <span class="pl-c"><span class="pl-c">#</span> Debug build of the livecoding environment.</span><span class="pl-c"><span class="pl-c">#</span> Binary placed at build/debug/orca</span>

./tool build -d cli
    <span class="pl-c"><span class="pl-c">#</span> Debug build of the headless CLI interpreter.</span><span class="pl-c"><span class="pl-c">#</span> Binary placed at build/debug/cli</span>

./tool clean
    <span class="pl-c"><span class="pl-c">#</span> Same as make clean. Removes build/</span></pre></div><h3><a id="user-content-build-using-the-make-wrapper" class="anchor" aria-hidden="true" href="#build-using-the-make-wrapper"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Build using the <code>make</code> wrapper</h3><div class="highlight highlight-source-shell"><pre>make release    <span class="pl-c"><span class="pl-c">#</span> optimized build, binary placed at build/orca</span>
make debug      <span class="pl-c"><span class="pl-c">#</span> debugging build, binary placed at build/debug/orca</span>
make clean      <span class="pl-c"><span class="pl-c">#</span> removes build/</span></pre></div><p>The <code>make</code> wrapper will enable <code>--portmidi</code> by default. If you run the <code>tool</code> build script on its own, <code>--portmidi</code> is not enabled by default.</p><h2><a id="user-content-orca-livecoding-environment-usage" class="anchor" aria-hidden="true" href="#orca-livecoding-environment-usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>orca</code> Livecoding Environment Usage</h2><pre><code>Usage: orca [options] [file]

General options:
    --undo-limit &lt;number&gt;  Set the maximum number of undo steps.
                           If you plan to work with large files,
                           set this to a low number.
                           Default: 100
    --initial-size &lt;nxn&gt;   When creating a new grid file, use these
                           starting dimensions.
    --bpm &lt;number&gt;         Set the tempo (beats per minute).
                           Default: 120
    --seed &lt;number&gt;        Set the seed for the random function.
                           Default: 1
    -h or --help           Print this message and exit.

OSC/MIDI options:
    --strict-timing
        Reduce the timing jitter of outgoing MIDI and OSC messages.
        Uses more CPU time.

    --osc-midi-bidule &lt;path&gt;
        Set MIDI to be sent via OSC formatted for Plogue Bidule.
        The path argument is the path of the Plogue OSC MIDI device.
        Example: /OSC_MIDI_0/MIDI
</code></pre><h3><a id="user-content-example-build-and-run-orca-liveocding-environment-with-midi-output" class="anchor" aria-hidden="true" href="#example-build-and-run-orca-liveocding-environment-with-midi-output"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example: build and run <code>orca</code> liveocding environment with MIDI output</h3><div class="highlight highlight-source-shell"><pre>$ ./tool build --portmidi orca           <span class="pl-c"><span class="pl-c">#</span> compile orca using build script</span>
$ build/orca                             <span class="pl-c"><span class="pl-c">#</span> run orca</span></pre></div><h3><a id="user-content-orca-livecoding-environment-controls" class="anchor" aria-hidden="true" href="#orca-livecoding-environment-controls"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>orca</code> Livecoding Environment Controls</h3><pre><code>┌ Controls ───────────────────────────────────────────┐
│           Ctrl+Q  Quit                              │
│       Arrow Keys  Move Cursor                       │
│     Ctrl+D or F1  Open Main Menu                    │
│   0-9, A-Z, a-z,  Insert Character                  │
│    ! : % / = # *                                    │
│         Spacebar  Play/Pause                        │
│ Ctrl+Z or Ctrl+U  Undo                              │
│           Ctrl+X  Cut                               │
│           Ctrl+C  Copy                              │
│           Ctrl+V  Paste                             │
│           Ctrl+S  Save                              │
│           Ctrl+F  Frame Step Forward                │
│           Ctrl+R  Reset Frame Number                │
│ Ctrl+I or Insert  Append/Overwrite Mode             │
│        ' (quote)  Rectangle Selection Mode          │
│ Shift+Arrow Keys  Adjust Rectangle Selection        │
│   Alt+Arrow Keys  Slide Selection                   │
│   ` (grave) or ~  Slide Selection Mode              │
│           Escape  Return to Normal Mode or Deselect │
│  ( ) _ + [ ] { }  Adjust Grid Size and Rulers       │
│          &lt; and &gt;  Adjust BPM                        │
│                ?  Controls (this message)           │
└─────────────────────────────────────────────────────┘
</code></pre><h2><a id="user-content-cli-command-line-interface-interpreter" class="anchor" aria-hidden="true" href="#cli-command-line-interface-interpreter"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>cli</code> command-line interface interpreter</h2><p>The CLI (<code>cli</code> binary) reads from a file and runs the orca simulation for 1 timestep (default) or a specified number (<code>-t</code> option) and writes the resulting state of the grid to stdout.</p><div class="highlight highlight-source-shell"><pre>cli [-t timesteps] infile</pre></div><p>You can also make <code>cli</code> read from stdin:</p><div class="highlight highlight-source-shell"><pre><span class="pl-c1">echo</span> -e <span class="pl-s"><span class="pl-pds">"</span>...\na34\n...<span class="pl-pds">"</span></span><span class="pl-k">|</span> cli /dev/stdin</pre></div><h2><a id="user-content-extras" class="anchor" aria-hidden="true" href="#extras"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Extras</h2><ul><li>Support this project through <a href="https://patreon.com/100" rel="nofollow">Patreon</a>.</li><li>See the <a href="/hundredrabbits/Orca-c/blob/master/LICENSE.md">License</a> file for license rights and limitations (MIT).</li><li>Pull Requests are welcome!</li></ul></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
cpace package &#xB7; go.dev - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="cpace package &#xB7; go.dev - linksfor.dev(s)"/>
    <meta property="og:description" content="Package cpace implements the CPace password authenticated key exchange (PAKE)&#xA;instantiated with the ristretto255 group."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://pkg.go.dev/filippo.io/cpace?tab=doc"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
	<div class="devring" style="background: #222">
		<div class="grid">
			<div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
				<span class="devring-title">devring.club</span>
				<a href="https://devring.club/site/1/previous" class="devring-previous">Previous</a>
				<a href="https://devring.club/random" class="devring-random">Random</a>
				<a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
			</div>
		</div>
	</div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - cpace package &#xB7; go.dev</title>
<div class="readable">
        <h1>cpace package &#xB7; go.dev</h1>
            <div>Reading time: 4-5 minutes</div>
        <div>Posted here: 30 Mar 2020</div>
        <p><a href="https://pkg.go.dev/filippo.io/cpace?tab=doc">https://pkg.go.dev/filippo.io/cpace?tab=doc</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
      <ul>
<li><a href="#pkg-overview">Overview</a></li>
<li><a href="#pkg-index">Index</a></li>
<li><a href="#pkg-examples">Examples</a></li>
</ul>
<section>
		

<p>
Package cpace implements the CPace password authenticated key exchange (PAKE)
instantiated with the ristretto255 group.
</p>
<p>
PAKEs allow two peers to establish a shared secret key if they agree on a
password or similar low-entropy value, without letting eavesdropping or
machine-in-the-middle attackers make multiple attempts at guessing the
password value. CPace is a balanced PAKE, meaning that both peers need to
know the password plaintext.
</p>
<p>
This implementation is loosely based on draft-haase-cpace-01.
</p>

<details id="example-package">

<div>
<p>Code:</p>
<pre>password := "password"
c := cpace.NewContextInfo("192.0.2.1:12345", "192.0.2.2:42", nil)

msgA, s, err := cpace.Start(password, c)
if err != nil {
	panic(err)
}

msgB, keyB, err := cpace.Exchange(password, c, msgA)
if err != nil {
	panic(err)
}

keyA, err := s.Finish(msgB)
if err != nil {
	panic(err)
}

fmt.Println("keyA == keyB:", bytes.Equal(keyA, keyB))
</pre>

<p>Output:</p>
<pre>keyA == keyB: true
</pre>
</div>
</details>

</section><section>
		

<ul>
<li>
				<a href="#Exchange">func Exchange(password string, c *ContextInfo, msgA []byte) (msgB, key []byte, err error)</a>
			</li>
<li><a href="#ContextInfo">type ContextInfo</a></li>
<li><ul>
<li><a href="#NewContextInfo">func NewContextInfo(idA, idB string, ad []byte) *ContextInfo</a></li>

					</ul></li>
<li><a href="#State">type State</a></li>
<li><ul>
<li><a href="#Start">func Start(password string, c *ContextInfo) (msgA []byte, s *State, err error)</a></li>

					</ul></li>
<li><ul>
<li><a href="#State.Finish">func (s *State) Finish(msgB []byte) (key []byte, err error)</a></li>

					</ul></li>
</ul>
</section><section>
		
<ul>
<li><a href="#example-package">Package</a></li>
</ul>
</section><section><div>
			
<pre>func Exchange(password <a href="https://pkg.go.dev/builtin?tab=doc#string">string</a>, c *<a href="#ContextInfo">ContextInfo</a>, msgA []<a href="https://pkg.go.dev/builtin?tab=doc#byte">byte</a>) (msgB, key []<a href="https://pkg.go.dev/builtin?tab=doc#byte">byte</a>, err <a href="https://pkg.go.dev/builtin?tab=doc#error">error</a>)</pre>
<p>
Exchange executes a PAKE exchange authenticated by password, processing msgA
generated by a peer with Start, and returns the shared secret key and msgB.
msgB should be sent to the peer, to be processed by (*State).Finish.
</p>
<p>
If the two peers agree on the password and ContextInfo, they will derive the
same key. Note that an error is NOT returned otherwise: the two peers will
simply derive different keys.
</p>
<p>
The returned key is suitable to be passed to hkdf.Expand.
</p>

</div></section><section><div>
<pre>type ContextInfo struct {
	
}</pre>
<p>
ContextInfo captures the additional connection information that the two peers
need to agree on for the key to be the same.
</p>

<div>
				
<pre>func NewContextInfo(idA, idB <a href="https://pkg.go.dev/builtin?tab=doc#string">string</a>, ad []<a href="https://pkg.go.dev/builtin?tab=doc#byte">byte</a>) *<a href="#ContextInfo">ContextInfo</a></pre>
<p>
NewContextInfo returns a ContextInfo for use with Start or Exchange.
</p>
<p>
idA represents the identity of the party that uses Start, idB of the party
that uses Exchange. Identities could be MAC addresses, or IPs and ports.
</p>
<p>
ad is any additional context the two parties share, and can be nil. Examples
of values that could be included in ad to protect against protocol downgrade
and mismatch attacks are the name and transcript of the higher level
protocol, including any negotiation inputs that led to the use of this PAKE.
</p>

</div></div><div>
<pre>type State struct {
	
}</pre>
<p>
State is a PAKE session in progress, where the initiating party is waiting
for the peer response.
</p>

<div>
				
<pre>func Start(password <a href="https://pkg.go.dev/builtin?tab=doc#string">string</a>, c *<a href="#ContextInfo">ContextInfo</a>) (msgA []<a href="https://pkg.go.dev/builtin?tab=doc#byte">byte</a>, s *<a href="#State">State</a>, err <a href="https://pkg.go.dev/builtin?tab=doc#error">error</a>)</pre>
<p>
Start initiates a new PAKE exchange authenticated by password. msgA should be
sent to the peer, to be processed by Exchange, and s used to process the
peer's response.
</p>

</div><div>
<pre>func (s *<a href="#State">State</a>) Finish(msgB []<a href="https://pkg.go.dev/builtin?tab=doc#byte">byte</a>) (key []<a href="https://pkg.go.dev/builtin?tab=doc#byte">byte</a>, err <a href="https://pkg.go.dev/builtin?tab=doc#error">error</a>)</pre>
<p>
Finish processes the peer's response, generated by Exchange, and returns the
shared secret key.
</p>
<p>
If the two peers agree on the password and ContextInfo, they will derive the
same key. Note that an error is NOT returned otherwise: the two peers will
simply derive different keys.
</p>
<p>
The returned key is suitable to be passed to hkdf.Expand.
</p>

</div></div></section>
      <div>
        <p>Documentation was rendered with GOOS=linux and GOARCH=amd64.</p>
      </div>
    </div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
		<div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function () {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
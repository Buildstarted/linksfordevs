<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Don&#x2019;t Use Boolean Arguments, Use Enums - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Don&#x2019;t Use Boolean Arguments, Use Enums - linksfor.dev(s)"/>
    <meta property="article:author" content="https://medium.com/@anupamchugh"/>
    <meta property="og:description" content="A case for avoiding flag values in your code"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://medium.com/better-programming/dont-use-boolean-arguments-use-enums-c7cd7ab1876a?amp;sk=8a45d7d0620d99c09aee98c5d4cc8ffd"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Don&#x2019;t Use Boolean Arguments, Use Enums</title>
<div class="readable">
        <h1>Don&#x2019;t Use Boolean Arguments, Use Enums</h1>
            <div>by https://medium.com/@anupamchugh</div>
            <div>Reading time: 7-9 minutes</div>
        <div>Posted here: 29 Apr 2020</div>
        <p><a href="https://medium.com/better-programming/dont-use-boolean-arguments-use-enums-c7cd7ab1876a?amp;sk=8a45d7d0620d99c09aee98c5d4cc8ffd">https://medium.com/better-programming/dont-use-boolean-arguments-use-enums-c7cd7ab1876a?amp;sk=8a45d7d0620d99c09aee98c5d4cc8ffd</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div><section><div><div><h2 id="8c8a">A case for avoiding flag arguments in your code</h2><div><div><div><div><a rel="noopener" href="https://medium.com/@anupamchugh?source=post_page-----c7cd7ab1876a----------------------"><div><p><img alt="Anupam Chugh" src="https://miro.medium.com/fit/c/96/96/1*SdJ5BAJeHpGYxEoACvPnRQ@2x.jpeg" width="48" height="48"></p></div></a></div></div></div></div><figure><div><div><div><div><p><img src="https://miro.medium.com/max/60/0*a90EXlgwmEMBYyco?q=20" width="3840" height="2560" role="presentation"></p><p><img width="3840" height="2560" srcset="https://miro.medium.com/max/552/0*a90EXlgwmEMBYyco 276w, https://miro.medium.com/max/1104/0*a90EXlgwmEMBYyco 552w, https://miro.medium.com/max/1280/0*a90EXlgwmEMBYyco 640w, https://miro.medium.com/max/1400/0*a90EXlgwmEMBYyco 700w" sizes="700px" role="presentation" src="https://miro.medium.com/max/3840/0*a90EXlgwmEMBYyco"></p></div></div></div></div><figcaption data-selectable-paragraph="">Photo by <a href="https://unsplash.com/@farzadme?utm_source=medium&amp;utm_medium=referral" target="_blank" rel="noopener nofollow">Farzad Mohsenvand</a> on <a href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" target="_blank" rel="noopener nofollow">Unsplash</a>.</figcaption></figure><p id="e5e3" data-selectable-paragraph="">Booleans are the first data type any programmer learns. And why not? They’re the simplest of the lot with only two states: a <code>true</code> and a <code>false</code>.</p><p id="e59c" data-selectable-paragraph="">While it’s tempting to use boolean flag values in your codebases for managing state machines, it can easily lead to code complexity, readability, and scalability issues as your code evolves.</p><p id="75d5" data-selectable-paragraph="">Generally, flag arguments divide a function’s logic, forcing it to do more than one thing based on the value. This can lead to tangled implementations in business logic. Your codebase could easily end up with the following tree structure:</p><figure><div><div><div><p><img src="https://miro.medium.com/max/60/1*bwiAiq6C8UOVgImOTt6YKQ.png?q=20" width="566" height="528" role="presentation"></p><p><img width="566" height="528" srcset="https://miro.medium.com/max/552/1*bwiAiq6C8UOVgImOTt6YKQ.png 276w, https://miro.medium.com/max/1104/1*bwiAiq6C8UOVgImOTt6YKQ.png 552w, https://miro.medium.com/max/1132/1*bwiAiq6C8UOVgImOTt6YKQ.png 566w" sizes="566px" role="presentation" src="https://miro.medium.com/max/566/1*bwiAiq6C8UOVgImOTt6YKQ.png"></p></div></div></div></figure></div></div></section><hr><section><div><div><p id="6a39" data-selectable-paragraph="">Let me take you through a story to highlight the weaknesses of boolean arguments in state machines and function arguments.</p><p id="f8be" data-selectable-paragraph="">A group of software developers was once building a module that manages the user’s state. One of them insisted on using booleans since the requirement had only two states: <code>ONLINE</code> and <code>OFFLINE</code>. Despite the majority not fully agreeing with the proposal, they went ahead since it looked quick, easy, and straightforward.</p><p id="9938" data-selectable-paragraph="">Eventually, functions like the one below started creeping up in their codebase:</p><pre><span id="6ae6" data-selectable-paragraph="">func setUserState(isUserOnline : Bool)</span></pre><p id="6aa2" data-selectable-paragraph="">Soon, a new developer joined the team and wondered what the following statement really means:</p><pre><span id="341d" data-selectable-paragraph="">setUserState(true) //The new guy just kept staring at this.</span></pre><p id="2a10" data-selectable-paragraph="">While the others proposed a better function name (<code>setUserOnline</code>) and it looked fine at first, things became a nightmare once a new business requirement came in for including another user state: <code>BLOCKED</code>. They had a few possible ways to include the new state in the codebase. Let’s explore them, see how they affect the code, and how to ultimately overcome this problem.</p></div></div></section><hr><section><div><div><p id="6028" data-selectable-paragraph="">A boolean generally represent two states. But in some languages (like Java, by using <code>Boolean</code> object), we can use <code>null</code> for assigning the third state. So in our context, <code>BLOCKED</code> would be set to <code>null</code>. While this may seem to accommodate the new user state without the need for additional booleans, we can easily end up with <code>NullPointerExceptions</code>.</p><p id="eb8b" data-selectable-paragraph="">Moreover, in a different scenario, it could get tricky to differentiate <code>false</code> from <code>null</code>. For example, a boolean property <code>game.isPlaying</code> when <code>true</code> clearly indicates that the game is in play mode. But what happens when it’s <code>false</code> or <code>null</code>? Does <code>false</code> indicate that the game is paused or stopped?</p><p id="8315" data-selectable-paragraph="">As you can see, <code>false</code> doesn’t hold enough information for us to easily identify and recall the state it was bound with. A three-state boolean value only complicates our logic.</p><p id="28df" data-selectable-paragraph="">Additionally, what happens when we’re asked to include another state called <code>EXPIRED</code>? Clearly, we cannot go ahead with this approach since we now have four states. So let’s look at the other approach that the bunch of developers applied.</p></div></div></section><hr><section><div><div><p id="6787" data-selectable-paragraph="">The developers eventually expanded the previous function’s signature by slapping two boolean parameters for the new states:</p><pre><span id="bcb5" data-selectable-paragraph="">func setUserState( <br>isUserOnline : Bool, <br>isUserBlocked : Bool,<br>isUserExpired : Bool)</span></pre><p id="1e5c" data-selectable-paragraph="">What looks like a simple extension to fulfill a business requirement has unwillingly introduced hidden dependencies and a lot of new combinations in the codebase.</p><p id="820b" data-selectable-paragraph="">The two hidden dependencies created are <code>isUserOnline</code> — <code>isUserExpired</code> and <code>isUserOnline</code> — <code>isUserBlocked</code>. This has now forced us to explicitly manage the extra conditions to avoid conflicting states. For example, a user who is blocked/expired cannot be online. Here’s an example of two conflicting states you need to handle:</p><pre><span id="4090" data-selectable-paragraph="">#Condition 1: isUserOnline: false and <!-- -->isUserExpired<!-- -->: true<br>#Condition 2: isUserOnline: false and <!-- -->isUserBlocked<!-- -->: true</span></pre><p id="23fd" data-selectable-paragraph="">As you add more states, functions can easily turn into a long list of parameters. Things become unsustainable, as you’d end up with lots of <code>&amp;&amp;</code> ,<code>||</code>, and other complex branching logic to handle mutually exclusive and dependent booleans.</p></div></div></section><hr><section><div><div><p id="fdcf" data-selectable-paragraph="">By using multiple boolean values, there’s also a high chance of mixing them up. You could end up passing a wrong value (perhaps from a different object) and the compiler won’t even complain. This can be a nightmare when refactoring and doing code reviews, as you’d need to write a lot of unit tests to catch such issues.</p><p id="66c6" data-selectable-paragraph="">Besides, it’s easy to lose track of what the <code>false</code> or <code>true</code> value actually implies for the boolean variable. Understanding function calls that are full of boolean values, like the one shown below, only gets difficult:</p><pre><span id="f233" data-selectable-paragraph="">setUserState(true, false, false)</span></pre><p id="26f5" data-selectable-paragraph="">One could argue that a lot of programming languages today support named arguments that improve the readability of functions. But then again, you could accidentally pass an inverse or incorrect boolean value and the function signature would still match.</p><p id="bbd2" data-selectable-paragraph="">The bunch of software developers from the story could have avoided these hassles if they’d used enums instead of booleans.</p></div></div></section><hr><section><div><div><p id="0e8c" data-selectable-paragraph="">An enumerator is a data type consisting of a set of named values that can be used in a type-safe way. While it may not look as simple as a boolean, using an enum or other user-defined type helps us avoid setting up complicated if statements with multiple branches.</p><pre><span id="dfbf" data-selectable-paragraph="">enum UserStates{</span><span id="e817" data-selectable-paragraph="">case active<br>case inactive<br>case blocked<br>case expired</span><span id="49c1" data-selectable-paragraph="">}</span></pre><p id="a803" data-selectable-paragraph="">Let’s look at the benefits an enum brings to the table when managing finite states and function signatures.</p><h2 id="1de0" data-selectable-paragraph="">1. Enums are clear and descriptive</h2><p id="65d7" data-selectable-paragraph="">Enums force you to name all states, which makes it easy to understand what they mean — thereby creating a self-documenting code. Also, enums clearly indicate that the values are mutually exclusive, thereby removing doubts of conflicting states. Passing enums as parameters in functions is much clearer and helps us avoid mystery booleans. Just compare the two lines below:</p><pre><span id="898b" data-selectable-paragraph="">setUserState(true, false, false)</span><span id="bd2b" data-selectable-paragraph="">//The version below is more concise and clearer.</span><span id="97c1" data-selectable-paragraph="">setUserState(UserStates.active)</span></pre><h2 id="8af6" data-selectable-paragraph="">2. Enums make scaling and refactoring easier</h2><p id="6b24" data-selectable-paragraph="">It’s easier to expand the set of values in enumerators because, unlike with a boolean, the number of possible state combinations doesn’t double with every new case. Moreover, a lot of compilers are smart enough to indicate the changes you need to make to accommodate the new enum case. For example, Swift would raise an error. At the same time, in other languages, it’s easy to look up all the cases present in an enum.</p><p id="6a0e" data-selectable-paragraph="">Extending an already existing enum with an additional new case requires minimal effort since the data type remains the same. This makes refactoring a whole lot easier.</p><h2 id="7fbe" data-selectable-paragraph="">3. Enums are type-safe</h2><p id="3f60" data-selectable-paragraph="">With enums, you cannot assign any value besides the specified ones because they are type-safe. This makes it impossible to accidentally swap values or pass an invalid state because the compiler would spot it.</p><p id="7d22" data-selectable-paragraph="">Not all languages have native enum support and you could create custom types in such cases. For example, in JavaScript, we can work around this by “freezing” constants in an object:</p><figure><div></div></figure></div></div></section><hr><section><div><div><p id="f0a6" data-selectable-paragraph="">Remember, booleans aren’t bad. It’s completely fine to use them in function arguments if you’re sure the states are binary and mutually exclusive or when the method name already describes it (like with <code>setEnabled(true)</code>). But more often than not, requirements change and new states are added.</p><p id="3c22" data-selectable-paragraph="">A two-element enum is worth the effort and is a safer bet than boolean flags. Enums help future-proof your code and eliminate the need to track boolean fields.</p><p id="674f" data-selectable-paragraph="">Booleans are the simplest, but they can be easily misused — or rather abused.</p><p id="568c" data-selectable-paragraph="">That’s it for this one. Thanks for reading.</p></div></div></section></div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
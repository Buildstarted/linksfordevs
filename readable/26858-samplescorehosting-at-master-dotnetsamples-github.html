<!DOCTYPE html>
<html lang="en">
<head>
    <title>
samples/core/hosting at master &#xB7; dotnet/samples &#xB7; GitHub -
linksfor.dev(s)
    </title>
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta charset="utf-8">
    <meta name="Description" content="A curated source of links that devs might find interesting. Updated around the clock." />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="grid">
        
<div class="readable">
    <div id="readOverlay" class="style-ebook"><div id="readInner" class="margin-medium size-medium"><h1>samples/core/hosting at master · dotnet/samples · GitHub</h1><div><div id="" class="markdown-body entry-content p-5"><p>This folder contains sample code demonstrating how to host managed .NET Core code in a native process. These hosts bypass the usual <code>dotnet</code> host and launch managed code directly.</p><p>There are three samples demonstrating three different hosting interfaces for .NET Core.</p><ol><li>The <a href="/dotnet/samples/blob/master/core/hosting/HostWithHostFxr">HostWithHostFxr</a> folder demonstrates how to host the .NET Core runtime using the <code>nethost</code> and <code>hostfxr</code> libraries' APIs. These APIs were introduced in .NET Core 3.0 and are the recommended method of hosting .NET Core 3.0 and above. These entry points handle the complexity of finding and setting up the runtime for initialization. This host demonstrates calling from native code into a static managed method and passing it a message to display.</li><li>The <a href="/dotnet/samples/blob/master/core/hosting/HostWithCoreClrHost">HostWithCoreClrHost</a> folder demonstrates how to host the .NET Core runtime using the newer CoreCLRHost.h API. This API is the preferred method of hosting .NET Core 2.2 and below and is a bit simpler to use than mscoree.h. This host demonstrates calling from native code into a static managed method and supplying a function pointer for the managed code to use to call back into the host.</li><li>The <a href="/dotnet/samples/blob/master/core/hosting/HostWithMscoree">HostWithMscoree</a> folder contains a sample host using the <code>ICLRRuntimeHost4</code> interface from msocree.h to host .NET Core. This is the interface that was originally used to host .NET Core. It still has a few more APIs than the CoreClrHost alternative (including unsupported features like creating multiple AppDomains). This host demonstrates launching a managed executable from a native host application.</li></ol><p>These hosts are small and bypass a lot of complexity (probing for assemblies in multiple locations, thorough error checking, etc.) that a real host would have. Hopefully by remaining simple, though, they will be useful for demonstrating the core concepts of hosting managed .NET Core code in a native process. Other (more real-world) hosts which may be useful as a guide can be found in .NET Core product source in the <a href="https://github.com/dotnet/coreclr/tree/master/src/coreclr/hosts">dotnet/coreclr</a> repository.</p><p>These samples are part of the <a href="https://docs.microsoft.com/dotnet/core/tutorials/netcore-hosting" rel="nofollow">.NET Core hosting tutorial</a>. Please see that topic for a more detailed explanation of the samples and the steps necessary to host .NET Core.</p></div></div></div></div>
</div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
    </footer>
    
    <script>
        (function () {
            var COLLECT_URL = "https://dna.buildstarted.com/t";
            var SITE_ID = "linksfor.devs";
            var GLOBAL_VAR_NAME = "__DNA__";

            window[GLOBAL_VAR_NAME] = {};

            window[GLOBAL_VAR_NAME].sendPageView = function () {
                var path = location.pathname;
                var referrer = document.referrer;

                var url = COLLECT_URL + "?siteid=" + SITE_ID + "&p=" + encodeURIComponent(path) + "&r=" + encodeURIComponent(referrer);

                try { fetch(url, { method: "GET" }); } catch (e) { }
            };

            window[GLOBAL_VAR_NAME].sendPageView();
        })();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Announcing TypeScript 4.0 Beta | TypeScript - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Announcing TypeScript 4.0 Beta | TypeScript - linksfor.dev(s)"/>
    <meta property="article:author" content="Daniel RosenwasserProgram Manager, TypeScriptFollow"/>
    <meta property="og:description" content="Today we&#x2019;re excited to release the beta of the next major milestone in the TypeScript programming language: TypeScript 4.0. This beta takes us on our first step into TypeScript 4.0, and while it brings a new major version, don&#x2019;t fret &#x2013;"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://devblogs.microsoft.com/typescript/announcing-typescript-4-0-beta/"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Announcing TypeScript 4.0 Beta | TypeScript</title>
<div class="readable">
        <h1>Announcing TypeScript 4.0 Beta | TypeScript</h1>
            <div>by Daniel RosenwasserProgram Manager, TypeScriptFollow</div>
            <div>Reading time: 24-30 minutes</div>
        <div>Posted here: 01 Jul 2020</div>
        <p><a href="https://devblogs.microsoft.com/typescript/announcing-typescript-4-0-beta/">https://devblogs.microsoft.com/typescript/announcing-typescript-4-0-beta/</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="featured"><div><div><div><div><p><img src="https://secure.gravatar.com/avatar/8499bf678149d617cc71a23afb377736?s=58&amp;d=mm&amp;r=g" width="58" height="58" alt="Avatar"></p><p>Daniel</p></div></div></div><p>June 26th, 2020</p><p>Today we’re excited to release the beta of the next major milestone in the TypeScript programming language: TypeScript 4.0.</p><p>This beta takes us on our first step into TypeScript 4.0, and while it brings a new major version, don’t fret – there are no substantially larger breaking changes than usual. Our philosophy in evolving TypeScript has always been to provide an upgrade path that minimizes disruptive breaking changes while still giving ourselves some flexibility to flag suspicious code as errors when appropriate. For this reason, we’re continuing with a similar versioning model to that of past releases, so 4.0 is just the natural continuation from TypeScript 3.9.</p><p>To get started using the beta, you can get it <a href="https://www.nuget.org/packages/Microsoft.TypeScript.MSBuild" rel="nofollow" target="_blank">through NuGet</a>, or use npm with the following command:</p><div><pre><span>npm install typescript@beta</span></pre></div><p>You can also get editor support by</p><ul><li><a href="https://marketplace.visualstudio.com/items?itemName=TypeScriptTeam.TypeScript-40beta" rel="nofollow" target="_blank">Downloading for Visual Studio 2019/2017</a></li><li>Following directions for <a href="https://code.visualstudio.com/Docs/languages/typescript#_using-newer-typescript-versions" rel="nofollow" target="_blank">Visual Studio Code</a> and <a href="https://github.com/Microsoft/TypeScript-Sublime-Plugin/#note-using-different-versions-of-typescript" target="_blank">Sublime Text</a>.</li></ul><p>Now let’s take a look at what’s in store for TypeScript 4.0!</p><ul><li><a href="#variadic-tuple-types">Variadic Tuple Types</a></li><li><a href="#labeled-tuple-elements">Labeled Tuple Elements</a></li><li><a href="#class-property-inference">Class Property Inference from Constructors</a></li><li><a href="#short-circuiting-assignment-operators">Short-Circuiting Assignment Operators</a></li><li><a href="#unknown-on-catch"><code><span>unknown</span></code> on <code><span>catch</span></code> Clauses</a></li><li><a href="#custom-jsx-factories">Custom JSX Factories</a></li><li><a href="#build-and-noemitonerror">Speed Improvements in <code><span>build</span></code> mode with <code><span>--</span><span>noEmitOnError</span></code></a></li><li><a href="#noemit-and-incremental"><code><span>--</span><span>incremental</span></code> with <code><span>--</span><span>noEmit</span></code></a></li><li><a href="#editor-improvements">Editor Improvements</a><ul><li><a href="#deprecated-support"><code><span>/** @deprecated */</span></code> Support</a></li><li><a href="#partial-editing-mode">Partial Editing Mode at Startup</a></li><li><a href="#smarter-auto-imports">Smarter Auto-Imports</a></li></ul></li><li><a href="#breaking-changes">Breaking Changes</a></li></ul><h2><a name="variadic-tuple-types"></a> Variadic Tuple Types</h2><p>Consider a function in JavaScript called <code><span>concat</span></code>, that takes two array or tuple types, and concatenates them together as a new array.</p><div><pre><span><span>function</span></span><span> </span><span><span>concat</span></span><span><span>(</span></span><span><span>arr1</span></span><span><span>,</span></span><span> </span><span><span>arr2</span></span><span><span>)</span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>return</span></span><span> </span><span><span>[</span></span><span>...</span><span><span>arr1</span></span><span><span>,</span></span><span> </span><span>...</span><span><span>arr2</span></span><span><span>]</span></span><span><span>;</span></span><span>
</span><span><span>}</span></span></pre></div><p>Also consider <code><span>tail</span></code>, that takes an array or tuple, and returns all elements but the first.</p><div><pre><span><span>function</span></span><span> </span><span><span>tail</span></span><span><span>(</span></span><span><span>arg</span></span><span><span>)</span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>const</span></span><span> </span><span><span>[</span></span><span><span>_</span></span><span><span>,</span></span><span> </span><span>...</span><span><span>result</span></span><span><span>]</span></span><span> </span><span><span>=</span></span><span> </span><span><span>arg</span></span><span><span>;</span></span><span>
    </span><span><span>return</span></span><span> </span><span><span>result</span></span><span>
</span><span><span>}</span></span></pre></div><p>How would we type either of these in TypeScript?</p><p>For <code><span>concat</span></code>, the only valid thing we could do in older versions of the language was to try and write some overloads.</p><div><pre><span><span>function</span></span><span> </span><span><span>concat</span></span><span><span>&lt;</span></span><span><span>&gt;</span></span><span><span>(</span></span><span><span>arr1</span></span><span>:</span><span> </span><span><span>[</span></span><span><span>]</span></span><span><span>,</span></span><span> </span><span><span>arr2</span></span><span>:</span><span> </span><span><span>[</span></span><span><span>]</span></span><span><span>)</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A</span></span><span><span>]</span></span><span><span>;</span></span><span>
</span><span><span>function</span></span><span> </span><span><span>concat</span></span><span><span>&lt;</span></span><span color:="" #267f99;"=""><span>A</span></span><span><span>&gt;</span></span><span><span>(</span></span><span><span>arr1</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A</span></span><span><span>]</span></span><span><span>,</span></span><span> </span><span><span>arr2</span></span><span>:</span><span> </span><span><span>[</span></span><span><span>]</span></span><span><span>)</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A</span></span><span><span>]</span></span><span><span>;</span></span><span>
</span><span><span>function</span></span><span> </span><span><span>concat</span></span><span><span>&lt;</span></span><span color:="" #267f99;"=""><span>A</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B</span></span><span><span>&gt;</span></span><span><span>(</span></span><span><span>arr1</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B</span></span><span><span>]</span></span><span><span>,</span></span><span> </span><span><span>arr2</span></span><span>:</span><span> </span><span><span>[</span></span><span><span>]</span></span><span><span>)</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B</span></span><span><span>]</span></span><span><span>;</span></span><span>
</span><span><span>function</span></span><span> </span><span><span>concat</span></span><span><span>&lt;</span></span><span color:="" #267f99;"=""><span>A</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C</span></span><span><span>&gt;</span></span><span><span>(</span></span><span><span>arr1</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C</span></span><span><span>]</span></span><span><span>,</span></span><span> </span><span><span>arr2</span></span><span>:</span><span> </span><span><span>[</span></span><span><span>]</span></span><span><span>)</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C</span></span><span><span>]</span></span><span><span>;</span></span><span>
</span><span><span>function</span></span><span> </span><span><span>concat</span></span><span><span>&lt;</span></span><span color:="" #267f99;"=""><span>A</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>D</span></span><span><span>&gt;</span></span><span><span>(</span></span><span><span>arr1</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>D</span></span><span><span>]</span></span><span><span>,</span></span><span> </span><span><span>arr2</span></span><span>:</span><span> </span><span><span>[</span></span><span><span>]</span></span><span><span>)</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>D</span></span><span><span>]</span></span><span><span>;</span></span><span>
</span><span><span>function</span></span><span> </span><span><span>concat</span></span><span><span>&lt;</span></span><span color:="" #267f99;"=""><span>A</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>D</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>E</span></span><span><span>&gt;</span></span><span><span>(</span></span><span><span>arr1</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>D</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>E</span></span><span><span>]</span></span><span><span>,</span></span><span> </span><span><span>arr2</span></span><span>:</span><span> </span><span><span>[</span></span><span><span>]</span></span><span><span>)</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>D</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>E</span></span><span><span>]</span></span><span><span>;</span></span><span>
</span><span><span>function</span></span><span> </span><span><span>concat</span></span><span><span>&lt;</span></span><span color:="" #267f99;"=""><span>A</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>D</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>E</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>F</span></span><span><span>&gt;</span></span><span><span>(</span></span><span><span>arr1</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>D</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>E</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>F</span></span><span><span>]</span></span><span><span>,</span></span><span> </span><span><span>arr2</span></span><span>:</span><span> </span><span><span>[</span></span><span><span>]</span></span><span><span>)</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>D</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>E</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>F</span></span><span><span>]</span></span><span><span>;</span></span><span><span>)</span></span></pre></div><p>Uh…okay, that’s…seven overloads for when the second array is always empty. Let’s add some for when <code><span>arr2</span></code> has one argument.</p><div><pre><span><span>function</span></span><span> </span><span><span>concat</span></span><span><span>&lt;</span></span><span color:="" #267f99;"=""><span>A2</span></span><span><span>&gt;</span></span><span><span>(</span></span><span><span>arr1</span></span><span>:</span><span> </span><span><span>[</span></span><span><span>]</span></span><span><span>,</span></span><span> </span><span><span>arr2</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A2</span></span><span><span>]</span></span><span><span>)</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A2</span></span><span><span>]</span></span><span><span>;</span></span><span>
</span><span><span>function</span></span><span> </span><span><span>concat</span></span><span><span>&lt;</span></span><span color:="" #267f99;"=""><span>A1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>A2</span></span><span><span>&gt;</span></span><span><span>(</span></span><span><span>arr1</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A1</span></span><span><span>]</span></span><span><span>,</span></span><span> </span><span><span>arr2</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A2</span></span><span><span>]</span></span><span><span>)</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>A2</span></span><span><span>]</span></span><span><span>;</span></span><span>
</span><span><span>function</span></span><span> </span><span><span>concat</span></span><span><span>&lt;</span></span><span color:="" #267f99;"=""><span>A1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>A2</span></span><span><span>&gt;</span></span><span><span>(</span></span><span><span>arr1</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B1</span></span><span><span>]</span></span><span><span>,</span></span><span> </span><span><span>arr2</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A2</span></span><span><span>]</span></span><span><span>)</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>A2</span></span><span><span>]</span></span><span><span>;</span></span><span>
</span><span><span>function</span></span><span> </span><span><span>concat</span></span><span><span>&lt;</span></span><span color:="" #267f99;"=""><span>A1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>A2</span></span><span><span>&gt;</span></span><span><span>(</span></span><span><span>arr1</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C1</span></span><span><span>]</span></span><span><span>,</span></span><span> </span><span><span>arr2</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A2</span></span><span><span>]</span></span><span><span>)</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>A2</span></span><span><span>]</span></span><span><span>;</span></span><span>
</span><span><span>function</span></span><span> </span><span><span>concat</span></span><span><span>&lt;</span></span><span color:="" #267f99;"=""><span>A1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>D1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>A2</span></span><span><span>&gt;</span></span><span><span>(</span></span><span><span>arr1</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>D1</span></span><span><span>]</span></span><span><span>,</span></span><span> </span><span><span>arr2</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A2</span></span><span><span>]</span></span><span><span>)</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>D1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>A2</span></span><span><span>]</span></span><span><span>;</span></span><span>
</span><span><span>function</span></span><span> </span><span><span>concat</span></span><span><span>&lt;</span></span><span color:="" #267f99;"=""><span>A1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>D1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>E1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>A2</span></span><span><span>&gt;</span></span><span><span>(</span></span><span><span>arr1</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>D1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>E1</span></span><span><span>]</span></span><span><span>,</span></span><span> </span><span><span>arr2</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A2</span></span><span><span>]</span></span><span><span>)</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>D1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>E1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>A2</span></span><span><span>]</span></span><span><span>;</span></span><span>
</span><span><span>function</span></span><span> </span><span><span>concat</span></span><span><span>&lt;</span></span><span color:="" #267f99;"=""><span>A1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>D1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>E1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>F1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>A2</span></span><span><span>&gt;</span></span><span><span>(</span></span><span><span>arr1</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>D1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>E1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>F1</span></span><span><span>]</span></span><span><span>,</span></span><span> </span><span><span>arr2</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A2</span></span><span><span>]</span></span><span><span>)</span></span><span>:</span><span> </span><span><span>[</span></span><span color:="" #267f99;"=""><span>A1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>B1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>C1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>D1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>E1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>F1</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>A2</span></span><span><span>]</span></span><span><span>;</span></span></pre></div><p>We hope it’s clear that this is getting unreasonable. Unfortunately you’d also end up with the same sorts of issues typing a function like <code><span>tail</span></code>.</p><p>This is another case of what we like to call “death by a thousand overloads”, and it doesn’t even solve the problem generally. It only gives correct types for as many overloads as we care to write. If we wanted to make a catch-all case, we’d need an overload like the following:</p><div><pre><span><span>function</span></span><span> </span><span><span>concat</span></span><span><span>&lt;</span></span><span color:="" #267f99;"=""><span>T</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>U</span></span><span><span>&gt;</span></span><span><span>(</span></span><span><span>arr1</span></span><span>:</span><span> </span><span color:="" #267f99;"=""><span>T</span></span><span><span>[</span></span><span><span>]</span></span><span><span>,</span></span><span> </span><span><span>arr2</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>U</span></span><span><span>[</span></span><span><span>]</span></span><span><span>)</span></span><span>:</span><span> </span><span color:="" #267f99;"=""><span>Array</span></span><span><span>&lt;</span></span><span color:="" #267f99;"=""><span>T</span></span><span> </span><span>|</span><span> </span><span color:="" #267f99;"=""><span>U</span></span><span><span>&gt;</span></span><span><span>;</span></span></pre></div><p>But that signature doesn’t encode anything about the lengths of the input, or the order of the elements, when using tuples.</p><p>TypeScript 4.0 brings two fundamental changes, along with inference improvements, to make typing these possible.</p><p>The first change is that spreads in tuple type syntax can now be generic. This means that we can represent higher-order operations on tuples and arrays even when we don’t know the actual types we’re operating over. When generic spreads are instantiated (or, replaced with a real type) in these tuple types, they can produce other sets of array and tuple types.</p><p>For example, that means we can type function like <code><span>tail</span></code>, without our “death by a thousand overloads” issue.</p><div><pre><span><span>function</span></span><span> </span><span><span>tail</span></span><span><span>&lt;</span></span><span color:="" #267f99;"=""><span>T</span></span><span> </span><span><span>extends</span></span><span> </span><span><span>any</span></span><span><span>[</span></span><span><span>]</span></span><span><span>&gt;</span></span><span><span>(</span></span><span><span>arr</span></span><span>:</span><span> </span><span><span>readonly</span></span><span> </span><span><span>[</span></span><span><span>any</span></span><span><span>,</span></span><span> </span><span>...</span><span color:="" #267f99;"=""><span>T</span></span><span><span>]</span></span><span><span>)</span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>const</span></span><span> </span><span><span>[</span></span><span><span>_ignored</span></span><span><span>,</span></span><span> </span><span>...</span><span><span>rest</span></span><span><span>]</span></span><span> </span><span><span>=</span></span><span> </span><span><span>arr</span></span><span><span>;</span></span><span>
    </span><span><span>return</span></span><span> </span><span><span>rest</span></span><span><span>;</span></span><span>
</span><span><span>}</span></span><span>

</span><span><span>const</span></span><span> </span><span><span>myTuple</span></span><span> </span><span><span>=</span></span><span> </span><span><span>[</span></span><span><span>1</span></span><span><span>,</span></span><span> </span><span><span>2</span></span><span><span>,</span></span><span> </span><span><span>3</span></span><span><span>,</span></span><span> </span><span><span>4</span></span><span><span>]</span></span><span> </span><span><span>as</span></span><span> </span><span><span>const</span></span><span><span>;</span></span><span>
</span><span><span>const</span></span><span> </span><span><span>myArray</span></span><span> </span><span><span>=</span></span><span> </span><span><span>[</span></span><span><span>"hello"</span></span><span><span>,</span></span><span> </span><span><span>"world"</span></span><span><span>]</span></span><span><span>;</span></span><span>

</span><span><span>// type [2, 3, 4]</span></span><span>
</span><span><span>const</span></span><span> </span><span><span>r1</span></span><span> </span><span><span>=</span></span><span> </span><span><span>tail</span></span><span><span>(</span></span><span><span>myTuple</span></span><span><span>)</span></span><span><span>;</span></span><span>

</span><span><span>// type [2, 3, ...string[]]</span></span><span>
</span><span><span>const</span></span><span> </span><span><span>r2</span></span><span> </span><span><span>=</span></span><span> </span><span><span>tail</span></span><span><span>(</span></span><span><span>[</span></span><span>...</span><span><span>myTuple</span></span><span><span>,</span></span><span> </span><span>...</span><span><span>myArray</span></span><span><span>]</span></span><span> </span><span><span>as</span></span><span> </span><span><span>const</span></span><span><span>)</span></span><span><span>;</span></span></pre></div><p>The second change is that spread elements can occur anywhere in a tuple – not just at the end!</p><div><pre><span><span>type</span></span><span> </span><span color:="" #267f99;"=""><span>Strings</span></span><span> </span><span><span>=</span></span><span> </span><span><span>[</span></span><span><span>string</span></span><span><span>,</span></span><span> </span><span><span>string</span></span><span><span>]</span></span><span><span>;</span></span><span>
</span><span><span>type</span></span><span> </span><span color:="" #267f99;"=""><span>Numbers</span></span><span> </span><span><span>=</span></span><span> </span><span><span>[</span></span><span><span>number</span></span><span><span>,</span></span><span> </span><span><span>number</span></span><span><span>]</span></span><span><span>;</span></span><span>

</span><span><span>// [string, string, number, number]</span></span><span>
</span><span><span>type</span></span><span> </span><span color:="" #267f99;"=""><span>StrStrNumNum</span></span><span> </span><span><span>=</span></span><span> </span><span><span>[</span></span><span>...</span><span color:="" #267f99;"=""><span>Strings</span></span><span><span>,</span></span><span> </span><span>...</span><span color:="" #267f99;"=""><span>Numbers</span></span><span><span>]</span></span><span><span>;</span></span></pre></div><p>Previously, TypeScript would issue an error like the following.</p><pre><code><span><span>A rest element must be </span></span><span><span>last</span></span><span><span> </span></span><span><span>in</span></span><span><span> a tuple type</span></span><span><span>.</span></span></code></pre><p>But now the language can flatten spreads at any position.</p><p>When we spread in a type without a known length, the resulting type becomes unbounded as well, and all consecutive elements factor into the resulting rest element type.</p><div><pre><span><span>type</span></span><span> </span><span color:="" #267f99;"=""><span>Strings</span></span><span> </span><span><span>=</span></span><span> </span><span><span>[</span></span><span><span>string</span></span><span><span>,</span></span><span> </span><span><span>string</span></span><span><span>]</span></span><span><span>;</span></span><span>
</span><span><span>type</span></span><span> </span><span color:="" #267f99;"=""><span>Numbers</span></span><span> </span><span><span>=</span></span><span> </span><span><span>number</span></span><span><span>[</span></span><span><span>]</span></span><span>

</span><span><span>// [string, string, ...Array&lt;number | boolean&gt;]</span></span><span>
</span><span><span>type</span></span><span> </span><span color:="" #267f99;"=""><span>Unbounded</span></span><span> </span><span><span>=</span></span><span> </span><span><span>[</span></span><span>...</span><span color:="" #267f99;"=""><span>Strings</span></span><span><span>,</span></span><span> </span><span>...</span><span color:="" #267f99;"=""><span>Numbers</span></span><span><span>,</span></span><span> </span><span><span>boolean</span></span><span><span>]</span></span><span><span>;</span></span></pre></div><p>By combining both of these behaviors together, we can write a single well-typed signature for <code><span>concat</span></code>:</p><div><pre><span><span>type</span></span><span> </span><span color:="" #267f99;"=""><span>Arr</span></span><span> </span><span><span>=</span></span><span> </span><span><span>readonly</span></span><span> any</span><span><span>[</span></span><span><span>]</span></span><span><span>;</span></span><span>

</span><span><span>function</span></span><span> </span><span><span>concat</span></span><span><span>&lt;</span></span><span color:="" #267f99;"=""><span>T</span></span><span> </span><span><span>extends</span></span><span> </span><span color:="" #267f99;"=""><span>Arr</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>U</span></span><span> </span><span><span>extends</span></span><span> </span><span color:="" #267f99;"=""><span>Arr</span></span><span><span>&gt;</span></span><span><span>(</span></span><span><span>arr1</span></span><span>:</span><span> </span><span color:="" #267f99;"=""><span>T</span></span><span><span>,</span></span><span> </span><span><span>arr2</span></span><span>:</span><span> </span><span color:="" #267f99;"=""><span>U</span></span><span><span>)</span></span><span>:</span><span> </span><span><span>[</span></span><span>...</span><span color:="" #267f99;"=""><span>T</span></span><span><span>,</span></span><span> </span><span>...</span><span color:="" #267f99;"=""><span>U</span></span><span><span>]</span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>return</span></span><span> </span><span><span>[</span></span><span>...</span><span><span>arr1</span></span><span><span>,</span></span><span> </span><span>...</span><span><span>arr2</span></span><span><span>]</span></span><span><span>;</span></span><span>
</span><span><span>}</span></span></pre></div><p>While that one signature is still a bit lengthy, it’s still only one signature, it only has to be written once, and it actually gives predictable behavior on all arrays and tuples.</p><p>This functionality on its own is great, but there are other more sophisticated scenarios too. For example, consider a function to <a href="https://en.wikipedia.org/wiki/Partial_application" rel="nofollow" target="_blank">partially apply arguments</a> called <code><span>partialCall</span></code>. <code><span>partialCall</span></code> takes a function along with the initial few arguments that that function expects. It then returns a new function that takes any other arguments the function needs, and calls them together.</p><div><pre><span><span>function</span></span><span> </span><span><span>partialCall</span></span><span><span>(</span></span><span><span>f</span></span><span><span>,</span></span><span> </span><span>...</span><span><span>headArgs</span></span><span><span>)</span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>return</span></span><span> </span><span><span>(</span></span><span>...</span><span><span>tailArgs</span></span><span><span>)</span></span><span> </span><span><span>=&gt;</span></span><span> </span><span><span>f</span></span><span><span>(</span></span><span>...</span><span><span>headArgs</span></span><span><span>,</span></span><span> </span><span>...</span><span><span>tailArgs</span></span><span><span>)</span></span><span>
</span><span><span>}</span></span></pre></div><p>TypeScript 4.0 improves the inference process for rest parameters and rest tuple elements so that we can type this and have it “just work”.</p><div><pre><span><span>type</span></span><span> </span><span color:="" #267f99;"=""><span>Arr</span></span><span> </span><span><span>=</span></span><span> </span><span><span>readonly</span></span><span> </span><span><span>unknown</span></span><span><span>[</span></span><span><span>]</span></span><span><span>;</span></span><span>

</span><span><span>function</span></span><span> </span><span><span>partialCall</span></span><span><span>&lt;</span></span><span color:="" #267f99;"=""><span>T</span></span><span> </span><span><span>extends</span></span><span> </span><span color:="" #267f99;"=""><span>Arr</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>U</span></span><span> </span><span><span>extends</span></span><span> </span><span color:="" #267f99;"=""><span>Arr</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>R</span></span><span><span>&gt;</span></span><span><span>(</span></span><span><span>f</span></span><span>:</span><span> </span><span><span>(</span></span><span>...</span><span><span>args</span></span><span>:</span><span> </span><span><span>[</span></span><span>...</span><span color:="" #267f99;"=""><span>T</span></span><span><span>,</span></span><span> </span><span>...</span><span color:="" #267f99;"=""><span>U</span></span><span><span>]</span></span><span><span>)</span></span><span> </span><span><span>=&gt;</span></span><span> </span><span color:="" #267f99;"=""><span>R</span></span><span><span>,</span></span><span> </span><span>...</span><span><span>headArgs</span></span><span>:</span><span> </span><span color:="" #267f99;"=""><span>T</span></span><span><span>)</span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>return</span></span><span> </span><span><span>(</span></span><span>...</span><span><span>b</span></span><span>:</span><span> </span><span color:="" #267f99;"=""><span>U</span></span><span><span>)</span></span><span> </span><span><span>=&gt;</span></span><span> </span><span><span>f</span></span><span><span>(</span></span><span>...</span><span><span>headArgs</span></span><span><span>,</span></span><span> </span><span>...</span><span><span>b</span></span><span><span>)</span></span><span>
</span><span><span>}</span></span></pre></div><p>In this case, <code><span>partialCall</span></code> understands which parameters it can and can’t initially take, and returns functions that appropriately accept and reject anything left over.</p><div><pre><span><span>const</span></span><span> </span><span><span>foo</span></span><span> </span><span><span>=</span></span><span> </span><span><span>(</span></span><span><span>x</span></span><span>:</span><span> </span><span><span>string</span></span><span><span>,</span></span><span> </span><span><span>y</span></span><span>:</span><span> </span><span><span>number</span></span><span><span>,</span></span><span> </span><span><span>z</span></span><span>:</span><span> </span><span><span>boolean</span></span><span><span>)</span></span><span> </span><span><span>=&gt;</span></span><span> </span><span><span>{</span></span><span><span>}</span></span><span>

</span><span><span>// This doesn't work because we're feeding in the wrong type for 'x'.</span></span><span>
</span><span><span>const</span></span><span> </span><span><span>f1</span></span><span> </span><span><span>=</span></span><span> </span><span><span>partialCall</span></span><span><span>(</span></span><span><span>foo</span></span><span><span>,</span></span><span> </span><span><span>100</span></span><span><span>)</span></span><span><span>;</span></span><span>
</span><span><span>//                          ~~~</span></span><span>
</span><span><span>// error! Argument of type 'number' is not assignable to parameter of type 'string'.</span></span><span>


</span><span><span>// This doesn't work because we're passing in too many arguments.</span></span><span>
</span><span><span>const</span></span><span> </span><span><span>f2</span></span><span> </span><span><span>=</span></span><span> </span><span><span>partialCall</span></span><span><span>(</span></span><span><span>foo</span></span><span><span>,</span></span><span> </span><span><span>"hello"</span></span><span><span>,</span></span><span> </span><span><span>100</span></span><span><span>,</span></span><span> </span><span><span>true</span></span><span><span>,</span></span><span> </span><span><span>"oops"</span></span><span><span>)</span></span><span>
</span><span><span>//                                              ~~~~~~</span></span><span>
</span><span><span>// error! Expected 4 arguments, but got 5.</span></span><span>


</span><span><span>// This works! It has the type '(y: number, z: boolean) =&gt; void'</span></span><span>
</span><span><span>const</span></span><span> </span><span><span>f3</span></span><span> </span><span><span>=</span></span><span> </span><span><span>partialCall</span></span><span><span>(</span></span><span><span>foo</span></span><span><span>,</span></span><span> </span><span><span>"hello"</span></span><span><span>)</span></span><span><span>;</span></span><span>

</span><span><span>// What can we do with f3 now?</span></span><span>

</span><span><span>f3</span></span><span><span>(</span></span><span><span>123</span></span><span><span>,</span></span><span> </span><span><span>true</span></span><span><span>)</span></span><span><span>;</span></span><span> </span><span><span>// works!</span></span><span>

</span><span><span>f3</span></span><span><span>(</span></span><span><span>)</span></span><span><span>;</span></span><span>
</span><span><span>// error! Expected 2 arguments, but got 0.</span></span><span>

</span><span><span>f3</span></span><span><span>(</span></span><span><span>123</span></span><span><span>,</span></span><span> </span><span><span>"hello"</span></span><span><span>)</span></span><span><span>;</span></span><span>
</span><span><span>//      ~~~~~~~</span></span><span>
</span><span><span>// error! Argument of type '"hello"' is not assignable to parameter of type 'boolean'.</span></span></pre></div><p>Variadic tuple types enable a lot of new exciting patterns, especially around function composition. We expect we may be able to leverage it to do a better job type-checking JavaScript’s built-in <code><span>bind</span></code> method. A handful of other inference improvements and patterns also went into this, and if you’re interested in learning more, you can take a look at <a href="https://github.com/microsoft/TypeScript/pull/39094" target="_blank">the pull request</a> for variadic tuples.</p><h2><a name="labeled-tuple-elements"></a> Labeled Tuple Elements</h2><p>Improving the experience around tuple types and parameter lists is important because it allows us to get strongly typed validation around common JavaScript idioms – really just slicing and dicing argument lists and passing them to other functions. The idea that we can use tuple types for rest parameters is one place where this is crucial.</p><p>For example, the following function that uses a tuple type as a rest parameter…</p><div><pre><span><span>function</span></span><span> </span><span><span>foo</span></span><span><span>(</span></span><span>...</span><span><span>args</span></span><span>:</span><span> </span><span><span>[</span></span><span><span>string</span></span><span><span>,</span></span><span> </span><span><span>number</span></span><span><span>]</span></span><span><span>)</span></span><span>:</span><span> </span><span><span><span>void</span></span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>// ...</span></span><span>
</span><span><span>}</span></span></pre></div><p>…should appear no different from the following function…</p><div><pre><span><span>function</span></span><span> </span><span><span>foo</span></span><span><span>(</span></span><span><span>arg0</span></span><span>:</span><span> </span><span><span>string</span></span><span><span>,</span></span><span> </span><span><span>arg1</span></span><span>:</span><span> </span><span><span>number</span></span><span><span>)</span></span><span>:</span><span> </span><span><span><span>void</span></span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>// ...</span></span><span>
</span><span><span>}</span></span></pre></div><p>…for any caller of <code><span>foo</span></code>.</p><div><pre><span><span>foo</span></span><span><span>(</span></span><span><span>"hello"</span></span><span><span>,</span></span><span> </span><span><span>42</span></span><span><span>)</span></span><span><span>;</span></span><span> </span><span><span>// works</span></span><span>

</span><span><span>foo</span></span><span><span>(</span></span><span><span>"hello"</span></span><span><span>,</span></span><span> </span><span><span>42</span></span><span><span>,</span></span><span> </span><span><span>true</span></span><span><span>)</span></span><span><span>;</span></span><span> </span><span><span>// error</span></span><span>
</span><span><span>foo</span></span><span><span>(</span></span><span><span>"hello"</span></span><span><span>)</span></span><span><span>;</span></span><span> </span><span><span>// error</span></span></pre></div><p>There is one place where the differences begin to become observable though: readability. In the first example, we have no parameter names for the first and second elements. While these have no impact on type-checking, the lack of labels on tuple positions can make them harder to use – harder to communicate our intent.</p><p>That’s why in TypeScript 4.0, tuples types can now provide labels.</p><div><pre><span><span>type</span></span><span> </span><span color:="" #267f99;"=""><span>Range</span></span><span> </span><span><span>=</span></span><span> </span><span><span>[</span></span><span><span>start</span></span><span>:</span><span> number</span><span><span>,</span></span><span> </span><span><span>end</span></span><span>:</span><span> number</span><span><span>]</span></span><span><span>;</span></span></pre></div><p>Further pushing the connection between parameter lists and tuple types, we’ve made the syntax for rest elements and optional elements mirror that of parameter lists.</p><div><pre><span><span>type</span></span><span> </span><span color:="" #267f99;"=""><span>Foo</span></span><span> </span><span><span>=</span></span><span> </span><span><span>[</span></span><span><span>first</span></span><span>:</span><span> number</span><span><span>,</span></span><span> </span><span><span>second</span></span><span>?:</span><span> </span><span>string</span><span><span>,</span></span><span> </span><span>...</span><span><span>rest</span></span><span>:</span><span> any</span><span><span>[</span></span><span><span>]</span></span><span><span>]</span></span><span><span>;</span></span></pre></div><p>When labeling a tuple element, all other elements in the tuple must also be labeled.</p><div><pre><span><span>type</span></span><span> </span><span color:="" #267f99;"=""><span>Bar</span></span><span> </span><span><span>=</span></span><span> </span><span><span>[</span></span><span><span>first</span></span><span>:</span><span> </span><span>string</span><span><span>,</span></span><span> </span><span><span>number</span></span><span><span>]</span></span><span><span>;</span></span><span>
</span><span><span>//                         ~~~~~~</span></span><span>
</span><span><span>// error! Tuple members must all have names or all not have names.</span></span></pre></div><p>It’s worth noting – labels don’t require us to name our variables differently when destructuring. They’re purely there for documentation and tooling.</p><div><pre><span><span>function</span></span><span> </span><span><span>foo</span></span><span><span>(</span></span><span><span>x</span></span><span>:</span><span> </span><span><span>[</span></span><span><span>first</span></span><span>:</span><span> </span><span><span>string</span></span><span><span>,</span></span><span> </span><span><span>second</span></span><span>:</span><span> </span><span><span>number</span></span><span><span>]</span></span><span><span>)</span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>// ...</span></span><span>

    </span><span><span>// note: we didn't need to name these 'first' and 'second'</span></span><span>
    </span><span><span>let</span></span><span> </span><span><span>[</span></span><span><span>a</span></span><span><span>,</span></span><span> </span><span><span>b</span></span><span><span>]</span></span><span> </span><span><span>=</span></span><span> </span><span><span>x</span></span><span><span>;</span></span><span>

    </span><span><span>// ...</span></span><span>
</span><span><span>}</span></span></pre></div><p>On the whole, labeled tuples are handy when taking advantage of patterns around tuples and argument lists, along with implementing overloads in a type-safe way. To learn more, check out <a href="https://github.com/microsoft/TypeScript/pull/38234" target="_blank">the pull request</a> for labeled tuple elements.</p><h2><a name="class-property-inference"></a> Class Property Inference from Constructors</h2><p>TypeScript 4.0 can now use control flow analysis to determine the types of properties in classes when <code><span>noImplicitAny</span></code> is enabled.</p><div><pre><span><span>class</span></span><span> </span><span color:="" #267f99;"=""><span>Square</span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>// Previously: implicit any!</span></span><span>
    </span><span><span>// Now: inferred to `number`!</span></span><span>
    </span><span><span>area</span></span><span><span>;</span></span><span>
    </span><span><span>sideLength</span></span><span><span>;</span></span><span>

    </span><span><span>constructor</span></span><span><span>(</span></span><span><span>sideLength</span></span><span>:</span><span> </span><span><span>number</span></span><span><span>)</span></span><span> </span><span><span>{</span></span><span>
        </span><span><span>this</span></span><span><span>.</span></span><span><span>sideLength</span></span><span> </span><span><span>=</span></span><span> </span><span><span>sideLength</span></span><span><span>;</span></span><span>
        </span><span><span>this</span></span><span><span>.</span></span><span><span>area</span></span><span> </span><span><span>=</span></span><span> </span><span><span>sideLength</span></span><span> </span><span>**</span><span> </span><span><span>2</span></span><span><span>;</span></span><span>
    </span><span><span>}</span></span><span>
</span><span><span>}</span></span></pre></div><p>In cases where not all paths of a constructor assign to an instance member, the property is considered to potentially be <code><span>undefined</span></code>.</p><div><pre><span><span>class</span></span><span> </span><span color:="" #267f99;"=""><span>Square</span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>sideLength</span></span><span><span>;</span></span><span>

    </span><span><span>constructor</span></span><span><span>(</span></span><span><span>sideLength</span></span><span>:</span><span> </span><span><span>number</span></span><span><span>)</span></span><span> </span><span><span>{</span></span><span>
        </span><span><span>if</span></span><span> </span><span><span>(</span></span><span color:="" #267f99;"=""><span>Math</span></span><span><span>.</span></span><span><span>random</span></span><span><span>(</span></span><span><span>)</span></span><span><span>)</span></span><span> </span><span><span>{</span></span><span>
            </span><span><span>this</span></span><span><span>.</span></span><span><span>sideLength</span></span><span> </span><span><span>=</span></span><span> </span><span><span>sideLength</span></span><span><span>;</span></span><span>
        </span><span><span>}</span></span><span>
    </span><span><span>}</span></span><span>

    </span><span><span>get</span></span><span> </span><span><span>area</span></span><span><span>(</span></span><span><span>)</span></span><span> </span><span><span>{</span></span><span>
        </span><span><span>return</span></span><span> </span><span><span>this</span></span><span><span>.</span></span><span><span>sideLength</span></span><span> </span><span>**</span><span> </span><span><span>2</span></span><span><span>;</span></span><span>
        </span><span><span>//     ~~~~~~~~~~~~~~~</span></span><span>
        </span><span><span>// error! Object is possibly 'undefined'.</span></span><span>
    </span><span><span>}</span></span><span>
</span><span><span>}</span></span></pre></div><p>In cases where you know better (e.g. you have an <code><span>initialize</span></code> method of some sort), you’ll need an explicit type annotation along with a definite assignment assertion (<code><span>!</span></code>) if you’re in <code><span>strictPropertyInitialization</span></code>.</p><div><pre><span><span>class</span></span><span> </span><span color:="" #267f99;"=""><span>Square</span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>// definite assignment assertion</span></span><span>
    </span><span><span>//        v</span></span><span>
    </span><span><span>sideLength</span></span><span>!:</span><span> </span><span><span>number</span></span><span><span>;</span></span><span>
    </span><span><span>//         ^^^^^^^^</span></span><span>
    </span><span><span>// type annotation</span></span><span>

    </span><span><span>constructor</span></span><span><span>(</span></span><span><span>sideLength</span></span><span>:</span><span> </span><span><span>number</span></span><span><span>)</span></span><span> </span><span><span>{</span></span><span>
        </span><span><span>this</span></span><span><span>.</span></span><span><span>initialize</span></span><span><span>(</span></span><span><span>sideLength</span></span><span><span>)</span></span><span>
    </span><span><span>}</span></span><span>

    </span><span><span>initialize</span></span><span><span>(</span></span><span><span>sideLength</span></span><span>:</span><span> </span><span><span>number</span></span><span><span>)</span></span><span> </span><span><span>{</span></span><span>
        </span><span><span>this</span></span><span><span>.</span></span><span><span>sideLength</span></span><span> </span><span><span>=</span></span><span> </span><span><span>sideLength</span></span><span><span>;</span></span><span>
    </span><span><span>}</span></span><span>

    </span><span><span>get</span></span><span> </span><span><span>area</span></span><span><span>(</span></span><span><span>)</span></span><span> </span><span><span>{</span></span><span>
        </span><span><span>return</span></span><span> </span><span><span>this</span></span><span><span>.</span></span><span><span>sideLength</span></span><span> </span><span>**</span><span> </span><span><span>2</span></span><span><span>;</span></span><span>
    </span><span><span>}</span></span><span>
</span><span><span>}</span></span></pre></div><h2><a name="short-circuiting-assignment-operators"></a> Short-Circuiting Assignment Operators</h2><p>JavaScript, and a lot of other languages, support a set of operators called <em>compound assignment</em> operators. Compound assignment operators apply an operator to two arguments and then assign the result to the left side. You may have seen these before:</p><div><pre><span><span>// Addition</span></span><span>
</span><span><span>// a = a + b</span></span><span>
</span><span><span>a</span></span><span> </span><span><span>+=</span></span><span> </span><span><span>b</span></span><span><span>;</span></span><span>

</span><span><span>// Subtraction</span></span><span>
</span><span><span>// a = a - b</span></span><span>
</span><span><span>a</span></span><span> </span><span><span>-=</span></span><span> </span><span><span>b</span></span><span><span>;</span></span><span>

</span><span><span>// Multiplication</span></span><span>
</span><span><span>// a = a * b</span></span><span>
</span><span><span>a</span></span><span> </span><span>*=</span><span> </span><span><span>b</span></span><span><span>;</span></span><span>

</span><span><span>// Division</span></span><span>
</span><span><span>// a = a / b</span></span><span>
</span><span><span>a</span></span><span> </span><span>/=</span><span> </span><span><span>b</span></span><span><span>;</span></span><span>

</span><span><span>// Exponentiation</span></span><span>
</span><span><span>// a = a ** b</span></span><span>
</span><span><span>a</span></span><span> </span><span>**=</span><span> </span><span><span>b</span></span><span><span>;</span></span><span>

</span><span><span>// Left Bit Shift</span></span><span>
</span><span><span>// a = a &lt;&lt; b</span></span><span>
</span><span><span>a</span></span><span> </span><span>&lt;&lt;=</span><span> </span><span><span>b</span></span><span><span>;</span></span></pre></div><p>So many operators in JavaScript have a corresponding assignment operator! But there are three notable exceptions: logical <em>and</em> (<code><span>&amp;&amp;</span></code>), logical <em>or</em> (<code><span>||</span></code>), and nullish coalescing (<code><span>??</span></code>).</p><p>That’s why TypeScript 4.0 supports a promising proposal to add three new assignment operators: <code><span>&amp;&amp;=</span></code>, <code><span>||=</span></code>, and <code><span>??=</span></code>.</p><p>These operators are great for substituting any example where a user might write code like the following:</p><div><pre><span><span>a</span></span><span> </span><span><span>=</span></span><span> </span><span><span>a</span></span><span> </span><span><span>&amp;&amp;</span></span><span> </span><span><span>b</span></span><span><span>;</span></span><span>
</span><span><span>a</span></span><span> </span><span><span>=</span></span><span> </span><span><span>a</span></span><span> </span><span><span>||</span></span><span> </span><span><span>b</span></span><span><span>;</span></span><span>
</span><span><span>a</span></span><span> </span><span><span>=</span></span><span> </span><span><span>a</span></span><span> </span><span>??</span><span> </span><span><span>b</span></span><span><span>;</span></span></pre></div><p>There are even some patterns we’ve seen (or, uh, written ourselves) to lazily initialize values when they’ll be needed.</p><div><pre><span><span>let</span></span><span> </span><span><span>values</span></span><span>:</span><span> </span><span><span>string</span></span><span><span>[</span></span><span><span>]</span></span><span><span>;</span></span><span>

</span><span><span>// Before</span></span><span>
</span><span><span>(</span></span><span><span>values</span></span><span> </span><span>??</span><span> </span><span><span>(</span></span><span><span>values</span></span><span> </span><span><span>=</span></span><span> </span><span><span>[</span></span><span><span>]</span></span><span><span>)</span></span><span><span>)</span></span><span><span>.</span></span><span><span>push</span></span><span><span>(</span></span><span><span>"hello"</span></span><span><span>)</span></span><span><span>;</span></span><span>

</span><span><span>// After</span></span><span>
</span><span><span>(</span></span><span><span>values</span></span><span> </span><span>??</span><span><span>=</span></span><span> </span><span><span>[</span></span><span><span>]</span></span><span><span>)</span></span><span><span>.</span></span><span><span>push</span></span><span><span>(</span></span><span><span>"hello"</span></span><span><span>)</span></span><span><span>;</span></span></pre></div><p>(look, we’re not proud of <em>all</em> the code we write…)</p><p>On the rare case that you use getters or setters with side-effects, it’s worth noting that these operators only perform assignments if necessary. In that sense, the assignment is <em>short-circuited</em>, which is the only way they differ from other compound assignments.</p><div><pre><span><span>a</span></span><span> </span><span><span>||</span></span><span><span>=</span></span><span> </span><span><span>b</span></span><span><span>;</span></span><span>

</span><span><span>// actually equivalent to</span></span><span>

</span><span><span>a</span></span><span> </span><span><span>||</span></span><span> </span><span><span>(</span></span><span><span>a</span></span><span> </span><span><span>=</span></span><span> </span><span><span>b</span></span><span><span>)</span></span><span><span>;</span></span></pre></div><p>We’d like to extend a big thanks to community member <a href="https://github.com/Kingwl" target="_blank">Wenlu Wang</a> for this contribution!</p><p>For more details, you can <a href="https://github.com/microsoft/TypeScript/pull/37727" target="_blank">take a look at the pull request here</a>. You can also <a href="https://github.com/tc39/proposal-logical-assignment/" target="_blank">check out TC39’s proposal repository for this feature</a>.</p><h2><a name="unknown-on-catch"></a> <code><span>unknown</span></code> on <code><span>catch</span></code> Clause Bindings</h2><p>Since the beginning days of TypeScript, <code><span>catch</span></code> clause variables were always typed as <code><span>any</span></code>. This meant that TypeScript allowed you to do anything you wanted with them.</p><div><pre><span><span>try</span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>// ...</span></span><span>
</span><span><span>}</span></span><span>
</span><span><span>catch</span></span><span> </span><span><span>(</span></span><span><span>x</span></span><span><span>)</span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>// x has type 'any' - have fun!</span></span><span>
    </span><span><span>console</span></span><span><span>.</span></span><span><span>log</span></span><span><span>(</span></span><span><span>x</span></span><span><span>.</span></span><span><span>message</span></span><span><span>)</span></span><span><span>;</span></span><span>
    </span><span><span>console</span></span><span><span>.</span></span><span><span>log</span></span><span><span>(</span></span><span><span>x</span></span><span><span>.</span></span><span><span>toUpperCase</span></span><span><span>(</span></span><span><span>)</span></span><span><span>)</span></span><span><span>;</span></span><span>
    </span><span><span>x</span></span><span><span>++</span></span><span><span>;</span></span><span>
    </span><span><span>x</span></span><span><span>.</span></span><span><span>yadda</span></span><span><span>.</span></span><span><span>yadda</span></span><span><span>.</span></span><span><span>yadda</span></span><span><span>(</span></span><span><span>)</span></span><span><span>;</span></span><span>
</span><span><span>}</span></span></pre></div><p>The above has some undesirable behavior if we’re trying to prevent <em>more</em> errors from accidentally happening in our error-handling code! Because these variables have the type <code><span>any</span></code> by default, they lack any type-safety which could prevent invalid operations.</p><p>That’s why TypeScript 4.0 now lets you specify the type of <code><span>catch</span></code> clause variables as <code><span>unknown</span></code> instead. <code><span>unknown</span></code> is safer than <code><span>any</span></code> because it reminds us that we need to perform some sorts of type-checks before operating on our values.</p><div><pre><span><span>try</span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>// ...</span></span><span>
</span><span><span>}</span></span><span>
</span><span><span>catch</span></span><span> </span><span><span>(</span></span><span><span>e</span></span><span>:</span><span> </span><span><span>unknown</span></span><span><span>)</span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>// error!</span></span><span>
    </span><span><span>// Property 'toUpperCase' does not exist on type 'unknown'.</span></span><span>
    </span><span><span>console</span></span><span><span>.</span></span><span><span>log</span></span><span><span>(</span></span><span><span>e</span></span><span><span>.</span></span><span><span>toUpperCase</span></span><span><span>(</span></span><span><span>)</span></span><span><span>)</span></span><span><span>;</span></span><span>

    </span><span><span>if</span></span><span> </span><span><span>(</span></span><span><span>typeof</span></span><span> </span><span><span>e</span></span><span> </span><span><span>===</span></span><span> </span><span><span>"string"</span></span><span><span>)</span></span><span> </span><span><span>{</span></span><span>
        </span><span><span>// works!</span></span><span>
        </span><span><span>// We've narrowed 'e' down to the type 'string'.</span></span><span>
        </span><span><span>console</span></span><span><span>.</span></span><span><span>log</span></span><span><span>(</span></span><span><span>e</span></span><span><span>.</span></span><span><span>toUpperCase</span></span><span><span>(</span></span><span><span>)</span></span><span><span>)</span></span><span><span>;</span></span><span>
    </span><span><span>}</span></span><span>
</span><span><span>}</span></span></pre></div><p>While the types of <code><span>catch</span></code> variables won’t change by default, we might consider a new <code><span>--</span><span>strict</span></code> mode flag in the future so that users can opt in to this behavior. In the meantime, it should be possible to write a lint rule to force <code><span>catch</span></code> variables to have an explicit annotation of either <code><span>:</span><span> any</span></code> or <code><span>:</span><span> unknown</span></code>.</p><p>For more details you can <a href="https://github.com/microsoft/TypeScript/pull/39015" target="_blank">peek at the changes for this feature</a>.</p><h2><a name="custom-jsx-factories"></a> Custom JSX Factories</h2><p>When using JSX, a <a href="https://reactjs.org/docs/fragments.html" rel="nofollow" target="_blank"><em>fragment</em></a> is a type of JSX element that allows us to return multiple child elements. When we first implemented fragments in TypeScript, we didn’t have a great idea about how other libraries would utilize them. Nowadays most other libraries that encourage using JSX and support fragments have a similar API shape.</p><p>In TypeScript 4.0, users can customize the fragment factory through the new <code><span>jsxFragmentFactory</span></code> option.</p><p>As an example, the following <code><span>tsconfig</span><span>.</span><span>json</span></code> file tells TypeScript to transform JSX in a way compatible with React, but switches each invocation to <code><span>h</span></code> instead of <code><span>React</span><span>.</span><span>createElement</span></code>, and uses <code><span>Fragment</span></code> instead of <code><span>React</span><span>.</span><span>Fragment</span></code>.</p><div><pre><span><span>{</span></span><span>
  </span><span><span>"compilerOptions"</span></span><span>:</span><span> </span><span><span>{</span></span><span>
    </span><span><span>"target"</span></span><span>:</span><span> </span><span><span>"esnext"</span></span><span><span>,</span></span><span>
    </span><span><span>"module"</span></span><span>:</span><span> </span><span><span>"commonjs"</span></span><span><span>,</span></span><span>
    </span><span><span>"jsx"</span></span><span>:</span><span> </span><span><span>"react"</span></span><span><span>,</span></span><span>
    </span><span><span>"jsxFactory"</span></span><span>:</span><span> </span><span><span>"h"</span></span><span><span>,</span></span><span>
    </span><span><span>"jsxFragmentFactory"</span></span><span>:</span><span> </span><span><span>"Fragment"</span></span><span>
  </span><span><span>}</span></span><span>
</span><span><span>}</span></span></pre></div><p>In cases where you need to have a different JSX factory on a per-file basis, you can take advantage of the new <code><span>/** @jsxFrag */</span></code> pragma comment. For example, the following…</p><div><pre><span><span>// Note: these pragma comments need to be written</span></span><span>
</span><span><span>// with a JSDoc-style multiline syntax to take effect.</span></span><span>
</span><span><span>/** </span><span><span>@jsx</span></span><span> h */</span></span><span>
</span><span><span>/** </span><span><span>@jsxFrag</span></span><span> Fragment */</span></span><span>

</span><span><span>import</span></span><span> </span><span><span>{</span></span><span> </span><span><span>h</span></span><span><span>,</span></span><span> </span><span color:="" #267f99;"=""><span>Fragment</span></span><span> </span><span><span>}</span></span><span> </span><span><span>from</span></span><span> </span><span><span>"preact"</span></span><span><span>;</span></span><span>

</span><span><span>let</span></span><span> </span><span><span>stuff</span></span><span> </span><span><span>=</span></span><span> </span><span><span>&lt;</span></span><span><span>&gt;</span></span><span>
    </span><span><span>&lt;</span></span><span><span>div</span></span><span><span>&gt;</span></span><span>Hello</span><span><span>&lt;</span></span><span>/</span><span><span>div</span></span><span><span>&gt;</span></span><span>
</span><span><span>&lt;</span></span><span>/</span><span><span>&gt;</span></span><span><span>;</span></span></pre></div><p>…will get transformed to this output JavaScript…</p><div><pre><span><span>// Note: these pragma comments need to be written</span></span><span>
</span><span><span>// with a JSDoc-style multiline syntax to take effect.</span></span><span>
</span><span><span>/** </span><span><span>@jsx</span></span><span> h */</span></span><span>
</span><span><span>/** </span><span><span>@jsxFrag</span></span><span> Fragment */</span></span><span>
</span><span><span>import</span></span><span> </span><span><span>{</span></span><span> </span><span><span>h</span></span><span><span>,</span></span><span> </span><span><span>Fragment</span></span><span> </span><span><span>}</span></span><span> </span><span><span>from</span></span><span> </span><span><span>"preact"</span></span><span><span>;</span></span><span>
</span><span><span>let</span></span><span> </span><span><span>stuff</span></span><span> </span><span><span>=</span></span><span> </span><span><span>h</span></span><span><span>(</span></span><span><span>Fragment</span></span><span><span>,</span></span><span> </span><span>null</span><span><span>,</span></span><span>
    </span><span><span>h</span></span><span><span>(</span></span><span><span>"div"</span></span><span><span>,</span></span><span> </span><span>null</span><span><span>,</span></span><span> </span><span><span>"Hello"</span></span><span><span>)</span></span><span><span>)</span></span><span><span>;</span></span></pre></div><p>We’d like to extend a big thanks to community member <a href="https://github.com/nojvek" target="_blank">Noj Vek</a> for sending this pull request and patiently working with our team on it.</p><p>You can see that <a href="https://github.com/microsoft/TypeScript/pull/38720" target="_blank">the pull request</a> for more details!</p><h2><a name="build-and-noemitonerror"></a> Speed Improvements in <code><span>build</span></code> mode with <code><span>--</span><span>noEmitOnError</span></code></h2><p>Previously, compiling a program after a previous compile with errors under <code><span>--</span><span>incremental</span></code> would be extremely slow when using the <code><span>--</span><span>noEmitOnError</span></code> flag. This is because none of the information from the last compilation would be cached in a <code><span>.</span><span>tsbuildinfo</span></code> file based on the <code><span>--</span><span>noEmitOnError</span></code> flag.</p><p>TypeScript 4.0 changes this which gives a great speed boost in these scenarios, and in turn improves <code><span>--</span><span>build</span></code> mode scenarios (which imply both <code><span>--</span><span>incremental</span></code> and <code><span>--</span><span>noEmitOnError</span></code>).</p><p>For details, <a href="https://github.com/microsoft/TypeScript/pull/38853" target="_blank">read up more on the pull request</a>.</p><h2><a name="noemit-and-incremental"></a> <code><span>--</span><span>incremental</span></code> with <code><span>--</span><span>noEmit</span></code></h2><p>TypeScript 4.0 allows us to use the <code><span>--</span><span>noEmit</span></code> flag when while still leveraging <code><span>--</span><span>incremental</span></code> compiles. This was previously not allowed, as <code><span>--</span><span>incremental</span></code> needs to emit a <code><span>.</span><span>tsbuildinfo</span></code> files; however, the use-case to enable faster incremental builds is important enough to enable for all users.</p><p>For more details, you can <a href="https://github.com/microsoft/TypeScript/pull/39122" target="_blank">see the implementing pull request</a>.</p><h2><a name="editor-improvements"></a> Editor Improvements</h2><p>The TypeScript compiler doesn’t only power the editing experience for TypeScript itself in most major editors – it also powers the JavaScript experience in the Visual Studio family of editors and more. For that reason, much of our work focuses on improving editor scenarios – the place you spend most of your time as a developer.</p><p>Using new TypeScript/JavaScript functionality in your editor will differ depending on your editor, but</p><ul><li>Visual Studio Code supports <a href="https://code.visualstudio.com/docs/typescript/typescript-compiling#_using-the-workspace-version-of-typescript" rel="nofollow" target="_blank">selecting different versions of TypeScript</a>. Alternatively, there’s the <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.vscode-typescript-next" rel="nofollow" target="_blank">JavaScript/TypeScript Nightly Extension</a> to stay on the bleeding edge (which is typically very stable).</li><li>Visual Studio 2017/2019 have [the SDK installers above] and <a href="https://www.nuget.org/packages/Microsoft.TypeScript.MSBuild" rel="nofollow" target="_blank">MSBuild installs</a>.</li><li>Sublime Text 3 supports <a href="https://github.com/microsoft/TypeScript-Sublime-Plugin#note-using-different-versions-of-typescript" target="_blank">selecting different versions of TypeScript</a></li></ul><p>You can check out a partial <a href="https://github.com/Microsoft/TypeScript/wiki/TypeScript-Editor-Support" target="_blank">list of editors that have support for TypeScript</a> to learn more about whether your favorite editor has support to use new versions.</p><h3><a name="deprecated-support"></a> <code><span>/** @deprecated */</span></code> Support</h3><p>TypeScript’s editing support now recognizes when a declaration has been marked with a <code><span>/** @deprecated *</span></code> JSDoc comment. That information is surfaced in completion lists and as a suggestion diagnostic that editors can handle specially. In an editor like VS Code, deprecated values are typically displayed a strike-though style <del>like this</del>.</p><p><a href="https://devblogs.microsoft.com/typescript/wp-content/uploads/sites/11/2020/06/deprecated_4-0.png" data-featherlight="image"> <img src="https://devblogs.microsoft.com/typescript/wp-content/uploads/sites/11/2020/06/deprecated_4-0.png" alt="Some examples of deprecated declarations with strikethrough text in the editor"> </a></p><p>This new functionality is available thanks to <a href="https://github.com/Kingwl" target="_blank">Wenlu Wang</a>. See <a href="https://github.com/microsoft/TypeScript/pull/38523" target="_blank">the pull request</a> for more details.</p><h3><a name="partial-editing-mode"></a> Partial Editing Mode at Startup</h3><p>One specific piece of feedback we’ve heard from users has been slow startup times, especially on bigger projects. Specifically, the culprit is usually a process called <em>project loading</em>, which is roughly the same as the <em>program construction</em> step of our compiler. This is the process of starting with an initial set of files, parsing them, resolving their dependencies, parsing those dependencies, resolving those dependencies’ dependencies, and so on. It ends up taking quite a bit of time. The the bigger your project is, the worse the startup delays you might experience before you can get basic editor operations like go-to-definition, code completions, and quick info.</p><p>That’s why we’ve been working on a new mode for editors to provide a <em>partial</em> experience until the full language service experience has loaded up. The core idea is that editors can run a lightweight partial server that only has a single-file view of the world. This has always been an option for editors, but TypeScript 4.0 expands the functionality to semantic operations (as opposed to just syntactic operations). While that means the server has limited information (so not every operation will be totally complete) – this is often good enough for some basic code completion, quick info, signature help, and go-to-definition when you first open up your editor.</p><p>While it’s hard to pin down precisely what sorts of improvements you’ll see based on hardware, operating system, and project size; but today we’ve seen machines take anywhere between <em>20 seconds to a minute</em> until TypeScript is responsive on a file in the Visual Studio Code codebase. In contrast, this new mode seems to bring the time until TypeScript is interactive on that codebase <strong>down to anywhere between 2-5 seconds</strong>.</p><p>Currently the only editor that supports this mode is <a href="http://code.visualstudio.com/insiders" rel="nofollow" target="_blank">Visual Studio Code Insiders</a>, and you can try it out by following these steps.</p><ol><li>installing <a href="http://code.visualstudio.com/insiders" rel="nofollow" target="_blank">Visual Studio Code Insiders</a></li><li><a href="https://code.visualstudio.com/docs/typescript/typescript-compiling#_using-newer-typescript-versions" rel="nofollow" target="_blank">configuring Visual Studio Code Insiders</a> to use the beta, or installing the <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.vscode-typescript-next" rel="nofollow" target="_blank">JavaScript and TypeScript Nightly Extension</a> for Visual Studio Code Insiders.</li><li>opening your JSON settings view: <code><span>&gt;</span><span> </span><span>Preferences</span><span>:</span><span> </span><span>Open</span><span> </span><span>Settings</span><span> </span><span>(</span><span>JSON</span><span>)</span></code></li><li>adding the following lines:<pre><code><span><span>// The editor will say 'dynamic' is an unknown option,</span></span><span><span>
</span></span><span><span>// but don't worry about it for now. It's still experimental.</span></span><span><span>
</span></span><span><span>"typescript.tsserver.useSeparateSyntaxServer"</span></span><span><span>:</span></span><span><span> </span></span><span><span>"dynamic"</span></span><span><span>,</span></span></code></pre></li></ol><p>There’s still room for improvement in UX and functionality – both from the editor side and the language support side. For example, while partial editing support is already loaded and working, you’ll still see <code><span>Initializing</span><span> JS</span><span>/</span><span>TS language features</span></code> in your status bar. You can ignore that since operations will still be powered by that partial mode. We also have <a href="https://github.com/microsoft/TypeScript/issues/39035" target="_blank">a list of improvements</a> in the works, and we’re looking for more feedback on what you think might be useful.</p><p>For more information, you can <a href="https://github.com/microsoft/TypeScript/issues/37713" target="_blank">see the original proposal</a>, <a href="https://github.com/microsoft/TypeScript/pull/38561" target="_blank">the implementing pull request</a>, along with <a href="https://github.com/microsoft/TypeScript/issues/39035" target="_blank">the follow-up meta issue</a>.</p><h3><a name="smarter-auto-imports"></a> Smarter Auto-Imports</h3><p>Auto-import is a fantastic feature that makes coding a lot easier; however, every time auto-import doesn’t seem to work, it throws us off a lot and can ruin our producivity. One specific issue that we heard from users was that auto-imports wouldn’t work on packages that were written in TypeScript – that is, until they wrote at least one explicit import somewhere else in their project.</p><p>Now, that sounds pretty weird and oddly specific. Why would auto-imports work for <code><span>@types</span></code> packages, but not for packages that ship their own types? It turns out that auto-imports are powered by checking which packages your project <em>already</em> includes. TypeScript has a quirk to make some scenarios work better by automatically including all packages in <code><span>node_modules</span><span>/</span><span>@types</span></code>, but not other packages – the rationale being crawling through all your <code><span>node_modules</span></code> packages might be <strong>expensive</strong>.</p><p>All of this leads to a pretty lousy getting started experience for when you’re trying to auto-import something that you’ve just installed but haven’t used yet.</p><p>TypeScript 4.0 now does a little extra work in editor scenarios to include any packages you’ve listed in your <code><span>package</span><span>.</span><span>json</span></code>‘s <code><span>dependencies</span></code> field. The information from these packages is only used to improve auto-imports, and doesn’t change anything else like type-checking. This helps alleviate the cost of walking through your <code><span>node_modules</span></code> directories while still fixing one of the most common problems we’ve heard for new projects.</p><p>For more details, you can see the <a href="https://github.com/microsoft/TypeScript/issues/37812" target="_blank">proposal issue</a> along with <a href="https://github.com/microsoft/TypeScript/pull/38923" target="_blank">the implementing pull request</a>.</p><h2><a name="breaking-changes"></a> Breaking Changes</h2><h3><code><span>lib</span><span>.</span><span>d</span><span>.</span><span>ts</span></code> Changes</h3><p>Our <code><span>lib</span><span>.</span><span>d</span><span>.</span><span>ts</span></code> declarations have changed – most specifically, types for the DOM have changed. The most notable change may be the removal of <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/origin" rel="nofollow" target="_blank"><code><span>document</span><span>.</span><span>origin</span></code></a> which only worked in old versions of IE and Safari MDN recommends moving to <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/origin" rel="nofollow" target="_blank"><code><span>self</span><span>.</span><span>origin</span></code></a>.</p><h3>Properties Overridding Accessors (and vice versa) is an Error</h3><p>Previously, it was only an error for properties to override accessors, or accessors to override properties, when using <code><span>useDefineForClassFields</span></code>; however, TypeScript now always issues an error when declaring a property in a derived class that would override a getter or setter in the base class.</p><div><pre><span><span>class</span></span><span> </span><span color:="" #267f99;"=""><span>Base</span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>get</span></span><span> </span><span><span>foo</span></span><span><span>(</span></span><span><span>)</span></span><span> </span><span><span>{</span></span><span>
        </span><span><span>return</span></span><span> </span><span><span>100</span></span><span><span>;</span></span><span>
    </span><span><span>}</span></span><span>
    </span><span><span>set</span></span><span> </span><span><span>foo</span></span><span><span>(</span></span><span><span>)</span></span><span> </span><span><span>{</span></span><span>
        </span><span><span>// ...</span></span><span>
    </span><span><span>}</span></span><span>
</span><span><span>}</span></span><span>

</span><span><span>class</span></span><span> </span><span color:="" #267f99;"=""><span>Derived</span></span><span> </span><span><span>extends</span></span><span> </span><span color:="" #267f99;"=""><span>Base</span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>foo</span></span><span> </span><span><span>=</span></span><span> </span><span><span>10</span></span><span><span>;</span></span><span>
</span><span><span>//  ~~~</span></span><span>
</span><span><span>// error!</span></span><span>
</span><span><span>// 'foo' is defined as an accessor in class 'Base',</span></span><span>
</span><span><span>// but is overridden here in 'Derived' as an instance property.</span></span><span>
</span><span><span>}</span></span></pre></div><div><pre><span><span>class</span></span><span> </span><span color:="" #267f99;"=""><span>Base</span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>prop</span></span><span> </span><span><span>=</span></span><span> </span><span><span>10</span></span><span><span>;</span></span><span>
</span><span><span>}</span></span><span>

</span><span><span>class</span></span><span> </span><span color:="" #267f99;"=""><span>Derived</span></span><span> </span><span><span>extends</span></span><span> </span><span color:="" #267f99;"=""><span>Base</span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>get</span></span><span> </span><span><span>prop</span></span><span><span>(</span></span><span><span>)</span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>//  ~~~~</span></span><span>
    </span><span><span>// error!</span></span><span>
    </span><span><span>// 'prop' is defined as a property in class 'Base', but is overridden here in 'Derived' as an accessor.</span></span><span>
        </span><span><span>return</span></span><span> </span><span><span>100</span></span><span><span>;</span></span><span>
    </span><span><span>}</span></span><span>
</span><span><span>}</span></span></pre></div><p>See more details on <a href="https://github.com/microsoft/TypeScript/pull/37894" target="_blank">the implementing pull request</a>.</p><h3>Operands for <code><span>delete</span></code> must be optional.</h3><p>When using the <code><span>delete</span></code> operator in <code><span>strictNullChecks</span></code>, the operand must now be <code><span>any</span></code>, <code><span>unknown</span></code>, <code><span>never</span></code>, or be optional (in that it contains <code><span>undefined</span></code> in the type). Otherwise, use of the <code><span>delete</span></code> operator is an error.</p><div><pre><span><span>interface</span></span><span> </span><span color:="" #267f99;"=""><span>Thing</span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>prop</span></span><span>:</span><span> </span><span><span>string</span></span><span><span>;</span></span><span>
</span><span><span>}</span></span><span>

</span><span><span>function</span></span><span> </span><span><span>f</span></span><span><span>(</span></span><span><span>x</span></span><span>:</span><span> </span><span color:="" #267f99;"=""><span>Thing</span></span><span><span>)</span></span><span> </span><span><span>{</span></span><span>
    </span><span><span>delete</span></span><span> </span><span><span>x</span></span><span><span>.</span></span><span><span>prop</span></span><span><span>;</span></span><span>
    </span><span><span>//     ~~~~~~</span></span><span>
    </span><span><span>// error! The operand of a 'delete' operator must be optional.</span></span><span>
</span><span><span>}</span></span></pre></div><p>See more details on <a href="https://github.com/microsoft/TypeScript/pull/37921" target="_blank">the implementing pull request</a>.</p><h3>Usage of TypeScript’s Node Factory is Deprecated</h3><p>Today TypeScript provides a set of “factory” functions for producing AST Nodes; however, TypeScript 4.0 provides a new node factory API. As a result, for TypeScript 4.0 we’ve made the decision to deprecate these older functions in favor of the new ones.</p><p>For more details, <a href="https://github.com/microsoft/TypeScript/pull/35282" target="_blank">read up on the relevant pull request for this change</a>.</p><h2>What’s Next?</h2><p>As with all of our beta releases, we’re looking for users to try things out, upgrade a few projects, stress test the release, and give us your feedback! We want to make sure TypeScript 4.0 really hits the mark and makes migration easy, so try it out and <a href="https://github.com/microsoft/TypeScript/issues" target="_blank">give us your feedback</a>!</p><p>Happy Hacking!</p><p>– Daniel Rosenwasser and the TypeScript Team</p></div></div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <title>
F# and Azure Functions - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.min.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="F# and Azure Functions - linksfor.dev(s)"/>
    <meta property="og:description" content=" Lately I&#x27;ve been creating tools for my wife to use with her classroom to help with distance learning.  I&#x27;ve implemented these tools using A..."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://darrensnotebook.blogspot.com/2020/06/f-and-azure-functions.html"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1 style="margin: unset">
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - F# and Azure Functions</title>
<div class="readable">
        <h1>F# and Azure Functions</h1>
            <div>Reading time: 3-4 minutes</div>
        <div>Posted here: 08 Jun 2020</div>
        <p><a href="https://darrensnotebook.blogspot.com/2020/06/f-and-azure-functions.html">https://darrensnotebook.blogspot.com/2020/06/f-and-azure-functions.html</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div id="post-body-6195153261958066857" itemprop="description articleBody">
<p>
Lately I've been creating tools for my wife to use with her classroom to help with distance learning.  I've implemented these tools using Azure Functions.  Azure Functions are the serverless computing option on the Azure platform.  I picked these because I'm familiar with Azure and they are a quick, cheap option for standing up an API.
</p>
<p>
Another reason I picked Azure Functions is because they support creating functions in F#.  I have been able to create a function project and function in F#, and at times run it locally, but I have struggled to get an F# function working in the cloud.  I assumed that this issue was a combination of spotty support for F# in some areas, and my lack of understanding about how to get F# to play nicely as an Azure Function.
</p>
<p>
I have a new project I want to start as a series of Azure Functions, so I wanted to give F# another try.  In my reading, I found this <a href="https://www.luisquintanilla.me/2019/11/16/http-trigger-azure-functions-fsharp/">step-by-step guide</a> by <a href="https://twitter.com/ljquintanilla">Luis Quintanilla</a> for manually creating Azure Functions in F#.  Luis does a great job walking the reader through creating a function in F#, without relying on the built-in templates provided by Microsoft.  I found this guide fantastic because it gave me a better understanding of the composition of an Azure Function, AND it got me closer to successfully deploying an F# function.
</p>
<p>
The guide isn't perfect.  It's missing some steps around adding necessary packages to the project that are referenced in the function itself (easy to do).  This "gap" helped me discover some version discrepancies between by installed version of the .NET Core SDK and the Azure Function CLI tool.  At first it appeared to be an issue with my project templates being out of date, but updating the templates didn't seem to fix anything.  Ultimately, I updated my version of the .NET Core SDK to the latest version, and I upgraded my version of the Azure Function CLI.
</p>
<p>
At this point, my function that I created by following the guide worked locally and in the cloud!  I went back and re-created my function using the command-line tools, and that worked as well.  Using version 3.1.300 of the .NET Core SDK and version 3.0.2534 of the Azure CLI tools (which are targetting the Azure Function Runtime version 3.0.133353.0), the following steps will successfully create an Azure Function in F# that will work in the cloud:
</p>
<pre>mkdir HelloWorld
cd HelloWorld
dotnet new func --language F#
dotnet new http --language F# --name PrintHello
dotnet build
func start
</pre>

<p>
The logging displayed in the console from the <i>func start</i> command will provide the URL for the local function.  Pointing your browser to that URL will activate the locally running function.
</p>
<p>
I'm now ready to start creating larger applications in F#!
</p>

</div></div></div>
    </div>
    <footer>
        <div>created by <a href="https://buildstarted.com">buildstarted</a> &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>
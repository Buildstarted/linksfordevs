<!DOCTYPE html>
<html lang="en">
<head>
    <title>
Azure Service Fabric 7.1 Release - linksfor.dev(s)    </title>
    <meta charset="utf-8">
    <link rel="alternate" type="application/rss+xml" title="Linksfor.dev(s) feed" href="https://linksfor.dev/feed.rss" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" value="notranslate">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta property="og:title" content="Azure Service Fabric 7.1 Release - linksfor.dev(s)"/>
    <meta property="article:author" content="https://techcommunity.microsoft.com/t5/user/viewprofilepage/user-id/387597"/>
    <meta property="og:description" content="Azure Service Fabric 7.1 is now available! Due to the current COVID-19 crisis, and taking into consideration the challenges faced by our customers, we are making 7.1 available through the manual upgrade path, but clusters set to automatic upgrade will not automatically receive the upgrade at this ti..."/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://techcommunity.microsoft.com/t5/azure-service-fabric/azure-service-fabric-7-1-release/ba-p/1311373"/>

<meta property="og:site_name" content="linksfor.dev(s)" />
</head>
<body>
    <div class="devring" style="background: #222">
        <div style="text-align:center">Explore other dev related sites in this ring. If you would like to join this ring <a href="https://devring.club">click here</a>.</div>
        <div class="grid">
            <div style="display: grid; grid-template-columns: .5fr 1fr 1fr 1fr; text-align: center;">
                <span class="devring-title"><a href="https://devring.club/">devring.club</a></span>
                <a href="https://devring.club/sites/1/prev" class="devring-previous">Previous</a>
                <a href="https://devring.club/random" class="devring-random">Random</a>
                <a href="https://devring.club/sites/1/next" class="devring-next">Next</a>
            </div>
        </div>
    </div>
    <div class="grid">
        <h1>
<a href="/" style="color:inherit">linksfor.dev(s)</a>
        </h1>
        <title>linksfor.dev(s) - Azure Service Fabric 7.1 Release</title>
<div class="readable">
        <h1>Azure Service Fabric 7.1 Release</h1>
            <div>by https://techcommunity.microsoft.com/t5/user/viewprofilepage/user-id/387597</div>
            <div>Reading time: 10-12 minutes</div>
        <div>Posted here: 21 Apr 2020</div>
        <p><a href="https://techcommunity.microsoft.com/t5/azure-service-fabric/azure-service-fabric-7-1-release/ba-p/1311373">https://techcommunity.microsoft.com/t5/azure-service-fabric/azure-service-fabric-7-1-release/ba-p/1311373</a></p>
        <hr/>
<div id="readability-page-1" class="page"><div>
		<div itemprop="text" id="bodyDisplay">
	
		<div>
			
				
					
					
						<p><strong>Azure Service Fabric 7.1 is now available!</strong></p>
<p>Due to the current COVID-19 crisis, and taking into consideration the challenges faced by our customers, we are making 7.1 available through the manual upgrade path, but clusters set to automatic upgrade will not automatically receive the upgrade at this time. Automatic upgrades will be paused until further notice to ensure that customers can apply upgrades when most appropriate for them, to avoid unexpected disruptions.</p>
<p><span>You will be able to update to 7.1 via through the </span><a href="https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-upgrade-version-azure#upgrading-to-a-new-version-on-a-cluster-that-is-set-to-manual-mode-via-portal" target="_blank" rel="noopener noopener noreferrer">Azure Portal</a><span> or via an </span><a href="https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-upgrade-version-azure#set-the-upgrade-mode-using-a-resource-manager-template" target="_blank" rel="noopener noopener noreferrer">Azure Resource Manager deployment</a><span>.</span></p>
<p>&nbsp; &nbsp; &nbsp; Service Fabric clusters with automatic upgrades enabled will begin to receive the 7.1 update automatically once we resume the standard rollout procedure. We will provide another announcement before the standard rollout begins on the <a href="https://techcommunity.microsoft.com/t5/azure-service-fabric/bg-p/Service-Fabric" target="_blank" rel="noopener">Service Fabric Tech Community Site</a>.</p>
<p><span>&nbsp; &nbsp; &nbsp; We also have published updates to end of support date for major releases starting from 6.5 till 7.1&nbsp;</span><strong><a href="https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-versions#supported-versions" target="_blank" rel="noopener noreferrer noopener noreferrer">here</a>.</strong><span>&nbsp;</span></p>

<h2 id="toc-hId--1358251667"><span size="6"><strong>What is new in Service Fabric 7.1?</strong></span></h2>
<p>We are excited to announce the next release of Service Fabric. This release is loaded with key features and improvements. Some of the key features are highlighted below:</p>
<h2 id="toc-hId-1129261166"><span size="5"><strong>Key Announcements</strong></span></h2>
<ul>
<li><span size="4"><strong>General Availability</strong></span> of&nbsp;<strong><a href="https://docs.microsoft.com/en-us/azure/service-fabric/concepts-managed-identity" target="_blank" rel="noopener noopener noreferrer">Service Fabric Managed Identities</a></strong>&nbsp;for Service Fabric applications</li>
<li><a href="https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-tutorial-create-vnet-and-linux-cluster" target="_blank" rel="noopener noopener noreferrer">Support for Ubuntu 1804 </a>&nbsp;</li>
<li>Support for declaration of Service Endpoint certificates of Service Fabric applications by <a href="https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-service-manifest-resources" target="_blank" rel="noopener noopener noreferrer">subject common name</a>.</li>
<li><strong>Preview</strong>: <a href="https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-azure-deployment-preparation#use-ephemeral-os-disks-for-virtual-machine-scale-sets" target="_blank" rel="noopener noopener noreferrer">VMSS Ephemeral OS disk support</a>: Ephemeral OS disks are storage created on the local virtual machine, and not saved to remote Azure Storage. They are recommended for all Service Fabric node types (Primary and Secondary), because compared to traditional persistent OS disks, ephemeral OS disks:
<ul>
<li>Reduce read/write latency to OS disk</li>
<li>Enable faster reset/re-image node management operations</li>
<li>Reduce overall costs (the disks are free and incur no additional storage cost)</li>
</ul>
</li>
<li>Endpoint certificates of <a href="https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-service-manifest-resources" target="_blank" rel="noopener noopener noreferrer"><strong>Service Fabric applications can be declared by subject common name</strong></a>.</li>
<li><a href="https://docs.microsoft.com/azure/service-fabric/initializer-codepackages" target="_blank" rel="noopener noopener noreferrer"><strong>Support for Initializer Code Packages</strong></a> for <a href="https://review.docs.microsoft.com/en-us/azure/service-fabric/service-fabric-containers-overview" target="_blank" rel="noopener noopener noreferrer">containers</a> and <a href="https://review.docs.microsoft.com/en-us/azure/service-fabric/service-fabric-guest-executables-introduction" target="_blank" rel="noopener noopener noreferrer">guest executable</a> applications. This allows executing Code Packages (e.g. containers), in a specified order, to perform Service Package initialization.</li>
<li><strong>FabricObserver and ClusterObserver</strong><span>&nbsp;are stateless applications that capture Service Fabric Telemetry related to different aspects of an SF cluster. Both these applications are ready for deployment to Windows production clusters to capture rich telemetry with implemented support for ApplicationInsights, EventSource and LogAnalytics.</span>
<div>
<p><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.&nbsp;</span><strong><a href="https://github.com/microsoft/service-fabric-observer" target="_blank" rel="noopener noopener noreferrer">FabricObserver (FO) 2.0</a>&nbsp;</strong><span>- runs on all nodes, generates health events, emits telemetry</span><span>&nbsp;when user configured resource usage thresholds are reached. This release contains&nbsp;</span><span>several enhancements across monitoring, data management, health event&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span>details,structured telemetry.</span></p>
<p><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2.</span>&nbsp;<strong><a href="https://github.com/microsoft/service-fabric-observer/tree/master/ClusterObserver" target="_blank" rel="noopener noopener noreferrer">ClusterObserver (CO) 1.1</a></strong><span>&nbsp;- runs on one node, captures cluster level health telemetry. In&nbsp;</span><span>this release, ClusterObserver also monitors node status and emits telemetry when node is&nbsp; &nbsp; &nbsp;down/disabling/disabled for longer than user-specified time period.</span></p>

</div>
</li>
</ul>
<p><strong>Improve Application life cycle experience</strong></p>
<ul>
<li><strong>Preview</strong>: <a href="https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-application-upgrade-advanced#avoid-connection-drops-during-planned-downtime-of-stateless-services" target="_blank" rel="noopener noopener noreferrer">Request drain</a>: During planned service maintenance, such as service upgrades or node deactivation, you would like to allow the services to gracefully drain connections. This feature adds an <em>instance close delay duration</em> in the service configuration. During planned operations, SF will remove the Service’s address from discovery and then wait this duration before shutting down the service.</li>
<li><strong>Automatic Subcluster Detection and Balancing:</strong> <a href="https://docs.microsoft.com/en-us/azure/service-fabric/cluster-resource-manager-subclustering" target="_blank" rel="noopener noopener noreferrer">Subclustering</a> happens when services with different placement constraints have a common&nbsp;<a href="https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-resource-manager-metrics" target="_blank" rel="noopener noopener noreferrer">load metrics</a> . If the load on the different sets of nodes differs significantly, the Service Fabric Cluster Resource Manager believes that the cluster is imbalanced, even when it has the best possible balance because of the placement constraints. As a result, it attempts to rebalance the cluster, potentially causing unnecessary service movements (since the “imbalance” cannot be substantially improved). Starting with this release, the Cluster Resource Manager will now attempt to automatically detect these sorts of configurations and understand when the imbalance can be fixed through movement, and when instead it should leave things alone since no substantial improvement can be made. &nbsp;</li>
<li><a href="https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-resource-manager-movement-cost" target="_blank" rel="noopener noopener noreferrer"><strong>Different Move cost for secondary replicas</strong></a>:&nbsp; We have introduced new move cost value Very High that provides additional flexibility in some scenarios to define if a separate move cost should be used for secondary replicas.</li>
<li><a href="https://docs.microsoft.com/azure/service-fabric/probes-codepackage" target="_blank" rel="noopener noopener noreferrer"><strong>Support for Health Probes for containerized services</strong></a>: Support for Liveness Probe mechanism for containerized applications. Liveness Probe help announce the liveness of the containerized application and when they do not respond in a timely fashion, it will result in a restart.</li>
<li><span><a href="https://docs.microsoft.com/en-us/azure/service-fabric/run-to-completion" target="_blank" rel="noopener noopener noreferrer">Run till completion/once for services</a></span></li>
</ul>
<p><strong>&nbsp;&nbsp; Image Store improvements</strong></p>
<ul>
<li>Service Fabric 7.1 uses custom transport to secure file transfer between nodes by default. The dependency on SMB file share is removed from the version 7.1. The secured SMB file shares are still existing on nodes that contains Image Store Service replica for customer's choice to opt out from default and for upgrade and downgrade&nbsp;to old version.</li>
</ul>
<p><strong>Reliable Collections Improvements</strong></p>
<ul>
<li><strong>&nbsp;In memory only store support for stateful services using Reliable&nbsp;</strong><strong>Collections</strong></li>
<ul>
<li><a href="https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-work-with-reliable-collections#volatile-reliable-collections" target="_blank" rel="noopener noopener noreferrer">Volatile Reliable Collections</a>&nbsp;allows data to be persisted to disk for durability against large-scale outages, can be used for workloads like replicated cache for example where occasional data loss can be tolerated.</li>
<li>Based on the<a href="https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-reliable-services-reliable-collections-guidelines#volatile-reliable-collections" target="_blank" rel="noopener noopener noreferrer"> limitations and restrictions of Volatile Reliable Collections</a>, we recommend this for workloads that don't need persistence, for services that handle the rare occasions of Quorum Loss.</li>
</ul>
<li><strong>Preview: </strong><a href="https://github.com/microsoft/service-fabric-backup-explorer" target="_blank" rel="noopener noopener noreferrer">Service Fabric Backup Explorer</a>: To ease management of Reliable Collections backups for Service Fabric Stateful applications, Service Fabric Backup Explorer enables users to</li>
<ul>
<li>Audit and review the contents of the Reliable Collections,</li>
<li>Update current state to a consistent view</li>
<li>Create Backup of the current snapshot of the Reliable Collections</li>
<li>Fix data corruption</li>
</ul>
</ul>
<p>In addition, this release contains other new features, bug fixes, and supportability, reliability, and performance improvements. For the full list of changes, please refer to the<a href="https://github.com/microsoft/service-fabric/tree/master/release_notes/Service-Fabric-71-releasenotes.md" target="_blank" rel="noopener noopener noreferrer">&nbsp;release notes</a><a href="https://github.com/microsoft/service-fabric/blob/master/release_notes/Service-Fabric-71-releasenotes.md" target="_blank" rel="noopener noopener noreferrer">.</a></p>

<h2 id="toc-hId--678193297"><span size="6">Breaking Changes</span></h2>
<ul>
<li>For customers using service fabric managed identities, <strong>please switch to new environment variables ‘IDENTITY_ENDPOINT’ and ‘IDENTITY_HEADER’</strong>. The prior environment variables'MSI_ENDPOINT' and 'MSI_SECRET' are now removed.</li>
<li>Service Fabric Managed Identity endpoint is now secure (HTTPS).</li>
<li>Currently Service Fabric ships the following nuget packages as a part of our ASP.Net Integration and support:</li>
</ul>
<ul>
<li>Microsoft.ServiceFabric. AspNetCore.Abstractions</li>
<li>Microsoft.ServiceFabric. AspNetCore.Configuration</li>
<li>Microsoft.ServiceFabric. AspNetCore.Kestrel</li>
<li>Microsoft.ServiceFabric. AspNetCore.HttpSys</li>
<li>Microsoft.ServiceFabric. AspNetCore.WebListener</li>
</ul>
<p>These packages are built against AspNetCore 1.0.0 binaries which have gone out of support (<a href="https://dotnet.microsoft.com/platform/support/policy/dotnet-core" target="_blank" rel="noopener noopener noreferrer">https://dotnet.microsoft.com/platform/support/policy/dotnet-core</a><span>).</span> Starting in Service Fabric 8.0 we will start building Service Fabric AspNetCore integration against AspNetCore 2.1 and for netstandard 2.0. As a result, there will be the following changes:</p>
<ol>
<li>The following binaries and their nuget packages will be released for netstandard 2.0 only. These packages can be used in applications targeting .net framework &lt;4.6.1 and .net core &gt;=2.0
<ol>
<li>Microsoft.ServiceFabric. AspNetCore.Abstractions</li>
<li>Microsoft.ServiceFabric. AspNetCore.Configuration</li>
<li>Microsoft.ServiceFabric. AspNetCore.Kestrel</li>
<li>Microsoft.ServiceFabric. AspNetCore.HttpSys</li>
</ol>
</li>
<li>The following package will no longer be shipped:
<ol>
<li>Microsoft.ServiceFabric. AspNetCore.WebListener:
<ol>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Use Microsoft.ServiceFabric. AspNetCore.HttpSys instead.</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="toc-hId-1809319536"><span size="6">Upcoming Features and Improvements</span></h2>
<p>We want to let you know about the work that we are doing beyond the initial 7.1 release! &nbsp;Work on these items is still ongoing. At this point we plan for these work items to GA in upcoming 7.1CUs, or as separate packages available in the upcoming months. The specific delivery dates will be communicated as they become closer to GA.</p>
<ul>
<li><strong>Cross Availability Zone Clusters</strong> – Support for using a single Cross-AZ Virtual Machine Scale Set. Today’s workloads require one scale set per AZ.&nbsp;</li>
<li>Support for using <strong>low priority/Azure Spot Virtual Machine Scale Sets</strong> in Service Fabric clusters</li>
<li>Increased information about historical cluster and application events in Service Fabric Explorer</li>
<li>Provide customers with diagnostics and insights through Azure Portal</li>
<li><strong>FabricHealer(FH)</strong> – <span data-contrast="auto"><span data-wac-het="1">stateless Service Fabric service that will&nbsp;</span></span><span data-contrast="auto"><span data-wac-het="1">detect and then initiate repairs </span></span><span data-contrast="auto"><span data-wac-het="1">after inspecting</span></span> <span data-contrast="auto"><span data-wac-het="1">un</span></span><span data-contrast="auto"><span data-wac-het="1">health</span></span><span data-contrast="auto"><span data-wac-het="1">y</span></span><span data-contrast="auto"><span data-wac-het="1"> evaluat</span></span><span data-contrast="auto"><span data-wac-het="1">ions </span></span><span data-contrast="auto"><span data-wac-het="1">for</span></span><span data-contrast="auto"><span data-wac-het="1"> well-known error codes emitted by </span></span><a href="https://github.com/microsoft/service-fabric-observer" target="_blank" rel="noreferrer noopener noopener noreferrer"><span data-contrast="none"><span data-wac-het="1" data-ccp-charstyle="Hyperlink">FabricO</span></span><span data-contrast="none"><span data-wac-het="1" data-ccp-charstyle="Hyperlink">bserver</span></span><span data-contrast="none"><span data-wac-het="1" data-ccp-charstyle="Hyperlink"> (FO)</span></span></a> <span data-contrast="auto"><span data-wac-het="1">instances running in the same cluster.&nbsp;</span></span></li>
<li>One box experience for Service Fabric Managed Identities</li>
<li>Portal support for Ubuntu 1804</li>
</ul>
<p><span size="4"><strong>Improve Application life cycle experience</strong></span></p>
<ul>
<li>GA of&nbsp;<a href="https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-azure-deployment-preparation#use-ephemeral-os-disks-for-virtual-machine-scale-sets" target="_blank" rel="noopener noopener noreferrer">VMSS Ephemeral OS disk support</a></li>
<li>GA of <a href="https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-application-upgrade-advanced#avoid-connection-drops-during-planned-downtime-of-stateless-services" target="_blank" rel="noopener noopener noreferrer">Request drain</a></li>
<li>Validation of downloaded image’s integrity to resolve corrupted image issues when hosting downloads images from Image Store to activate a service's replica.</li>
<li>Enable cleanup of local files when an application is no longer running on a node.</li>
<li>Support Readiness probe-based routing to replicas</li>
</ul>
<p><strong>Service Fabric Explorer</strong></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Service Fabric Explorer Modernization with new <a href="https://techcommunity.microsoft.com/t5/azure-service-fabric/azure-service-fabric-7-1-release/ba-p/To%20follow%20along%20withhttps:/github.com/microsoft/service-fabric-explorer/projects/8" target="_blank" rel="noopener nofollow noopener noreferrer">observability features</a> to improve cluster and application lifecycle management. New features include</p>
<ul>
<li><a href="https://github.com/microsoft/service-fabric-explorer/pull/254" target="_blank" rel="noopener noopener noreferrer">Repair jobs</a>: Displays a list of currently pending and completed repair tasks, along with a scrollable timeline. A “REPAIR JOBS” tab will appear for clusters that have the repairManager service enabled. &nbsp;</li>
<li><a href="https://github.com/microsoft/service-fabric-explorer/pull/258" target="_blank" rel="noopener noopener noreferrer">Replicator status</a>: Replicator status to provide more insight into the status of replicas that are in build for stateful partitions, tiles showing progress have been added. This data was previously much harder to find and could be hard to read, this view is intended to display relevant information for that part of the in-build process. &nbsp;</li>
<li>&nbsp;<a href="https://github.com/microsoft/service-fabric-explorer/issues/259" target="_blank" rel="noopener noopener noreferrer">Improved Unhealthy Evaluations view</a>: Unhealthy evaluations will provide a tree-based view in addition to the current list based one.</li>
</ul>












					
				
			
			
			
				
			
			
			
			
			
			
		</div>
		
		
	

	
	
</div>
	</div></div></div>
    </div>
    <footer>
        <div>created by buildstarted &copy; 2020 <a href="/about">about</a></div>
        <div>Share this page on social media: copy and paste this url https://linksfor.dev/</div>
        <div>If you prefer RSS: <a href="https://linksfor.dev/feed.xml">https://linksfor.dev/feed.xml</a></div>
        <div>Customer satisfaction guaranteed to be optional.</div>
    </footer>
    
    <script async defer>
        _dna = window._dna || {};
        _dna.siteId = "linksfor.devs";
        _dna.outlink = true;

        (function() {
            let dna = document.createElement('script');
            dna.type = 'text/javascript';
            dna.async = true;
            dna.src = '//dna.buildstarted.com/t.js';
            let s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(dna, s);
        })();
    </script>
    <noscript><img src="//dna.buildstarted.com/g?siteId=linksfor.devs"/></noscript>
</body>
</html>